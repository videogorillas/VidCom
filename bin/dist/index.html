<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>VidCom</title>
  </head>
  <body>
    <noscript>
      <strong>We're sorry but vidcom doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
  <script type="text/javascript">(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00dc":function(e,t,i){(function(e){var n=i("58a2"),r=i("c24d"),s=i("561d");function o(t){var i=new e(r[t].prime,"hex"),n=new e(r[t].gen,"hex");return new s(i,n)}var a={binary:!0,hex:!0,base64:!0};function u(t,i,r,o){return e.isBuffer(i)||void 0===a[i]?u(t,"binary",i,r):(i=i||"binary",o=o||"binary",r=r||new e([2]),e.isBuffer(r)||(r=new e(r,o)),"number"===typeof t?new s(n(t,r),r,!0):(e.isBuffer(t)||(t=new e(t,i)),new s(t,r,!0)))}t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=o,t.createDiffieHellman=t.DiffieHellman=u}).call(this,i("b639").Buffer)},"0145":function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},"0184":function(e,t,i){"use strict";var n=i("da3e");function r(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=r,r.prototype._init=function(){},r.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},r.prototype._buffer=function(e,t){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<i;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=i,i},r.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(e){var t=0,i=0,n=(this.bufferOff+e.length)/this.blockSize|0,r=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(r,i)));for(var s=e.length-(e.length-t)%this.blockSize;t<s;t+=this.blockSize)this._update(e,t,r,i),i+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return r},r.prototype._updateDecrypt=function(e){for(var t=0,i=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,r=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),i+=this._flushBuffer(r,i);return t+=this._buffer(e,t),r},r.prototype.final=function(e){var t,i;return e&&(t=this.update(e)),i="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(i):i},r.prototype._pad=function(e,t){if(0===t)return!1;while(t<e.length)e[t++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},r.prototype._unpad=function(e){return e},r.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},"01f9":function(e,t,i){"use strict";var n=i("2d00"),r=i("5ca1"),s=i("2aba"),o=i("32e9"),a=i("84f2"),u=i("41a0"),c=i("7f20"),f=i("38fd"),h=i("2b4c")("iterator"),l=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",m="values",b=function(){return this};e.exports=function(e,t,i,v,g,y,_){u(i,t,v);var w,S,E,x=function(e){if(!l&&e in C)return C[e];switch(e){case p:return function(){return new i(this,e)};case m:return function(){return new i(this,e)}}return function(){return new i(this,e)}},k=t+" Iterator",A=g==m,T=!1,C=e.prototype,R=C[h]||C[d]||g&&C[g],D=R||x(g),B=g?A?x("entries"):D:void 0,M="Array"==t&&C.entries||R;if(M&&(E=f(M.call(new e)),E!==Object.prototype&&E.next&&(c(E,k,!0),n||"function"==typeof E[h]||o(E,h,b))),A&&R&&R.name!==m&&(T=!0,D=function(){return R.call(this)}),n&&!_||!l&&!T&&C[h]||o(C,h,D),a[t]=D,a[k]=b,g)if(w={values:A?D:x(m),keys:y?D:x(p),entries:B},_)for(S in w)S in C||s(C,S,w[S]);else r(r.P+r.F*(l||T),t,w);return w}},"0211":function(e,t,i){var n=t;n._reverse=function(e){var t={};return Object.keys(e).forEach((function(i){(0|i)==i&&(i|=0);var n=e[i];t[n]=i})),t},n.der=i("8b71")},"0706":function(module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)t.push(i);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var i=0;i<e.length;i++)t(e[i],i,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,i){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:i})}}catch(e){return function(e,t,i){e[t]=i}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var i=t.contentWindow,n=i.eval,r=i.execScript;!n&&r&&(r.call(i,"null"),n=i.eval),forEach(Object_keys(e),(function(t){i[t]=e[t]})),forEach(globals,(function(t){e[t]&&(i[t]=e[t])}));var s=Object_keys(i),o=n.call(i,this.code);return forEach(Object_keys(i),(function(t){(t in e||-1===indexOf(s,t))&&(e[t]=i[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,i[t])})),document.body.removeChild(t),o},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),i=this.runInContext(t);return e&&forEach(Object_keys(t),(function(i){e[i]=t[i]})),i},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var i=Script(t);return i[e].apply(i,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"===typeof e&&forEach(Object_keys(e),(function(i){t[i]=e[i]})),t}},"07f2":function(e,t,i){"use strict";var n=i("c3c0"),r=i("6eed");function s(){if(!(this instanceof s))return new s;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,r),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},"087f":function(e,t,i){var n=i("3fb5"),r=i("b672"),s=i("8707").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,r.call(this,64,56)}function c(e){return e<<5|e>>>27}function f(e){return e<<30|e>>>2}function h(e,t,i,n){return 0===e?t&i|~t&n:2===e?t&i|t&n|i&n:t^i^n}n(u,r),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t=this._w,i=0|this._a,n=0|this._b,r=0|this._c,s=0|this._d,a=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=t[u-3]^t[u-8]^t[u-14]^t[u-16];for(var l=0;l<80;++l){var d=~~(l/20),p=c(i)+h(d,n,r,s)+a+t[l]+o[d]|0;a=s,s=r,r=f(n),n=i,i=p}this._a=i+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},u.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},"0960":function(e,t,i){e.exports=i("b19a")},"097d":function(e,t,i){"use strict";var n=i("5ca1"),r=i("8378"),s=i("7726"),o=i("ebd6"),a=i("bcaa");n(n.P+n.R,"Promise",{finally:function(e){var t=o(this,r.Promise||s.Promise),i="function"==typeof e;return this.then(i?function(i){return a(t,e()).then((function(){return i}))}:e,i?function(i){return a(t,e()).then((function(){throw i}))}:e)}})},"09f5":function(e,t,i){var n=i("39f5"),r=i("8707").Buffer,s=i("6430"),o=i("3fb5");function a(e,t,i,o){s.call(this),this._cipher=new n.AES(t),this._prev=r.from(i),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=o,this._mode=e}o(a,s),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},"0be8":function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},"0cbb":function(e,t,i){"use strict";var n,r=t,s=i("7d92"),o=i("4136"),a=i("f3a3"),u=a.assert;function c(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var i=new c(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:i}),i}})}r.PresetCurve=c,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=i("409b")}catch(h){n=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},"0d58":function(e,t,i){var n=i("ce10"),r=i("e11e");e.exports=Object.keys||function(e){return n(e,r)}},"0da4":function(e,t,i){"use strict";var n=i("da3e"),r=i("3fb5"),s={};function o(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function a(e){function t(t){e.call(this,t),this._cbcInit()}r(t,e);for(var i=Object.keys(s),n=0;n<i.length;n++){var o=i[n];t.prototype[o]=s[o]}return t.create=function(e){return new t(e)},t}t.instantiate=a,s._cbcInit=function(){var e=new o(this.options.iv);this._cbcState=e},s._update=function(e,t,i,n){var r=this._cbcState,s=this.constructor.super_.prototype,o=r.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=e[t+a];s._update.call(this,o,0,i,n);for(a=0;a<this.blockSize;a++)o[a]=i[n+a]}else{s._update.call(this,e,t,i,n);for(a=0;a<this.blockSize;a++)i[n+a]^=o[a];for(a=0;a<this.blockSize;a++)o[a]=e[t+a]}}},"0f2c":function(e,t,i){var n=i("2aee"),r=i("f460"),s=i("83d5"),o=i("399f"),a=i("a958"),u=i("98e6"),c=i("5291"),f=i("8707").Buffer;function h(e,t){var i=e.modulus.byteLength(),n=u("sha1").update(f.alloc(0)).digest(),o=n.length;if(0!==t[0])throw new Error("decryption error");var a=t.slice(1,o+1),c=t.slice(o+1),h=s(a,r(c,o)),l=s(c,r(h,i-o-1));if(d(n,l.slice(0,o)))throw new Error("decryption error");var p=o;while(0===l[p])p++;if(1!==l[p++])throw new Error("decryption error");return l.slice(p)}function l(e,t,i){var n=t.slice(0,2),r=2,s=0;while(0!==t[r++])if(r>=t.length){s++;break}var o=t.slice(2,r-1);if(("0002"!==n.toString("hex")&&!i||"0001"!==n.toString("hex")&&i)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return t.slice(r)}function d(e,t){e=f.from(e),t=f.from(t);var i=0,n=e.length;e.length!==t.length&&(i++,n=Math.min(e.length,t.length));var r=-1;while(++r<n)i+=e[r]^t[r];return i}e.exports=function(e,t,i){var r;r=e.padding?e.padding:i?1:4;var s,u=n(e),d=u.modulus.byteLength();if(t.length>d||new o(t).cmp(u.modulus)>=0)throw new Error("decryption error");s=i?c(new o(t),u):a(t,u);var p=f.alloc(d-s.length);if(s=f.concat([p,s],d),4===r)return h(u,s);if(1===r)return l(u,s,i);if(3===r)return s;throw new Error("unknown padding")}},"100a":function(e,t,i){var n=function(){var e=new Date,t=4,i=3,r=2,s=1,o=t,a={setLogLevel:function(e){o=e==this.debug?s:e==this.info?r:e==this.warn?i:(this.error,t)},debug:function(t,i){s>=o&&console.debug("["+n.getDurationString(new Date-e,1e3)+"]","["+t+"]",i)},info:function(t,i){r>=o&&console.info("["+n.getDurationString(new Date-e,1e3)+"]","["+t+"]",i)},warn:function(t,r){i>=o&&console.warn("["+n.getDurationString(new Date-e,1e3)+"]","["+t+"]",r)},error:function(i,r){t>=o&&console.error("["+n.getDurationString(new Date-e,1e3)+"]","["+i+"]",r)}};return a}();n.getDurationString=function(e,t){var i;function n(e,t){var i=""+e,n=i.split(".");while(n[0].length<t)n[0]="0"+n[0];return n.join(".")}e<0?(i=!0,e=-e):i=!1;var r=t||1,s=e/r,o=Math.floor(s/3600);s-=3600*o;var a=Math.floor(s/60);s-=60*a;var u=1e3*s;return s=Math.floor(s),u-=1e3*s,u=Math.floor(u),(i?"-":"")+o+":"+n(a,2)+":"+n(s,2)+"."+n(u,3)},n.printRanges=function(e){var t=e.length;if(t>0){for(var i="",r=0;r<t;r++)r>0&&(i+=","),i+="["+n.getDurationString(e.start(r))+","+n.getDurationString(e.end(r))+"]";return i}return"(empty)"};var r=function(e){if(!(e instanceof ArrayBuffer))throw"Needs an array buffer";this.buffer=e,this.uint8=new Uint8Array(e),this.position=0};r.prototype.getPosition=function(){return this.position},r.prototype.getEndPosition=function(){return this.buffer.byteLength},r.prototype.getLength=function(){return this.buffer.byteLength},r.prototype.seek=function(e){var t=Math.max(0,Math.min(this.uint8.length,e));return this.position=isNaN(t)||!isFinite(t)?0:t,!0},r.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},r.prototype.readUint8=function(){var e;if(this.position+1<=this.uint8.length)return e=this.uint8[this.position],this.position++,e;throw"Not enough bytes in buffer"},r.prototype.readUint16=function(){var e,t,i;if(this.position+2<=this.uint8.length)return e=this.uint8[this.position],this.position++,t=this.uint8[this.position],this.position++,i=e<<8|t,i;throw"Not enough bytes in buffer"},r.prototype.readUint24=function(){var e;if(this.position+3<=this.uint8.length)return e=this.uint8[this.position]<<16,this.position++,e|=this.uint8[this.position]<<8,this.position++,e|=this.uint8[this.position],this.position++,e;throw"Not enough bytes in buffer"},r.prototype.readUint32=function(){var e;if(this.position+4<=this.uint8.length)return e=this.uint8[this.position]<<24,this.position++,e|=this.uint8[this.position]<<16,this.position++,e|=this.uint8[this.position]<<8,this.position++,e|=this.uint8[this.position],this.position++,e;throw"Not enough bytes in buffer"},r.prototype.readUint64=function(){var e;if(this.position+8<=this.uint8.length)return e=this.readUint32()<<32,e|=this.readUint32(),e;throw"Not enough bytes in buffer"},r.prototype.readString=function(e){if(this.position+e<=this.uint8.length){for(var t="",i=0;i<e;i++)t+=String.fromCharCode(this.readUint8());return t}throw"Not enough bytes in buffer"},r.prototype.readCString=function(){var e=[];while(1){var t=this.readUint8();if(0===t)break;e.push(t)}return String.fromCharCode.apply(null,e)},r.prototype.readInt8=function(){return this.readUint8()},r.prototype.readInt16=function(){return this.readUint16()},r.prototype.readInt32=function(){return this.readUint32()},r.prototype.readUint8Array=function(e){for(var t=[],i=0;i<e;i++)t[i]=this.readUint8();return t},r.prototype.readInt16Array=function(e){for(var t=[],i=0;i<e;i++)t[i]=this.readUint16();return t},r.prototype.readUint32Array=function(e){for(var t=[],i=0;i<e;i++)t[i]=this.readUint32();return t},r.prototype.readInt32Array=function(e){for(var t=[],i=0;i<e;i++)t[i]=this.readInt32();return t};var s=function(e,t,i){this._byteOffset=t||0,e instanceof ArrayBuffer?this.buffer=e:"object"==typeof e?(this.dataView=e,t&&(this._byteOffset+=t)):this.buffer=new ArrayBuffer(e||0),this.position=0,this.endianness=null==i?s.LITTLE_ENDIAN:i};s.prototype={},s.prototype.getPosition=function(){return this.position},s.prototype._realloc=function(e){if(this._dynamicSize){var t=this._byteOffset+this.position+e,i=this._buffer.byteLength;if(t<=i)t>this._byteLength&&(this._byteLength=t);else{i<1&&(i=1);while(t>i)i*=2;var n=new ArrayBuffer(i),r=new Uint8Array(this._buffer),s=new Uint8Array(n,0,r.length);s.set(r),this.buffer=n,this._byteLength=t}}},s.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var e=new ArrayBuffer(this._byteLength),t=new Uint8Array(e),i=new Uint8Array(this._buffer,0,t.length);t.set(i),this.buffer=e}},s.BIG_ENDIAN=!1,s.LITTLE_ENDIAN=!0,s.prototype._byteLength=0,Object.defineProperty(s.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(s.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(e){this._buffer=e,0!==this._buffer.byteLength||this._byteOffset?this._dataView=new DataView(this._buffer,this._byteOffset):this._dataView=new DataView(this._buffer),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(s.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(e){this._byteOffset=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(s.prototype,"dataView",{get:function(){return this._dataView},set:function(e){this._byteOffset=e.byteOffset,this._buffer=e.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+e.byteLength}}),s.prototype.seek=function(e){var t=Math.max(0,Math.min(this.byteLength,e));this.position=isNaN(t)||!isFinite(t)?0:t},s.prototype.isEof=function(){return this.position>=this._byteLength},s.prototype.mapUint8Array=function(e){this._realloc(1*e);var t=new Uint8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=1*e,t},s.prototype.readInt32Array=function(e,t){e=null==e?this.byteLength-this.position/4:e;var i=new Int32Array(e);return s.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),s.arrayToNative(i,null==t?this.endianness:t),this.position+=i.byteLength,i},s.prototype.readInt16Array=function(e,t){e=null==e?this.byteLength-this.position/2:e;var i=new Int16Array(e);return s.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),s.arrayToNative(i,null==t?this.endianness:t),this.position+=i.byteLength,i},s.prototype.readInt8Array=function(e){e=null==e?this.byteLength-this.position:e;var t=new Int8Array(e);return s.memcpy(t.buffer,0,this.buffer,this.byteOffset+this.position,e*t.BYTES_PER_ELEMENT),this.position+=t.byteLength,t},s.prototype.readUint32Array=function(e,t){e=null==e?this.byteLength-this.position/4:e;var i=new Uint32Array(e);return s.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),s.arrayToNative(i,null==t?this.endianness:t),this.position+=i.byteLength,i},s.prototype.readUint16Array=function(e,t){e=null==e?this.byteLength-this.position/2:e;var i=new Uint16Array(e);return s.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),s.arrayToNative(i,null==t?this.endianness:t),this.position+=i.byteLength,i},s.prototype.readUint8Array=function(e){e=null==e?this.byteLength-this.position:e;var t=new Uint8Array(e);return s.memcpy(t.buffer,0,this.buffer,this.byteOffset+this.position,e*t.BYTES_PER_ELEMENT),this.position+=t.byteLength,t},s.prototype.readFloat64Array=function(e,t){e=null==e?this.byteLength-this.position/8:e;var i=new Float64Array(e);return s.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),s.arrayToNative(i,null==t?this.endianness:t),this.position+=i.byteLength,i},s.prototype.readFloat32Array=function(e,t){e=null==e?this.byteLength-this.position/4:e;var i=new Float32Array(e);return s.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,e*i.BYTES_PER_ELEMENT),s.arrayToNative(i,null==t?this.endianness:t),this.position+=i.byteLength,i},s.prototype.readInt32=function(e){var t=this._dataView.getInt32(this.position,null==e?this.endianness:e);return this.position+=4,t},s.prototype.readInt16=function(e){var t=this._dataView.getInt16(this.position,null==e?this.endianness:e);return this.position+=2,t},s.prototype.readInt8=function(){var e=this._dataView.getInt8(this.position);return this.position+=1,e},s.prototype.readUint32=function(e){var t=this._dataView.getUint32(this.position,null==e?this.endianness:e);return this.position+=4,t},s.prototype.readUint16=function(e){var t=this._dataView.getUint16(this.position,null==e?this.endianness:e);return this.position+=2,t},s.prototype.readUint8=function(){var e=this._dataView.getUint8(this.position);return this.position+=1,e},s.prototype.readFloat32=function(e){var t=this._dataView.getFloat32(this.position,null==e?this.endianness:e);return this.position+=4,t},s.prototype.readFloat64=function(e){var t=this._dataView.getFloat64(this.position,null==e?this.endianness:e);return this.position+=8,t},s.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,s.memcpy=function(e,t,i,n,r){var s=new Uint8Array(e,t,r),o=new Uint8Array(i,n,r);s.set(o)},s.arrayToNative=function(e,t){return t==this.endianness?e:this.flipArrayEndianness(e)},s.nativeToEndian=function(e,t){return this.endianness==t?e:this.flipArrayEndianness(e)},s.flipArrayEndianness=function(e){for(var t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),i=0;i<e.byteLength;i+=e.BYTES_PER_ELEMENT)for(var n=i+e.BYTES_PER_ELEMENT-1,r=i;n>r;n--,r++){var s=t[r];t[r]=t[n],t[n]=s}return e},s.prototype.failurePosition=0,String.fromCharCodeUint8=function(e){for(var t=[],i=0;i<e.length;i++)t[i]=e[i];return String.fromCharCode.apply(null,t)},s.prototype.readString=function(e,t){return null==t||"ASCII"==t?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(null==e?this.byteLength-this.position:e)]):new TextDecoder(t).decode(this.mapUint8Array(e))},s.prototype.readCString=function(e){var t=this.byteLength-this.position,i=new Uint8Array(this._buffer,this._byteOffset+this.position),n=t;null!=e&&(n=Math.min(e,t));for(var r=0;r<n&&0!==i[r];r++);var s=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(r)]);return null!=e?this.position+=n-r:r!=t&&(this.position+=1),s};var o=Math.pow(2,32);s.prototype.readUint64=function(){return this.readUint32()*o+this.readUint32()},s.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},t.DataStream=s,s.prototype.save=function(e){var t=new Blob([this.buffer]),i=window.webkitURL||window.URL;if(!i||!i.createObjectURL)throw"DataStream.save: Can't create object URL.";var n=i.createObjectURL(t),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e),r.click(),i.revokeObjectURL(n)},s.prototype._dynamicSize=!0,Object.defineProperty(s.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(e){e||this._trimAlloc(),this._dynamicSize=e}}),s.prototype.shift=function(e){var t=new ArrayBuffer(this._byteLength-e),i=new Uint8Array(t),n=new Uint8Array(this._buffer,e,i.length);i.set(n),this.buffer=t,this.position-=e},s.prototype.writeInt32Array=function(e,t){if(this._realloc(4*e.length),e instanceof Int32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt32Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeInt32(e[i],t)},s.prototype.writeInt16Array=function(e,t){if(this._realloc(2*e.length),e instanceof Int16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt16Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeInt16(e[i],t)},s.prototype.writeInt8Array=function(e){if(this._realloc(1*e.length),e instanceof Int8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt8Array(e.length);else for(var t=0;t<e.length;t++)this.writeInt8(e[t])},s.prototype.writeUint32Array=function(e,t){if(this._realloc(4*e.length),e instanceof Uint32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint32Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeUint32(e[i],t)},s.prototype.writeUint16Array=function(e,t){if(this._realloc(2*e.length),e instanceof Uint16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint16Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeUint16(e[i],t)},s.prototype.writeUint8Array=function(e){if(this._realloc(1*e.length),e instanceof Uint8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint8Array(e.length);else for(var t=0;t<e.length;t++)this.writeUint8(e[t])},s.prototype.writeFloat64Array=function(e,t){if(this._realloc(8*e.length),e instanceof Float64Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat64Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeFloat64(e[i],t)},s.prototype.writeFloat32Array=function(e,t){if(this._realloc(4*e.length),e instanceof Float32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)s.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat32Array(e.length,t);else for(var i=0;i<e.length;i++)this.writeFloat32(e[i],t)},s.prototype.writeInt32=function(e,t){this._realloc(4),this._dataView.setInt32(this.position,e,null==t?this.endianness:t),this.position+=4},s.prototype.writeInt16=function(e,t){this._realloc(2),this._dataView.setInt16(this.position,e,null==t?this.endianness:t),this.position+=2},s.prototype.writeInt8=function(e){this._realloc(1),this._dataView.setInt8(this.position,e),this.position+=1},s.prototype.writeUint32=function(e,t){this._realloc(4),this._dataView.setUint32(this.position,e,null==t?this.endianness:t),this.position+=4},s.prototype.writeUint16=function(e,t){this._realloc(2),this._dataView.setUint16(this.position,e,null==t?this.endianness:t),this.position+=2},s.prototype.writeUint8=function(e){this._realloc(1),this._dataView.setUint8(this.position,e),this.position+=1},s.prototype.writeFloat32=function(e,t){this._realloc(4),this._dataView.setFloat32(this.position,e,null==t?this.endianness:t),this.position+=4},s.prototype.writeFloat64=function(e,t){this._realloc(8),this._dataView.setFloat64(this.position,e,null==t?this.endianness:t),this.position+=8},s.prototype.writeUCS2String=function(e,t,i){null==i&&(i=e.length);for(var n=0;n<e.length&&n<i;n++)this.writeUint16(e.charCodeAt(n),t);for(;n<i;n++)this.writeUint16(0)},s.prototype.writeString=function(e,t,i){var n=0;if(null==t||"ASCII"==t)if(null!=i){var r=Math.min(e.length,i);for(n=0;n<r;n++)this.writeUint8(e.charCodeAt(n));for(;n<i;n++)this.writeUint8(0)}else for(n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));else this.writeUint8Array(new TextEncoder(t).encode(e.substring(0,i)))},s.prototype.writeCString=function(e,t){var i=0;if(null!=t){var n=Math.min(e.length,t);for(i=0;i<n;i++)this.writeUint8(e.charCodeAt(i));for(;i<t;i++)this.writeUint8(0)}else{for(i=0;i<e.length;i++)this.writeUint8(e.charCodeAt(i));this.writeUint8(0)}},s.prototype.writeStruct=function(e,t){for(var i=0;i<e.length;i+=2){var n=e[i+1];this.writeType(n,t[e[i]],t)}},s.prototype.writeType=function(e,t,i){var n;if("function"==typeof e)return e(this,t);if("object"==typeof e&&!(e instanceof Array))return e.set(this,t,i);var r=null,o="ASCII",a=this.position;switch("string"==typeof e&&/:/.test(e)&&(n=e.split(":"),e=n[0],r=parseInt(n[1])),"string"==typeof e&&/,/.test(e)&&(n=e.split(","),e=n[0],o=parseInt(n[1])),e){case"uint8":this.writeUint8(t);break;case"int8":this.writeInt8(t);break;case"uint16":this.writeUint16(t,this.endianness);break;case"int16":this.writeInt16(t,this.endianness);break;case"uint32":this.writeUint32(t,this.endianness);break;case"int32":this.writeInt32(t,this.endianness);break;case"float32":this.writeFloat32(t,this.endianness);break;case"float64":this.writeFloat64(t,this.endianness);break;case"uint16be":this.writeUint16(t,s.BIG_ENDIAN);break;case"int16be":this.writeInt16(t,s.BIG_ENDIAN);break;case"uint32be":this.writeUint32(t,s.BIG_ENDIAN);break;case"int32be":this.writeInt32(t,s.BIG_ENDIAN);break;case"float32be":this.writeFloat32(t,s.BIG_ENDIAN);break;case"float64be":this.writeFloat64(t,s.BIG_ENDIAN);break;case"uint16le":this.writeUint16(t,s.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(t,s.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(t,s.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(t,s.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(t,s.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(t,s.LITTLE_ENDIAN);break;case"cstring":this.writeCString(t,r);break;case"string":this.writeString(t,o,r);break;case"u16string":this.writeUCS2String(t,this.endianness,r);break;case"u16stringle":this.writeUCS2String(t,s.LITTLE_ENDIAN,r);break;case"u16stringbe":this.writeUCS2String(t,s.BIG_ENDIAN,r);break;default:if(3==e.length){for(var u=e[1],c=0;c<t.length;c++)this.writeType(u,t[c]);break}this.writeStruct(e,t);break}null!=r&&(this.position=a,this._realloc(r),this.position=a+r)},s.prototype.writeUint64=function(e){var t=Math.floor(e/o);this.writeUint32(t),this.writeUint32(4294967295&e)},s.prototype.writeUint24=function(e){this.writeUint8((16711680&e)>>16),this.writeUint8((65280&e)>>8),this.writeUint8(255&e)},s.prototype.adjustUint32=function(e,t){var i=this.position;this.seek(e),this.writeUint32(t),this.seek(i)},s.prototype.mapInt32Array=function(e,t){this._realloc(4*e);var i=new Int32Array(this._buffer,this.byteOffset+this.position,e);return s.arrayToNative(i,null==t?this.endianness:t),this.position+=4*e,i},s.prototype.mapInt16Array=function(e,t){this._realloc(2*e);var i=new Int16Array(this._buffer,this.byteOffset+this.position,e);return s.arrayToNative(i,null==t?this.endianness:t),this.position+=2*e,i},s.prototype.mapInt8Array=function(e){this._realloc(1*e);var t=new Int8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=1*e,t},s.prototype.mapUint32Array=function(e,t){this._realloc(4*e);var i=new Uint32Array(this._buffer,this.byteOffset+this.position,e);return s.arrayToNative(i,null==t?this.endianness:t),this.position+=4*e,i},s.prototype.mapUint16Array=function(e,t){this._realloc(2*e);var i=new Uint16Array(this._buffer,this.byteOffset+this.position,e);return s.arrayToNative(i,null==t?this.endianness:t),this.position+=2*e,i},s.prototype.mapFloat64Array=function(e,t){this._realloc(8*e);var i=new Float64Array(this._buffer,this.byteOffset+this.position,e);return s.arrayToNative(i,null==t?this.endianness:t),this.position+=8*e,i},s.prototype.mapFloat32Array=function(e,t){this._realloc(4*e);var i=new Float32Array(this._buffer,this.byteOffset+this.position,e);return s.arrayToNative(i,null==t?this.endianness:t),this.position+=4*e,i};var a=function(e){this.buffers=[],this.bufferIndex=-1,e&&(this.insertBuffer(e),this.bufferIndex=0)};a.prototype=new s(new ArrayBuffer,0,s.BIG_ENDIAN),a.prototype.initialized=function(){var e;return this.bufferIndex>-1||(this.buffers.length>0?(e=this.buffers[0],0===e.fileStart?(this.buffer=e,this.bufferIndex=0,n.debug("MultiBufferStream","Stream ready for parsing"),!0):(n.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(n.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1))},ArrayBuffer.concat=function(e,t){n.debug("ArrayBuffer","Trying to create a new buffer of size: "+(e.byteLength+t.byteLength));var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i.buffer},a.prototype.reduceBuffer=function(e,t,i){var n;return n=new Uint8Array(i),n.set(new Uint8Array(e,t,i)),n.buffer.fileStart=e.fileStart+t,n.buffer.usedBytes=0,n.buffer},a.prototype.insertBuffer=function(e){for(var t=!0,i=0;i<this.buffers.length;i++){var r=this.buffers[i];if(e.fileStart<=r.fileStart){if(e.fileStart===r.fileStart){if(e.byteLength>r.byteLength){this.buffers.splice(i,1),i--;continue}n.warn("MultiBufferStream","Buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+") already appended, ignoring")}else e.fileStart+e.byteLength<=r.fileStart||(e=this.reduceBuffer(e,0,r.fileStart-e.fileStart)),n.debug("MultiBufferStream","Appending new buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+")"),this.buffers.splice(i,0,e),0===i&&(this.buffer=e);t=!1;break}if(e.fileStart<r.fileStart+r.byteLength){var s=r.fileStart+r.byteLength-e.fileStart,o=e.byteLength-s;if(!(o>0)){t=!1;break}e=this.reduceBuffer(e,s,o)}}t&&(n.debug("MultiBufferStream","Appending new buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+")"),this.buffers.push(e),0===i&&(this.buffer=e))},a.prototype.logBufferLevel=function(e){var t,i,r,s,o,a=[],u="";for(r=0,s=0,t=0;t<this.buffers.length;t++)i=this.buffers[t],0===t?(o={},a.push(o),o.start=i.fileStart,o.end=i.fileStart+i.byteLength,u+="["+o.start+"-"):o.end===i.fileStart?o.end=i.fileStart+i.byteLength:(o={},o.start=i.fileStart,u+=a[a.length-1].end-1+"], ["+o.start+"-",o.end=i.fileStart+i.byteLength,a.push(o)),r+=i.usedBytes,s+=i.byteLength;a.length>0&&(u+=o.end-1+"]");var c=e?n.info:n.debug;0===this.buffers.length?c("MultiBufferStream","No more buffer in memory"):c("MultiBufferStream",this.buffers.length+" stored buffer(s) ("+r+"/"+s+" bytes): "+u)},a.prototype.cleanBuffers=function(){var e,t;for(e=0;e<this.buffers.length;e++)t=this.buffers[e],t.usedBytes===t.byteLength&&(n.debug("MultiBufferStream","Removing buffer #"+e),this.buffers.splice(e,1),e--)},a.prototype.mergeNextBuffer=function(){var e;if(this.bufferIndex+1<this.buffers.length){if(e=this.buffers[this.bufferIndex+1],e.fileStart===this.buffer.fileStart+this.buffer.byteLength){var t=this.buffer.byteLength,i=this.buffer.usedBytes,r=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,e),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=i,this.buffer.fileStart=r,n.debug("ISOFile","Concatenating buffer for box parsing (length: "+t+"->"+this.buffer.byteLength+")"),!0}return!1}return!1},a.prototype.findPosition=function(e,t,i){var r,s=null,o=-1;r=!0===e?0:this.bufferIndex;while(r<this.buffers.length){if(s=this.buffers[r],!(s.fileStart<=t))break;o=r,i&&(s.fileStart+s.byteLength<=t?s.usedBytes=s.byteLength:s.usedBytes=t-s.fileStart,this.logBufferLevel()),r++}return-1!==o?(s=this.buffers[o],s.fileStart+s.byteLength>=t?(n.debug("MultiBufferStream","Found position in existing buffer #"+o),o):-1):-1},a.prototype.findEndContiguousBuf=function(e){var t,i,n,r=void 0!==e?e:this.bufferIndex;if(i=this.buffers[r],this.buffers.length>r+1)for(t=r+1;t<this.buffers.length;t++){if(n=this.buffers[t],n.fileStart!==i.fileStart+i.byteLength)break;i=n}return i.fileStart+i.byteLength},a.prototype.getEndFilePositionAfter=function(e){var t=this.findPosition(!0,e,!1);return-1!==t?this.findEndContiguousBuf(t):e},a.prototype.addUsedBytes=function(e){this.buffer.usedBytes+=e,this.logBufferLevel()},a.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},a.prototype.seek=function(e,t,i){var r;return r=this.findPosition(t,e,i),-1!==r?(this.buffer=this.buffers[r],this.bufferIndex=r,this.position=e-this.buffer.fileStart,n.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(n.debug("MultiBufferStream","Position "+e+" not found in buffered data"),!1)},a.prototype.getPosition=function(){if(-1===this.bufferIndex||null===this.buffers[this.bufferIndex])throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},a.prototype.getLength=function(){return this.byteLength},a.prototype.getEndPosition=function(){if(-1===this.bufferIndex||null===this.buffers[this.bufferIndex])throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength};var u=function(){var e=3,t=4,i=5,r=6,s=[];s[e]="ES_Descriptor",s[t]="DecoderConfigDescriptor",s[i]="DecoderSpecificInfo",s[r]="SLConfigDescriptor";var o=this,a={};return this.parseOneDescriptor=function(e){var t,i,r,o=0;t=e.readUint8(),r=e.readUint8();while(128&r)o=(127&r)<<7,r=e.readUint8();return o+=127&r,n.debug("MPEG4DescriptorParser","Found "+(s[t]||"Descriptor "+t)+", size "+o+" at position "+e.getPosition()),i=s[t]?new a[s[t]](o):new a.Descriptor(o),i.parse(e),i},a.Descriptor=function(e,t){this.tag=e,this.size=t,this.descs=[]},a.Descriptor.prototype.parse=function(e){this.data=e.readUint8Array(this.size)},a.Descriptor.prototype.findDescriptor=function(e){for(var t=0;t<this.descs.length;t++)if(this.descs[t].tag==e)return this.descs[t];return null},a.Descriptor.prototype.parseRemainingDescriptors=function(e){var t=e.position;while(e.position<t+this.size){var i=o.parseOneDescriptor(e);this.descs.push(i)}},a.ES_Descriptor=function(t){a.Descriptor.call(this,e,t)},a.ES_Descriptor.prototype=new a.Descriptor,a.ES_Descriptor.prototype.parse=function(e){if(this.ES_ID=e.readUint16(),this.flags=e.readUint8(),this.size-=3,128&this.flags?(this.dependsOn_ES_ID=e.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,64&this.flags){var t=e.readUint8();this.URL=e.readString(t),this.size-=t+1}else this.URL=null;32&this.flags?(this.OCR_ES_ID=e.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(e)},a.ES_Descriptor.prototype.getOTI=function(e){var i=this.findDescriptor(t);return i?i.oti:0},a.ES_Descriptor.prototype.getAudioConfig=function(e){var n=this.findDescriptor(t);if(!n)return null;var r=n.findDescriptor(i);return r&&r.data?(248&r.data[0])>>3:null},a.DecoderConfigDescriptor=function(e){a.Descriptor.call(this,t,e)},a.DecoderConfigDescriptor.prototype=new a.Descriptor,a.DecoderConfigDescriptor.prototype.parse=function(e){this.oti=e.readUint8(),this.streamType=e.readUint8(),this.bufferSize=e.readUint24(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32(),this.size-=13,this.parseRemainingDescriptors(e)},a.DecoderSpecificInfo=function(e){a.Descriptor.call(this,i,e)},a.DecoderSpecificInfo.prototype=new a.Descriptor,a.SLConfigDescriptor=function(e){a.Descriptor.call(this,r,e)},a.SLConfigDescriptor.prototype=new a.Descriptor,this},c={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,boxCodes:["mdat","idat","free","skip","avcC","hvcC","ftyp","styp","payl","vttC","rtp ","sdp ","btrt","frma","trpy","tpyl","totl","tpay","dmed","dimm","drep","nump","npck","maxr","tmin","tmax","dmax","pmax","payt","vmhd","smhd","hmhd","idat","meco","udta","strk","free","skip"],fullBoxCodes:["mvhd","tkhd","mdhd","hdlr","vmhd","smhd","hmhd","nmhd","url ","urn ","ctts","cslg","stco","co64","stsc","stss","stsz","stz2","stts","stsh","mehd","trex","mfhd","tfhd","trun","tfdt","esds","subs","txtC","sidx","emsg","prft","pssh","elst","dref","url ","urn ","sbgp","sgpd","cprt","iods","ssix","tfra","mfro","pdin","tsel","trep","leva","stri","stsg","schm","stvi","padb","stdp","sdtp","saio","saiz","meta","xml ","bxml","iloc","pitm","ipro","iinf","infe","iref","mere","kind","elng"],containerBoxCodes:[["moov",["trak","sidx"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["udta"],["mfra"],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp"],["wave"]],sampleEntryCodes:[{prefix:"Visual",types:["mp4v","avc1","avc2","avc3","avc4","avcp","drac","encv","mjp2","mvc1","mvc2","resv","s263","svc1","vc-1","hvc1","hev1"]},{prefix:"Audio",types:["mp4a","ac-3","alac","dra1","dtsc","dtse",,"dtsh","dtsl","ec-3","enca","g719","g726","m4ae","mlpa","raw ","samr","sawb","sawp","sevc","sqcp","ssmv","twos",".mp3"]},{prefix:"Hint",types:["fdp ","m2ts","pm2t","prtp","rm2t","rrtp","rsrp","rtp ","sm2t","srtp"]},{prefix:"Metadata",types:["metx","mett","urim"]},{prefix:"Subtitle",types:["stpp","wvtt","sbtt","tx3g","stxt"]},{prefix:"System",types:["mp4s"]}],sampleGroupEntryCodes:["roll","prol","alst","rap ","tele","avss","avll","sync","tscl","tsas","stsa","scif","mvif","scnm","dtrt","vipr","tele","rash"],trackGroupTypes:["msrc"],initialize:function(){var e,t,i;for(c.FullBox.prototype=new c.Box,c.ContainerBox.prototype=new c.Box,c.SampleEntry.prototype=new c.FullBox,c.TrackGroupTypeBox.prototype=new c.FullBox,i=c.boxCodes.length,e=0;e<i;e++)c[c.boxCodes[e]+"Box"]=function(e){return function(t){c.Box.call(this,c.boxCodes[e],t)}}(e),c[c.boxCodes[e]+"Box"].prototype=new c.Box;for(i=c.fullBoxCodes.length,e=0;e<i;e++)c[c.fullBoxCodes[e]+"Box"]=function(e){return function(t){c.FullBox.call(this,c.fullBoxCodes[e],t)}}(e),c[c.fullBoxCodes[e]+"Box"].prototype=new c.FullBox;for(i=c.containerBoxCodes.length,e=0;e<i;e++)c[c.containerBoxCodes[e][0]+"Box"]=function(e,t){return function(i){if(c.ContainerBox.call(this,c.containerBoxCodes[e][0],i),t){this.subBoxNames=t;for(var n=t.length,r=0;r<n;r++)this[t[r]+"s"]=[]}}}(e,c.containerBoxCodes[e][1]),c[c.containerBoxCodes[e][0]+"Box"].prototype=new c.ContainerBox;for(i=c.sampleEntryCodes.length,t=0;t<i;t++){var n=c.sampleEntryCodes[t].prefix,r=c.sampleEntryCodes[t].types,s=r.length;for(c[n+"SampleEntry"]=function(e,t){c.SampleEntry.call(this,e,t)},c[n+"SampleEntry"].prototype=new c.SampleEntry,e=0;e<s;e++)c[r[e]+"SampleEntry"]=function(e,t){return function(i){c[c.sampleEntryCodes[e].prefix+"SampleEntry"].call(this,c.sampleEntryCodes[e].types[t],i)}}(t,e),c[r[e]+"SampleEntry"].prototype=new c[n+"SampleEntry"]}for(i=c.sampleGroupEntryCodes.length,e=0;e<i;e++)c[c.sampleGroupEntryCodes[e]+"SampleGroupEntry"]=function(e){return function(t){c.SampleGroupEntry.call(this,c.sampleGroupEntryCodes[e],t)}}(e),c[c.sampleGroupEntryCodes[e]+"SampleGroupEntry"].prototype=new c.SampleGroupEntry;for(i=c.trackGroupTypes.length,e=0;e<i;e++)c[c.trackGroupTypes[e]+"Box"]=function(e){return function(t){c.TrackGroupTypeBox.call(this,c.trackGroupTypes[e],t)}}(e),c[c.trackGroupTypes[e]+"Box"].prototype=new c.TrackGroupTypeBox},Box:function(e,t){this.type=e,this.size=t},FullBox:function(e,t){c.Box.call(this,e,t),this.flags=0,this.version=0},ContainerBox:function(e,t){c.Box.call(this,e,t),this.boxes=[]},SampleEntry:function(e,t,i,n){c.Box.call(this,e,t),this.hdr_size=i,this.start=n,this.boxes=[]},SampleGroupEntry:function(e){this.grouping_type=e},TrackGroupTypeBox:function(e,t){c.FullBox.call(this,e,t)}};c.initialize(),c.TKHD_FLAG_ENABLED=1,c.TKHD_FLAG_IN_MOVIE=2,c.TKHD_FLAG_IN_PREVIEW=4,c.TKHD_FLAG_IN_POSTER=8,c.TFHD_FLAG_BASE_DATA_OFFSET=1,c.TFHD_FLAG_SAMPLE_DESC=2,c.TFHD_FLAG_SAMPLE_DUR=8,c.TFHD_FLAG_SAMPLE_SIZE=16,c.TFHD_FLAG_SAMPLE_FLAGS=32,c.TFHD_FLAG_DUR_EMPTY=65536,c.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,c.TRUN_FLAGS_DATA_OFFSET=1,c.TRUN_FLAGS_FIRST_FLAG=4,c.TRUN_FLAGS_DURATION=256,c.TRUN_FLAGS_SIZE=512,c.TRUN_FLAGS_FLAGS=1024,c.TRUN_FLAGS_CTS_OFFSET=2048,c.Box.prototype.add=function(e){var t=new c[e+"Box"];return this.boxes.push(t),this[e+"s"]?this[e+"s"].push(t):this[e]=t,t},c.Box.prototype.set=function(e,t){return this[e]=t,this},c.Box.prototype.addEntry=function(e,t){var i=t||"entries";return this[i]||(this[i]=[]),this[i].push(e),this},t.BoxParser=c,c.SampleEntry.prototype.isVideo=function(){return!1},c.SampleEntry.prototype.isAudio=function(){return!1},c.SampleEntry.prototype.isSubtitle=function(){return!1},c.SampleEntry.prototype.isMetadata=function(){return!1},c.SampleEntry.prototype.isHint=function(){return!1},c.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},c.SampleEntry.prototype.getWidth=function(){return""},c.SampleEntry.prototype.getHeight=function(){return""},c.SampleEntry.prototype.getChannelCount=function(){return""},c.SampleEntry.prototype.getSampleRate=function(){return""},c.SampleEntry.prototype.getSampleSize=function(){return""},c.VisualSampleEntry.prototype.isVideo=function(){return!0},c.VisualSampleEntry.prototype.getWidth=function(){return this.width},c.VisualSampleEntry.prototype.getHeight=function(){return this.height},c.AudioSampleEntry.prototype.isAudio=function(){return!0},c.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},c.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},c.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},c.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},c.MetadataSampleEntry.prototype.isMetadata=function(){return!0},c.decimalToHex=function(e,t){var i=Number(e).toString(16);t="undefined"===typeof t||null===t?t=2:t;while(i.length<t)i="0"+i;return i},c.avc1SampleEntry.prototype.getCodec=function(){var e=c.SampleEntry.prototype.getCodec.call(this);return this.avcC?e+"."+c.decimalToHex(this.avcC.AVCProfileIndication)+c.decimalToHex(this.avcC.profile_compatibility)+c.decimalToHex(this.avcC.AVCLevelIndication):e},c.hvc1SampleEntry.prototype.getCodec=function(){var e,t=c.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(t+=".",this.hvcC.general_profile_space){case 0:t+="";break;case 1:t+="A";break;case 2:t+="B";break;case 3:t+="C";break}t+=this.hvcC.general_profile_idc,t+=".";var i=this.hvcC.general_profile_compatibility,n=0;for(e=0;e<32;e++){if(n|=1&i,31==e)break;n<<=1,i>>=1}t+=c.decimalToHex(n,0),t+=".",0===this.hvcC.general_tier_flag?t+="L":t+="H",t+=this.hvcC.general_level_idc;var r=!1,s="";for(e=5;e>=0;e--)(this.hvcC.general_constraint_indicator[e]||r)&&(s="."+c.decimalToHex(this.hvcC.general_constraint_indicator[e],0)+s,r=!0);t+=s}return t},c.mp4aSampleEntry.prototype.getCodec=function(){var e=c.SampleEntry.prototype.getCodec.call(this),t=this.esds||(this.wave||{}).esds;if(t&&t.esd){var i=t.esd.getOTI(),n=t.esd.getAudioConfig();return e+"."+c.decimalToHex(i)+(n?"."+n:"")}return e},c.stxtSampleEntry.prototype.getCodec=function(){var e=c.SampleEntry.prototype.getCodec.call(this);return this.mime_format?e+"."+this.mime_format:e},c.parseOneBox=function(e,t,i){var r,s,o,a=e.getPosition(),u=0;if(e.getEndPosition()-a<8)return n.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:c.ERR_NOT_ENOUGH_DATA};var f=e.readUint32();if(0===f)return n.debug("BoxParser","Found terminator box at "+a),{code:c.OK};var h=e.readString(4);if(n.debug("BoxParser","Found box of type "+h+" and size "+f+" at position "+a),u=8,"uuid"==h&&(o=e.readUint8Array(16),u+=16),1==f){if(e.getEndPosition()-e.getPosition()<8)return e.seek(a),n.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+h+'" box'),{code:c.ERR_NOT_ENOUGH_DATA};f=e.readUint64(),u+=8}else if(0===f&&"mdat"!==h)throw"Unlimited box size not supported";return i&&f>i?(n.error("BoxParser","Box of type "+h+" has a size "+f+" greater than its container size "+i),{code:c.ERR_NOT_ENOUGH_DATA,type:h,size:f,hdr_size:u,start:a}):a+f>e.getEndPosition()?(e.seek(a),n.warn("BoxParser",'Not enough data in stream to parse the entire "'+h+'" box'),{code:c.ERR_NOT_ENOUGH_DATA,type:h,size:f,hdr_size:u,start:a}):t?{code:c.OK,type:h,size:f,hdr_size:u,start:a}:(c[h+"Box"]?r=new c[h+"Box"](f):("uuid"!==h&&n.warn("BoxParser","Unknown box type: "+h),r=new c.Box(h,f),o&&(r.uuid=o)),r.hdr_size=u,r.start=a,r.write===c.Box.prototype.write&&"mdat"!==r.type&&(n.warn("BoxParser",r.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),r.parseDataAndRewind(e)),r.parse(e),s=e.getPosition()-(r.start+r.size),s<0?(n.warn("BoxParser","Parsing of box "+r.type+" did not read the entire indicated box data size (missing "+-s+" bytes), seeking forward"),e.seek(r.start+r.size)):s>0&&(n.error("BoxParser","Parsing of box "+r.type+" read "+s+" more bytes than the indicated box data size, seeking backwards"),e.seek(r.start+r.size)),{code:c.OK,box:r,size:r.size})},c.Box.prototype.parse=function(e){"mdat"!=this.type?this.data=e.readUint8Array(this.size-this.hdr_size):0===this.size?e.seek(e.getEndPosition()):e.seek(this.start+this.size)},c.Box.prototype.parseDataAndRewind=function(e){this.data=e.readUint8Array(this.size-this.hdr_size),e.position-=this.size-this.hdr_size},c.FullBox.prototype.parseDataAndRewind=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,e.position-=this.size-this.hdr_size},c.FullBox.prototype.parseFullHeader=function(e){this.version=e.readUint8(),this.flags=e.readUint24(),this.hdr_size+=4},c.FullBox.prototype.parse=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)},c.ContainerBox.prototype.parse=function(e){var t,i;while(e.getPosition()<this.start+this.size){if(t=c.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),t.code!==c.OK)return;i=t.box,this.boxes.push(i),this.subBoxNames&&-1!=this.subBoxNames.indexOf(i.type)?this[this.subBoxNames[this.subBoxNames.indexOf(i.type)]+"s"].push(i):this[i.type]=i}},c.Box.prototype.parseLanguage=function(e){this.language=e.readUint16();var t=[];t[0]=this.language>>10&31,t[1]=this.language>>5&31,t[2]=31&this.language,this.languageString=String.fromCharCode(t[0]+96,t[1]+96,t[2]+96)},c.TrackGroupTypeBox.prototype.parse=function(e){this.parseFullHeader(e),this.track_group_id=e.readUint32()},c.TrackReferenceTypeBox=function(e,t,i,n){c.Box.call(this,e,t),this.hdr_size=i,this.start=n},c.TrackReferenceTypeBox.prototype=new c.Box,c.TrackReferenceTypeBox.prototype.parse=function(e){this.track_ids=e.readUint32Array((this.size-this.hdr_size)/4)},c.avcCBox.prototype.parse=function(e){var t,i,n,r;for(this.configurationVersion=e.readUint8(),this.AVCProfileIndication=e.readUint8(),this.profile_compatibility=e.readUint8(),this.AVCLevelIndication=e.readUint8(),this.lengthSizeMinusOne=3&e.readUint8(),i=31&e.readUint8(),r=this.size-this.hdr_size-6,this.SPS=new Array(i),t=0;t<i;t++)n=e.readUint16(),this.SPS[t]=e.readUint8Array(n),r-=2+n;for(i=e.readUint8(),r--,this.PPS=new Array(i),t=0;t<i;t++)n=e.readUint16(),this.PPS[t]=e.readUint8Array(n),r-=2+n;r>0&&(this.ext=e.readUint8Array(r))},c.btrtBox.prototype.parse=function(e){this.bufferSizeDB=e.readUint32(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32()},c.co64Box.prototype.parse=function(e){var t,i;if(this.parseFullHeader(e),t=e.readUint32(),this.chunk_offsets=[],0===this.version)for(i=0;i<t;i++)this.chunk_offsets.push(e.readUint64())},c.cprtBox.prototype.parse=function(e){this.parseFullHeader(e),this.parseLanguage(e),this.notice=e.readCString()},c.cslgBox.prototype.parse=function(e){this.parseFullHeader(e),0===this.version&&(this.compositionToDTSShift=e.readInt32(),this.leastDecodeToDisplayDelta=e.readInt32(),this.greatestDecodeToDisplayDelta=e.readInt32(),this.compositionStartTime=e.readInt32(),this.compositionEndTime=e.readInt32())},c.cttsBox.prototype.parse=function(e){var t,i;if(this.parseFullHeader(e),t=e.readUint32(),this.sample_counts=[],this.sample_offsets=[],0===this.version)for(i=0;i<t;i++)this.sample_counts.push(e.readUint32()),this.sample_offsets.push(e.readInt32());else if(1==this.version)for(i=0;i<t;i++)this.sample_counts.push(e.readUint32()),this.sample_offsets.push(e.readInt32())},c.dimmBox.prototype.parse=function(e){this.bytessent=e.readUint64()},c.dmaxBox.prototype.parse=function(e){this.time=e.readUint32()},c.dmedBox.prototype.parse=function(e){this.bytessent=e.readUint64()},c.drefBox.prototype.parse=function(e){var t,i;this.parseFullHeader(e),this.entries=[];for(var n=e.readUint32(),r=0;r<n;r++){if(t=c.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),t.code!==c.OK)return;i=t.box,this.entries.push(i)}},c.drepBox.prototype.parse=function(e){this.bytessent=e.readUint64()},c.elngBox.prototype.parse=function(e){this.parseFullHeader(e),this.extended_language=e.readString(this.size-this.hdr_size)},c.elstBox.prototype.parse=function(e){this.parseFullHeader(e),this.entries=[];for(var t=e.readUint32(),i=0;i<t;i++){var n={};this.entries.push(n),1===this.version?(n.segment_duration=e.readUint64(),n.media_time=e.readInt64()):(n.segment_duration=e.readUint32(),n.media_time=e.readInt32()),n.media_rate_integer=e.readInt16(),n.media_rate_fraction=e.readInt16()}},c.emsgBox.prototype.parse=function(e){this.parseFullHeader(e),this.scheme_id_uri=e.readCString(),this.value=e.readCString(),this.timescale=e.readUint32(),this.presentation_time_delta=e.readUint32(),this.event_duration=e.readUint32(),this.id=e.readUint32();var t=this.size-this.hdr_size-(16+(this.scheme_id_uri.length+1)+(this.value.length+1));this.message_data=e.readUint8Array(t)},c.esdsBox.prototype.parse=function(e){this.parseFullHeader(e);var t=e.readUint8Array(this.size-this.hdr_size);if("undefined"!==typeof u){var i=new u;this.esd=i.parseOneDescriptor(new s(t.buffer,0,s.BIG_ENDIAN))}},c.frmaBox.prototype.parse=function(e){this.data_format=e.readString(4)},c.ftypBox.prototype.parse=function(e){var t=this.size-this.hdr_size;this.major_brand=e.readString(4),this.minor_version=e.readUint32(),t-=8,this.compatible_brands=[];var i=0;while(t>=4)this.compatible_brands[i]=e.readString(4),t-=4,i++},c.hdlrBox.prototype.parse=function(e){this.parseFullHeader(e),0===this.version?(this.componentType=e.readString(4),this.componentSubType=e.readString(4),e.readUint32Array(3),this.name=e.readCString(this.size-this.hdr_size-20),"\0"===this.name[this.name.length-1]&&(this.name=this.name.slice(0,-1))):this.data=e.readUint8Array(this.size-this.hdr_size)},c.hvcCBox.prototype.parse=function(e){var t,i,n,r;this.configurationVersion=e.readUint8(),r=e.readUint8(),this.general_profile_space=r>>6,this.general_tier_flag=(32&r)>>5,this.general_profile_idc=31&r,this.general_profile_compatibility=e.readUint32(),this.general_constraint_indicator=e.readUint8Array(6),this.general_level_idc=e.readUint8(),this.min_spatial_segmentation_idc=4095&e.readUint16(),this.parallelismType=3&e.readUint8(),this.chromaFormat=3&e.readUint8(),this.bitDepthLumaMinus8=7&e.readUint8(),this.bitDepthChromaMinus8=7&e.readUint8(),this.avgFrameRate=e.readUint16(),r=e.readUint8(),this.constantFrameRate=r>>6,this.numTemporalLayers=(13&r)>>3,this.temporalIdNested=(4&r)>>2,this.lengthSizeMinusOne=3&r,this.nalu_arrays=[];var s=e.readUint8();for(t=0;t<s;t++){var o=[];this.nalu_arrays.push(o),r=e.readUint8(),o.completeness=(128&r)>>7,o.nalu_type=63&r;var a=e.readUint16();for(i=0;i<a;i++){var u={};o.push(u),n=e.readUint16(),u.data=e.readUint8Array(n)}}},c.iinfBox.prototype.parse=function(e){var t;this.parseFullHeader(e),0===this.version?this.entry_count=e.readUint16():this.entry_count=e.readUint32(),this.item_infos=[];for(var i=0;i<this.entry_count;i++){if(t=c.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),t.code!==c.OK)return;"infe"!==t.box.type&&n.error("BoxParser","Expected 'infe' box, got "+t.box.type),this.item_infos[i]=t.box}},c.ilocBox.prototype.parse=function(e){var t;this.parseFullHeader(e),t=e.readUint8(),this.offset_size=t>>4&15,this.length_size=15&t,t=e.readUint8(),this.base_offset_size=t>>4&15,1===this.version||2===this.version?this.index_size=15&t:this.index_size=0,this.items=[];var i=0;if(this.version<2)i=e.readUint16();else{if(2!==this.version)throw"version of iloc box not supported";i=e.readUint32()}for(var n=0;n<i;n++){var r={};if(this.items.push(r),this.version<2)r.item_ID=e.readUint16();else{if(2!==this.version)throw"version of iloc box not supported";r.item_ID=e.readUint16()}switch(1!==this.version&&2!==this.version||(r.construction_method=15&e.readUint16()),r.data_reference_index=e.readUint16(),this.base_offset_size){case 0:r.base_offset=0;break;case 4:r.base_offset=e.readUint32();break;case 8:r.base_offset=e.readUint64();break;default:throw"Error reading base offset size"}var s=e.readUint16();r.extents=[];for(var o=0;o<s;o++){var a={};if(r.extents.push(a),1===this.version||2===this.version)switch(this.index_size){case 0:a.extent_index=0;break;case 4:a.extent_index=e.readUint32();break;case 8:a.extent_index=e.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:a.extent_offset=0;break;case 4:a.extent_offset=e.readUint32();break;case 8:a.extent_offset=e.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:a.extent_length=0;break;case 4:a.extent_length=e.readUint32();break;case 8:a.extent_length=e.readUint64();break;default:throw"Error reading extent index"}}}},c.infeBox.prototype.parse=function(e){if(this.parseFullHeader(e),0!==this.version&&1!==this.version||(this.item_ID=e.readUint16(),this.item_protection_index=e.readUint16(),this.item_name=e.readCString(),this.content_type=e.readCString(),this.content_encoding=e.readCString()),1===this.version)return this.extension_type=e.readString(4),n.warn("BoxParser","Cannot parse extension type"),void e.seek(this.start+this.size);this.version>=2&&(2===this.version?this.item_ID=e.readUint16():3===this.version&&(this.item_ID=e.readUint32()),this.item_protection_index=e.readUint16(),this.item_type=e.readString(4),this.name=e.readCString(),"mime"===this.item_type?(this.content_type=e.readCString(),this.content_encoding=e.readCString()):"uri "===this.item_type&&(this.item_uri_type=e.readCString()))},c.irefBox=function(e){c.FullBox.call(this,"iref",e),this.references=[]},c.irefBox.prototype=new c.FullBox,c.irefBox.prototype.parse=function(e){var t,i;this.parseFullHeader(e);while(e.getPosition()<this.start+this.size){if(t=c.parseOneBox(e,!0,this.size-(e.getPosition()-this.start)),t.code!==c.OK)return;i=0===this.version?new c.SingleItemTypeReferenceBox(t.type,t.size,t.hdr_size,t.start):new c.SingleItemTypeReferenceBoxLarge(t.type,t.size,t.hdr_size,t.start),i.write===c.Box.prototype.write&&"mdat"!==i.type&&(n.warn("BoxParser",i.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),i.parseDataAndRewind(e)),i.parse(e),this.references.push(i)}},c.kindBox=function(e){c.FullBox.call(this,"kind",e),this.schemeURI="",this.value=""},c.kindBox.prototype=new c.FullBox,c.kindBox.prototype.parse=function(e){this.parseFullHeader(e),this.schemeURI=e.readCString(),this.value=e.readCString()},c.levaBox.prototype.parse=function(e){this.parseFullHeader(e);var t=e.readUint8();this.levels=[];for(var i=0;i<t;i++){var r={};this.levels[i]=r,r.track_ID=e.readUint32();var s=e.readUint8();switch(r.padding_flag=s>>7,r.assignment_type=127&s,r.assignment_type){case 0:r.grouping_type=e.readUint32();break;case 1:r.grouping_type=e.readUint32(),r.grouping_type_parameter=e.readUint32();break;case 2:break;case 3:break;case 4:r.sub_track_id=e.readUint32();break;default:n.warn("BoxParser","Unknown leva assignement type")}}},c.maxrBox.prototype.parse=function(e){this.period=e.readUint32(),this.bytes=e.readUint32()},c.mdhdBox.prototype.parse=function(e){this.parseFullHeader(e),1==this.version?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.parseLanguage(e),e.readUint16()},c.mehdBox.prototype.parse=function(e){this.parseFullHeader(e),1|this.flags&&(n.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),1==this.version?this.fragment_duration=e.readUint64():this.fragment_duration=e.readUint32()},c.metaBox.prototype.parse=function(e){this.parseFullHeader(e),this.boxes=[],c.ContainerBox.prototype.parse.call(this,e)},c.mfhdBox.prototype.parse=function(e){this.parseFullHeader(e),this.sequence_number=e.readUint32()},c.mfroBox.prototype.parse=function(e){this.parseFullHeader(e),this._size=e.readUint32()},c.mvhdBox.prototype.parse=function(e){this.flags=0,this.parseFullHeader(e),1==this.version?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.rate=e.readUint32(),this.volume=e.readUint16()>>8,e.readUint16(),e.readUint32Array(2),this.matrix=e.readUint32Array(9),e.readUint32Array(6),this.next_track_id=e.readUint32()},c.npckBox.prototype.parse=function(e){this.packetssent=e.readUint32()},c.numpBox.prototype.parse=function(e){this.packetssent=e.readUint64()},c.padbBox.prototype.parse=function(e){this.parseFullHeader(e);var t=e.readUint32();this.padbits=[];for(var i=0;i<Math.floor((t+1)/2);i++)this.padbits=e.readUint8()},c.paylBox.prototype.parse=function(e){this.text=e.readString(this.size-this.hdr_size)},c.paytBox.prototype.parse=function(e){this.payloadID=e.readUint32();var t=e.readUint8();this.rtpmap_string=e.readString(t)},c.pdinBox.prototype.parse=function(e){this.parseFullHeader(e);var t=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var i=0;i<t;i++)this.rate[i]=e.readUint32(),this.initial_delay[i]=e.readUint32()},c.pitmBox.prototype.parse=function(e){this.parseFullHeader(e),0===this.version?this.item_id=e.readUint16():this.item_id=e.readUint32()},c.pmaxBox.prototype.parse=function(e){this.bytes=e.readUint32()},c.prftBox.prototype.parse=function(e){this.parseFullHeader(e),this.ref_track_id=e.readUint32(),this.ntp_timestamp=e.readUint64(),0===this.version?this.media_time=e.readUint32():this.media_time=e.readUint64()},c.psshBox.prototype.parse=function(e){if(this.parseFullHeader(e),this.system_id=e.readUint8Array(16),this.version>0){var t=e.readUint32();this.kid=[];for(var i=0;i<t;i++)this.kid[i]=e.readUint8Array(16)}var n=e.readUint32();n>0&&(this.data=e.readUint8Array(n))},c["rtp Box"].prototype.parse=function(e){this.descriptionformat=e.readString(4),this.sdptext=e.readString(this.size-this.hdr_size-4)},c.saioBox.prototype.parse=function(e){this.parseFullHeader(e),1&this.flags&&(this.aux_info_type=e.readUint32(),this.aux_info_type_parameter=e.readUint32());var t=e.readUint32();this.offset=[];for(var i=0;i<t;i++)0===this.version?this.offset[i]=e.readUint32():this.offset[i]=e.readUint64()},c.saizBox.prototype.parse=function(e){this.parseFullHeader(e),1&this.flags&&(this.aux_info_type=e.readUint32(),this.aux_info_type_parameter=e.readUint32()),this.default_sample_info_size=e.readUint8();var t=e.readUint32();if(this.sample_info_size=[],0===this.default_sample_info_size)for(var i=0;i<t;i++)this.sample_info_size[i]=e.readUint8()},c.mettSampleEntry.prototype.parse=function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)},c.metxSampleEntry.prototype.parse=function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.parseFooter(e)},c.SampleEntry.prototype.parseHeader=function(e){e.readUint8Array(6),this.data_reference_index=e.readUint16(),this.hdr_size+=8},c.SampleEntry.prototype.parse=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)},c.SampleEntry.prototype.parseDataAndRewind=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,e.position-=this.size-this.hdr_size},c.SampleEntry.prototype.parseFooter=function(e){var t,i;while(e.getPosition()<this.start+this.size){if(t=c.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),t.code!==c.OK)return;i=t.box,i?(this.boxes.push(i),this[i.type]=i):e.position=this.start+this.size}},c.VisualSampleEntry.prototype.parse=function(e){this.parseHeader(e),e.readUint16(),e.readUint16(),e.readUint32Array(3),this.width=e.readUint16(),this.height=e.readUint16(),this.horizresolution=e.readUint32(),this.vertresolution=e.readUint32(),e.readUint32(),this.frame_count=e.readUint16(),this.compressorname=e.readString(32),this.depth=e.readUint16(),e.readUint16(),this.parseFooter(e)},c.AudioSampleEntry.prototype.parse=function(e){this.parseHeader(e),this.version=e.readUint16(),this.revision=e.readUint16(),this.vendor=e.readUint32(),this.channel_count=e.readUint16(),this.samplesize=e.readUint16(),this.compressionId=e.readInt16(),this.packetSize=e.readUint16(),this.samplerate=e.readUint32()/65536,1==this.version&&(this.samplesPerPacket=e.readUint32(),this.bytesPerPacket=e.readUint32(),this.bytesPerFrame=e.readUint32(),this.bytesPerSample=e.readUint32()),this.parseFooter(e)},c.sbttSampleEntry.prototype.parse=function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)},c.stppSampleEntry.prototype.parse=function(e){this.parseHeader(e),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.auxiliary_mime_types=e.readCString(),this.parseFooter(e)},c.stxtSampleEntry.prototype.parse=function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)},c.tx3gSampleEntry.prototype.parse=function(e){this.parseHeader(e),this.displayFlags=e.readUint32(),this.horizontal_justification=e.readInt8(),this.vertical_justification=e.readInt8(),this.bg_color_rgba=e.readUint8Array(4),this.box_record=e.readInt16Array(4),this.style_record=e.readUint8Array(12),this.parseFooter(e)},c.wvttSampleEntry.prototype.parse=function(e){this.parseHeader(e),this.parseFooter(e)},c.alstSampleGroupEntry.prototype.parse=function(e){var t,i=e.readUint16();for(this.first_output_sample=e.readUint16(),this.sample_offset=[],t=0;t<i;t++)this.sample_offset[t]=e.readUint32();var n=this.description_length-4-4*i;for(this.num_output_samples=[],this.num_total_samples=[],t=0;t<n/4;t++)this.num_output_samples[t]=e.readUint16(),this.num_total_samples[t]=e.readUint16()},c.avllSampleGroupEntry.prototype.parse=function(e){this.layerNumber=e.readUint8(),this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()},c.avssSampleGroupEntry.prototype.parse=function(e){this.subSequenceIdentifier=e.readUint16(),this.layerNumber=e.readUint8();var t=e.readUint8();this.durationFlag=t>>7,this.avgRateFlag=t>>6&1,this.durationFlag&&(this.duration=e.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()),this.dependency=[];for(var i=e.readUint8(),n=0;n<i;n++){var r={};this.dependency.push(r),r.subSeqDirectionFlag=e.readUint8(),r.layerNumber=e.readUint8(),r.subSequenceIdentifier=e.readUint16()}},c.dtrtSampleGroupEntry.prototype.parse=function(e){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")},c.mvifSampleGroupEntry.prototype.parse=function(e){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")},c.prolSampleGroupEntry.prototype.parse=function(e){this.roll_distance=e.readInt16()},c["rap SampleGroupEntry"].prototype.parse=function(e){var t=e.readUint8();this.num_leading_samples_known=t>>7,this.num_leading_samples=127&t},c.rashSampleGroupEntry.prototype.parse=function(e){if(this.operation_point_count=e.readUint16(),this.description_length!==2+(1===this.operation_point_count?2:6*this.operation_point_count)+9)n.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=e.readUint8Array(this.description_length-2);else{if(1===this.operation_point_count)this.target_rate_share=e.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var t=0;t<this.operation_point_count;t++)this.available_bitrate[t]=e.readUint32(),this.target_rate_share[t]=e.readUint16()}this.maximum_bitrate=e.readUint32(),this.minimum_bitrate=e.readUint32(),this.discard_priority=e.readUint8()}},c.rollSampleGroupEntry.prototype.parse=function(e){this.roll_distance=e.readInt16()},c.SampleGroupEntry.prototype.parse=function(e){n.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=e.readUint8Array(this.description_length)},c.scifSampleGroupEntry.prototype.parse=function(e){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")},c.scnmSampleGroupEntry.prototype.parse=function(e){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")},c.stsaSampleGroupEntry.prototype.parse=function(e){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")},c.syncSampleGroupEntry.prototype.parse=function(e){var t=e.readUint8();this.NAL_unit_type=63&t},c.teleSampleGroupEntry.prototype.parse=function(e){var t=e.readUint8();this.level_independently_decodable=t>>7},c.tsasSampleGroupEntry.prototype.parse=function(e){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")},c.tsclSampleGroupEntry.prototype.parse=function(e){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")},c.viprSampleGroupEntry.prototype.parse=function(e){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")},c.sbgpBox.prototype.parse=function(e){this.parseFullHeader(e),this.grouping_type=e.readString(4),1===this.version?this.grouping_type_parameter=e.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var t=e.readUint32(),i=0;i<t;i++){var n={};this.entries.push(n),n.sample_count=e.readInt32(),n.group_description_index=e.readInt32()}},c.schmBox.prototype.parse=function(e){this.parseFullHeader(e),this.scheme_type=e.readString(4),this.scheme_version=e.readUint32(),1&this.flags&&(this.scheme_uri=e.readString(this.size-this.hdr_size-8))},c["sdp Box"].prototype.parse=function(e){this.sdptext=e.readString(this.size-this.hdr_size)},c.sdtpBox.prototype.parse=function(e){var t;this.parseFullHeader(e);var i=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var n=0;n<i;n++)t=e.readUint8(),this.is_leading[n]=t>>6,this.sample_depends_on[n]=t>>4&3,this.sample_is_depended_on[n]=t>>2&3,this.sample_has_redundancy[n]=3&t},c.sgpdBox.prototype.parse=function(e){this.parseFullHeader(e),this.grouping_type=e.readString(4),n.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),1===this.version?this.default_length=e.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=e.readUint32()),this.entries=[];for(var t=e.readUint32(),i=0;i<t;i++){var r;r=c[this.grouping_type+"SampleGroupEntry"]?new c[this.grouping_type+"SampleGroupEntry"](this.grouping_type):new c.SampleGroupEntry(this.grouping_type),this.entries.push(r),1===this.version&&0===this.default_length?r.description_length=e.readUint32():r.description_length=this.default_length,r.write===c.SampleGroupEntry.prototype.write&&(n.warn("BoxParser"," SampleEntry for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),r.data=e.readUint8Array(r.description_length),e.position-=r.description_length),r.parse(e)}},c.sidxBox.prototype.parse=function(e){this.parseFullHeader(e),this.reference_ID=e.readUint32(),this.timescale=e.readUint32(),0===this.version?(this.earliest_presentation_time=e.readUint32(),this.first_offset=e.readUint32()):(this.earliest_presentation_time=e.readUint64(),this.first_offset=e.readUint64()),e.readUint16(),this.references=[];for(var t=e.readUint16(),i=0;i<t;i++){var n={};this.references.push(n);var r=e.readUint32();n.reference_type=r>>31&1,n.referenced_size=2147483647&r,n.subsegment_duration=e.readUint32(),r=e.readUint32(),n.starts_with_SAP=r>>31&1,n.SAP_type=r>>28&7,n.SAP_delta_time=268435455&r}},c.SingleItemTypeReferenceBox=function(e,t,i,n){c.Box.call(this,e,t),this.hdr_size=i,this.start=n},c.SingleItemTypeReferenceBox.prototype=new c.Box,c.SingleItemTypeReferenceBox.prototype.parse=function(e){this.from_item_ID=e.readUint16();var t=e.readUint16();this.references=[];for(var i=0;i<t;i++)this.references[i]=e.readUint16()},c.SingleItemTypeReferenceBoxLarge=function(e,t,i,n){c.Box.call(this,e,t),this.hdr_size=i,this.start=n},c.SingleItemTypeReferenceBoxLarge.prototype=new c.Box,c.SingleItemTypeReferenceBoxLarge.prototype.parse=function(e){this.from_item_ID=e.readUint32();var t=e.readUint16();this.references=[];for(var i=0;i<t;i++)this.references[i]=e.readUint32()},c.ssixBox.prototype.parse=function(e){this.parseFullHeader(e),this.subsegments=[];for(var t=e.readUint32(),i=0;i<t;i++){var n={};this.subsegments.push(n),n.ranges=[];for(var r=e.readUint32(),s=0;s<r;s++){var o={};n.ranges.push(o),o.level=e.readUint8(),o.range_size=e.readUint24()}}},c.stcoBox.prototype.parse=function(e){var t;this.parseFullHeader(e),t=e.readUint32(),0===this.version&&(this.chunk_offsets=e.readUint32Array(t))},c.stdpBox.prototype.parse=function(e){this.parseFullHeader(e);var t=(this.size-this.hdr_size)/2;this.priority=[];for(var i=0;i<t;i++)this.priority[i]=e.readUint16()},c.striBox.prototype.parse=function(e){this.parseFullHeader(e),this.switch_group=e.readUint16(),this.alternate_group=e.readUint16(),this.sub_track_id=e.readUint32();var t=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var i=0;i<t;i++)this.attribute_list[i]=e.readUint32()},c.stscBox.prototype.parse=function(e){var t,i;if(this.parseFullHeader(e),t=e.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],0===this.version)for(i=0;i<t;i++)this.first_chunk.push(e.readUint32()),this.samples_per_chunk.push(e.readUint32()),this.sample_description_index.push(e.readUint32())},c.stsdBox=function(e){c.FullBox.call(this,"stsd",e),this.entries=[]},c.stsdBox.prototype=new c.FullBox,c.stsdBox.prototype.parse=function(e){var t,i,r,s;for(this.parseFullHeader(e),r=e.readUint32(),t=1;t<=r;t++){if(i=c.parseOneBox(e,!0,this.size-(e.getPosition()-this.start)),i.code!==c.OK)return;c[i.type+"SampleEntry"]?(s=new c[i.type+"SampleEntry"](i.size),s.hdr_size=i.hdr_size,s.start=i.start):(n.warn("BoxParser","Unknown sample entry type: "+i.type),s=new c.SampleEntry(i.type,i.size,i.hdr_size,i.start)),s.write===c.SampleEntry.prototype.write&&(n.warn("BoxParser",s.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),s.parseDataAndRewind(e)),s.parse(e),this.entries.push(s)}},c.stsgBox.prototype.parse=function(e){this.parseFullHeader(e),this.grouping_type=e.readUint32();var t=e.readUint16();this.group_description_index=[];for(var i=0;i<t;i++)this.group_description_index[i]=e.readUint32()},c.stshBox.prototype.parse=function(e){var t,i;if(this.parseFullHeader(e),t=e.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],0===this.version)for(i=0;i<t;i++)this.shadowed_sample_numbers.push(e.readUint32()),this.sync_sample_numbers.push(e.readUint32())},c.stssBox.prototype.parse=function(e){var t,i;if(this.parseFullHeader(e),i=e.readUint32(),0===this.version)for(this.sample_numbers=[],t=0;t<i;t++)this.sample_numbers.push(e.readUint32())},c.stszBox.prototype.parse=function(e){var t;if(this.parseFullHeader(e),this.sample_sizes=[],0===this.version)if(this.sample_size=e.readUint32(),this.sample_count=e.readUint32(),0===this.sample_size)this.sample_sizes=e.readUint32Array(this.sample_count);else for(t=0;t<this.sample_count;t++)this.sample_sizes[t]=this.sample_size},c.sttsBox.prototype.parse=function(e){var t,i,r;if(this.parseFullHeader(e),t=e.readUint32(),this.sample_counts=[],this.sample_deltas=[],0===this.version)for(i=0;i<t;i++)this.sample_counts.push(e.readUint32()),r=e.readInt32(),r<0&&(n.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),r=1),this.sample_deltas.push(r)},c.stviBox.prototype.parse=function(e){this.parseFullHeader(e);var t=e.readUint32();this.single_view_allowed=3&t,this.stereo_scheme=e.readUint32();var i,n,r=e.readUint32();this.stereo_indication_type=e.readString(r),this.boxes=[];while(e.getPosition()<this.start+this.size){if(i=c.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),i.code!==c.OK)return;n=i.box,this.boxes.push(n),this[n.type]=n}},c.stypBox.prototype.parse=function(e){c.ftypBox.prototype.parse.call(this,e)},c.stz2Box.prototype.parse=function(e){var t,i;if(this.parseFullHeader(e),this.sample_sizes=[],0===this.version)if(this.reserved=e.readUint24(),this.field_size=e.readUint8(),i=e.readUint32(),4===this.field_size)for(t=0;t<i;t+=2){var r=e.readUint8();this.sample_sizes[t]=r>>4&15,this.sample_sizes[t+1]=15&r}else if(8===this.field_size)for(t=0;t<i;t++)this.sample_sizes[t]=e.readUint8();else if(16===this.field_size)for(t=0;t<i;t++)this.sample_sizes[t]=e.readUint16();else n.error("BoxParser","Error in length field in stz2 box")},c.subsBox.prototype.parse=function(e){var t,i,n,r;for(this.parseFullHeader(e),n=e.readUint32(),this.entries=[],t=0;t<n;t++){var s={};if(this.entries[t]=s,s.sample_delta=e.readUint32(),s.subsamples=[],r=e.readUint16(),r>0)for(i=0;i<r;i++){var o={};s.subsamples.push(o),1==this.version?o.size=e.readUint32():o.size=e.readUint16(),o.priority=e.readUint8(),o.discardable=e.readUint8(),o.codec_specific_parameters=e.readUint32()}}},c.tfdtBox.prototype.parse=function(e){this.parseFullHeader(e),1==this.version?this.baseMediaDecodeTime=e.readUint64():this.baseMediaDecodeTime=e.readUint32()},c.tfhdBox.prototype.parse=function(e){var t=0;this.parseFullHeader(e),this.track_id=e.readUint32(),this.size-this.hdr_size>t&&this.flags&c.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=e.readUint64(),t+=8):this.base_data_offset=0,this.size-this.hdr_size>t&&this.flags&c.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=e.readUint32(),t+=4):this.default_sample_description_index=0,this.size-this.hdr_size>t&&this.flags&c.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=e.readUint32(),t+=4):this.default_sample_duration=0,this.size-this.hdr_size>t&&this.flags&c.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=e.readUint32(),t+=4):this.default_sample_size=0,this.size-this.hdr_size>t&&this.flags&c.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=e.readUint32(),t+=4):this.default_sample_flags=0},c.tfraBox.prototype.parse=function(e){this.parseFullHeader(e),this.track_ID=e.readUint32(),e.readUint24();var t=e.readUint8();this.length_size_of_traf_num=t>>4&3,this.length_size_of_trun_num=t>>2&3,this.length_size_of_sample_num=3&t,this.entries=[];for(var i=e.readUint32(),n=0;n<i;n++)1===this.version?(this.time=e.readUint64(),this.moof_offset=e.readUint64()):(this.time=e.readUint32(),this.moof_offset=e.readUint32()),this.traf_number=e["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=e["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=e["readUint"+8*(this.length_size_of_sample_num+1)]()},c.tkhdBox.prototype.parse=function(e){this.parseFullHeader(e),1==this.version?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint32()),e.readUint32Array(2),this.layer=e.readInt16(),this.alternate_group=e.readInt16(),this.volume=e.readInt16()>>8,e.readUint16(),this.matrix=e.readInt32Array(9),this.width=e.readUint32(),this.height=e.readUint32()},c.tmaxBox.prototype.parse=function(e){this.time=e.readUint32()},c.tminBox.prototype.parse=function(e){this.time=e.readUint32()},c.totlBox.prototype.parse=function(e){this.bytessent=e.readUint32()},c.tpayBox.prototype.parse=function(e){this.bytessent=e.readUint32()},c.tpylBox.prototype.parse=function(e){this.bytessent=e.readUint64()},c.trefBox.prototype.parse=function(e){var t,i;while(e.getPosition()<this.start+this.size){if(t=c.parseOneBox(e,!0,this.size-(e.getPosition()-this.start)),t.code!==c.OK)return;i=new c.TrackReferenceTypeBox(t.type,t.size,t.hdr_size,t.start),i.write===c.Box.prototype.write&&"mdat"!==i.type&&(n.warn("BoxParser",i.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),i.parseDataAndRewind(e)),i.parse(e),this.boxes.push(i)}},c.trepBox.prototype.parse=function(e){this.parseFullHeader(e),this.track_ID=e.readUint32(),this.boxes=[];while(e.getPosition()<this.start+this.size){if(ret=c.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),ret.code!==c.OK)return;box=ret.box,this.boxes.push(box)}},c.trexBox.prototype.parse=function(e){this.parseFullHeader(e),this.track_id=e.readUint32(),this.default_sample_description_index=e.readUint32(),this.default_sample_duration=e.readUint32(),this.default_sample_size=e.readUint32(),this.default_sample_flags=e.readUint32()},c.trpyBox.prototype.parse=function(e){this.bytessent=e.readUint64()},c.trunBox.prototype.parse=function(e){var t=0;if(this.parseFullHeader(e),this.sample_count=e.readUint32(),t+=4,this.size-this.hdr_size>t&&this.flags&c.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=e.readInt32(),t+=4):this.data_offset=0,this.size-this.hdr_size>t&&this.flags&c.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=e.readUint32(),t+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>t)for(var i=0;i<this.sample_count;i++)this.flags&c.TRUN_FLAGS_DURATION&&(this.sample_duration[i]=e.readUint32()),this.flags&c.TRUN_FLAGS_SIZE&&(this.sample_size[i]=e.readUint32()),this.flags&c.TRUN_FLAGS_FLAGS&&(this.sample_flags[i]=e.readUint32()),this.flags&c.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?this.sample_composition_time_offset[i]=e.readUint32():this.sample_composition_time_offset[i]=e.readInt32())},c.tselBox.prototype.parse=function(e){this.parseFullHeader(e),this.switch_group=e.readUint32();var t=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var i=0;i<t;i++)this.attribute_list[i]=e.readUint32()},c.txtCBox.prototype.parse=function(e){this.parseFullHeader(e),this.config=e.readCString()},c["url Box"].prototype.parse=function(e){this.parseFullHeader(e),1!==this.flags&&(this.location=e.readCString())},c["urn Box"].prototype.parse=function(e){this.parseFullHeader(e),this.name=e.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=e.readCString())},c.vmhdBox.prototype.parse=function(e){this.parseFullHeader(e),this.graphicsmode=e.readUint16(),this.opcolor=e.readUint16Array(3)},c.vttCBox.prototype.parse=function(e){this.text=e.readString(this.size-this.hdr_size)},c.Box.prototype.writeHeader=function(e,t){this.size+=8,this.size>o&&(this.size+=8),"uuid"===this.type&&(this.size+=16),n.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+e.getPosition()+(t||"")),this.size>o?e.writeUint32(1):(this.sizePosition=e.getPosition(),e.writeUint32(this.size)),e.writeString(this.type,null,4),"uuid"===this.type&&e.writeUint8Array(this.uuid),this.size>o&&e.writeUint64(this.size)},c.FullBox.prototype.writeHeader=function(e){this.size+=4,c.Box.prototype.writeHeader.call(this,e," v="+this.version+" f="+this.flags),e.writeUint8(this.version),e.writeUint24(this.flags)},c.Box.prototype.write=function(e){"mdat"===this.type?this.data&&(this.size=this.data.length,this.writeHeader(e),e.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(e),this.data&&e.writeUint8Array(this.data))},c.ContainerBox.prototype.write=function(e){this.size=0,this.writeHeader(e);for(var t=0;t<this.boxes.length;t++)this.boxes[t]&&(this.boxes[t].write(e),this.size+=this.boxes[t].size);n.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},c.TrackReferenceTypeBox.prototype.write=function(e){this.size=4*this.track_ids.length,this.writeHeader(e),e.writeUint32Array(this.track_ids)},c.avcCBox.prototype.write=function(e){var t;for(this.size=7,t=0;t<this.SPS.length;t++)this.size+=2+this.SPS[t].length;for(t=0;t<this.PPS.length;t++)this.size+=2+this.PPS[t].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8(this.AVCProfileIndication),e.writeUint8(this.profile_compatibility),e.writeUint8(this.AVCLevelIndication),e.writeUint8(this.lengthSizeMinusOne+252),e.writeUint8(this.SPS.length+224),t=0;t<this.SPS.length;t++)e.writeUint16(this.SPS[t].length),e.writeUint8Array(this.SPS[t]);for(e.writeUint8(this.PPS.length),t=0;t<this.PPS.length;t++)e.writeUint16(this.PPS[t].length),e.writeUint8Array(this.PPS[t]);this.ext&&e.writeUint8Array(this.ext)},c.co64Box.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),t=0;t<this.chunk_offsets.length;t++)e.writeUint64(this.chunk_offsets[t])},c.cslgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=20,this.writeHeader(e),e.writeInt32(this.compositionToDTSShift),e.writeInt32(this.leastDecodeToDisplayDelta),e.writeInt32(this.greatestDecodeToDisplayDelta),e.writeInt32(this.compositionStartTime),e.writeInt32(this.compositionEndTime)},c.cttsBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),t=0;t<this.sample_counts.length;t++)e.writeUint32(this.sample_counts[t]),1===this.version?e.writeInt32(this.sample_offsets[t]):e.writeUint32(this.sample_offsets[t])},c.drefBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++)this.entries[t].write(e),this.size+=this.entries[t].size;n.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},c.elngBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(e),e.writeString(this.extended_language)},c.elstBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(e),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++){var i=this.entries[t];e.writeUint32(i.segment_duration),e.writeInt32(i.media_time),e.writeInt16(i.media_rate_integer),e.writeInt16(i.media_rate_fraction)}},c.emsgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=16+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(e),e.writeCString(this.scheme_id_uri),e.writeCString(this.value),e.writeUint32(this.timescale),e.writeUint32(this.presentation_time_delta),e.writeUint32(this.event_duration),e.writeUint32(this.id),e.writeUint8Array(this.message_data)},c.ftypBox.prototype.write=function(e){this.size=8+4*this.compatible_brands.length,this.writeHeader(e),e.writeString(this.major_brand,null,4),e.writeUint32(this.minor_version);for(var t=0;t<this.compatible_brands.length;t++)e.writeString(this.compatible_brands[t],null,4)},c.hdlrBox.prototype.write=function(e){this.size=20+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(e),e.writeString(this.componentType,null,4),e.writeString(this.componentSubType,null,4),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeCString(this.name)},c.kindBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(e),e.writeCString(this.schemeURI),e.writeCString(this.value)},c.mdhdBox.prototype.write=function(e){this.size=20,this.flags=0,this.version=0,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint16(this.language),e.writeUint16(0)},c.mehdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.fragment_duration)},c.mfhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.sequence_number)},c.mvhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=96,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint32(this.rate),e.writeUint16(this.volume<<8),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32Array(this.matrix),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(this.next_track_id)},c.SampleEntry.prototype.writeHeader=function(e){this.size=8,c.Box.prototype.writeHeader.call(this,e),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint16(this.data_reference_index)},c.SampleEntry.prototype.writeFooter=function(e){for(var t=0;t<this.boxes.length;t++)this.boxes[t].write(e),this.size+=this.boxes[t].size;n.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},c.SampleEntry.prototype.write=function(e){this.writeHeader(e),e.writeUint8Array(this.data),this.size+=this.data.length,n.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},c.VisualSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=70,e.writeUint16(0),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.width),e.writeUint16(this.height),e.writeUint32(this.horizresolution),e.writeUint32(this.vertresolution),e.writeUint32(0),e.writeUint16(this.frame_count),e.writeString(this.compressorname,null,32),e.writeUint16(this.depth),e.writeInt16(-1),this.writeFooter(e)},c.AudioSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=8,e.writeUint16(this.version),e.writeUint16(this.revision),e.writeUint32(this.vendor),this.version?1==this.version&&(this.size+=28,e.writeUint16(this.channel_count),e.writeUint16(this.samplesize),e.writeInt16(this.compressionId),e.writeUint16(this.packetSize),e.writeUint32(this.samplerate<<16),e.writeUint32(this.samplesPerPacket),e.writeUint32(this.bytesPerPacket),e.writeUint32(this.bytesPerFrame),e.writeUint32(this.bytesPerSample)):(this.size+=12,e.writeUint16(this.channel_count),e.writeUint16(this.samplesize),e.writeUint16(0),e.writeUint16(0),e.writeUint32(this.samplerate<<16)),this.writeFooter(e)},c.SampleGroupEntry.prototype.write=function(e){e.writeUint8Array(this.data)},c.sbgpBox.prototype.write=function(e){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(e),e.writeString(this.grouping_type,null,4),e.writeUint32(this.grouping_type_parameter),e.writeUint32(this.entries.length);for(var t=0;t<this.entries.length;t++){var i=this.entries[t];e.writeInt32(i.sample_count),e.writeInt32(i.group_description_index)}},c.sgpdBox.prototype.write=function(e){var t,i;for(this.flags=0,this.size=12,t=0;t<this.entries.length;t++)i=this.entries[t],1===this.version&&(0===this.default_length&&(this.size+=4),this.size+=i.data.length);for(this.writeHeader(e),e.writeString(this.grouping_type,null,4),1===this.version&&e.writeUint32(this.default_length),this.version>=2&&e.writeUint32(this.default_sample_description_index),e.writeUint32(this.entries.length),t=0;t<this.entries.length;t++)i=this.entries[t],1===this.version&&0===this.default_length&&e.writeUint32(i.description_length),i.write(e)},c.sidxBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=20+12*this.references.length,this.writeHeader(e),e.writeUint32(this.reference_ID),e.writeUint32(this.timescale),e.writeUint32(this.earliest_presentation_time),e.writeUint32(this.first_offset),e.writeUint16(0),e.writeUint16(this.references.length);for(var t=0;t<this.references.length;t++){var i=this.references[t];e.writeUint32(i.reference_type<<31|i.referenced_size),e.writeUint32(i.subsegment_duration),e.writeUint32(i.starts_with_SAP<<31|i.SAP_type<<28|i.SAP_delta_time)}},c.stcoBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),e.writeUint32Array(this.chunk_offsets)},c.stscBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(e),e.writeUint32(this.first_chunk.length),t=0;t<this.first_chunk.length;t++)e.writeUint32(this.first_chunk[t]),e.writeUint32(this.samples_per_chunk[t]),e.writeUint32(this.sample_description_index[t])},c.stsdBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(e),e.writeUint32(this.entries.length),this.size+=4,t=0;t<this.entries.length;t++)this.entries[t].write(e),this.size+=this.entries[t].size;n.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},c.stshBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(e),e.writeUint32(this.shadowed_sample_numbers.length),t=0;t<this.shadowed_sample_numbers.length;t++)e.writeUint32(this.shadowed_sample_numbers[t]),e.writeUint32(this.sync_sample_numbers[t])},c.stssBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(e),e.writeUint32(this.sample_numbers.length),e.writeUint32Array(this.sample_numbers)},c.stszBox.prototype.write=function(e){var t,i=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0){t=0;while(t+1<this.sample_sizes.length){if(this.sample_sizes[t+1]!==this.sample_sizes[0]){i=!1;break}t++}}else i=!1;this.size=8,i||(this.size+=4*this.sample_sizes.length),this.writeHeader(e),i?e.writeUint32(this.sample_sizes[0]):e.writeUint32(0),e.writeUint32(this.sample_sizes.length),i||e.writeUint32Array(this.sample_sizes)},c.sttsBox.prototype.write=function(e){var t;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),t=0;t<this.sample_counts.length;t++)e.writeUint32(this.sample_counts[t]),e.writeUint32(this.sample_deltas[t])},c.tfdtBox.prototype.write=function(e){this.flags=0,this.size=4,1===this.version&&(this.size+=4),this.writeHeader(e),1===this.version?e.writeUint64(this.baseMediaDecodeTime):e.writeUint32(this.baseMediaDecodeTime)},c.tfhdBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&c.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&c.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&c.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&c.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&c.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(e),e.writeUint32(this.track_id),this.flags&c.TFHD_FLAG_BASE_DATA_OFFSET&&e.writeUint64(this.base_data_offset),this.flags&c.TFHD_FLAG_SAMPLE_DESC&&e.writeUint32(this.default_sample_description_index),this.flags&c.TFHD_FLAG_SAMPLE_DUR&&e.writeUint32(this.default_sample_duration),this.flags&c.TFHD_FLAG_SAMPLE_SIZE&&e.writeUint32(this.default_sample_size),this.flags&c.TFHD_FLAG_SAMPLE_FLAGS&&e.writeUint32(this.default_sample_flags)},c.tkhdBox.prototype.write=function(e){this.version=0,this.size=80,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.track_id),e.writeUint32(0),e.writeUint32(this.duration),e.writeUint32(0),e.writeUint32(0),e.writeInt16(this.layer),e.writeInt16(this.alternate_group),e.writeInt16(this.volume<<8),e.writeUint16(0),e.writeInt32Array(this.matrix),e.writeUint32(this.width),e.writeUint32(this.height)},c.trexBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=20,this.writeHeader(e),e.writeUint32(this.track_id),e.writeUint32(this.default_sample_description_index),e.writeUint32(this.default_sample_duration),e.writeUint32(this.default_sample_size),e.writeUint32(this.default_sample_flags)},c.trunBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&c.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&c.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&c.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&c.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&c.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&c.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(e),e.writeUint32(this.sample_count),this.flags&c.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=e.getPosition(),e.writeInt32(this.data_offset)),this.flags&c.TRUN_FLAGS_FIRST_FLAG&&e.writeUint32(this.first_sample_flags);for(var t=0;t<this.sample_count;t++)this.flags&c.TRUN_FLAGS_DURATION&&e.writeUint32(this.sample_duration[t]),this.flags&c.TRUN_FLAGS_SIZE&&e.writeUint32(this.sample_size[t]),this.flags&c.TRUN_FLAGS_FLAGS&&e.writeUint32(this.sample_flags[t]),this.flags&c.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?e.writeUint32(this.sample_composition_time_offset[t]):e.writeInt32(this.sample_composition_time_offset[t]))},c["url Box"].prototype.write=function(e){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(e),this.location&&e.writeCString(this.location)},c["urn Box"].prototype.write=function(e){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(e),e.writeCString(this.name),this.location&&e.writeCString(this.location)},c.vmhdBox.prototype.write=function(e){this.version=0,this.flags=1,this.size=8,this.writeHeader(e),e.writeUint16(this.graphicsmode),e.writeUint16Array(this.opcolor)},c.cttsBox.prototype.unpack=function(e){var t,i,n;for(n=0,t=0;t<this.sample_counts.length;t++)for(i=0;i<this.sample_counts[t];i++)e[n].pts=e[n].dts+this.sample_offsets[t],n++},c.sttsBox.prototype.unpack=function(e){var t,i,n;for(n=0,t=0;t<this.sample_counts.length;t++)for(i=0;i<this.sample_counts[t];i++)e[n].dts=0===n?0:e[n-1].dts+this.sample_deltas[t],n++},c.stcoBox.prototype.unpack=function(e){var t;for(t=0;t<this.chunk_offsets.length;t++)e[t].offset=this.chunk_offsets[t]},c.stscBox.prototype.unpack=function(e){var t,i,n,r,s;for(r=0,s=0,t=0;t<this.first_chunk.length;t++)for(i=0;i<(t+1<this.first_chunk.length?this.first_chunk[t+1]:1/0);i++)for(s++,n=0;n<this.samples_per_chunk[t];n++){if(!e[r])return;e[r].description_index=this.sample_description_index[t],e[r].chunk_index=s,r++}},c.stszBox.prototype.unpack=function(e){var t;for(t=0;t<this.sample_sizes.length;t++)e[t].size=this.sample_sizes[t]};var f=function(){};f.prototype.parseSample=function(e){var t,i,n=new r(e.buffer);t=[];while(!n.isEos())i=c.parseOneBox(n,!1),i.code===c.OK&&"vttc"===i.box.type&&t.push(i.box);return t},f.prototype.getText=function(e,t,i){function n(e,t,i){return i=i||"0",e+="",e.length>=t?e:new Array(t-e.length+1).join(i)+e}function r(e){var t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),r=Math.floor(e-3600*t-60*i),s=Math.floor(1e3*(e-3600*t-60*i-r));return n(t,2)+":"+n(i,2)+":"+n(r,2)+"."+n(s,3)}for(var s=this.parseSample(i),o="",a=0;a<s.length;a++){var u=s[a];o+=r(e)+" --\x3e "+r(t)+"\r\n",o+=u.payl.text}return o};var h=function(){};h.prototype.parseSample=function(e){var t,i={};i.resources=[];var n=new r(e.data.buffer);if(e.subsamples&&0!==e.subsamples.length){if(i.documentString=n.readString(e.subsamples[0].size),e.subsamples.length>1)for(t=1;t<e.subsamples.length;t++)i.resources[t]=n.readUint8Array(e.subsamples[t].size)}else i.documentString=n.readString(e.data.length);return i.document=(new DOMParser).parseFromString(i.documentString,"application/xml"),i};var l=function(){};l.prototype.parseSample=function(e){var t,i=new r(e.data.buffer);return t=i.readString(e.data.length),t},l.prototype.parseConfig=function(e){var t,i=new r(e.buffer);return i.readUint32(),t=i.readCString(),t};var d=function(e){this.stream=e,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1};d.prototype.parse=function(){var e,t,i=!1;if(!this.restoreParsePosition||this.restoreParsePosition())while(1){if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}if(this.saveParsePosition&&this.saveParsePosition(),e=c.parseOneBox(this.stream,i),e.code===c.ERR_NOT_ENOUGH_DATA){if(this.processIncompleteBox){if(this.processIncompleteBox(e))continue;return}return}switch(t=e.box,this.boxes.push(t),t.type){case"mdat":this.mdats.push(t);break;case"moof":this.moofs.push(t);break;case"moov":this.moovStartFound=!0,0===this.mdats.length&&(this.isProgressive=!0);default:void 0!==this[t.type]&&n.warn("ISOFile","Duplicate Box of type: "+t.type+", overriding previous occurrence"),this[t.type]=t;break}this.updateUsedBytes&&this.updateUsedBytes(t,e)}},d.prototype.getBox=function(e){var t=this.getBoxes(e,!0);return t.length?t[0]:null},d.prototype.getBoxes=function(e,t){var i=[];return d._sweep.call(this,e,i,t),i},d._sweep=function(e,t,i){for(var n in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&i)return;d._sweep.call(this.boxes[n],e,t,i)}},t.ISOFile=d,d.prototype.lastBoxStartPosition=0,d.prototype.parsingMdat=null,d.prototype.nextParsePosition=0,d.prototype.discardMdatData=!1,d.prototype.processIncompleteBox=function(e){var t,i,n;return"mdat"===e.type?(t=new c[e.type+"Box"](e.size),this.parsingMdat=t,this.boxes.push(t),this.mdats.push(t),t.start=e.start,t.hdr_size=e.hdr_size,this.stream.addUsedBytes(t.hdr_size),this.lastBoxStartPosition=t.start+t.size,n=this.stream.seek(t.start+t.size,!1,this.discardMdatData),n?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=t.start+t.size,!1)):("moov"===e.type&&(this.moovStartFound=!0,0===this.mdats.length&&(this.isProgressive=!0)),i=!!this.stream.mergeNextBuffer&&this.stream.mergeNextBuffer(),i?(this.nextParsePosition=this.stream.getEndPosition(),!0):(e.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+e.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},d.prototype.hasIncompleteMdat=function(){return null!==this.parsingMdat},d.prototype.processIncompleteMdat=function(){var e,t;return e=this.parsingMdat,t=this.stream.seek(e.start+e.size,!1,this.discardMdatData),t?(n.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},d.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},d.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},d.prototype.updateUsedBytes=function(e,t){this.stream.addUsedBytes&&("mdat"===e.type?(this.stream.addUsedBytes(e.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(e.size-e.hdr_size)):this.stream.addUsedBytes(e.size))},d.prototype.add=c.Box.prototype.add,d.prototype.init=function(){var e=this.add("moov");return e.add("mvhd").set("timescale",600).set("rate",1).set("creation_time",0).set("modification_time",0).set("duration",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("next_track_id",1),e.add("mvex"),this},d.prototype.addTrack=function(e){this.moov||this.init();var t=e||{};t.width=t.width||320,t.height=t.height||320,t.id=t.id||this.moov.mvhd.next_track_id,t.type=t.type||"avc1";var i=this.moov.add("trak");this.moov.mvhd.next_track_id=t.id+1,i.add("tkhd").set("creation_time",0).set("modification_time",0).set("track_id",t.id).set("duration",0).set("layer",0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",t.width).set("height",t.height);var n=i.add("mdia");n.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",t.timescale||1).set("duration",0).set("language",t.language||0),n.add("hdlr").set("handler",t.hdlr||"vide").set("name",t.name||"Track created with MP4Box.js"),n.add("elng").set("extended_language",t.language||"fr-FR");for(var r=n.add("minf"),s=new c[t.type+"SampleEntry"],o="",a=0;a<c.sampleEntryCodes.length;a++){var u=c.sampleEntryCodes[a];if(u.types.indexOf(t.type)>-1){o=u.prefix;break}}switch(o){case"Visual":r.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),s.set("width",t.width).set("height",t.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",t.type+" Compressor").set("depth",24),s.add("avcC").set("SPS",[]).set("PPS",[]).set("configurationVersion",0).set("AVCProfileIndication",0).set("profile_compatibility",0).set("AVCLevelIndication",0).set("lengthSizeMinusOne",0);break;case"Audio":r.add("smhd");break;case"Hint":r.add("hmhd");break;case"Subtitle":r.add("sthd");break;case"Metadata":r.add("nmhd");break;case"System":r.add("nmhd");break;default:r.add("nmhd");break}r.add("dinf").add("dref").addEntry((new c["url Box"]).set("flags",1));var f=n.add("stbl");return f.add("stsd").addEntry(s),f.add("stts").set("sample_counts",[]).set("sample_deltas",[]),f.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),this.moov.mvex.add("trex").set("track_id",t.id).set("default_sample_description_index",t.default_sample_description_index||0).set("default_sample_duration",t.default_sample_duration||0).set("default_sample_size",t.default_sample_size||0).set("default_sample_flags",t.default_sample_flags||0),i},d.prototype.getBuffer=function(){var e=new s;return e.endianness=s.BIG_ENDIAN,this.write(e),e.buffer},d.prototype.addSample=function(e,t,i){},d.prototype.lastMoofIndex=0,d.prototype.samplesDataSize=0,d.prototype.resetTables=function(){var e,t,i,n,r,s,o,a;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,e=0;e<this.moov.traks.length;e++){t=this.moov.traks[e],t.tkhd.duration=0,t.mdia.mdhd.duration=0,i=t.mdia.minf.stbl.stco||t.mdia.minf.stbl.co64,i.chunk_offsets=[],n=t.mdia.minf.stbl.stsc,n.first_chunk=[],n.samples_per_chunk=[],n.sample_description_index=[],r=t.mdia.minf.stbl.stsz||t.mdia.minf.stbl.stz2,r.sample_sizes=[],s=t.mdia.minf.stbl.stts,s.sample_counts=[],s.sample_deltas=[],o=t.mdia.minf.stbl.ctts,o&&(o.sample_counts=[],o.sample_offsets=[]),a=t.mdia.minf.stbl.stss;var u=t.mdia.minf.stbl.boxes.indexOf(a);-1!=u&&(t.mdia.minf.stbl.boxes[u]=null)}},d.initSampleGroups=function(e,t,i,n,r){var s,o,a,u;function c(e,t,i){this.grouping_type=e,this.grouping_type_parameter=t,this.sbgp=i,this.last_sample_in_run=-1,this.entry_index=-1}for(t&&(t.sample_groups_info=[]),e.sample_groups_info||(e.sample_groups_info=[]),o=0;o<i.length;o++){for(u=i[o].grouping_type+"/"+i[o].grouping_type_parameter,a=new c(i[o].grouping_type,i[o].grouping_type_parameter,i[o]),t&&(t.sample_groups_info[u]=a),e.sample_groups_info[u]||(e.sample_groups_info[u]=a),s=0;s<n.length;s++)n[s].grouping_type===i[o].grouping_type&&(a.description=n[s],a.description.used=!0);if(r)for(s=0;s<r.length;s++)r[s].grouping_type===i[o].grouping_type&&(a.fragment_description=r[s],a.fragment_description.used=!0,a.is_fragment=!0)}if(t){if(r)for(o=0;o<r.length;o++)!r[o].used&&r[o].version>=2&&(u=r[o].grouping_type+"/0",a=new c(r[o].grouping_type,0),a.is_fragment=!0,t.sample_groups_info[u]||(t.sample_groups_info[u]=a))}else for(o=0;o<n.length;o++)!n[o].used&&n[o].version>=2&&(u=n[o].grouping_type+"/0",a=new c(n[o].grouping_type,0),e.sample_groups_info[u]||(e.sample_groups_info[u]=a))},d.setSampleGroupProperties=function(e,t,i,n){var r,s;for(r in t.sample_groups=[],n){var o;if(t.sample_groups[r]={},t.sample_groups[r].grouping_type=n[r].grouping_type,t.sample_groups[r].grouping_type_parameter=n[r].grouping_type_parameter,i>=n[r].last_sample_in_run&&(n[r].last_sample_in_run<0&&(n[r].last_sample_in_run=0),n[r].entry_index++,n[r].entry_index<=n[r].sbgp.entries.length-1&&(n[r].last_sample_in_run+=n[r].sbgp.entries[n[r].entry_index].sample_count)),n[r].entry_index<=n[r].sbgp.entries.length-1?t.sample_groups[r].group_description_index=n[r].sbgp.entries[n[r].entry_index].group_description_index:t.sample_groups[r].group_description_index=-1,0!==t.sample_groups[r].group_description_index)o=n[r].fragment_description?n[r].fragment_description:n[r].description,t.sample_groups[r].group_description_index>0?(s=t.sample_groups[r].group_description_index>65535?(t.sample_groups[r].group_description_index>>16)-1:t.sample_groups[r].group_description_index-1,o&&s>=0&&(t.sample_groups[r].description=o.entries[s])):o&&o.version>=2&&o.default_group_description_index>0&&(t.sample_groups[r].description=o.entries[o.default_group_description_index-1])}},d.process_sdtp=function(e,t,i){t&&(e?(t.is_leading=e.is_leading[i],t.depends_on=e.sample_depends_on[i],t.is_depended_on=e.sample_is_depended_on[i],t.has_redundancy=e.sample_has_redundancy[i]):(t.is_leading=0,t.depends_on=0,t.is_depended_on=0,t.has_redundancy=0))},d.prototype.buildSampleLists=function(){var e,t,i,n,r,s,o,a,u,c,f,h,l,p,m,b,v,g,y,_,w,S,E,x,k,A;for(e=0;e<this.moov.traks.length;e++)if(i=this.moov.traks[e],i.samples=[],i.samples_duration=0,i.samples_size=0,n=i.mdia.minf.stbl.stco||i.mdia.minf.stbl.co64,r=i.mdia.minf.stbl.stsc,s=i.mdia.minf.stbl.stsz||i.mdia.minf.stbl.stz2,o=i.mdia.minf.stbl.stts,a=i.mdia.minf.stbl.ctts,u=i.mdia.minf.stbl.stss,c=i.mdia.minf.stbl.stsd,f=i.mdia.minf.stbl.subs,p=i.mdia.minf.stbl.stdp,h=i.mdia.minf.stbl.sbgps,l=i.mdia.minf.stbl.sgpds,_=-1,w=-1,S=-1,E=-1,x=0,k=0,A=0,d.initSampleGroups(i,null,h,l),"undefined"!==typeof s){for(t=0;t<s.sample_sizes.length;t++){var T={};T.number=t,T.track_id=i.tkhd.track_id,T.timescale=i.mdia.mdhd.timescale,T.alreadyRead=0,i.samples[t]=T,T.size=s.sample_sizes[t],i.samples_size+=T.size,0===t?(b=1,m=0,T.chunk_index=b,T.chunk_run_index=m,y=r.samples_per_chunk[m],g=0,v=m+1<r.first_chunk.length?r.first_chunk[m+1]-1:1/0):t<y?(T.chunk_index=b,T.chunk_run_index=m):(b++,T.chunk_index=b,g=0,b<=v||(m++,v=m+1<r.first_chunk.length?r.first_chunk[m+1]-1:1/0),T.chunk_run_index=m,y+=r.samples_per_chunk[m]),T.description_index=r.sample_description_index[T.chunk_run_index]-1,T.description=c.entries[T.description_index],T.offset=n.chunk_offsets[T.chunk_index-1]+g,g+=T.size,t>_&&(w++,_<0&&(_=0),_+=o.sample_counts[w]),t>0?(i.samples[t-1].duration=o.sample_deltas[w],i.samples_duration+=i.samples[t-1].duration,T.dts=i.samples[t-1].dts+i.samples[t-1].duration):T.dts=0,a?(t>=S&&(E++,S<0&&(S=0),S+=a.sample_counts[E]),T.cts=i.samples[t].dts+a.sample_offsets[E]):T.cts=T.dts,u?t==u.sample_numbers[x]-1?(T.is_sync=!0,x++):T.is_sync=!1:T.is_sync=!0,d.process_sdtp(i.mdia.minf.stbl.sdtp,T,T.number),T.degradation_priority=p?p.priority[t]:0,f&&f.entries[k].sample_delta+A==t&&(T.subsamples=f.entries[k].subsamples,A+=f.entries[k].sample_delta),(h.length>0||l.length>0)&&d.setSampleGroupProperties(i,T,t,i.sample_groups_info)}t>0&&(i.samples[t-1].duration=Math.max(i.mdia.mdhd.duration-i.samples[t-1].dts,0),i.samples_duration+=i.samples[t-1].duration)}},d.prototype.updateSampleLists=function(){var e,t,i,n,r,s,o,a,u,f,h,l,p,m,b;if(void 0!==this.moov)while(this.lastMoofIndex<this.moofs.length)if(u=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,"moof"==u.type)for(f=u,e=0;e<f.trafs.length;e++){for(h=f.trafs[e],l=this.getTrackById(h.tfhd.track_id),p=this.getTrexById(h.tfhd.track_id),n=h.tfhd.flags&c.TFHD_FLAG_SAMPLE_DESC?h.tfhd.default_sample_description_index:p?p.default_sample_description_index:1,r=h.tfhd.flags&c.TFHD_FLAG_SAMPLE_DUR?h.tfhd.default_sample_duration:p?p.default_sample_duration:0,s=h.tfhd.flags&c.TFHD_FLAG_SAMPLE_SIZE?h.tfhd.default_sample_size:p?p.default_sample_size:0,o=h.tfhd.flags&c.TFHD_FLAG_SAMPLE_FLAGS?h.tfhd.default_sample_flags:p?p.default_sample_flags:0,h.sample_number=0,h.sbgps.length>0&&d.initSampleGroups(l,h,h.sbgps,l.mdia.minf.stbl.sgpds,h.sgpds),t=0;t<h.truns.length;t++){var v=h.truns[t];for(i=0;i<v.sample_count;i++){m={},m.number_in_traf=h.sample_number,h.sample_number++,m.number=l.samples.length,h.first_sample_index=l.samples.length,l.samples.push(m),m.track_id=l.tkhd.track_id,m.timescale=l.mdia.mdhd.timescale,m.description_index=n-1,m.description=l.mdia.minf.stbl.stsd.entries[m.description_index],m.size=s,v.flags&c.TRUN_FLAGS_SIZE&&(m.size=v.sample_size[i]),l.samples_size+=m.size,m.duration=r,v.flags&c.TRUN_FLAGS_DURATION&&(m.duration=v.sample_duration[i]),l.samples_duration+=m.duration,l.first_traf_merged||i>0?m.dts=l.samples[l.samples.length-2].dts+l.samples[l.samples.length-2].duration:(h.tfdt?m.dts=h.tfdt.baseMediaDecodeTime:m.dts=0,l.first_traf_merged=!0),m.cts=m.dts,v.flags&c.TRUN_FLAGS_CTS_OFFSET&&(m.cts=m.dts+v.sample_composition_time_offset[i]),b=o,v.flags&c.TRUN_FLAGS_FLAGS?b=v.sample_flags[i]:0===i&&v.flags&c.TRUN_FLAGS_FIRST_FLAG&&(b=v.first_sample_flags),m.is_sync=!(b>>16&1),m.is_leading=b>>26&3,m.depends_on=b>>24&3,m.is_depended_on=b>>22&3,m.has_redundancy=b>>20&3,m.degradation_priority=65535&b,d.process_sdtp(h.sdtp,m,m.number_in_traf);var g=!!(h.tfhd.flags&c.TFHD_FLAG_BASE_DATA_OFFSET),y=!!(h.tfhd.flags&c.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),_=!!(v.flags&c.TRUN_FLAGS_DATA_OFFSET),w=0;w=g?h.tfhd.base_data_offset:y?f.start:0===t?f.start:a,m.offset=0===t&&0===i?_?w+v.data_offset:w:a,a=m.offset+m.size,(h.sbgps.length>0||h.sgpds.length>0||l.mdia.minf.stbl.sbgps.length>0||l.mdia.minf.stbl.sgpds.length>0)&&d.setSampleGroupProperties(l,m,m.number_in_traf,h.sample_groups_info)}}if(h.subs){l.has_fragment_subsamples=!0;var S=h.first_sample_index;for(t=0;t<h.subs.entries.length;t++)S+=h.subs.entries[t].sample_delta,m=l.samples[S-1],m.subsamples=h.subs.entries[t].subsamples}}},d.prototype.getSample=function(e,t){var i,r=e.samples[t];if(!this.moov)return null;if(r.data){if(r.alreadyRead==r.size)return r}else r.data=new Uint8Array(r.size),r.alreadyRead=0,this.samplesDataSize+=r.size,n.debug("ISOFile","Allocating sample #"+t+" on track #"+e.tkhd.track_id+" of size "+r.size+" (total: "+this.samplesDataSize+")");var o=this.stream.findPosition(!0,r.offset+r.alreadyRead,!1);if(o>-1){i=this.stream.buffers[o];var a=i.byteLength-(r.offset+r.alreadyRead-i.fileStart);return r.size-r.alreadyRead<=a?(n.debug("ISOFile","Getting sample #"+t+" data (alreadyRead: "+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-i.fileStart)+" read size: "+(r.size-r.alreadyRead)+" full size: "+r.size+")"),s.memcpy(r.data.buffer,r.alreadyRead,i,r.offset+r.alreadyRead-i.fileStart,r.size-r.alreadyRead),i.usedBytes+=r.size-r.alreadyRead,this.stream.logBufferLevel(),r.alreadyRead=r.size,r):(n.debug("ISOFile","Getting sample #"+t+" partial data (alreadyRead: "+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-i.fileStart)+" read size: "+a+" full size: "+r.size+")"),s.memcpy(r.data.buffer,r.alreadyRead,i,r.offset+r.alreadyRead-i.fileStart,a),r.alreadyRead+=a,i.usedBytes+=a,this.stream.logBufferLevel(),null)}return null},d.prototype.releaseSample=function(e,t){var i=e.samples[t];return i.data?(this.samplesDataSize-=i.size,i.data=null,i.alreadyRead=0,i.size):0},d.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},d.prototype.getCodecs=function(){var e,t="";for(e=0;e<this.moov.traks.length;e++){var i=this.moov.traks[e];e>0&&(t+=","),t+=i.mdia.minf.stbl.stsd.entries[0].getCodec()}return t},d.prototype.getTrexById=function(e){var t;if(!this.moov||!this.moov.mvex)return null;for(t=0;t<this.moov.mvex.trexs.length;t++){var i=this.moov.mvex.trexs[t];if(i.track_id==e)return i}return null},d.prototype.getTrackById=function(e){if(void 0===this.moov)return null;for(var t=0;t<this.moov.traks.length;t++){var i=this.moov.traks[t];if(i.tkhd.track_id==e)return i}return null},d.prototype.items=[],d.prototype.itemsDataSize=0,d.prototype.flattenItemInfo=function(){var e,t,i,r=this.items,s=this.meta;if(null!==s&&void 0!==s&&void 0!==s.hdlr&&void 0!==s.iinf){for(e=0;e<s.iinf.item_infos.length;e++)i={},i.id=s.iinf.item_infos[e].item_ID,r[i.id]=i,i.ref_to=[],i.name=s.iinf.item_infos[e].item_name,s.iinf.item_infos[e].protection_index>0&&(i.protection=s.ipro.protections[s.iinf.item_infos[e].protection_index-1]),s.iinf.item_infos[e].item_type?i.type=s.iinf.item_infos[e].item_type:i.type="mime",i.content_type=s.iinf.item_infos[e].content_type,i.content_encoding=s.iinf.item_infos[e].content_encoding;if(s.iloc)for(e=0;e<s.iloc.items.length;e++){var o=s.iloc.items[e];if(i=r[o.item_ID],0!==o.data_reference_index&&(n.warn("Item storage with reference to other files: not supported"),i.source=s.dinf.boxes[o.data_reference_index-1]),void 0!==o.construction_method)switch(n.warn("Item storage with construction_method : not supported"),o.construction_method){case 0:break;case 1:break;case 2:break}else for(i.extents=[],i.size=0,t=0;t<o.extents.length;t++)i.extents[t]={},i.extents[t].offset=o.extents[t].extent_offset+o.base_offset,i.extents[t].length=o.extents[t].extent_length,i.extents[t].alreadyRead=0,i.size+=i.extents[t].length}if(s.pitm&&(r[s.pitm.item_id].primary=!0),s.iref)for(e=0;e<s.iref.references.length;e++){var a=s.iref.references[e];for(t=0;t<a.references.length;t++)r[a.from_item_ID].ref_to.push({type:a.type,id:a.references[t]})}}},d.prototype.getItem=function(e){var t,i;if(!this.meta)return null;if(i=this.items[e],!i.data&&i.size)i.data=new Uint8Array(i.size),i.alreadyRead=0,this.itemsDataSize+=i.size,n.debug("ISOFile","Allocating item #"+e+" of size "+i.size+" (total: "+this.itemsDataSize+")");else if(i.alreadyRead===i.size)return i;for(var r=0;r<i.extents.length;r++){var o=i.extents[r];if(o.alreadyRead!==o.length){var a=this.stream.findPosition(!0,o.offset+o.alreadyRead,!1);if(!(a>-1))return null;t=this.stream.buffers[a];var u=t.byteLength-(o.offset+o.alreadyRead-t.fileStart);if(!(o.length-o.alreadyRead<=u))return n.debug("ISOFile","Getting item #"+e+" extent #"+r+" partial data (alreadyRead: "+o.alreadyRead+" offset: "+(o.offset+o.alreadyRead-t.fileStart)+" read size: "+u+" full extent size: "+o.length+" full item size: "+i.size+")"),s.memcpy(i.data.buffer,i.alreadyRead,t,o.offset+o.alreadyRead-t.fileStart,u),o.alreadyRead+=u,i.alreadyRead+=u,t.usedBytes+=u,this.stream.logBufferLevel(),null;n.debug("ISOFile","Getting item #"+e+" extent #"+r+" data (alreadyRead: "+o.alreadyRead+" offset: "+(o.offset+o.alreadyRead-t.fileStart)+" read size: "+(o.length-o.alreadyRead)+" full extent size: "+o.length+" full item size: "+i.size+")"),s.memcpy(i.data.buffer,i.alreadyRead,t,o.offset+o.alreadyRead-t.fileStart,o.length-o.alreadyRead),t.usedBytes+=o.length-o.alreadyRead,this.stream.logBufferLevel(),o.alreadyRead=o.length,i.alreadyRead+=o.length}}return i.alreadyRead===i.size?i:null},d.prototype.releaseItem=function(e){var t=this.items[e];if(t.data){this.itemsDataSize-=t.size,t.data=null,t.alreadyRead=0;for(var i=0;i<t.extents.length;i++){var n=t.extents[i];n.alreadyRead=0}return t.size}return 0},d.prototype.processItems=function(e){for(var t in this.items){var i=this.items[t];this.getItem(i.id),e&&!i.sent&&(e(i),i.sent=!0,i.data=null)}},d.prototype.hasItem=function(e){for(var t in this.items){var i=this.items[t];if(i.name===e)return i.id}return-1},d.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.componentSubType:null},d.prototype.getPrimaryItem=function(){return this.meta&&this.meta.pitm?this.getItem(this.meta.pitm.item_id):null},d.prototype.write=function(e){for(var t=0;t<this.boxes.length;t++)this.boxes[t].write(e)},d.writeInitializationSegment=function(e,t,i,r){var o;n.debug("ISOFile","Generating initialization segment");var a=new s;a.endianness=s.BIG_ENDIAN,e.write(a);var u=t.add("mvex");for(i&&u.add("mehd").set("fragment_duration",i),o=0;o<t.traks.length;o++)u.add("trex").set("track_id",t.traks[o].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",r).set("default_sample_size",0).set("default_sample_flags",65536);return t.write(a),a.buffer};var p=function(e){this.inputStream=new a,this.keepMdatData=void 0===e||e,this.inputIsoFile=new d(this.inputStream),this.inputIsoFile.discardMdatData=!this.keepMdatData,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1};p.prototype.setSegmentOptions=function(e,t,i){var n=this.inputIsoFile.getTrackById(e);if(n){var r={};this.fragmentedTracks.push(r),r.id=e,r.user=t,r.trak=n,n.nextSample=0,r.segmentStream=null,r.nb_samples=1e3,r.rapAlignement=!0,i&&(i.nbSamples&&(r.nb_samples=i.nbSamples),i.rapAlignement&&(r.rapAlignement=i.rapAlignement))}},p.prototype.unsetSegmentOptions=function(e){for(var t=-1,i=0;i<this.fragmentedTracks.length;i++){var n=this.fragmentedTracks[i];n.id==e&&(t=i)}t>-1&&this.fragmentedTracks.splice(t,1)},p.prototype.setExtractionOptions=function(e,t,i){var n=this.inputIsoFile.getTrackById(e);if(n){var r={};this.extractedTracks.push(r),r.id=e,r.user=t,r.trak=n,n.nextSample=0,r.nb_samples=1e3,r.samples=[],i&&i.nbSamples&&(r.nb_samples=i.nbSamples)}},p.prototype.unsetExtractionOptions=function(e){for(var t=-1,i=0;i<this.extractedTracks.length;i++){var n=this.extractedTracks[i];n.id==e&&(t=i)}t>-1&&this.extractedTracks.splice(t,1)},p.prototype.createSingleSampleMoof=function(e){var t=new c.moofBox;t.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var i=t.add("traf");return i.add("tfhd").set("track_id",e.track_id).set("flags",c.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),i.add("tfdt").set("baseMediaDecodeTime",e.dts),i.add("trun").set("flags",c.TRUN_FLAGS_DATA_OFFSET|c.TRUN_FLAGS_DURATION|c.TRUN_FLAGS_SIZE|c.TRUN_FLAGS_FLAGS|c.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[e.duration]).set("sample_size",[e.size]).set("sample_flags",[0]).set("sample_composition_time_offset",[e.cts-e.dts]),t},p.prototype.createFragment=function(e,t,i,r){var o=this.inputIsoFile.getTrackById(t),a=this.inputIsoFile.getSample(o,i);if(null==a)return a=o.samples[i],this.nextSeekPosition?this.nextSeekPosition=Math.min(a.offset+a.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=o.samples[i].offset+a.alreadyRead,null;var u=r||new s;u.endianness=s.BIG_ENDIAN;var f=this.createSingleSampleMoof(a);f.write(u),f.trafs[0].truns[0].data_offset=f.size+8,n.debug("MP4Box","Adjusting data_offset with new value "+f.trafs[0].truns[0].data_offset),u.adjustUint32(f.trafs[0].truns[0].data_offset_position,f.trafs[0].truns[0].data_offset);var h=new c.mdatBox;return h.data=a.data,h.write(u),u},p.prototype.processSamples=function(){var e,t;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&null!==this.onSegment)for(e=0;e<this.fragmentedTracks.length;e++){var i=this.fragmentedTracks[e];t=i.trak;while(t.nextSample<t.samples.length&&this.sampleProcessingStarted){n.debug("MP4Box","Creating media fragment on track #"+i.id+" for sample "+t.nextSample);var r=this.createFragment(this.inputIsoFile,i.id,t.nextSample,i.segmentStream);if(!r)break;if(i.segmentStream=r,t.nextSample++,(t.nextSample%i.nb_samples===0||t.nextSample>=t.samples.length)&&(n.info("MP4Box","Sending fragmented data on track #"+i.id+" for samples ["+Math.max(0,t.nextSample-i.nb_samples)+","+(t.nextSample-1)+"]"),n.info("MP4Box","Sample data size in memory: "+this.inputIsoFile.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(i.id,i.user,i.segmentStream.buffer,t.nextSample),i.segmentStream=null,i!==this.fragmentedTracks[e]))break}}if(null!==this.onSamples)for(e=0;e<this.extractedTracks.length;e++){var s=this.extractedTracks[e];t=s.trak;while(t.nextSample<t.samples.length&&this.sampleProcessingStarted){n.debug("MP4Box","Exporting on track #"+s.id+" sample #"+t.nextSample);var o=this.inputIsoFile.getSample(t,t.nextSample);if(!o)break;if(t.nextSample++,s.samples.push(o),(t.nextSample%s.nb_samples===0||t.nextSample>=t.samples.length)&&(n.debug("MP4Box","Sending samples on track #"+s.id+" for sample "+t.nextSample),this.onSamples&&this.onSamples(s.id,s.user,s.samples),s.samples=[],s!==this.extractedTracks[e]))break}}}},p.prototype.checkBuffer=function(e){if(null===e||void 0===e)throw"Buffer must be defined and non empty";if(void 0===e.fileStart)throw"Buffer must have a fileStart property";return 0===e.byteLength?(n.warn("MP4Box","Ignoring empty buffer (fileStart: "+e.fileStart+")"),this.inputStream.logBufferLevel(),!1):(n.info("MP4Box","Processing buffer (fileStart: "+e.fileStart+")"),e.usedBytes=0,this.inputStream.insertBuffer(e),this.inputStream.logBufferLevel(),!!this.inputStream.initialized()||(n.warn("MP4Box","Not ready to start parsing"),!1))},p.prototype.appendBuffer=function(e){var t;if(!this.checkBuffer||this.checkBuffer(e))return this.inputIsoFile.parse(),this.inputIsoFile.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.inputIsoFile.moov?(this.processSamples&&(this.sampleListBuilt||(this.inputIsoFile.buildSampleLists(),this.sampleListBuilt=!0),this.inputIsoFile.updateSampleLists()),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples&&this.processSamples(),this.nextSeekPosition?(t=this.nextSeekPosition,this.nextSeekPosition=void 0):t=this.inputIsoFile.nextParsePosition,this.inputStream.getEndFilePositionAfter&&(t=this.inputStream.getEndFilePositionAfter(t))):t=null!==this.inputIsoFile?this.inputIsoFile.nextParsePosition:0,this.inputIsoFile.meta&&(this.inputIsoFile.flattenItemInfo&&!this.itemListBuilt&&(this.inputIsoFile.flattenItemInfo(),this.itemListBuilt=!0),this.inputIsoFile.processItems&&this.inputIsoFile.processItems(this.onItem)),this.inputStream.cleanBuffers&&(n.info("MP4Box","Done processing buffer (fileStart: "+e.fileStart+") - next buffer to fetch should have a fileStart position of "+t),this.inputStream.logBufferLevel(),this.inputStream.cleanBuffers(),this.inputStream.logBufferLevel(!0),n.info("MP4Box","Sample data size in memory: "+this.inputIsoFile.getAllocatedSampleDataSize())),t},p.prototype.getInfo=function(){var e,t,i,n,r,s={},o=new Date(4,0,1,0,0,0,0).getTime();if(this.inputIsoFile.moov)for(s.hasMoov=!0,s.duration=this.inputIsoFile.moov.mvhd.duration,s.timescale=this.inputIsoFile.moov.mvhd.timescale,s.isFragmented=null!=this.inputIsoFile.moov.mvex,s.isFragmented&&this.inputIsoFile.moov.mvex.mehd&&(s.fragment_duration=this.inputIsoFile.moov.mvex.mehd.fragment_duration),s.isProgressive=this.inputIsoFile.isProgressive,s.hasIOD=null!=this.inputIsoFile.moov.iods,s.brands=[],s.brands.push(this.inputIsoFile.ftyp.major_brand),s.brands=s.brands.concat(this.inputIsoFile.ftyp.compatible_brands),s.created=new Date(o+1e3*this.inputIsoFile.moov.mvhd.creation_time),s.modified=new Date(o+1e3*this.inputIsoFile.moov.mvhd.modification_time),s.tracks=[],s.audioTracks=[],s.videoTracks=[],s.subtitleTracks=[],s.metadataTracks=[],s.hintTracks=[],s.otherTracks=[],e=0;e<this.inputIsoFile.moov.traks.length;e++){if(i=this.inputIsoFile.moov.traks[e],r=i.mdia.minf.stbl.stsd.entries[0],n={},s.tracks.push(n),n.id=i.tkhd.track_id,n.name=i.mdia.hdlr.name,n.references=[],i.tref)for(t=0;t<i.tref.boxes.length;t++)ref={},n.references.push(ref),ref.type=i.tref.boxes[t].type,ref.track_ids=i.tref.boxes[t].track_ids;i.edts&&(n.edits=i.edts.elst.entries),n.created=new Date(o+1e3*i.tkhd.creation_time),n.modified=new Date(o+1e3*i.tkhd.modification_time),n.movie_duration=i.tkhd.duration,n.movie_timescale=s.timescale,n.layer=i.tkhd.layer,n.alternate_group=i.tkhd.alternate_group,n.volume=i.tkhd.volume,n.matrix=i.tkhd.matrix,n.track_width=i.tkhd.width/65536,n.track_height=i.tkhd.height/65536,n.timescale=i.mdia.mdhd.timescale,n.cts_shift=i.mdia.minf.stbl.cslg,n.duration=i.mdia.mdhd.duration,n.samples_duration=i.samples_duration,n.codec=r.getCodec(),n.kind=i.udta&&i.udta.kinds.length?i.udta.kinds[0]:{schemeURI:"",value:""},n.language=i.mdia.elng?i.mdia.elng.extended_language:i.mdia.mdhd.languageString,n.nb_samples=i.samples.length,n.size=i.samples_size,n.bitrate=8*n.size*n.timescale/n.samples_duration,r.isAudio()?(n.type="audio",s.audioTracks.push(n),n.audio={},n.audio.sample_rate=r.getSampleRate(),n.audio.channel_count=r.getChannelCount(),n.audio.sample_size=r.getSampleSize()):r.isVideo()?(n.type="video",s.videoTracks.push(n),n.video={},n.video.width=r.getWidth(),n.video.height=r.getHeight()):r.isSubtitle()?(n.type="subtitles",s.subtitleTracks.push(n)):r.isHint()?(n.type="metadata",s.hintTracks.push(n)):r.isMetadata()?(n.type="metadata",s.metadataTracks.push(n)):(n.type="metadata",s.otherTracks.push(n))}else s.hasMoov=!1;for(s.mime="",s.videoTracks.length>0?s.mime+='video/mp4; codecs="':s.audioTracks.length>0?s.mime+='audio/mp4; codecs="':s.mime+='application/mp4; codecs="',e=0;e<s.tracks.length;e++)0!==e&&(s.mime+=","),s.mime+=s.tracks[e].codec;return s.mime+='"; profiles="',s.mime+=this.inputIsoFile.ftyp.compatible_brands.join(),s.mime+='"',s},p.prototype.writeFile=function(){var e=new s;return e.endianness=s.BIG_ENDIAN,this.inputIsoFile.write(e),e.buffer},p.prototype.initializeSegmentation=function(){var e,t,i,r;for(null===this.onSegment&&n.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.inputIsoFile.resetTables()),t=[],e=0;e<this.fragmentedTracks.length;e++){var s=new c.moovBox;s.mvhd=this.inputIsoFile.moov.mvhd,s.boxes.push(s.mvhd),i=this.inputIsoFile.getTrackById(this.fragmentedTracks[e].id),s.boxes.push(i),s.traks.push(i),r={},r.id=i.tkhd.track_id,r.user=this.fragmentedTracks[e].user,r.buffer=d.writeInitializationSegment(this.inputIsoFile.ftyp,s,this.inputIsoFile.moov.mvex&&this.inputIsoFile.moov.mvex.mehd?this.inputIsoFile.moov.mvex.mehd.fragment_duration:void 0,this.inputIsoFile.moov.traks[e].samples.length>0?this.inputIsoFile.moov.traks[e].samples[0].duration:0),t.push(r)}return t},p.prototype.releaseUsedSamples=function(e,t){var i=0,r=this.inputIsoFile.getTrackById(e);r.lastValidSample||(r.lastValidSample=0);for(var s=r.lastValidSample;s<t;s++)i+=this.inputIsoFile.releaseSample(r,s);n.info("MP4Box","Track #"+e+" released samples up to "+t+" (released size: "+i+", remaining: "+this.inputIsoFile.samplesDataSize+")"),r.lastValidSample=t},p.prototype.flush=function(){n.info("MP4Box","Flushing remaining samples"),this.inputIsoFile.updateSampleLists(),this.processSamples(),this.inputStream.cleanBuffers(),this.inputStream.logBufferLevel(!0)},p.prototype.seekTrack=function(e,t,i){var r,s,o,a=1/0,u=0,c=0;if(0===i.samples.length)return n.info("MP4Box","No sample in track, cannot seek! Using time "+n.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(r=0;r<i.samples.length;r++){if(s=i.samples[r],0===r)c=0,o=s.timescale;else if(s.cts>e*s.timescale){c=r-1;break}t&&s.is_sync&&(u=r)}t&&(c=u),e=i.samples[c].cts,i.nextSample=c;while(i.samples[c].alreadyRead===i.samples[c].size)c++;return a=i.samples[c].offset+i.samples[c].alreadyRead,n.info("MP4Box","Seeking to "+(t?"RAP":"")+" sample #"+i.nextSample+" on track "+i.tkhd.track_id+", time "+n.getDurationString(e,o)+" and offset: "+a),{offset:a,time:e/o}},p.prototype.seek=function(e,t){var i,r,s,o=this.inputIsoFile.moov,a={offset:1/0,time:1/0};if(this.inputIsoFile.moov){for(s=0;s<o.traks.length;s++)i=o.traks[s],r=this.seekTrack(e,t,i),r.offset<a.offset&&(a.offset=r.offset),r.time<a.time&&(a.time=r.time);return n.info("MP4Box","Seeking at time "+n.getDurationString(a.time,1)+" needs a buffer with a fileStart position of "+a.offset),a.offset===1/0?a={offset:this.inputIsoFile.nextParsePosition,time:0}:a.offset=this.inputStream.getEndFilePositionAfter(a.offset),n.info("MP4Box","Adjusted seek position (after checking data already in buffer): "+a.offset),a}throw"Cannot seek: moov not received!"},p.prototype.getTrackSamplesInfo=function(e){var t=this.inputIsoFile.getTrackById(e);return t?t.samples:void 0},p.prototype.getTrackSample=function(e,t){var i=this.inputIsoFile.getTrackById(e),n=this.inputIsoFile.getSample(i,t);return n},p.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples()},p.prototype.stop=function(){this.sampleProcessingStarted=!1},t.MP4Box=p},"116d":function(e,t,i){e.exports=i("b4e8")},"11dc":function(e,t,i){"use strict";(function(t,n){var r=65536,s=4294967295;function o(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var a=i("8707").Buffer,u=t.crypto||t.msCrypto;function c(e,t){if(e>s)throw new RangeError("requested too many random bytes");var i=a.allocUnsafe(e);if(e>0)if(e>r)for(var o=0;o<e;o+=r)u.getRandomValues(i.slice(o,o+r));else u.getRandomValues(i);return"function"===typeof t?n.nextTick((function(){t(null,i)})):i}u&&u.getRandomValues?e.exports=c:e.exports=o}).call(this,i("c8ba"),i("f28c"))},"13e2":function(e,t,i){"use strict";var n=i("c3c0"),r=i("edc9"),s=i("aa56"),o=n.rotl32,a=n.sum32,u=n.sum32_5,c=s.ft_1,f=r.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(l,f),e.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(e,t){for(var i=this.W,n=0;n<16;n++)i[n]=e[t+n];for(;n<i.length;n++)i[n]=o(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var r=this.h[0],s=this.h[1],f=this.h[2],l=this.h[3],d=this.h[4];for(n=0;n<i.length;n++){var p=~~(n/20),m=u(o(r,5),c(p,s,f,l),d,i[n],h[p]);d=l,l=f,f=o(s,30),s=r,r=m}this.h[0]=a(this.h[0],r),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],l),this.h[4]=a(this.h[4],d)},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},1495:function(e,t,i){var n=i("86cc"),r=i("cb7c"),s=i("0d58");e.exports=i("9e1e")?Object.defineProperties:function(e,t){r(e);var i,o=s(t),a=o.length,u=0;while(a>u)n.f(e,i=o[u++],t[i]);return e}},1545:function(e,t,i){"use strict";t.utils=i("5ee7"),t.Cipher=i("0184"),t.DES=i("4e2b"),t.CBC=i("0da4"),t.EDE=i("1fec")},1991:function(e,t,i){var n,r,s,o=i("9b43"),a=i("31f4"),u=i("fab2"),c=i("230e"),f=i("7726"),h=f.process,l=f.setImmediate,d=f.clearImmediate,p=f.MessageChannel,m=f.Dispatch,b=0,v={},g="onreadystatechange",y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},_=function(e){y.call(e.data)};l&&d||(l=function(e){var t=[],i=1;while(arguments.length>i)t.push(arguments[i++]);return v[++b]=function(){a("function"==typeof e?e:Function(e),t)},n(b),b},d=function(e){delete v[e]},"process"==i("2d95")(h)?n=function(e){h.nextTick(o(y,e,1))}:m&&m.now?n=function(e){m.now(o(y,e,1))}:p?(r=new p,s=r.port2,r.port1.onmessage=_,n=o(s.postMessage,s,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(e){f.postMessage(e+"","*")},f.addEventListener("message",_,!1)):n=g in c("script")?function(e){u.appendChild(c("script"))[g]=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(o(y,e,1),0)}),e.exports={set:l,clear:d}},"1a2a":function(e,t,i){"use strict";var n=i("3fb5"),r=i("d424"),s=i("6430"),o=i("8707").Buffer,a=i("5a76"),u=i("b5ca"),c=i("69f2"),f=o.alloc(128);function h(e,t){s.call(this,"digest"),"string"===typeof t&&(t=o.from(t));var i="sha512"===e||"sha384"===e?128:64;if(this._alg=e,this._key=t,t.length>i){var n="rmd160"===e?new u:c(e);t=n.update(t).digest()}else t.length<i&&(t=o.concat([t,f],i));for(var r=this._ipad=o.allocUnsafe(i),a=this._opad=o.allocUnsafe(i),h=0;h<i;h++)r[h]=54^t[h],a[h]=92^t[h];this._hash="rmd160"===e?new u:c(e),this._hash.update(r)}n(h,s),h.prototype._update=function(e){this._hash.update(e)},h.prototype._final=function(){var e=this._hash.digest(),t="rmd160"===this._alg?new u:c(this._alg);return t.update(this._opad).update(e).digest()},e.exports=function(e,t){return e=e.toLowerCase(),"rmd160"===e||"ripemd160"===e?new h("rmd160",t):"md5"===e?new r(a,t):new h(e,t)}},"1c46":function(e,t,i){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=i("11dc"),t.createHash=t.Hash=i("98e6"),t.createHmac=t.Hmac=i("1a2a");var n=i("116d"),r=Object.keys(n),s=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(r);t.getHashes=function(){return s};var o=i("a099");t.pbkdf2=o.pbkdf2,t.pbkdf2Sync=o.pbkdf2Sync;var a=i("956a");t.Cipher=a.Cipher,t.createCipher=a.createCipher,t.Cipheriv=a.Cipheriv,t.createCipheriv=a.createCipheriv,t.Decipher=a.Decipher,t.createDecipher=a.createDecipher,t.Decipheriv=a.Decipheriv,t.createDecipheriv=a.createDecipheriv,t.getCiphers=a.getCiphers,t.listCiphers=a.listCiphers;var u=i("00dc");t.DiffieHellmanGroup=u.DiffieHellmanGroup,t.createDiffieHellmanGroup=u.createDiffieHellmanGroup,t.getDiffieHellman=u.getDiffieHellman,t.createDiffieHellman=u.createDiffieHellman,t.DiffieHellman=u.DiffieHellman;var c=i("b692");t.createSign=c.createSign,t.Sign=c.Sign,t.createVerify=c.createVerify,t.Verify=c.Verify,t.createECDH=i("e1d3");var f=i("6442");t.publicEncrypt=f.publicEncrypt,t.privateEncrypt=f.privateEncrypt,t.publicDecrypt=f.publicDecrypt,t.privateDecrypt=f.privateDecrypt;var h=i("75cc");t.randomFill=h.randomFill,t.randomFillSync=h.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},"1e3c":function(e,t,i){var n=i("6430"),r=i("1545"),s=i("3fb5"),o=i("8707").Buffer,a={"des-ede3-cbc":r.CBC.instantiate(r.EDE),"des-ede3":r.EDE,"des-ede-cbc":r.CBC.instantiate(r.EDE),"des-ede":r.EDE,"des-cbc":r.CBC.instantiate(r.DES),"des-ecb":r.DES};function u(e){n.call(this);var t,i=e.mode.toLowerCase(),r=a[i];t=e.decrypt?"decrypt":"encrypt";var s=e.key;o.isBuffer(s)||(s=o.from(s)),"des-ede"!==i&&"des-ede-cbc"!==i||(s=o.concat([s,s.slice(0,8)]));var u=e.iv;o.isBuffer(u)||(u=o.from(u)),this._des=r.create({key:s,iv:u,type:t})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=u,s(u,n),u.prototype._update=function(e){return o.from(this._des.update(e))},u.prototype._final=function(){return o.from(this._des.final())}},"1fa8":function(e,t,i){var n=i("cb7c");e.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(o){var s=e["return"];throw void 0!==s&&n(s.call(e)),o}}},"1fb5":function(e,t,i){"use strict";t.byteLength=f,t.toByteArray=l,t.fromByteArray=m;for(var n=[],r=[],s="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=o.length;a<u;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");-1===i&&(i=t);var n=i===t?0:4-i%4;return[i,n]}function f(e){var t=c(e),i=t[0],n=t[1];return 3*(i+n)/4-n}function h(e,t,i){return 3*(t+i)/4-i}function l(e){var t,i,n=c(e),o=n[0],a=n[1],u=new s(h(e,o,a)),f=0,l=a>0?o-4:o;for(i=0;i<l;i+=4)t=r[e.charCodeAt(i)]<<18|r[e.charCodeAt(i+1)]<<12|r[e.charCodeAt(i+2)]<<6|r[e.charCodeAt(i+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;return 2===a&&(t=r[e.charCodeAt(i)]<<2|r[e.charCodeAt(i+1)]>>4,u[f++]=255&t),1===a&&(t=r[e.charCodeAt(i)]<<10|r[e.charCodeAt(i+1)]<<4|r[e.charCodeAt(i+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t),u}function d(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function p(e,t,i){for(var n,r=[],s=t;s<i;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),r.push(d(n));return r.join("")}function m(e){for(var t,i=e.length,r=i%3,s=[],o=16383,a=0,u=i-r;a<u;a+=o)s.push(p(e,a,a+o>u?u:a+o));return 1===r?(t=e[i-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},"1fec":function(e,t,i){"use strict";var n=i("da3e"),r=i("3fb5"),s=i("1545"),o=s.Cipher,a=s.DES;function u(e,t){n.equal(t.length,24,"Invalid key length");var i=t.slice(0,8),r=t.slice(8,16),s=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:r}),a.create({type:"encrypt",key:s})]:[a.create({type:"decrypt",key:s}),a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:i})]}function c(e){o.call(this,e);var t=new u(this.type,this.options.key);this._edeState=t}r(c,o),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,i,n){var r=this._edeState;r.ciphers[0]._update(e,t,i,n),r.ciphers[1]._update(i,n,i,n),r.ciphers[2]._update(i,n,i,n)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},"206d":function(e,t,i){(function(t,n){var r,s=i("7d2a"),o=i("9f9d"),a=i("e07b"),u=i("8707").Buffer,c=t.crypto&&t.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function l(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!c||!c.importKey||!c.deriveBits)return Promise.resolve(!1);if(void 0!==h[e])return h[e];r=r||u.alloc(8);var i=d(r,r,10,128,e).then((function(){return!0})).catch((function(){return!1}));return h[e]=i,i}function d(e,t,i,n,r){return c.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return c.deriveBits({name:"PBKDF2",salt:t,iterations:i,hash:{name:r}},e,n<<3)})).then((function(e){return u.from(e)}))}function p(e,t){e.then((function(e){n.nextTick((function(){t(null,e)}))}),(function(e){n.nextTick((function(){t(e)}))}))}e.exports=function(e,i,r,c,h,m){"function"===typeof h&&(m=h,h=void 0),h=h||"sha1";var b=f[h.toLowerCase()];if(!b||"function"!==typeof t.Promise)return n.nextTick((function(){var t;try{t=a(e,i,r,c,h)}catch(n){return m(n)}m(null,t)}));if(s(e,i,r,c),"function"!==typeof m)throw new Error("No callback provided to pbkdf2");u.isBuffer(e)||(e=u.from(e,o)),u.isBuffer(i)||(i=u.from(i,o)),p(l(b).then((function(t){return t?d(e,i,r,c,b):a(e,i,r,c,h)})),m)}}).call(this,i("c8ba"),i("f28c"))},"20f6":function(e,t,i){var n=t;n.der=i("cfbd"),n.pem=i("8df7")},2137:function(e,t,i){"use strict";var n=i("c3c0"),r=i("da3e");function s(e,t,i){if(!(this instanceof s))return new s(e,t,i);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,i))}e.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),r(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},"230e":function(e,t,i){var n=i("d3f4"),r=i("7726").document,s=n(r)&&n(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},2350:function(e,t){function i(e,t){var i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"===typeof btoa){var s=n(r),o=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[i].concat(o).concat([s]).join("\n")}return[i].join("\n")}function n(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,"+t;return"/*# "+i+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=i(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,i){"string"===typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var s=this[r][0];"number"===typeof s&&(n[s]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"===typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},"23c6":function(e,t,i){var n=i("2d95"),r=i("2b4c")("toStringTag"),s="Arguments"==n(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(i){}};e.exports=function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=o(t=Object(e),r))?i:s?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},2621:function(e,t){t.f=Object.getOwnPropertySymbols},"27bf":function(e,t,i){"use strict";e.exports=o;var n=i("b19a"),r=i("3a7c");function s(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),n(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"===typeof this._flush?this._flush((function(t,i){u(e,t,i)})):u(this,null,null)}function u(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=i("3fb5"),r.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var i=this;n.prototype._destroy.call(this,e,(function(e){t(e),i.emit("close")}))}},"27ee":function(e,t,i){var n=i("23c6"),r=i("2b4c")("iterator"),s=i("84f2");e.exports=i("8378").getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||s[n(e)]}},2801:function(e){e.exports=JSON.parse('{"_args":[["elliptic@6.5.1","/Users/ge/work/vidcom"]],"_development":true,"_from":"elliptic@6.5.1","_id":"elliptic@6.5.1","_inBundle":false,"_integrity":"sha512-xvJINNLbTeWQjrl6X+7eQCrIy/YPv5XCpKW6kB5mKvtnGILoLDcySuwomfdzt0BMdLNVnuRNTuzKNHj0bva1Cg==","_location":"/elliptic","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"elliptic@6.5.1","name":"elliptic","escapedName":"elliptic","rawSpec":"6.5.1","saveSpec":null,"fetchSpec":"6.5.1"},"_requiredBy":["/browserify-sign","/create-ecdh"],"_resolved":"https://registry.npmjs.org/elliptic/-/elliptic-6.5.1.tgz","_spec":"6.5.1","_where":"/Users/ge/work/vidcom","author":{"name":"Fedor Indutny","email":"fedor@indutny.com"},"bugs":{"url":"https://github.com/indutny/elliptic/issues"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},"description":"EC cryptography","devDependencies":{"brfs":"^1.4.3","coveralls":"^3.0.4","grunt":"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.2","jscs":"^3.0.7","jshint":"^2.6.0","mocha":"^6.1.4"},"files":["lib"],"homepage":"https://github.com/indutny/elliptic","keywords":["EC","Elliptic","curve","Cryptography"],"license":"MIT","main":"lib/elliptic.js","name":"elliptic","repository":{"type":"git","url":"git+ssh://git@github.com/indutny/elliptic.git"},"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","test":"npm run lint && npm run unit","unit":"istanbul test _mocha --reporter=spec test/index.js","version":"grunt dist && git add dist/"},"version":"6.5.1"}')},2877:function(e,t,i){"use strict";function n(e,t,i,n,r,s,o,a){var u,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=u):r&&(u=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(c.functional){c._injectStyles=u;var f=c.render;c.render=function(e,t){return u.call(t),f(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,u):[u]}return{exports:e,options:c}}i.d(t,"a",(function(){return n}))},"2aba":function(e,t,i){var n=i("7726"),r=i("32e9"),s=i("69a8"),o=i("ca5a")("src"),a=i("fa5b"),u="toString",c=(""+a).split(u);i("8378").inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,i,a){var u="function"==typeof i;u&&(s(i,"name")||r(i,"name",t)),e[t]!==i&&(u&&(s(i,o)||r(i,o,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=i:a?e[t]?e[t]=i:r(e,t,i):(delete e[t],r(e,t,i)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[o]||a.call(this)}))},"2aeb":function(e,t,i){var n=i("cb7c"),r=i("1495"),s=i("e11e"),o=i("613b")("IE_PROTO"),a=function(){},u="prototype",c=function(){var e,t=i("230e")("iframe"),n=s.length,r="<",o=">";t.style.display="none",i("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(r+"script"+o+"document.F=Object"+r+"/script"+o),e.close(),c=e.F;while(n--)delete c[u][s[n]];return c()};e.exports=Object.create||function(e,t){var i;return null!==e?(a[u]=n(e),i=new a,a[u]=null,i[o]=e):i=c(),void 0===t?i:r(i,t)}},"2aee":function(e,t,i){var n=i("4111"),r=i("d70e"),s=i("4dd0"),o=i("fda6"),a=i("a099"),u=i("8707").Buffer;function c(e){var t;"object"!==typeof e||u.isBuffer(e)||(t=e.passphrase,e=e.key),"string"===typeof e&&(e=u.from(e));var i,r,o=s(e,t),a=o.tag,c=o.data;switch(a){case"CERTIFICATE":r=n.certificate.decode(c,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(r||(r=n.PublicKey.decode(c,"der")),i=r.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(r.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return r.subjectPrivateKey=r.subjectPublicKey,{type:"ec",data:r};case"1.2.840.10040.4.1":return r.algorithm.params.pub_key=n.DSAparam.decode(r.subjectPublicKey.data,"der"),{type:"dsa",data:r.algorithm.params};default:throw new Error("unknown key id "+i)}throw new Error("unknown key type "+a);case"ENCRYPTED PRIVATE KEY":c=n.EncryptedPrivateKey.decode(c,"der"),c=f(c,t);case"PRIVATE KEY":switch(r=n.PrivateKey.decode(c,"der"),i=r.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(r.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:r.algorithm.curve,privateKey:n.ECPrivateKey.decode(r.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return r.algorithm.params.priv_key=n.DSAparam.decode(r.subjectPrivateKey,"der"),{type:"dsa",params:r.algorithm.params};default:throw new Error("unknown key id "+i)}throw new Error("unknown key type "+a);case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=n.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+a)}}function f(e,t){var i=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=r[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,f=e.subjectPrivateKey,h=parseInt(s.split("-")[1],10)/8,l=a.pbkdf2Sync(t,i,n,h,"sha1"),d=o.createDecipheriv(s,l,c),p=[];return p.push(d.update(f)),p.push(d.final()),u.concat(p)}e.exports=c,c.signature=n.signature},"2b0e":function(e,t,i){"use strict";(function(e){
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function n(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function s(e){return!0===e}function o(e){return!1===e}function a(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function u(e){return null!==e&&"object"===typeof e}var c=Object.prototype.toString;function f(e){return"[object Object]"===c.call(e)}function h(e){return"[object RegExp]"===c.call(e)}function l(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function d(e){return r(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||f(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function b(e,t){for(var i=Object.create(null),n=e.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}b("slot,component",!0);var v=b("key,ref,slot,slot-scope,is");function g(e,t){if(e.length){var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var y=Object.prototype.hasOwnProperty;function _(e,t){return y.call(e,t)}function w(e){var t=Object.create(null);return function(i){var n=t[i];return n||(t[i]=e(i))}}var S=/-(\w)/g,E=w((function(e){return e.replace(S,(function(e,t){return t?t.toUpperCase():""}))})),x=w((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),k=/\B([A-Z])/g,A=w((function(e){return e.replace(k,"-$1").toLowerCase()}));function T(e,t){function i(i){var n=arguments.length;return n?n>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i}function C(e,t){return e.bind(t)}var R=Function.prototype.bind?C:T;function D(e,t){t=t||0;var i=e.length-t,n=new Array(i);while(i--)n[i]=e[i+t];return n}function B(e,t){for(var i in t)e[i]=t[i];return e}function M(e){for(var t={},i=0;i<e.length;i++)e[i]&&B(t,e[i]);return t}function I(e,t,i){}var U=function(e,t,i){return!1},P=function(e){return e};function F(e,t){if(e===t)return!0;var i=u(e),n=u(t);if(!i||!n)return!i&&!n&&String(e)===String(t);try{var r=Array.isArray(e),s=Array.isArray(t);if(r&&s)return e.length===t.length&&e.every((function(e,i){return F(e,t[i])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||s)return!1;var o=Object.keys(e),a=Object.keys(t);return o.length===a.length&&o.every((function(i){return F(e[i],t[i])}))}catch(c){return!1}}function O(e,t){for(var i=0;i<e.length;i++)if(F(e[i],t))return i;return-1}function L(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var N="data-server-rendered",j=["component","directive","filter"],z=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:U,isReservedAttr:U,isUnknownElement:U,getTagNamespace:I,parsePlatformTagName:P,mustUseProp:U,async:!0,_lifecycleHooks:z},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function q(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function G(e,t,i,n){Object.defineProperty(e,t,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var K=new RegExp("[^"+V.source+".$_\\d]");function W(e){if(!K.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}var Y,$="__proto__"in{},X="undefined"!==typeof window,Q="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,J=Q&&WXEnvironment.platform.toLowerCase(),Z=X&&window.navigator.userAgent.toLowerCase(),ee=Z&&/msie|trident/.test(Z),te=Z&&Z.indexOf("msie 9.0")>0,ie=Z&&Z.indexOf("edge/")>0,ne=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===J),re=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),se={}.watch,oe=!1;if(X)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){oe=!0}}),window.addEventListener("test-passive",null,ae)}catch(Eo){}var ue=function(){return void 0===Y&&(Y=!X&&!Q&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),Y},ce=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function fe(e){return"function"===typeof e&&/native code/.test(e.toString())}var he,le="undefined"!==typeof Symbol&&fe(Symbol)&&"undefined"!==typeof Reflect&&fe(Reflect.ownKeys);he="undefined"!==typeof Set&&fe(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var de=I,pe=0,me=function(){this.id=pe++,this.subs=[]};me.prototype.addSub=function(e){this.subs.push(e)},me.prototype.removeSub=function(e){g(this.subs,e)},me.prototype.depend=function(){me.target&&me.target.addDep(this)},me.prototype.notify=function(){var e=this.subs.slice();for(var t=0,i=e.length;t<i;t++)e[t].update()},me.target=null;var be=[];function ve(e){be.push(e),me.target=e}function ge(){be.pop(),me.target=be[be.length-1]}var ye=function(e,t,i,n,r,s,o,a){this.tag=e,this.data=t,this.children=i,this.text=n,this.elm=r,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},_e={child:{configurable:!0}};_e.child.get=function(){return this.componentInstance},Object.defineProperties(ye.prototype,_e);var we=function(e){void 0===e&&(e="");var t=new ye;return t.text=e,t.isComment=!0,t};function Se(e){return new ye(void 0,void 0,void 0,String(e))}function Ee(e){var t=new ye(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var xe=Array.prototype,ke=Object.create(xe),Ae=["push","pop","shift","unshift","splice","sort","reverse"];Ae.forEach((function(e){var t=xe[e];G(ke,e,(function(){var i=[],n=arguments.length;while(n--)i[n]=arguments[n];var r,s=t.apply(this,i),o=this.__ob__;switch(e){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2);break}return r&&o.observeArray(r),o.dep.notify(),s}))}));var Te=Object.getOwnPropertyNames(ke),Ce=!0;function Re(e){Ce=e}var De=function(e){this.value=e,this.dep=new me,this.vmCount=0,G(e,"__ob__",this),Array.isArray(e)?($?Be(e,ke):Me(e,ke,Te),this.observeArray(e)):this.walk(e)};function Be(e,t){e.__proto__=t}function Me(e,t,i){for(var n=0,r=i.length;n<r;n++){var s=i[n];G(e,s,t[s])}}function Ie(e,t){var i;if(u(e)&&!(e instanceof ye))return _(e,"__ob__")&&e.__ob__ instanceof De?i=e.__ob__:Ce&&!ue()&&(Array.isArray(e)||f(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new De(e)),t&&i&&i.vmCount++,i}function Ue(e,t,i,n,r){var s=new me,o=Object.getOwnPropertyDescriptor(e,t);if(!o||!1!==o.configurable){var a=o&&o.get,u=o&&o.set;a&&!u||2!==arguments.length||(i=e[t]);var c=!r&&Ie(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(e):i;return me.target&&(s.depend(),c&&(c.dep.depend(),Array.isArray(t)&&Oe(t))),t},set:function(t){var n=a?a.call(e):i;t===n||t!==t&&n!==n||a&&!u||(u?u.call(e,t):i=t,c=!r&&Ie(t),s.notify())}})}}function Pe(e,t,i){if(Array.isArray(e)&&l(t))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(t in e&&!(t in Object.prototype))return e[t]=i,i;var n=e.__ob__;return e._isVue||n&&n.vmCount?i:n?(Ue(n.value,t,i),n.dep.notify(),i):(e[t]=i,i)}function Fe(e,t){if(Array.isArray(e)&&l(t))e.splice(t,1);else{var i=e.__ob__;e._isVue||i&&i.vmCount||_(e,t)&&(delete e[t],i&&i.dep.notify())}}function Oe(e){for(var t=void 0,i=0,n=e.length;i<n;i++)t=e[i],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Oe(t)}De.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)Ue(e,t[i])},De.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)Ie(e[t])};var Le=H.optionMergeStrategies;function Ne(e,t){if(!t)return e;for(var i,n,r,s=le?Reflect.ownKeys(t):Object.keys(t),o=0;o<s.length;o++)i=s[o],"__ob__"!==i&&(n=e[i],r=t[i],_(e,i)?n!==r&&f(n)&&f(r)&&Ne(n,r):Pe(e,i,r));return e}function je(e,t,i){return i?function(){var n="function"===typeof t?t.call(i,i):t,r="function"===typeof e?e.call(i,i):e;return n?Ne(n,r):r}:t?e?function(){return Ne("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function ze(e,t){var i=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return i?He(i):i}function He(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}function Ve(e,t,i,n){var r=Object.create(e||null);return t?B(r,t):r}Le.data=function(e,t,i){return i?je(e,t,i):t&&"function"!==typeof t?e:je(e,t)},z.forEach((function(e){Le[e]=ze})),j.forEach((function(e){Le[e+"s"]=Ve})),Le.watch=function(e,t,i,n){if(e===se&&(e=void 0),t===se&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var s in B(r,e),t){var o=r[s],a=t[s];o&&!Array.isArray(o)&&(o=[o]),r[s]=o?o.concat(a):Array.isArray(a)?a:[a]}return r},Le.props=Le.methods=Le.inject=Le.computed=function(e,t,i,n){if(!e)return t;var r=Object.create(null);return B(r,e),t&&B(r,t),r},Le.provide=je;var qe=function(e,t){return void 0===t?e:t};function Ge(e,t){var i=e.props;if(i){var n,r,s,o={};if(Array.isArray(i)){n=i.length;while(n--)r=i[n],"string"===typeof r&&(s=E(r),o[s]={type:null})}else if(f(i))for(var a in i)r=i[a],s=E(a),o[s]=f(r)?r:{type:r};else 0;e.props=o}}function Ke(e,t){var i=e.inject;if(i){var n=e.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)n[i[r]]={from:i[r]};else if(f(i))for(var s in i){var o=i[s];n[s]=f(o)?B({from:s},o):{from:o}}else 0}}function We(e){var t=e.directives;if(t)for(var i in t){var n=t[i];"function"===typeof n&&(t[i]={bind:n,update:n})}}function Ye(e,t,i){if("function"===typeof t&&(t=t.options),Ge(t,i),Ke(t,i),We(t),!t._base&&(t.extends&&(e=Ye(e,t.extends,i)),t.mixins))for(var n=0,r=t.mixins.length;n<r;n++)e=Ye(e,t.mixins[n],i);var s,o={};for(s in e)a(s);for(s in t)_(e,s)||a(s);function a(n){var r=Le[n]||qe;o[n]=r(e[n],t[n],i,n)}return o}function $e(e,t,i,n){if("string"===typeof i){var r=e[t];if(_(r,i))return r[i];var s=E(i);if(_(r,s))return r[s];var o=x(s);if(_(r,o))return r[o];var a=r[i]||r[s]||r[o];return a}}function Xe(e,t,i,n){var r=t[e],s=!_(i,e),o=i[e],a=et(Boolean,r.type);if(a>-1)if(s&&!_(r,"default"))o=!1;else if(""===o||o===A(e)){var u=et(String,r.type);(u<0||a<u)&&(o=!0)}if(void 0===o){o=Qe(n,r,e);var c=Ce;Re(!0),Ie(o),Re(c)}return o}function Qe(e,t,i){if(_(t,"default")){var n=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:"function"===typeof n&&"Function"!==Je(t.type)?n.call(e):n}}function Je(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Ze(e,t){return Je(e)===Je(t)}function et(e,t){if(!Array.isArray(t))return Ze(t,e)?0:-1;for(var i=0,n=t.length;i<n;i++)if(Ze(t[i],e))return i;return-1}function tt(e,t,i){ve();try{if(t){var n=t;while(n=n.$parent){var r=n.$options.errorCaptured;if(r)for(var s=0;s<r.length;s++)try{var o=!1===r[s].call(n,e,t,i);if(o)return}catch(Eo){nt(Eo,n,"errorCaptured hook")}}}nt(e,t,i)}finally{ge()}}function it(e,t,i,n,r){var s;try{s=i?e.apply(t,i):e.call(t),s&&!s._isVue&&d(s)&&!s._handled&&(s.catch((function(e){return tt(e,n,r+" (Promise/async)")})),s._handled=!0)}catch(Eo){tt(Eo,n,r)}return s}function nt(e,t,i){if(H.errorHandler)try{return H.errorHandler.call(null,e,t,i)}catch(Eo){Eo!==e&&rt(Eo,null,"config.errorHandler")}rt(e,t,i)}function rt(e,t,i){if(!X&&!Q||"undefined"===typeof console)throw e;console.error(e)}var st,ot=!1,at=[],ut=!1;function ct(){ut=!1;var e=at.slice(0);at.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&fe(Promise)){var ft=Promise.resolve();st=function(){ft.then(ct),ne&&setTimeout(I)},ot=!0}else if(ee||"undefined"===typeof MutationObserver||!fe(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())st="undefined"!==typeof setImmediate&&fe(setImmediate)?function(){setImmediate(ct)}:function(){setTimeout(ct,0)};else{var ht=1,lt=new MutationObserver(ct),dt=document.createTextNode(String(ht));lt.observe(dt,{characterData:!0}),st=function(){ht=(ht+1)%2,dt.data=String(ht)},ot=!0}function pt(e,t){var i;if(at.push((function(){if(e)try{e.call(t)}catch(Eo){tt(Eo,t,"nextTick")}else i&&i(t)})),ut||(ut=!0,st()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){i=e}))}var mt=new he;function bt(e){vt(e,mt),mt.clear()}function vt(e,t){var i,n,r=Array.isArray(e);if(!(!r&&!u(e)||Object.isFrozen(e)||e instanceof ye)){if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(r){i=e.length;while(i--)vt(e[i],t)}else{n=Object.keys(e),i=n.length;while(i--)vt(e[n[i]],t)}}}var gt=w((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var i="~"===e.charAt(0);e=i?e.slice(1):e;var n="!"===e.charAt(0);return e=n?e.slice(1):e,{name:e,once:i,capture:n,passive:t}}));function yt(e,t){function i(){var e=arguments,n=i.fns;if(!Array.isArray(n))return it(n,null,arguments,t,"v-on handler");for(var r=n.slice(),s=0;s<r.length;s++)it(r[s],null,e,t,"v-on handler")}return i.fns=e,i}function _t(e,t,i,r,o,a){var u,c,f,h;for(u in e)c=e[u],f=t[u],h=gt(u),n(c)||(n(f)?(n(c.fns)&&(c=e[u]=yt(c,a)),s(h.once)&&(c=e[u]=o(h.name,c,h.capture)),i(h.name,c,h.capture,h.passive,h.params)):c!==f&&(f.fns=c,e[u]=f));for(u in t)n(e[u])&&(h=gt(u),r(h.name,t[u],h.capture))}function wt(e,t,i){var o;e instanceof ye&&(e=e.data.hook||(e.data.hook={}));var a=e[t];function u(){i.apply(this,arguments),g(o.fns,u)}n(a)?o=yt([u]):r(a.fns)&&s(a.merged)?(o=a,o.fns.push(u)):o=yt([a,u]),o.merged=!0,e[t]=o}function St(e,t,i){var s=t.options.props;if(!n(s)){var o={},a=e.attrs,u=e.props;if(r(a)||r(u))for(var c in s){var f=A(c);Et(o,u,c,f,!0)||Et(o,a,c,f,!1)}return o}}function Et(e,t,i,n,s){if(r(t)){if(_(t,i))return e[i]=t[i],s||delete t[i],!0;if(_(t,n))return e[i]=t[n],s||delete t[n],!0}return!1}function xt(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function kt(e){return a(e)?[Se(e)]:Array.isArray(e)?Tt(e):void 0}function At(e){return r(e)&&r(e.text)&&o(e.isComment)}function Tt(e,t){var i,o,u,c,f=[];for(i=0;i<e.length;i++)o=e[i],n(o)||"boolean"===typeof o||(u=f.length-1,c=f[u],Array.isArray(o)?o.length>0&&(o=Tt(o,(t||"")+"_"+i),At(o[0])&&At(c)&&(f[u]=Se(c.text+o[0].text),o.shift()),f.push.apply(f,o)):a(o)?At(c)?f[u]=Se(c.text+o):""!==o&&f.push(Se(o)):At(o)&&At(c)?f[u]=Se(c.text+o.text):(s(e._isVList)&&r(o.tag)&&n(o.key)&&r(t)&&(o.key="__vlist"+t+"_"+i+"__"),f.push(o)));return f}function Ct(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function Rt(e){var t=Dt(e.$options.inject,e);t&&(Re(!1),Object.keys(t).forEach((function(i){Ue(e,i,t[i])})),Re(!0))}function Dt(e,t){if(e){for(var i=Object.create(null),n=le?Reflect.ownKeys(e):Object.keys(e),r=0;r<n.length;r++){var s=n[r];if("__ob__"!==s){var o=e[s].from,a=t;while(a){if(a._provided&&_(a._provided,o)){i[s]=a._provided[o];break}a=a.$parent}if(!a)if("default"in e[s]){var u=e[s].default;i[s]="function"===typeof u?u.call(t):u}else 0}}return i}}function Bt(e,t){if(!e||!e.length)return{};for(var i={},n=0,r=e.length;n<r;n++){var s=e[n],o=s.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,s.context!==t&&s.fnContext!==t||!o||null==o.slot)(i.default||(i.default=[])).push(s);else{var a=o.slot,u=i[a]||(i[a]=[]);"template"===s.tag?u.push.apply(u,s.children||[]):u.push(s)}}for(var c in i)i[c].every(Mt)&&delete i[c];return i}function Mt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function It(e,t,n){var r,s=Object.keys(t).length>0,o=e?!!e.$stable:!s,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&n&&n!==i&&a===n.$key&&!s&&!n.$hasNormal)return n;for(var u in r={},e)e[u]&&"$"!==u[0]&&(r[u]=Ut(t,u,e[u]))}else r={};for(var c in t)c in r||(r[c]=Pt(t,c));return e&&Object.isExtensible(e)&&(e._normalized=r),G(r,"$stable",o),G(r,"$key",a),G(r,"$hasNormal",s),r}function Ut(e,t,i){var n=function(){var e=arguments.length?i.apply(null,arguments):i({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:kt(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return i.proxy&&Object.defineProperty(e,t,{get:n,enumerable:!0,configurable:!0}),n}function Pt(e,t){return function(){return e[t]}}function Ft(e,t){var i,n,s,o,a;if(Array.isArray(e)||"string"===typeof e)for(i=new Array(e.length),n=0,s=e.length;n<s;n++)i[n]=t(e[n],n);else if("number"===typeof e)for(i=new Array(e),n=0;n<e;n++)i[n]=t(n+1,n);else if(u(e))if(le&&e[Symbol.iterator]){i=[];var c=e[Symbol.iterator](),f=c.next();while(!f.done)i.push(t(f.value,i.length)),f=c.next()}else for(o=Object.keys(e),i=new Array(o.length),n=0,s=o.length;n<s;n++)a=o[n],i[n]=t(e[a],a,n);return r(i)||(i=[]),i._isVList=!0,i}function Ot(e,t,i,n){var r,s=this.$scopedSlots[e];s?(i=i||{},n&&(i=B(B({},n),i)),r=s(i)||t):r=this.$slots[e]||t;var o=i&&i.slot;return o?this.$createElement("template",{slot:o},r):r}function Lt(e){return $e(this.$options,"filters",e,!0)||P}function Nt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function jt(e,t,i,n,r){var s=H.keyCodes[t]||i;return r&&n&&!H.keyCodes[t]?Nt(r,n):s?Nt(s,e):n?A(n)!==t:void 0}function zt(e,t,i,n,r){if(i)if(u(i)){var s;Array.isArray(i)&&(i=M(i));var o=function(o){if("class"===o||"style"===o||v(o))s=e;else{var a=e.attrs&&e.attrs.type;s=n||H.mustUseProp(t,a,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var u=E(o),c=A(o);if(!(u in s)&&!(c in s)&&(s[o]=i[o],r)){var f=e.on||(e.on={});f["update:"+o]=function(e){i[o]=e}}};for(var a in i)o(a)}else;return e}function Ht(e,t){var i=this._staticTrees||(this._staticTrees=[]),n=i[e];return n&&!t?n:(n=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),qt(n,"__static__"+e,!1),n)}function Vt(e,t,i){return qt(e,"__once__"+t+(i?"_"+i:""),!0),e}function qt(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&"string"!==typeof e[n]&&Gt(e[n],t+"_"+n,i);else Gt(e,t,i)}function Gt(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function Kt(e,t){if(t)if(f(t)){var i=e.on=e.on?B({},e.on):{};for(var n in t){var r=i[n],s=t[n];i[n]=r?[].concat(r,s):s}}else;return e}function Wt(e,t,i,n){t=t||{$stable:!i};for(var r=0;r<e.length;r++){var s=e[r];Array.isArray(s)?Wt(s,t,i):s&&(s.proxy&&(s.fn.proxy=!0),t[s.key]=s.fn)}return n&&(t.$key=n),t}function Yt(e,t){for(var i=0;i<t.length;i+=2){var n=t[i];"string"===typeof n&&n&&(e[t[i]]=t[i+1])}return e}function $t(e,t){return"string"===typeof e?t+e:e}function Xt(e){e._o=Vt,e._n=m,e._s=p,e._l=Ft,e._t=Ot,e._q=F,e._i=O,e._m=Ht,e._f=Lt,e._k=jt,e._b=zt,e._v=Se,e._e=we,e._u=Wt,e._g=Kt,e._d=Yt,e._p=$t}function Qt(e,t,n,r,o){var a,u=this,c=o.options;_(r,"_uid")?(a=Object.create(r),a._original=r):(a=r,r=r._original);var f=s(c._compiled),h=!f;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||i,this.injections=Dt(c.inject,r),this.slots=function(){return u.$slots||It(e.scopedSlots,u.$slots=Bt(n,r)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return It(e.scopedSlots,this.slots())}}),f&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=It(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,i,n){var s=fi(a,e,t,i,n,h);return s&&!Array.isArray(s)&&(s.fnScopeId=c._scopeId,s.fnContext=r),s}:this._c=function(e,t,i,n){return fi(a,e,t,i,n,h)}}function Jt(e,t,n,s,o){var a=e.options,u={},c=a.props;if(r(c))for(var f in c)u[f]=Xe(f,c,t||i);else r(n.attrs)&&ei(u,n.attrs),r(n.props)&&ei(u,n.props);var h=new Qt(n,u,o,s,e),l=a.render.call(null,h._c,h);if(l instanceof ye)return Zt(l,n,h.parent,a,h);if(Array.isArray(l)){for(var d=kt(l)||[],p=new Array(d.length),m=0;m<d.length;m++)p[m]=Zt(d[m],n,h.parent,a,h);return p}}function Zt(e,t,i,n,r){var s=Ee(e);return s.fnContext=i,s.fnOptions=n,t.slot&&((s.data||(s.data={})).slot=t.slot),s}function ei(e,t){for(var i in t)e[E(i)]=t[i]}Xt(Qt.prototype);var ti={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;ti.prepatch(i,i)}else{var n=e.componentInstance=ri(e,Ri);n.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var i=t.componentOptions,n=t.componentInstance=e.componentInstance;Ui(n,i.propsData,i.listeners,t,i.children)},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,Li(i,"mounted")),e.data.keepAlive&&(t._isMounted?Qi(i):Fi(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Oi(t,!0):t.$destroy())}},ii=Object.keys(ti);function ni(e,t,i,o,a){if(!n(e)){var c=i.$options._base;if(u(e)&&(e=c.extend(e)),"function"===typeof e){var f;if(n(e.cid)&&(f=e,e=_i(f,c),void 0===e))return yi(f,t,i,o,a);t=t||{},wn(e),r(t.model)&&ai(e.options,t);var h=St(t,e,a);if(s(e.options.functional))return Jt(e,h,t,i,o);var l=t.on;if(t.on=t.nativeOn,s(e.options.abstract)){var d=t.slot;t={},d&&(t.slot=d)}si(t);var p=e.options.name||a,m=new ye("vue-component-"+e.cid+(p?"-"+p:""),t,void 0,void 0,void 0,i,{Ctor:e,propsData:h,listeners:l,tag:a,children:o},f);return m}}}function ri(e,t){var i={_isComponent:!0,_parentVnode:e,parent:t},n=e.data.inlineTemplate;return r(n)&&(i.render=n.render,i.staticRenderFns=n.staticRenderFns),new e.componentOptions.Ctor(i)}function si(e){for(var t=e.hook||(e.hook={}),i=0;i<ii.length;i++){var n=ii[i],r=t[n],s=ti[n];r===s||r&&r._merged||(t[n]=r?oi(s,r):s)}}function oi(e,t){var i=function(i,n){e(i,n),t(i,n)};return i._merged=!0,i}function ai(e,t){var i=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value;var s=t.on||(t.on={}),o=s[n],a=t.model.callback;r(o)?(Array.isArray(o)?-1===o.indexOf(a):o!==a)&&(s[n]=[a].concat(o)):s[n]=a}var ui=1,ci=2;function fi(e,t,i,n,r,o){return(Array.isArray(i)||a(i))&&(r=n,n=i,i=void 0),s(o)&&(r=ci),hi(e,t,i,n,r)}function hi(e,t,i,n,s){if(r(i)&&r(i.__ob__))return we();if(r(i)&&r(i.is)&&(t=i.is),!t)return we();var o,a,u;(Array.isArray(n)&&"function"===typeof n[0]&&(i=i||{},i.scopedSlots={default:n[0]},n.length=0),s===ci?n=kt(n):s===ui&&(n=xt(n)),"string"===typeof t)?(a=e.$vnode&&e.$vnode.ns||H.getTagNamespace(t),o=H.isReservedTag(t)?new ye(H.parsePlatformTagName(t),i,n,void 0,void 0,e):i&&i.pre||!r(u=$e(e.$options,"components",t))?new ye(t,i,n,void 0,void 0,e):ni(u,i,e,n,t)):o=ni(t,i,e,n);return Array.isArray(o)?o:r(o)?(r(a)&&li(o,a),r(i)&&di(i),o):we()}function li(e,t,i){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,i=!0),r(e.children))for(var o=0,a=e.children.length;o<a;o++){var u=e.children[o];r(u.tag)&&(n(u.ns)||s(i)&&"svg"!==u.tag)&&li(u,t,i)}}function di(e){u(e.style)&&bt(e.style),u(e.class)&&bt(e.class)}function pi(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=Bt(t._renderChildren,r),e.$scopedSlots=i,e._c=function(t,i,n,r){return fi(e,t,i,n,r,!1)},e.$createElement=function(t,i,n,r){return fi(e,t,i,n,r,!0)};var s=n&&n.data;Ue(e,"$attrs",s&&s.attrs||i,null,!0),Ue(e,"$listeners",t._parentListeners||i,null,!0)}var mi,bi=null;function vi(e){Xt(e.prototype),e.prototype.$nextTick=function(e){return pt(e,this)},e.prototype._render=function(){var e,t=this,i=t.$options,n=i.render,r=i._parentVnode;r&&(t.$scopedSlots=It(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{bi=t,e=n.call(t._renderProxy,t.$createElement)}catch(Eo){tt(Eo,t,"render"),e=t._vnode}finally{bi=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof ye||(e=we()),e.parent=r,e}}function gi(e,t){return(e.__esModule||le&&"Module"===e[Symbol.toStringTag])&&(e=e.default),u(e)?t.extend(e):e}function yi(e,t,i,n,r){var s=we();return s.asyncFactory=e,s.asyncMeta={data:t,context:i,children:n,tag:r},s}function _i(e,t){if(s(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var i=bi;if(i&&r(e.owners)&&-1===e.owners.indexOf(i)&&e.owners.push(i),s(e.loading)&&r(e.loadingComp))return e.loadingComp;if(i&&!r(e.owners)){var o=e.owners=[i],a=!0,c=null,f=null;i.$on("hook:destroyed",(function(){return g(o,i)}));var h=function(e){for(var t=0,i=o.length;t<i;t++)o[t].$forceUpdate();e&&(o.length=0,null!==c&&(clearTimeout(c),c=null),null!==f&&(clearTimeout(f),f=null))},l=L((function(i){e.resolved=gi(i,t),a?o.length=0:h(!0)})),p=L((function(t){r(e.errorComp)&&(e.error=!0,h(!0))})),m=e(l,p);return u(m)&&(d(m)?n(e.resolved)&&m.then(l,p):d(m.component)&&(m.component.then(l,p),r(m.error)&&(e.errorComp=gi(m.error,t)),r(m.loading)&&(e.loadingComp=gi(m.loading,t),0===m.delay?e.loading=!0:c=setTimeout((function(){c=null,n(e.resolved)&&n(e.error)&&(e.loading=!0,h(!1))}),m.delay||200)),r(m.timeout)&&(f=setTimeout((function(){f=null,n(e.resolved)&&p(null)}),m.timeout)))),a=!1,e.loading?e.loadingComp:e.resolved}}function wi(e){return e.isComment&&e.asyncFactory}function Si(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(r(i)&&(r(i.componentOptions)||wi(i)))return i}}function Ei(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Ti(e,t)}function xi(e,t){mi.$on(e,t)}function ki(e,t){mi.$off(e,t)}function Ai(e,t){var i=mi;return function n(){var r=t.apply(null,arguments);null!==r&&i.$off(e,n)}}function Ti(e,t,i){mi=e,_t(t,i||{},xi,ki,Ai,e),mi=void 0}function Ci(e){var t=/^hook:/;e.prototype.$on=function(e,i){var n=this;if(Array.isArray(e))for(var r=0,s=e.length;r<s;r++)n.$on(e[r],i);else(n._events[e]||(n._events[e]=[])).push(i),t.test(e)&&(n._hasHookEvent=!0);return n},e.prototype.$once=function(e,t){var i=this;function n(){i.$off(e,n),t.apply(i,arguments)}return n.fn=t,i.$on(e,n),i},e.prototype.$off=function(e,t){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)i.$off(e[n],t);return i}var s,o=i._events[e];if(!o)return i;if(!t)return i._events[e]=null,i;var a=o.length;while(a--)if(s=o[a],s===t||s.fn===t){o.splice(a,1);break}return i},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?D(i):i;for(var n=D(arguments,1),r='event handler for "'+e+'"',s=0,o=i.length;s<o;s++)it(i[s],t,n,t,r)}return t}}var Ri=null;function Di(e){var t=Ri;return Ri=e,function(){Ri=t}}function Bi(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Mi(e){e.prototype._update=function(e,t){var i=this,n=i.$el,r=i._vnode,s=Di(i);i._vnode=e,i.$el=r?i.__patch__(r,e):i.__patch__(i.$el,e,t,!1),s(),n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Li(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||g(t.$children,e),e._watcher&&e._watcher.teardown();var i=e._watchers.length;while(i--)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Li(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Ii(e,t,i){var n;return e.$el=t,e.$options.render||(e.$options.render=we),Li(e,"beforeMount"),n=function(){e._update(e._render(),i)},new tn(e,n,I,{before:function(){e._isMounted&&!e._isDestroyed&&Li(e,"beforeUpdate")}},!0),i=!1,null==e.$vnode&&(e._isMounted=!0,Li(e,"mounted")),e}function Ui(e,t,n,r,s){var o=r.data.scopedSlots,a=e.$scopedSlots,u=!!(o&&!o.$stable||a!==i&&!a.$stable||o&&e.$scopedSlots.$key!==o.$key),c=!!(s||e.$options._renderChildren||u);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=s,e.$attrs=r.data.attrs||i,e.$listeners=n||i,t&&e.$options.props){Re(!1);for(var f=e._props,h=e.$options._propKeys||[],l=0;l<h.length;l++){var d=h[l],p=e.$options.props;f[d]=Xe(d,p,t,e)}Re(!0),e.$options.propsData=t}n=n||i;var m=e.$options._parentListeners;e.$options._parentListeners=n,Ti(e,n,m),c&&(e.$slots=Bt(s,r.context),e.$forceUpdate())}function Pi(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Fi(e,t){if(t){if(e._directInactive=!1,Pi(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)Fi(e.$children[i]);Li(e,"activated")}}function Oi(e,t){if((!t||(e._directInactive=!0,!Pi(e)))&&!e._inactive){e._inactive=!0;for(var i=0;i<e.$children.length;i++)Oi(e.$children[i]);Li(e,"deactivated")}}function Li(e,t){ve();var i=e.$options[t],n=t+" hook";if(i)for(var r=0,s=i.length;r<s;r++)it(i[r],e,null,e,n);e._hasHookEvent&&e.$emit("hook:"+t),ge()}var Ni=[],ji=[],zi={},Hi=!1,Vi=!1,qi=0;function Gi(){qi=Ni.length=ji.length=0,zi={},Hi=Vi=!1}var Ki=0,Wi=Date.now;if(X&&!ee){var Yi=window.performance;Yi&&"function"===typeof Yi.now&&Wi()>document.createEvent("Event").timeStamp&&(Wi=function(){return Yi.now()})}function $i(){var e,t;for(Ki=Wi(),Vi=!0,Ni.sort((function(e,t){return e.id-t.id})),qi=0;qi<Ni.length;qi++)e=Ni[qi],e.before&&e.before(),t=e.id,zi[t]=null,e.run();var i=ji.slice(),n=Ni.slice();Gi(),Ji(i),Xi(n),ce&&H.devtools&&ce.emit("flush")}function Xi(e){var t=e.length;while(t--){var i=e[t],n=i.vm;n._watcher===i&&n._isMounted&&!n._isDestroyed&&Li(n,"updated")}}function Qi(e){e._inactive=!1,ji.push(e)}function Ji(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Fi(e[t],!0)}function Zi(e){var t=e.id;if(null==zi[t]){if(zi[t]=!0,Vi){var i=Ni.length-1;while(i>qi&&Ni[i].id>e.id)i--;Ni.splice(i+1,0,e)}else Ni.push(e);Hi||(Hi=!0,pt($i))}}var en=0,tn=function(e,t,i,n,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++en,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new he,this.newDepIds=new he,this.expression="","function"===typeof t?this.getter=t:(this.getter=W(t),this.getter||(this.getter=I)),this.value=this.lazy?void 0:this.get()};tn.prototype.get=function(){var e;ve(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Eo){if(!this.user)throw Eo;tt(Eo,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&bt(e),ge(),this.cleanupDeps()}return e},tn.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},tn.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},tn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Zi(this)},tn.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||u(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(Eo){tt(Eo,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},tn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},tn.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},tn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var nn={enumerable:!0,configurable:!0,get:I,set:I};function rn(e,t,i){nn.get=function(){return this[t][i]},nn.set=function(e){this[t][i]=e},Object.defineProperty(e,i,nn)}function sn(e){e._watchers=[];var t=e.$options;t.props&&on(e,t.props),t.methods&&pn(e,t.methods),t.data?an(e):Ie(e._data={},!0),t.computed&&fn(e,t.computed),t.watch&&t.watch!==se&&mn(e,t.watch)}function on(e,t){var i=e.$options.propsData||{},n=e._props={},r=e.$options._propKeys=[],s=!e.$parent;s||Re(!1);var o=function(s){r.push(s);var o=Xe(s,t,i,e);Ue(n,s,o),s in e||rn(e,"_props",s)};for(var a in t)o(a);Re(!0)}function an(e){var t=e.$options.data;t=e._data="function"===typeof t?un(t,e):t||{},f(t)||(t={});var i=Object.keys(t),n=e.$options.props,r=(e.$options.methods,i.length);while(r--){var s=i[r];0,n&&_(n,s)||q(s)||rn(e,"_data",s)}Ie(t,!0)}function un(e,t){ve();try{return e.call(t,t)}catch(Eo){return tt(Eo,t,"data()"),{}}finally{ge()}}var cn={lazy:!0};function fn(e,t){var i=e._computedWatchers=Object.create(null),n=ue();for(var r in t){var s=t[r],o="function"===typeof s?s:s.get;0,n||(i[r]=new tn(e,o||I,I,cn)),r in e||hn(e,r,s)}}function hn(e,t,i){var n=!ue();"function"===typeof i?(nn.get=n?ln(t):dn(i),nn.set=I):(nn.get=i.get?n&&!1!==i.cache?ln(t):dn(i.get):I,nn.set=i.set||I),Object.defineProperty(e,t,nn)}function ln(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),me.target&&t.depend(),t.value}}function dn(e){return function(){return e.call(this,this)}}function pn(e,t){e.$options.props;for(var i in t)e[i]="function"!==typeof t[i]?I:R(t[i],e)}function mn(e,t){for(var i in t){var n=t[i];if(Array.isArray(n))for(var r=0;r<n.length;r++)bn(e,i,n[r]);else bn(e,i,n)}}function bn(e,t,i,n){return f(i)&&(n=i,i=i.handler),"string"===typeof i&&(i=e[i]),e.$watch(t,i,n)}function vn(e){var t={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=Pe,e.prototype.$delete=Fe,e.prototype.$watch=function(e,t,i){var n=this;if(f(t))return bn(n,e,t,i);i=i||{},i.user=!0;var r=new tn(n,e,t,i);if(i.immediate)try{t.call(n,r.value)}catch(s){tt(s,n,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}var gn=0;function yn(e){e.prototype._init=function(e){var t=this;t._uid=gn++,t._isVue=!0,e&&e._isComponent?_n(t,e):t.$options=Ye(wn(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Bi(t),Ei(t),pi(t),Li(t,"beforeCreate"),Rt(t),sn(t),Ct(t),Li(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function _n(e,t){var i=e.$options=Object.create(e.constructor.options),n=t._parentVnode;i.parent=t.parent,i._parentVnode=n;var r=n.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}function wn(e){var t=e.options;if(e.super){var i=wn(e.super),n=e.superOptions;if(i!==n){e.superOptions=i;var r=Sn(e);r&&B(e.extendOptions,r),t=e.options=Ye(i,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Sn(e){var t,i=e.options,n=e.sealedOptions;for(var r in i)i[r]!==n[r]&&(t||(t={}),t[r]=i[r]);return t}function En(e){this._init(e)}function xn(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=D(arguments,1);return i.unshift(this),"function"===typeof e.install?e.install.apply(e,i):"function"===typeof e&&e.apply(null,i),t.push(e),this}}function kn(e){e.mixin=function(e){return this.options=Ye(this.options,e),this}}function An(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,n=i.cid,r=e._Ctor||(e._Ctor={});if(r[n])return r[n];var s=e.name||i.options.name;var o=function(e){this._init(e)};return o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.cid=t++,o.options=Ye(i.options,e),o["super"]=i,o.options.props&&Tn(o),o.options.computed&&Cn(o),o.extend=i.extend,o.mixin=i.mixin,o.use=i.use,j.forEach((function(e){o[e]=i[e]})),s&&(o.options.components[s]=o),o.superOptions=i.options,o.extendOptions=e,o.sealedOptions=B({},o.options),r[n]=o,o}}function Tn(e){var t=e.options.props;for(var i in t)rn(e.prototype,"_props",i)}function Cn(e){var t=e.options.computed;for(var i in t)hn(e.prototype,i,t[i])}function Rn(e){j.forEach((function(t){e[t]=function(e,i){return i?("component"===t&&f(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&"function"===typeof i&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}}))}function Dn(e){return e&&(e.Ctor.options.name||e.tag)}function Bn(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!h(e)&&e.test(t)}function Mn(e,t){var i=e.cache,n=e.keys,r=e._vnode;for(var s in i){var o=i[s];if(o){var a=Dn(o.componentOptions);a&&!t(a)&&In(i,s,n,r)}}}function In(e,t,i,n){var r=e[t];!r||n&&r.tag===n.tag||r.componentInstance.$destroy(),e[t]=null,g(i,t)}yn(En),vn(En),Ci(En),Mi(En),vi(En);var Un=[String,RegExp,Array],Pn={name:"keep-alive",abstract:!0,props:{include:Un,exclude:Un,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)In(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){Mn(e,(function(e){return Bn(t,e)}))})),this.$watch("exclude",(function(t){Mn(e,(function(e){return!Bn(t,e)}))}))},render:function(){var e=this.$slots.default,t=Si(e),i=t&&t.componentOptions;if(i){var n=Dn(i),r=this,s=r.include,o=r.exclude;if(s&&(!n||!Bn(s,n))||o&&n&&Bn(o,n))return t;var a=this,u=a.cache,c=a.keys,f=null==t.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):t.key;u[f]?(t.componentInstance=u[f].componentInstance,g(c,f),c.push(f)):(u[f]=t,c.push(f),this.max&&c.length>parseInt(this.max)&&In(u,c[0],c,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},Fn={KeepAlive:Pn};function On(e){var t={get:function(){return H}};Object.defineProperty(e,"config",t),e.util={warn:de,extend:B,mergeOptions:Ye,defineReactive:Ue},e.set=Pe,e.delete=Fe,e.nextTick=pt,e.observable=function(e){return Ie(e),e},e.options=Object.create(null),j.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,B(e.options.components,Fn),xn(e),kn(e),An(e),Rn(e)}On(En),Object.defineProperty(En.prototype,"$isServer",{get:ue}),Object.defineProperty(En.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(En,"FunctionalRenderContext",{value:Qt}),En.version="2.6.10";var Ln=b("style,class"),Nn=b("input,textarea,option,select,progress"),jn=function(e,t,i){return"value"===i&&Nn(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},zn=b("contenteditable,draggable,spellcheck"),Hn=b("events,caret,typing,plaintext-only"),Vn=function(e,t){return Yn(t)||"false"===t?"false":"contenteditable"===e&&Hn(t)?t:"true"},qn=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Gn="http://www.w3.org/1999/xlink",Kn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Wn=function(e){return Kn(e)?e.slice(6,e.length):""},Yn=function(e){return null==e||!1===e};function $n(e){var t=e.data,i=e,n=e;while(r(n.componentInstance))n=n.componentInstance._vnode,n&&n.data&&(t=Xn(n.data,t));while(r(i=i.parent))i&&i.data&&(t=Xn(t,i.data));return Qn(t.staticClass,t.class)}function Xn(e,t){return{staticClass:Jn(e.staticClass,t.staticClass),class:r(e.class)?[e.class,t.class]:t.class}}function Qn(e,t){return r(e)||r(t)?Jn(e,Zn(t)):""}function Jn(e,t){return e?t?e+" "+t:e:t||""}function Zn(e){return Array.isArray(e)?er(e):u(e)?tr(e):"string"===typeof e?e:""}function er(e){for(var t,i="",n=0,s=e.length;n<s;n++)r(t=Zn(e[n]))&&""!==t&&(i&&(i+=" "),i+=t);return i}function tr(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}var ir={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},nr=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),rr=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),sr=function(e){return nr(e)||rr(e)};function or(e){return rr(e)?"svg":"math"===e?"math":void 0}var ar=Object.create(null);function ur(e){if(!X)return!0;if(sr(e))return!1;if(e=e.toLowerCase(),null!=ar[e])return ar[e];var t=document.createElement(e);return e.indexOf("-")>-1?ar[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ar[e]=/HTMLUnknownElement/.test(t.toString())}var cr=b("text,number,password,search,email,tel,url");function fr(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function hr(e,t){var i=document.createElement(e);return"select"!==e?i:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)}function lr(e,t){return document.createElementNS(ir[e],t)}function dr(e){return document.createTextNode(e)}function pr(e){return document.createComment(e)}function mr(e,t,i){e.insertBefore(t,i)}function br(e,t){e.removeChild(t)}function vr(e,t){e.appendChild(t)}function gr(e){return e.parentNode}function yr(e){return e.nextSibling}function _r(e){return e.tagName}function wr(e,t){e.textContent=t}function Sr(e,t){e.setAttribute(t,"")}var Er=Object.freeze({createElement:hr,createElementNS:lr,createTextNode:dr,createComment:pr,insertBefore:mr,removeChild:br,appendChild:vr,parentNode:gr,nextSibling:yr,tagName:_r,setTextContent:wr,setStyleScope:Sr}),xr={create:function(e,t){kr(t)},update:function(e,t){e.data.ref!==t.data.ref&&(kr(e,!0),kr(t))},destroy:function(e){kr(e,!0)}};function kr(e,t){var i=e.data.ref;if(r(i)){var n=e.context,s=e.componentInstance||e.elm,o=n.$refs;t?Array.isArray(o[i])?g(o[i],s):o[i]===s&&(o[i]=void 0):e.data.refInFor?Array.isArray(o[i])?o[i].indexOf(s)<0&&o[i].push(s):o[i]=[s]:o[i]=s}}var Ar=new ye("",{},[]),Tr=["create","activate","update","remove","destroy"];function Cr(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&Rr(e,t)||s(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&n(t.asyncFactory.error))}function Rr(e,t){if("input"!==e.tag)return!0;var i,n=r(i=e.data)&&r(i=i.attrs)&&i.type,s=r(i=t.data)&&r(i=i.attrs)&&i.type;return n===s||cr(n)&&cr(s)}function Dr(e,t,i){var n,s,o={};for(n=t;n<=i;++n)s=e[n].key,r(s)&&(o[s]=n);return o}function Br(e){var t,i,o={},u=e.modules,c=e.nodeOps;for(t=0;t<Tr.length;++t)for(o[Tr[t]]=[],i=0;i<u.length;++i)r(u[i][Tr[t]])&&o[Tr[t]].push(u[i][Tr[t]]);function f(e){return new ye(c.tagName(e).toLowerCase(),{},[],void 0,e)}function h(e,t){function i(){0===--i.listeners&&l(e)}return i.listeners=t,i}function l(e){var t=c.parentNode(e);r(t)&&c.removeChild(t,e)}function d(e,t,i,n,o,a,u){if(r(e.elm)&&r(a)&&(e=a[u]=Ee(e)),e.isRootInsert=!o,!p(e,t,i,n)){var f=e.data,h=e.children,l=e.tag;r(l)?(e.elm=e.ns?c.createElementNS(e.ns,l):c.createElement(l,e),S(e),y(e,h,t),r(f)&&w(e,t),g(i,e.elm,n)):s(e.isComment)?(e.elm=c.createComment(e.text),g(i,e.elm,n)):(e.elm=c.createTextNode(e.text),g(i,e.elm,n))}}function p(e,t,i,n){var o=e.data;if(r(o)){var a=r(e.componentInstance)&&o.keepAlive;if(r(o=o.hook)&&r(o=o.init)&&o(e,!1),r(e.componentInstance))return m(e,t),g(i,e.elm,n),s(a)&&v(e,t,i,n),!0}}function m(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,_(e)?(w(e,t),S(e)):(kr(e),t.push(e))}function v(e,t,i,n){var s,a=e;while(a.componentInstance)if(a=a.componentInstance._vnode,r(s=a.data)&&r(s=s.transition)){for(s=0;s<o.activate.length;++s)o.activate[s](Ar,a);t.push(a);break}g(i,e.elm,n)}function g(e,t,i){r(e)&&(r(i)?c.parentNode(i)===e&&c.insertBefore(e,t,i):c.appendChild(e,t))}function y(e,t,i){if(Array.isArray(t)){0;for(var n=0;n<t.length;++n)d(t[n],i,e.elm,null,!0,t,n)}else a(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function _(e){while(e.componentInstance)e=e.componentInstance._vnode;return r(e.tag)}function w(e,i){for(var n=0;n<o.create.length;++n)o.create[n](Ar,e);t=e.data.hook,r(t)&&(r(t.create)&&t.create(Ar,e),r(t.insert)&&i.push(e))}function S(e){var t;if(r(t=e.fnScopeId))c.setStyleScope(e.elm,t);else{var i=e;while(i)r(t=i.context)&&r(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),i=i.parent}r(t=Ri)&&t!==e.context&&t!==e.fnContext&&r(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function E(e,t,i,n,r,s){for(;n<=r;++n)d(i[n],s,e,t,!1,i,n)}function x(e){var t,i,n=e.data;if(r(n))for(r(t=n.hook)&&r(t=t.destroy)&&t(e),t=0;t<o.destroy.length;++t)o.destroy[t](e);if(r(t=e.children))for(i=0;i<e.children.length;++i)x(e.children[i])}function k(e,t,i,n){for(;i<=n;++i){var s=t[i];r(s)&&(r(s.tag)?(A(s),x(s)):l(s.elm))}}function A(e,t){if(r(t)||r(e.data)){var i,n=o.remove.length+1;for(r(t)?t.listeners+=n:t=h(e.elm,n),r(i=e.componentInstance)&&r(i=i._vnode)&&r(i.data)&&A(i,t),i=0;i<o.remove.length;++i)o.remove[i](e,t);r(i=e.data.hook)&&r(i=i.remove)?i(e,t):t()}else l(e.elm)}function T(e,t,i,s,o){var a,u,f,h,l=0,p=0,m=t.length-1,b=t[0],v=t[m],g=i.length-1,y=i[0],_=i[g],w=!o;while(l<=m&&p<=g)n(b)?b=t[++l]:n(v)?v=t[--m]:Cr(b,y)?(R(b,y,s,i,p),b=t[++l],y=i[++p]):Cr(v,_)?(R(v,_,s,i,g),v=t[--m],_=i[--g]):Cr(b,_)?(R(b,_,s,i,g),w&&c.insertBefore(e,b.elm,c.nextSibling(v.elm)),b=t[++l],_=i[--g]):Cr(v,y)?(R(v,y,s,i,p),w&&c.insertBefore(e,v.elm,b.elm),v=t[--m],y=i[++p]):(n(a)&&(a=Dr(t,l,m)),u=r(y.key)?a[y.key]:C(y,t,l,m),n(u)?d(y,s,e,b.elm,!1,i,p):(f=t[u],Cr(f,y)?(R(f,y,s,i,p),t[u]=void 0,w&&c.insertBefore(e,f.elm,b.elm)):d(y,s,e,b.elm,!1,i,p)),y=i[++p]);l>m?(h=n(i[g+1])?null:i[g+1].elm,E(e,h,i,p,g,s)):p>g&&k(e,t,l,m)}function C(e,t,i,n){for(var s=i;s<n;s++){var o=t[s];if(r(o)&&Cr(e,o))return s}}function R(e,t,i,a,u,f){if(e!==t){r(t.elm)&&r(a)&&(t=a[u]=Ee(t));var h=t.elm=e.elm;if(s(e.isAsyncPlaceholder))r(t.asyncFactory.resolved)?M(e.elm,t,i):t.isAsyncPlaceholder=!0;else if(s(t.isStatic)&&s(e.isStatic)&&t.key===e.key&&(s(t.isCloned)||s(t.isOnce)))t.componentInstance=e.componentInstance;else{var l,d=t.data;r(d)&&r(l=d.hook)&&r(l=l.prepatch)&&l(e,t);var p=e.children,m=t.children;if(r(d)&&_(t)){for(l=0;l<o.update.length;++l)o.update[l](e,t);r(l=d.hook)&&r(l=l.update)&&l(e,t)}n(t.text)?r(p)&&r(m)?p!==m&&T(h,p,m,i,f):r(m)?(r(e.text)&&c.setTextContent(h,""),E(h,null,m,0,m.length-1,i)):r(p)?k(h,p,0,p.length-1):r(e.text)&&c.setTextContent(h,""):e.text!==t.text&&c.setTextContent(h,t.text),r(d)&&r(l=d.hook)&&r(l=l.postpatch)&&l(e,t)}}}function D(e,t,i){if(s(i)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var n=0;n<t.length;++n)t[n].data.hook.insert(t[n])}var B=b("attrs,class,staticClass,staticStyle,key");function M(e,t,i,n){var o,a=t.tag,u=t.data,c=t.children;if(n=n||u&&u.pre,t.elm=e,s(t.isComment)&&r(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(r(u)&&(r(o=u.hook)&&r(o=o.init)&&o(t,!0),r(o=t.componentInstance)))return m(t,i),!0;if(r(a)){if(r(c))if(e.hasChildNodes())if(r(o=u)&&r(o=o.domProps)&&r(o=o.innerHTML)){if(o!==e.innerHTML)return!1}else{for(var f=!0,h=e.firstChild,l=0;l<c.length;l++){if(!h||!M(h,c[l],i,n)){f=!1;break}h=h.nextSibling}if(!f||h)return!1}else y(t,c,i);if(r(u)){var d=!1;for(var p in u)if(!B(p)){d=!0,w(t,i);break}!d&&u["class"]&&bt(u["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,i,a){if(!n(t)){var u=!1,h=[];if(n(e))u=!0,d(t,h);else{var l=r(e.nodeType);if(!l&&Cr(e,t))R(e,t,h,null,null,a);else{if(l){if(1===e.nodeType&&e.hasAttribute(N)&&(e.removeAttribute(N),i=!0),s(i)&&M(e,t,h))return D(t,h,!0),e;e=f(e)}var p=e.elm,m=c.parentNode(p);if(d(t,h,p._leaveCb?null:m,c.nextSibling(p)),r(t.parent)){var b=t.parent,v=_(t);while(b){for(var g=0;g<o.destroy.length;++g)o.destroy[g](b);if(b.elm=t.elm,v){for(var y=0;y<o.create.length;++y)o.create[y](Ar,b);var w=b.data.hook.insert;if(w.merged)for(var S=1;S<w.fns.length;S++)w.fns[S]()}else kr(b);b=b.parent}}r(m)?k(m,[e],0,0):r(e.tag)&&x(e)}}return D(t,h,u),t.elm}r(e)&&x(e)}}var Mr={create:Ir,update:Ir,destroy:function(e){Ir(e,Ar)}};function Ir(e,t){(e.data.directives||t.data.directives)&&Ur(e,t)}function Ur(e,t){var i,n,r,s=e===Ar,o=t===Ar,a=Fr(e.data.directives,e.context),u=Fr(t.data.directives,t.context),c=[],f=[];for(i in u)n=a[i],r=u[i],n?(r.oldValue=n.value,r.oldArg=n.arg,Lr(r,"update",t,e),r.def&&r.def.componentUpdated&&f.push(r)):(Lr(r,"bind",t,e),r.def&&r.def.inserted&&c.push(r));if(c.length){var h=function(){for(var i=0;i<c.length;i++)Lr(c[i],"inserted",t,e)};s?wt(t,"insert",h):h()}if(f.length&&wt(t,"postpatch",(function(){for(var i=0;i<f.length;i++)Lr(f[i],"componentUpdated",t,e)})),!s)for(i in a)u[i]||Lr(a[i],"unbind",e,e,o)}var Pr=Object.create(null);function Fr(e,t){var i,n,r=Object.create(null);if(!e)return r;for(i=0;i<e.length;i++)n=e[i],n.modifiers||(n.modifiers=Pr),r[Or(n)]=n,n.def=$e(t.$options,"directives",n.name,!0);return r}function Or(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Lr(e,t,i,n,r){var s=e.def&&e.def[t];if(s)try{s(i.elm,e,i,n,r)}catch(Eo){tt(Eo,i.context,"directive "+e.name+" "+t+" hook")}}var Nr=[xr,Mr];function jr(e,t){var i=t.componentOptions;if((!r(i)||!1!==i.Ctor.options.inheritAttrs)&&(!n(e.data.attrs)||!n(t.data.attrs))){var s,o,a,u=t.elm,c=e.data.attrs||{},f=t.data.attrs||{};for(s in r(f.__ob__)&&(f=t.data.attrs=B({},f)),f)o=f[s],a=c[s],a!==o&&zr(u,s,o);for(s in(ee||ie)&&f.value!==c.value&&zr(u,"value",f.value),c)n(f[s])&&(Kn(s)?u.removeAttributeNS(Gn,Wn(s)):zn(s)||u.removeAttribute(s))}}function zr(e,t,i){e.tagName.indexOf("-")>-1?Hr(e,t,i):qn(t)?Yn(i)?e.removeAttribute(t):(i="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,i)):zn(t)?e.setAttribute(t,Vn(t,i)):Kn(t)?Yn(i)?e.removeAttributeNS(Gn,Wn(t)):e.setAttributeNS(Gn,t,i):Hr(e,t,i)}function Hr(e,t,i){if(Yn(i))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==i&&!e.__ieph){var n=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",n)};e.addEventListener("input",n),e.__ieph=!0}e.setAttribute(t,i)}}var Vr={create:jr,update:jr};function qr(e,t){var i=t.elm,s=t.data,o=e.data;if(!(n(s.staticClass)&&n(s.class)&&(n(o)||n(o.staticClass)&&n(o.class)))){var a=$n(t),u=i._transitionClasses;r(u)&&(a=Jn(a,Zn(u))),a!==i._prevClass&&(i.setAttribute("class",a),i._prevClass=a)}}var Gr,Kr={create:qr,update:qr},Wr="__r",Yr="__c";function $r(e){if(r(e[Wr])){var t=ee?"change":"input";e[t]=[].concat(e[Wr],e[t]||[]),delete e[Wr]}r(e[Yr])&&(e.change=[].concat(e[Yr],e.change||[]),delete e[Yr])}function Xr(e,t,i){var n=Gr;return function r(){var s=t.apply(null,arguments);null!==s&&Zr(e,r,i,n)}}var Qr=ot&&!(re&&Number(re[1])<=53);function Jr(e,t,i,n){if(Qr){var r=Ki,s=t;t=s._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return s.apply(this,arguments)}}Gr.addEventListener(e,t,oe?{capture:i,passive:n}:i)}function Zr(e,t,i,n){(n||Gr).removeEventListener(e,t._wrapper||t,i)}function es(e,t){if(!n(e.data.on)||!n(t.data.on)){var i=t.data.on||{},r=e.data.on||{};Gr=t.elm,$r(i),_t(i,r,Jr,Zr,Xr,t.context),Gr=void 0}}var ts,is={create:es,update:es};function ns(e,t){if(!n(e.data.domProps)||!n(t.data.domProps)){var i,s,o=t.elm,a=e.data.domProps||{},u=t.data.domProps||{};for(i in r(u.__ob__)&&(u=t.data.domProps=B({},u)),a)i in u||(o[i]="");for(i in u){if(s=u[i],"textContent"===i||"innerHTML"===i){if(t.children&&(t.children.length=0),s===a[i])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===i&&"PROGRESS"!==o.tagName){o._value=s;var c=n(s)?"":String(s);rs(o,c)&&(o.value=c)}else if("innerHTML"===i&&rr(o.tagName)&&n(o.innerHTML)){ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+s+"</svg>";var f=ts.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(f.firstChild)o.appendChild(f.firstChild)}else if(s!==a[i])try{o[i]=s}catch(Eo){}}}}function rs(e,t){return!e.composing&&("OPTION"===e.tagName||ss(e,t)||os(e,t))}function ss(e,t){var i=!0;try{i=document.activeElement!==e}catch(Eo){}return i&&e.value!==t}function os(e,t){var i=e.value,n=e._vModifiers;if(r(n)){if(n.number)return m(i)!==m(t);if(n.trim)return i.trim()!==t.trim()}return i!==t}var as={create:ns,update:ns},us=w((function(e){var t={},i=/;(?![^(]*\))/g,n=/:(.+)/;return e.split(i).forEach((function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function cs(e){var t=fs(e.style);return e.staticStyle?B(e.staticStyle,t):t}function fs(e){return Array.isArray(e)?M(e):"string"===typeof e?us(e):e}function hs(e,t){var i,n={};if(t){var r=e;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(i=cs(r.data))&&B(n,i)}(i=cs(e.data))&&B(n,i);var s=e;while(s=s.parent)s.data&&(i=cs(s.data))&&B(n,i);return n}var ls,ds=/^--/,ps=/\s*!important$/,ms=function(e,t,i){if(ds.test(t))e.style.setProperty(t,i);else if(ps.test(i))e.style.setProperty(A(t),i.replace(ps,""),"important");else{var n=vs(t);if(Array.isArray(i))for(var r=0,s=i.length;r<s;r++)e.style[n]=i[r];else e.style[n]=i}},bs=["Webkit","Moz","ms"],vs=w((function(e){if(ls=ls||document.createElement("div").style,e=E(e),"filter"!==e&&e in ls)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<bs.length;i++){var n=bs[i]+t;if(n in ls)return n}}));function gs(e,t){var i=t.data,s=e.data;if(!(n(i.staticStyle)&&n(i.style)&&n(s.staticStyle)&&n(s.style))){var o,a,u=t.elm,c=s.staticStyle,f=s.normalizedStyle||s.style||{},h=c||f,l=fs(t.data.style)||{};t.data.normalizedStyle=r(l.__ob__)?B({},l):l;var d=hs(t,!0);for(a in h)n(d[a])&&ms(u,a,"");for(a in d)o=d[a],o!==h[a]&&ms(u,a,null==o?"":o)}}var ys={create:gs,update:gs},_s=/\s+/;function ws(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(_s).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var i=" "+(e.getAttribute("class")||"")+" ";i.indexOf(" "+t+" ")<0&&e.setAttribute("class",(i+t).trim())}}function Ss(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(_s).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var i=" "+(e.getAttribute("class")||"")+" ",n=" "+t+" ";while(i.indexOf(n)>=0)i=i.replace(n," ");i=i.trim(),i?e.setAttribute("class",i):e.removeAttribute("class")}}function Es(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&B(t,xs(e.name||"v")),B(t,e),t}return"string"===typeof e?xs(e):void 0}}var xs=w((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),ks=X&&!te,As="transition",Ts="animation",Cs="transition",Rs="transitionend",Ds="animation",Bs="animationend";ks&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Cs="WebkitTransition",Rs="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ds="WebkitAnimation",Bs="webkitAnimationEnd"));var Ms=X?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Is(e){Ms((function(){Ms(e)}))}function Us(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),ws(e,t))}function Ps(e,t){e._transitionClasses&&g(e._transitionClasses,t),Ss(e,t)}function Fs(e,t,i){var n=Ls(e,t),r=n.type,s=n.timeout,o=n.propCount;if(!r)return i();var a=r===As?Rs:Bs,u=0,c=function(){e.removeEventListener(a,f),i()},f=function(t){t.target===e&&++u>=o&&c()};setTimeout((function(){u<o&&c()}),s+1),e.addEventListener(a,f)}var Os=/\b(transform|all)(,|$)/;function Ls(e,t){var i,n=window.getComputedStyle(e),r=(n[Cs+"Delay"]||"").split(", "),s=(n[Cs+"Duration"]||"").split(", "),o=Ns(r,s),a=(n[Ds+"Delay"]||"").split(", "),u=(n[Ds+"Duration"]||"").split(", "),c=Ns(a,u),f=0,h=0;t===As?o>0&&(i=As,f=o,h=s.length):t===Ts?c>0&&(i=Ts,f=c,h=u.length):(f=Math.max(o,c),i=f>0?o>c?As:Ts:null,h=i?i===As?s.length:u.length:0);var l=i===As&&Os.test(n[Cs+"Property"]);return{type:i,timeout:f,propCount:h,hasTransform:l}}function Ns(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,i){return js(t)+js(e[i])})))}function js(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function zs(e,t){var i=e.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var s=Es(e.data.transition);if(!n(s)&&!r(i._enterCb)&&1===i.nodeType){var o=s.css,a=s.type,c=s.enterClass,f=s.enterToClass,h=s.enterActiveClass,l=s.appearClass,d=s.appearToClass,p=s.appearActiveClass,b=s.beforeEnter,v=s.enter,g=s.afterEnter,y=s.enterCancelled,_=s.beforeAppear,w=s.appear,S=s.afterAppear,E=s.appearCancelled,x=s.duration,k=Ri,A=Ri.$vnode;while(A&&A.parent)k=A.context,A=A.parent;var T=!k._isMounted||!e.isRootInsert;if(!T||w||""===w){var C=T&&l?l:c,R=T&&p?p:h,D=T&&d?d:f,B=T&&_||b,M=T&&"function"===typeof w?w:v,I=T&&S||g,U=T&&E||y,P=m(u(x)?x.enter:x);0;var F=!1!==o&&!te,O=qs(M),N=i._enterCb=L((function(){F&&(Ps(i,D),Ps(i,R)),N.cancelled?(F&&Ps(i,C),U&&U(i)):I&&I(i),i._enterCb=null}));e.data.show||wt(e,"insert",(function(){var t=i.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),M&&M(i,N)})),B&&B(i),F&&(Us(i,C),Us(i,R),Is((function(){Ps(i,C),N.cancelled||(Us(i,D),O||(Vs(P)?setTimeout(N,P):Fs(i,a,N)))}))),e.data.show&&(t&&t(),M&&M(i,N)),F||O||N()}}}function Hs(e,t){var i=e.elm;r(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var s=Es(e.data.transition);if(n(s)||1!==i.nodeType)return t();if(!r(i._leaveCb)){var o=s.css,a=s.type,c=s.leaveClass,f=s.leaveToClass,h=s.leaveActiveClass,l=s.beforeLeave,d=s.leave,p=s.afterLeave,b=s.leaveCancelled,v=s.delayLeave,g=s.duration,y=!1!==o&&!te,_=qs(d),w=m(u(g)?g.leave:g);0;var S=i._leaveCb=L((function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),y&&(Ps(i,f),Ps(i,h)),S.cancelled?(y&&Ps(i,c),b&&b(i)):(t(),p&&p(i)),i._leaveCb=null}));v?v(E):E()}function E(){S.cancelled||(!e.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),l&&l(i),y&&(Us(i,c),Us(i,h),Is((function(){Ps(i,c),S.cancelled||(Us(i,f),_||(Vs(w)?setTimeout(S,w):Fs(i,a,S)))}))),d&&d(i,S),y||_||S())}}function Vs(e){return"number"===typeof e&&!isNaN(e)}function qs(e){if(n(e))return!1;var t=e.fns;return r(t)?qs(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Gs(e,t){!0!==t.data.show&&zs(t)}var Ks=X?{create:Gs,activate:Gs,remove:function(e,t){!0!==e.data.show?Hs(e,t):t()}}:{},Ws=[Vr,Kr,is,as,ys,Ks],Ys=Ws.concat(Nr),$s=Br({nodeOps:Er,modules:Ys});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&no(e,"input")}));var Xs={inserted:function(e,t,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?wt(i,"postpatch",(function(){Xs.componentUpdated(e,t,i)})):Qs(e,t,i.context),e._vOptions=[].map.call(e.options,eo)):("textarea"===i.tag||cr(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",to),e.addEventListener("compositionend",io),e.addEventListener("change",io),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){if("select"===i.tag){Qs(e,t,i.context);var n=e._vOptions,r=e._vOptions=[].map.call(e.options,eo);if(r.some((function(e,t){return!F(e,n[t])}))){var s=e.multiple?t.value.some((function(e){return Zs(e,r)})):t.value!==t.oldValue&&Zs(t.value,r);s&&no(e,"change")}}}};function Qs(e,t,i){Js(e,t,i),(ee||ie)&&setTimeout((function(){Js(e,t,i)}),0)}function Js(e,t,i){var n=t.value,r=e.multiple;if(!r||Array.isArray(n)){for(var s,o,a=0,u=e.options.length;a<u;a++)if(o=e.options[a],r)s=O(n,eo(o))>-1,o.selected!==s&&(o.selected=s);else if(F(eo(o),n))return void(e.selectedIndex!==a&&(e.selectedIndex=a));r||(e.selectedIndex=-1)}}function Zs(e,t){return t.every((function(t){return!F(t,e)}))}function eo(e){return"_value"in e?e._value:e.value}function to(e){e.target.composing=!0}function io(e){e.target.composing&&(e.target.composing=!1,no(e.target,"input"))}function no(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function ro(e){return!e.componentInstance||e.data&&e.data.transition?e:ro(e.componentInstance._vnode)}var so={bind:function(e,t,i){var n=t.value;i=ro(i);var r=i.data&&i.data.transition,s=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;n&&r?(i.data.show=!0,zs(i,(function(){e.style.display=s}))):e.style.display=n?s:"none"},update:function(e,t,i){var n=t.value,r=t.oldValue;if(!n!==!r){i=ro(i);var s=i.data&&i.data.transition;s?(i.data.show=!0,n?zs(i,(function(){e.style.display=e.__vOriginalDisplay})):Hs(i,(function(){e.style.display="none"}))):e.style.display=n?e.__vOriginalDisplay:"none"}},unbind:function(e,t,i,n,r){r||(e.style.display=e.__vOriginalDisplay)}},oo={model:Xs,show:so},ao={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function uo(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?uo(Si(t.children)):e}function co(e){var t={},i=e.$options;for(var n in i.propsData)t[n]=e[n];var r=i._parentListeners;for(var s in r)t[E(s)]=r[s];return t}function fo(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function ho(e){while(e=e.parent)if(e.data.transition)return!0}function lo(e,t){return t.key===e.key&&t.tag===e.tag}var po=function(e){return e.tag||wi(e)},mo=function(e){return"show"===e.name},bo={name:"transition",props:ao,abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(po),i.length)){0;var n=this.mode;0;var r=i[0];if(ho(this.$vnode))return r;var s=uo(r);if(!s)return r;if(this._leaving)return fo(e,r);var o="__transition-"+this._uid+"-";s.key=null==s.key?s.isComment?o+"comment":o+s.tag:a(s.key)?0===String(s.key).indexOf(o)?s.key:o+s.key:s.key;var u=(s.data||(s.data={})).transition=co(this),c=this._vnode,f=uo(c);if(s.data.directives&&s.data.directives.some(mo)&&(s.data.show=!0),f&&f.data&&!lo(s,f)&&!wi(f)&&(!f.componentInstance||!f.componentInstance._vnode.isComment)){var h=f.data.transition=B({},u);if("out-in"===n)return this._leaving=!0,wt(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),fo(e,r);if("in-out"===n){if(wi(s))return c;var l,d=function(){l()};wt(u,"afterEnter",d),wt(u,"enterCancelled",d),wt(h,"delayLeave",(function(e){l=e}))}}return r}}},vo=B({tag:String,moveClass:String},ao);delete vo.mode;var go={props:vo,beforeMount:function(){var e=this,t=this._update;this._update=function(i,n){var r=Di(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,i,n)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],s=this.children=[],o=co(this),a=0;a<r.length;a++){var u=r[a];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))s.push(u),i[u.key]=u,(u.data||(u.data={})).transition=o;else;}if(n){for(var c=[],f=[],h=0;h<n.length;h++){var l=n[h];l.data.transition=o,l.data.pos=l.elm.getBoundingClientRect(),i[l.key]?c.push(l):f.push(l)}this.kept=e(t,null,c),this.removed=f}return e(t,null,s)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(yo),e.forEach(_o),e.forEach(wo),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var i=e.elm,n=i.style;Us(i,t),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(Rs,i._moveCb=function e(n){n&&n.target!==i||n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(Rs,e),i._moveCb=null,Ps(i,t))})}})))},methods:{hasMove:function(e,t){if(!ks)return!1;if(this._hasMove)return this._hasMove;var i=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Ss(i,e)})),ws(i,t),i.style.display="none",this.$el.appendChild(i);var n=Ls(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}};function yo(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function _o(e){e.data.newPos=e.elm.getBoundingClientRect()}function wo(e){var t=e.data.pos,i=e.data.newPos,n=t.left-i.left,r=t.top-i.top;if(n||r){e.data.moved=!0;var s=e.elm.style;s.transform=s.WebkitTransform="translate("+n+"px,"+r+"px)",s.transitionDuration="0s"}}var So={Transition:bo,TransitionGroup:go};En.config.mustUseProp=jn,En.config.isReservedTag=sr,En.config.isReservedAttr=Ln,En.config.getTagNamespace=or,En.config.isUnknownElement=ur,B(En.options.directives,oo),B(En.options.components,So),En.prototype.__patch__=X?$s:I,En.prototype.$mount=function(e,t){return e=e&&X?fr(e):void 0,Ii(this,e,t)},X&&setTimeout((function(){H.devtools&&ce&&ce.emit("init",En)}),0),t["a"]=En}).call(this,i("c8ba"))},"2b4c":function(e,t,i){var n=i("5537")("wks"),r=i("ca5a"),s=i("7726").Symbol,o="function"==typeof s,a=e.exports=function(e){return n[e]||(n[e]=o&&s[e]||(o?s:r)("Symbol."+e))};a.store=n},"2c63":function(e,t,i){e.exports=i("dc14")},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},"31f4":function(e,t){e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},"32e9":function(e,t,i){var n=i("86cc"),r=i("4630");e.exports=i("9e1e")?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},3300:function(e,t,i){"use strict";var n=i("f3a3"),r=i("399f"),s=i("3fb5"),o=i("ea53"),a=n.assert;function u(e){o.call(this,"short",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,i,n){o.BasePoint.call(this,e,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new r(t,16),this.y=new r(i,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,i,n){o.BasePoint.call(this,e,"jacobian"),null===t&&null===i&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new r(0)):(this.x=new r(t,16),this.y=new r(i,16),this.z=new r(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(u,o),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,i,n;if(e.beta)t=new r(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);t=s[0].cmp(s[1])<0?s[0]:s[1],t=t.toRed(this.red)}if(e.lambda)i=new r(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?i=o[0]:(i=o[1],a(0===this.g.mul(i).x.cmp(this.g.x.redMul(t))))}return n=e.basis?e.basis.map((function(e){return{a:new r(e.a,16),b:new r(e.b,16)}})):this._getEndoBasis(i),{beta:t,lambda:i,basis:n}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:r.mont(e),i=new r(2).toRed(t).redInvm(),n=i.redNeg(),s=new r(3).toRed(t).redNeg().redSqrt().redMul(i),o=n.redAdd(s).fromRed(),a=n.redSub(s).fromRed();return[o,a]},u.prototype._getEndoBasis=function(e){var t,i,n,s,o,a,u,c,f,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,d=this.n.clone(),p=new r(1),m=new r(0),b=new r(0),v=new r(1),g=0;while(0!==l.cmpn(0)){var y=d.div(l);c=d.sub(y.mul(l)),f=b.sub(y.mul(p));var _=v.sub(y.mul(m));if(!n&&c.cmp(h)<0)t=u.neg(),i=p,n=c.neg(),s=f;else if(n&&2===++g)break;u=c,d=l,l=c,b=p,p=f,v=m,m=_}o=c.neg(),a=f;var w=n.sqr().add(s.sqr()),S=o.sqr().add(a.sqr());return S.cmp(w)>=0&&(o=t,a=i),n.negative&&(n=n.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:s},{a:o,b:a}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],n=t[1],r=n.b.mul(e).divRound(this.n),s=i.b.neg().mul(e).divRound(this.n),o=r.mul(i.a),a=s.mul(n.a),u=r.mul(i.b),c=s.mul(n.b),f=e.sub(o).sub(a),h=u.add(c).neg();return{k1:f,k2:h}},u.prototype.pointFromX=function(e,t){e=new r(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(0!==n.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,n=this.a.redMul(t),r=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===i.redSqr().redISub(r).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,i){for(var n=this._endoWnafT1,r=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],u=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*s]=a,n[2*s+1]=u,r[2*s]=o.k1,r[2*s+1]=o.k2}for(var c=this._wnafMulAdd(1,n,r,2*s,i),f=0;f<2*s;f++)n[f]=null,r[f]=null;return c},s(c,o.BasePoint),u.prototype.point=function(e,t,i){return new c(this,e,t,i)},u.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,i){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],i);if(!t[2])return n;function r(t){return e.point(t[0],t[1],i)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(r))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(r))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),r=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n),s=r.redSqr().redISub(this.x.redAdd(this.x)),o=r.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new r(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,i){var n=[this,t],r=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,r):this.curve._wnafMulAdd(1,n,r,2)},c.prototype.jmulAdd=function(e,t,i){var n=[this,t],r=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,r,!0):this.curve._wnafMulAdd(1,n,r,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return t},c.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},s(f,o.BasePoint),u.prototype.jpoint=function(e,t,i){return new f(this,e,t,i)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(i,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(t),r=e.x.redMul(i),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(i.redMul(this.z)),a=n.redSub(r),u=s.redSub(o);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),h=n.redMul(c),l=u.redSqr().redIAdd(f).redISub(h).redISub(h),d=u.redMul(h.redISub(l)).redISub(s.redMul(f)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(l,d,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,n=e.x.redMul(t),r=this.y,s=e.y.redMul(t).redMul(this.z),o=i.redSub(n),a=r.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),f=i.redMul(u),h=a.redSqr().redIAdd(c).redISub(f).redISub(f),l=a.redMul(f.redISub(h)).redISub(r.redMul(c)),d=this.z.redMul(o);return this.curve.jpoint(h,l,d)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}var n=this.curve.a,r=this.curve.tinv,s=this.x,o=this.y,a=this.z,u=a.redSqr().redSqr(),c=o.redAdd(o);for(i=0;i<e;i++){var f=s.redSqr(),h=c.redSqr(),l=h.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),p=s.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),b=p.redISub(m),v=d.redMul(b);v=v.redIAdd(v).redISub(l);var g=c.redMul(a);i+1<e&&(u=u.redMul(l)),s=m,a=g,c=v}return this.curve.jpoint(s,c.redMul(r),a)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),r=this.y.redSqr(),s=r.redSqr(),o=this.x.redAdd(r).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),e=u,t=a.redMul(o.redISub(u)).redISub(c),i=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),l=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(f).redISub(l);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),m=p.redSqr(),b=l.redIAdd(l);b=b.redIAdd(b),b=b.redIAdd(b),e=m.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(b),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)},f.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),r=this.y.redSqr(),s=r.redSqr(),o=this.x.redAdd(r).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(o).redISub(o);e=u;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),t=a.redMul(o.redISub(u)).redISub(c),i=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),l=this.x.redMul(h),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l);p=p.redIAdd(p);var m=p.redAdd(p);e=d.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var b=h.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b),t=d.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,i)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,n=this.z,r=n.redSqr().redSqr(),s=t.redSqr(),o=i.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(r)),u=t.redAdd(t);u=u.redIAdd(u);var c=u.redMul(o),f=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(f),l=o.redSqr();l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var d=a.redMul(h).redISub(l),p=i.redAdd(i).redMul(n);return this.curve.jpoint(f,d,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),n=t.redSqr(),r=e.redAdd(e).redIAdd(e),s=r.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var a=o.redSqr(),u=n.redIAdd(n);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=r.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(u),f=t.redMul(c);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(a).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var l=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(a)));l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(i).redISub(a);return this.curve.jpoint(h,l,d)},f.prototype.mul=function(e,t){return e=new r(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(0!==this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),r=i.redMul(e.z);return 0===this.y.redMul(r).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(i))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(r),0===this.x.cmp(i))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},3337:function(e,t,i){"use strict";var n=t;n.version=i("2801").version,n.utils=i("f3a3"),n.rand=i("fdac"),n.curve=i("4136"),n.curves=i("0cbb"),n.ec=i("b9a8"),n.eddsa=i("945d")},"33a4":function(e,t,i){var n=i("84f2"),r=i("2b4c")("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[r]===e)}},"343e":function(e,t,i){var n=t;n.der=i("3768"),n.pem=i("85b3")},3505:function(e,t,i){var n=i("8707").Buffer,r=i("8c8a");function s(e,t,i){var s=t.length,o=r(t,e._cache);return e._cache=e._cache.slice(s),e._prev=n.concat([e._prev,i?t:o]),o}t.encrypt=function(e,t,i){var r,o=n.allocUnsafe(0);while(t.length){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){o=n.concat([o,s(e,t,i)]);break}r=e._cache.length,o=n.concat([o,s(e,t.slice(0,r),i)]),t=t.slice(r)}return o}},3768:function(e,t,i){var n=i("3fb5"),r=i("b639").Buffer,s=i("7f7a"),o=s.base,a=s.constants.der;function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.Node.call(this,"der",e)}function f(e){return e<10?"0"+e:e}function h(e,t,i,n){var r;if("seqof"===e?e="seq":"setof"===e&&(e="set"),a.tagByName.hasOwnProperty(e))r=a.tagByName[e];else{if("number"!==typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);r=e}return r>=31?n.error("Multi-octet tag encoding unsupported"):(t||(r|=32),r|=a.tagClassByName[i||"universal"]<<6,r)}e.exports=u,u.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(c,o.Node),c.prototype._encodeComposite=function(e,t,i,n){var s=h(e,t,i,this.reporter);if(n.length<128){var o=new r(2);return o[0]=s,o[1]=n.length,this._createEncoderBuffer([o,n])}for(var a=1,u=n.length;u>=256;u>>=8)a++;o=new r(2+a);o[0]=s,o[1]=128|a;u=1+a;for(var c=n.length;c>0;u--,c>>=8)o[u]=255&c;return this._createEncoderBuffer([o,n])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var i=new r(2*e.length),n=0;n<e.length;n++)i.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(i)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,i){if("string"===typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var s=0;for(n=0;n<e.length;n++){var o=e[n];for(s++;o>=128;o>>=7)s++}var a=new r(s),u=a.length-1;for(n=e.length-1;n>=0;n--){o=e[n];a[u--]=127&o;while((o>>=7)>0)a[u--]=128|127&o}return this._createEncoderBuffer(a)},c.prototype._encodeTime=function(e,t){var i,n=new Date(e);return"gentime"===t?i=[f(n.getFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?i=[f(n.getFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(i,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"===typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!==typeof e&&!r.isBuffer(e)){var i=e.toArray();!e.sign&&128&i[0]&&i.unshift(0),e=new r(i)}if(r.isBuffer(e)){var n=e.length;0===e.length&&n++;var s=new r(n);return e.copy(s),0===e.length&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var o=e;o>=256;o>>=8)n++;for(s=new Array(n),o=s.length-1;o>=0;o--)s[o]=255&e,e>>=8;return 128&s[0]&&s.unshift(0),this._createEncoderBuffer(new r(s))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,i){var n,r=this._baseState;if(null===r["default"])return!1;var s=e.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r["default"],t,i).join()),s.length!==r.defaultBuffer.length)return!1;for(n=0;n<s.length;n++)if(s[n]!==r.defaultBuffer[n])return!1;return!0}},"380f":function(e,t,i){"use strict";var n=i("f3a3"),r=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return r(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},"38fd":function(e,t,i){var n=i("69a8"),r=i("4bf8"),s=i("613b")("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},"399f":function(e,t,i){(function(e){(function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function s(e,t,i){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}var o;"object"===typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o=i(3).Buffer}catch(A){}function a(e,t,i){for(var n=0,r=Math.min(e.length,i),s=t;s<r;s++){var o=e.charCodeAt(s)-48;n<<=4,n|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return n}function u(e,t,i,n){for(var r=0,s=Math.min(e.length,i),o=t;o<s;o++){var a=e.charCodeAt(o)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}s.isBN=function(e){return e instanceof s||null!==e&&"object"===typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,i){if("number"===typeof e)return this._initNumber(e,t,i);if("object"===typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36),e=e.toString().replace(/\s+/g,"");var r=0;"-"===e[0]&&r++,16===t?this._parseHex(e,r):this._parseBase(e,t,r),"-"===e[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),t,i)},s.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},s.prototype._initArray=function(e,t,i){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,o,a=0;if("be"===i)for(r=e.length-1,s=0;r>=0;r-=3)o=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,a+=24,a>=26&&(a-=26,s++);else if("le"===i)for(r=0,s=0;r<e.length;r+=3)o=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,a+=24,a>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,r,s=0;for(i=e.length-6,n=0;i>=t;i-=6)r=a(e,i,i+6),this.words[n]|=r<<s&67108863,this.words[n+1]|=r>>>26-s&4194303,s+=24,s>=26&&(s-=26,n++);i+6!==t&&(r=a(e,t,i+6),this.words[n]|=r<<s&67108863,this.words[n+1]|=r>>>26-s&4194303),this.strip()},s.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var n=0,r=1;r<=67108863;r*=t)n++;n--,r=r/t|0;for(var s=e.length-i,o=s%n,a=Math.min(s,s-o)+i,c=0,f=i;f<a;f+=n)c=u(e,f,f+n,t),this.imuln(r),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var h=1;for(c=u(e,f,e.length,t),f=0;f<o;f++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){while(this.length<e)this.words[this.length++]=0;return this},s.prototype.strip=function(){while(this.length>1&&0===this.words[this.length-1])this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var n=i/26|0,r=i%26;t[i]=(e.words[n]&1<<r)>>>r}return t}function d(e,t,i){i.negative=t.negative^e.negative;var n=e.length+t.length|0;i.length=n,n=n-1|0;var r=0|e.words[0],s=0|t.words[0],o=r*s,a=67108863&o,u=o/67108864|0;i.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=l;d++){var p=c-d|0;r=0|e.words[p],s=0|t.words[d],o=r*s+h,f+=o/67108864|0,h=67108863&o}i.words[c]=0|h,u=0|f}return 0!==u?i.words[c]=0|u:i.length--,i.strip()}s.prototype.toString=function(e,t){var i;if(e=e||10,t=0|t||1,16===e||"hex"===e){i="";for(var r=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<r|s)).toString(16);s=a>>>24-r&16777215,i=0!==s||o!==this.length-1?c[6-u.length]+u+i:u+i,r+=2,r>=26&&(r-=26,o--)}0!==s&&(i=s.toString(16)+i);while(i.length%t!==0)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var l=f[e],d=h[e];i="";var p=this.clone();p.negative=0;while(!p.isZero()){var m=p.modn(d).toString(e);p=p.idivn(d),i=p.isZero()?m+i:c[l-m.length]+m+i}this.isZero()&&(i="0"+i);while(i.length%t!==0)i="0"+i;return 0!==this.negative&&(i="-"+i),i}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n("undefined"!==typeof o),this.toArrayLike(o,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,i){var r=this.byteLength(),s=i||Math.max(1,r);n(r<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===t,c=new e(s),f=this.clone();if(u){for(a=0;!f.isZero();a++)o=f.andln(255),f.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-r;a++)c[a]=0;for(a=0;!f.isZero();a++)o=f.andln(255),f.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0===(8191&t)&&(i+=13,t>>>=13),0===(127&t)&&(i+=7,t>>>=7),0===(15&t)&&(i+=4,t>>>=4),0===(3&t)&&(i+=2,t>>>=2),0===(1&t)&&i++,i},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){while(this.length<e.length)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var n=0;n<i.length;n++)this.words[n]=t.words[n]^i.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return i>0&&(this.words[r]=~this.words[r]&67108863>>26-i),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var i=e/26|0,r=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<r:this.words[i]&~(1<<r),this.strip()},s.prototype.iadd=function(e){var t,i,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,n=e):(i=e,n=this);for(var r=0,s=0;s<n.length;s++)t=(0|i.words[s])+(0|n.words[s])+r,this.words[s]=67108863&t,r=t>>>26;for(;0!==r&&s<i.length;s++)t=(0|i.words[s])+r,this.words[s]=67108863&t,r=t>>>26;if(this.length=i.length,0!==r)this.words[this.length]=r,this.length++;else if(i!==this)for(;s<i.length;s++)this.words[s]=i.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,n,r=this.cmp(e);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(i=this,n=e):(i=e,n=this);for(var s=0,o=0;o<n.length;o++)t=(0|i.words[o])-(0|n.words[o])+s,s=t>>26,this.words[o]=67108863&t;for(;0!==s&&o<i.length;o++)t=(0|i.words[o])+s,s=t>>26,this.words[o]=67108863&t;if(0===s&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,i){var n,r,s,o=e.words,a=t.words,u=i.words,c=0,f=0|o[0],h=8191&f,l=f>>>13,d=0|o[1],p=8191&d,m=d>>>13,b=0|o[2],v=8191&b,g=b>>>13,y=0|o[3],_=8191&y,w=y>>>13,S=0|o[4],E=8191&S,x=S>>>13,k=0|o[5],A=8191&k,T=k>>>13,C=0|o[6],R=8191&C,D=C>>>13,B=0|o[7],M=8191&B,I=B>>>13,U=0|o[8],P=8191&U,F=U>>>13,O=0|o[9],L=8191&O,N=O>>>13,j=0|a[0],z=8191&j,H=j>>>13,V=0|a[1],q=8191&V,G=V>>>13,K=0|a[2],W=8191&K,Y=K>>>13,$=0|a[3],X=8191&$,Q=$>>>13,J=0|a[4],Z=8191&J,ee=J>>>13,te=0|a[5],ie=8191&te,ne=te>>>13,re=0|a[6],se=8191&re,oe=re>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,fe=0|a[8],he=8191&fe,le=fe>>>13,de=0|a[9],pe=8191&de,me=de>>>13;i.negative=e.negative^t.negative,i.length=19,n=Math.imul(h,z),r=Math.imul(h,H),r=r+Math.imul(l,z)|0,s=Math.imul(l,H);var be=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(p,z),r=Math.imul(p,H),r=r+Math.imul(m,z)|0,s=Math.imul(m,H),n=n+Math.imul(h,q)|0,r=r+Math.imul(h,G)|0,r=r+Math.imul(l,q)|0,s=s+Math.imul(l,G)|0;var ve=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(v,z),r=Math.imul(v,H),r=r+Math.imul(g,z)|0,s=Math.imul(g,H),n=n+Math.imul(p,q)|0,r=r+Math.imul(p,G)|0,r=r+Math.imul(m,q)|0,s=s+Math.imul(m,G)|0,n=n+Math.imul(h,W)|0,r=r+Math.imul(h,Y)|0,r=r+Math.imul(l,W)|0,s=s+Math.imul(l,Y)|0;var ge=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(_,z),r=Math.imul(_,H),r=r+Math.imul(w,z)|0,s=Math.imul(w,H),n=n+Math.imul(v,q)|0,r=r+Math.imul(v,G)|0,r=r+Math.imul(g,q)|0,s=s+Math.imul(g,G)|0,n=n+Math.imul(p,W)|0,r=r+Math.imul(p,Y)|0,r=r+Math.imul(m,W)|0,s=s+Math.imul(m,Y)|0,n=n+Math.imul(h,X)|0,r=r+Math.imul(h,Q)|0,r=r+Math.imul(l,X)|0,s=s+Math.imul(l,Q)|0;var ye=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(E,z),r=Math.imul(E,H),r=r+Math.imul(x,z)|0,s=Math.imul(x,H),n=n+Math.imul(_,q)|0,r=r+Math.imul(_,G)|0,r=r+Math.imul(w,q)|0,s=s+Math.imul(w,G)|0,n=n+Math.imul(v,W)|0,r=r+Math.imul(v,Y)|0,r=r+Math.imul(g,W)|0,s=s+Math.imul(g,Y)|0,n=n+Math.imul(p,X)|0,r=r+Math.imul(p,Q)|0,r=r+Math.imul(m,X)|0,s=s+Math.imul(m,Q)|0,n=n+Math.imul(h,Z)|0,r=r+Math.imul(h,ee)|0,r=r+Math.imul(l,Z)|0,s=s+Math.imul(l,ee)|0;var _e=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(A,z),r=Math.imul(A,H),r=r+Math.imul(T,z)|0,s=Math.imul(T,H),n=n+Math.imul(E,q)|0,r=r+Math.imul(E,G)|0,r=r+Math.imul(x,q)|0,s=s+Math.imul(x,G)|0,n=n+Math.imul(_,W)|0,r=r+Math.imul(_,Y)|0,r=r+Math.imul(w,W)|0,s=s+Math.imul(w,Y)|0,n=n+Math.imul(v,X)|0,r=r+Math.imul(v,Q)|0,r=r+Math.imul(g,X)|0,s=s+Math.imul(g,Q)|0,n=n+Math.imul(p,Z)|0,r=r+Math.imul(p,ee)|0,r=r+Math.imul(m,Z)|0,s=s+Math.imul(m,ee)|0,n=n+Math.imul(h,ie)|0,r=r+Math.imul(h,ne)|0,r=r+Math.imul(l,ie)|0,s=s+Math.imul(l,ne)|0;var we=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(R,z),r=Math.imul(R,H),r=r+Math.imul(D,z)|0,s=Math.imul(D,H),n=n+Math.imul(A,q)|0,r=r+Math.imul(A,G)|0,r=r+Math.imul(T,q)|0,s=s+Math.imul(T,G)|0,n=n+Math.imul(E,W)|0,r=r+Math.imul(E,Y)|0,r=r+Math.imul(x,W)|0,s=s+Math.imul(x,Y)|0,n=n+Math.imul(_,X)|0,r=r+Math.imul(_,Q)|0,r=r+Math.imul(w,X)|0,s=s+Math.imul(w,Q)|0,n=n+Math.imul(v,Z)|0,r=r+Math.imul(v,ee)|0,r=r+Math.imul(g,Z)|0,s=s+Math.imul(g,ee)|0,n=n+Math.imul(p,ie)|0,r=r+Math.imul(p,ne)|0,r=r+Math.imul(m,ie)|0,s=s+Math.imul(m,ne)|0,n=n+Math.imul(h,se)|0,r=r+Math.imul(h,oe)|0,r=r+Math.imul(l,se)|0,s=s+Math.imul(l,oe)|0;var Se=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,z),r=Math.imul(M,H),r=r+Math.imul(I,z)|0,s=Math.imul(I,H),n=n+Math.imul(R,q)|0,r=r+Math.imul(R,G)|0,r=r+Math.imul(D,q)|0,s=s+Math.imul(D,G)|0,n=n+Math.imul(A,W)|0,r=r+Math.imul(A,Y)|0,r=r+Math.imul(T,W)|0,s=s+Math.imul(T,Y)|0,n=n+Math.imul(E,X)|0,r=r+Math.imul(E,Q)|0,r=r+Math.imul(x,X)|0,s=s+Math.imul(x,Q)|0,n=n+Math.imul(_,Z)|0,r=r+Math.imul(_,ee)|0,r=r+Math.imul(w,Z)|0,s=s+Math.imul(w,ee)|0,n=n+Math.imul(v,ie)|0,r=r+Math.imul(v,ne)|0,r=r+Math.imul(g,ie)|0,s=s+Math.imul(g,ne)|0,n=n+Math.imul(p,se)|0,r=r+Math.imul(p,oe)|0,r=r+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0,n=n+Math.imul(h,ue)|0,r=r+Math.imul(h,ce)|0,r=r+Math.imul(l,ue)|0,s=s+Math.imul(l,ce)|0;var Ee=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(P,z),r=Math.imul(P,H),r=r+Math.imul(F,z)|0,s=Math.imul(F,H),n=n+Math.imul(M,q)|0,r=r+Math.imul(M,G)|0,r=r+Math.imul(I,q)|0,s=s+Math.imul(I,G)|0,n=n+Math.imul(R,W)|0,r=r+Math.imul(R,Y)|0,r=r+Math.imul(D,W)|0,s=s+Math.imul(D,Y)|0,n=n+Math.imul(A,X)|0,r=r+Math.imul(A,Q)|0,r=r+Math.imul(T,X)|0,s=s+Math.imul(T,Q)|0,n=n+Math.imul(E,Z)|0,r=r+Math.imul(E,ee)|0,r=r+Math.imul(x,Z)|0,s=s+Math.imul(x,ee)|0,n=n+Math.imul(_,ie)|0,r=r+Math.imul(_,ne)|0,r=r+Math.imul(w,ie)|0,s=s+Math.imul(w,ne)|0,n=n+Math.imul(v,se)|0,r=r+Math.imul(v,oe)|0,r=r+Math.imul(g,se)|0,s=s+Math.imul(g,oe)|0,n=n+Math.imul(p,ue)|0,r=r+Math.imul(p,ce)|0,r=r+Math.imul(m,ue)|0,s=s+Math.imul(m,ce)|0,n=n+Math.imul(h,he)|0,r=r+Math.imul(h,le)|0,r=r+Math.imul(l,he)|0,s=s+Math.imul(l,le)|0;var xe=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,z),r=Math.imul(L,H),r=r+Math.imul(N,z)|0,s=Math.imul(N,H),n=n+Math.imul(P,q)|0,r=r+Math.imul(P,G)|0,r=r+Math.imul(F,q)|0,s=s+Math.imul(F,G)|0,n=n+Math.imul(M,W)|0,r=r+Math.imul(M,Y)|0,r=r+Math.imul(I,W)|0,s=s+Math.imul(I,Y)|0,n=n+Math.imul(R,X)|0,r=r+Math.imul(R,Q)|0,r=r+Math.imul(D,X)|0,s=s+Math.imul(D,Q)|0,n=n+Math.imul(A,Z)|0,r=r+Math.imul(A,ee)|0,r=r+Math.imul(T,Z)|0,s=s+Math.imul(T,ee)|0,n=n+Math.imul(E,ie)|0,r=r+Math.imul(E,ne)|0,r=r+Math.imul(x,ie)|0,s=s+Math.imul(x,ne)|0,n=n+Math.imul(_,se)|0,r=r+Math.imul(_,oe)|0,r=r+Math.imul(w,se)|0,s=s+Math.imul(w,oe)|0,n=n+Math.imul(v,ue)|0,r=r+Math.imul(v,ce)|0,r=r+Math.imul(g,ue)|0,s=s+Math.imul(g,ce)|0,n=n+Math.imul(p,he)|0,r=r+Math.imul(p,le)|0,r=r+Math.imul(m,he)|0,s=s+Math.imul(m,le)|0,n=n+Math.imul(h,pe)|0,r=r+Math.imul(h,me)|0,r=r+Math.imul(l,pe)|0,s=s+Math.imul(l,me)|0;var ke=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,q),r=Math.imul(L,G),r=r+Math.imul(N,q)|0,s=Math.imul(N,G),n=n+Math.imul(P,W)|0,r=r+Math.imul(P,Y)|0,r=r+Math.imul(F,W)|0,s=s+Math.imul(F,Y)|0,n=n+Math.imul(M,X)|0,r=r+Math.imul(M,Q)|0,r=r+Math.imul(I,X)|0,s=s+Math.imul(I,Q)|0,n=n+Math.imul(R,Z)|0,r=r+Math.imul(R,ee)|0,r=r+Math.imul(D,Z)|0,s=s+Math.imul(D,ee)|0,n=n+Math.imul(A,ie)|0,r=r+Math.imul(A,ne)|0,r=r+Math.imul(T,ie)|0,s=s+Math.imul(T,ne)|0,n=n+Math.imul(E,se)|0,r=r+Math.imul(E,oe)|0,r=r+Math.imul(x,se)|0,s=s+Math.imul(x,oe)|0,n=n+Math.imul(_,ue)|0,r=r+Math.imul(_,ce)|0,r=r+Math.imul(w,ue)|0,s=s+Math.imul(w,ce)|0,n=n+Math.imul(v,he)|0,r=r+Math.imul(v,le)|0,r=r+Math.imul(g,he)|0,s=s+Math.imul(g,le)|0,n=n+Math.imul(p,pe)|0,r=r+Math.imul(p,me)|0,r=r+Math.imul(m,pe)|0,s=s+Math.imul(m,me)|0;var Ae=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,W),r=Math.imul(L,Y),r=r+Math.imul(N,W)|0,s=Math.imul(N,Y),n=n+Math.imul(P,X)|0,r=r+Math.imul(P,Q)|0,r=r+Math.imul(F,X)|0,s=s+Math.imul(F,Q)|0,n=n+Math.imul(M,Z)|0,r=r+Math.imul(M,ee)|0,r=r+Math.imul(I,Z)|0,s=s+Math.imul(I,ee)|0,n=n+Math.imul(R,ie)|0,r=r+Math.imul(R,ne)|0,r=r+Math.imul(D,ie)|0,s=s+Math.imul(D,ne)|0,n=n+Math.imul(A,se)|0,r=r+Math.imul(A,oe)|0,r=r+Math.imul(T,se)|0,s=s+Math.imul(T,oe)|0,n=n+Math.imul(E,ue)|0,r=r+Math.imul(E,ce)|0,r=r+Math.imul(x,ue)|0,s=s+Math.imul(x,ce)|0,n=n+Math.imul(_,he)|0,r=r+Math.imul(_,le)|0,r=r+Math.imul(w,he)|0,s=s+Math.imul(w,le)|0,n=n+Math.imul(v,pe)|0,r=r+Math.imul(v,me)|0,r=r+Math.imul(g,pe)|0,s=s+Math.imul(g,me)|0;var Te=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,X),r=Math.imul(L,Q),r=r+Math.imul(N,X)|0,s=Math.imul(N,Q),n=n+Math.imul(P,Z)|0,r=r+Math.imul(P,ee)|0,r=r+Math.imul(F,Z)|0,s=s+Math.imul(F,ee)|0,n=n+Math.imul(M,ie)|0,r=r+Math.imul(M,ne)|0,r=r+Math.imul(I,ie)|0,s=s+Math.imul(I,ne)|0,n=n+Math.imul(R,se)|0,r=r+Math.imul(R,oe)|0,r=r+Math.imul(D,se)|0,s=s+Math.imul(D,oe)|0,n=n+Math.imul(A,ue)|0,r=r+Math.imul(A,ce)|0,r=r+Math.imul(T,ue)|0,s=s+Math.imul(T,ce)|0,n=n+Math.imul(E,he)|0,r=r+Math.imul(E,le)|0,r=r+Math.imul(x,he)|0,s=s+Math.imul(x,le)|0,n=n+Math.imul(_,pe)|0,r=r+Math.imul(_,me)|0,r=r+Math.imul(w,pe)|0,s=s+Math.imul(w,me)|0;var Ce=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,Z),r=Math.imul(L,ee),r=r+Math.imul(N,Z)|0,s=Math.imul(N,ee),n=n+Math.imul(P,ie)|0,r=r+Math.imul(P,ne)|0,r=r+Math.imul(F,ie)|0,s=s+Math.imul(F,ne)|0,n=n+Math.imul(M,se)|0,r=r+Math.imul(M,oe)|0,r=r+Math.imul(I,se)|0,s=s+Math.imul(I,oe)|0,n=n+Math.imul(R,ue)|0,r=r+Math.imul(R,ce)|0,r=r+Math.imul(D,ue)|0,s=s+Math.imul(D,ce)|0,n=n+Math.imul(A,he)|0,r=r+Math.imul(A,le)|0,r=r+Math.imul(T,he)|0,s=s+Math.imul(T,le)|0,n=n+Math.imul(E,pe)|0,r=r+Math.imul(E,me)|0,r=r+Math.imul(x,pe)|0,s=s+Math.imul(x,me)|0;var Re=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,ie),r=Math.imul(L,ne),r=r+Math.imul(N,ie)|0,s=Math.imul(N,ne),n=n+Math.imul(P,se)|0,r=r+Math.imul(P,oe)|0,r=r+Math.imul(F,se)|0,s=s+Math.imul(F,oe)|0,n=n+Math.imul(M,ue)|0,r=r+Math.imul(M,ce)|0,r=r+Math.imul(I,ue)|0,s=s+Math.imul(I,ce)|0,n=n+Math.imul(R,he)|0,r=r+Math.imul(R,le)|0,r=r+Math.imul(D,he)|0,s=s+Math.imul(D,le)|0,n=n+Math.imul(A,pe)|0,r=r+Math.imul(A,me)|0,r=r+Math.imul(T,pe)|0,s=s+Math.imul(T,me)|0;var De=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(De>>>26)|0,De&=67108863,n=Math.imul(L,se),r=Math.imul(L,oe),r=r+Math.imul(N,se)|0,s=Math.imul(N,oe),n=n+Math.imul(P,ue)|0,r=r+Math.imul(P,ce)|0,r=r+Math.imul(F,ue)|0,s=s+Math.imul(F,ce)|0,n=n+Math.imul(M,he)|0,r=r+Math.imul(M,le)|0,r=r+Math.imul(I,he)|0,s=s+Math.imul(I,le)|0,n=n+Math.imul(R,pe)|0,r=r+Math.imul(R,me)|0,r=r+Math.imul(D,pe)|0,s=s+Math.imul(D,me)|0;var Be=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(L,ue),r=Math.imul(L,ce),r=r+Math.imul(N,ue)|0,s=Math.imul(N,ce),n=n+Math.imul(P,he)|0,r=r+Math.imul(P,le)|0,r=r+Math.imul(F,he)|0,s=s+Math.imul(F,le)|0,n=n+Math.imul(M,pe)|0,r=r+Math.imul(M,me)|0,r=r+Math.imul(I,pe)|0,s=s+Math.imul(I,me)|0;var Me=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(L,he),r=Math.imul(L,le),r=r+Math.imul(N,he)|0,s=Math.imul(N,le),n=n+Math.imul(P,pe)|0,r=r+Math.imul(P,me)|0,r=r+Math.imul(F,pe)|0,s=s+Math.imul(F,me)|0;var Ie=(c+n|0)+((8191&r)<<13)|0;c=(s+(r>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(L,pe),r=Math.imul(L,me),r=r+Math.imul(N,pe)|0,s=Math.imul(N,me);var Ue=(c+n|0)+((8191&r)<<13)|0;return c=(s+(r>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,u[0]=be,u[1]=ve,u[2]=ge,u[3]=ye,u[4]=_e,u[5]=we,u[6]=Se,u[7]=Ee,u[8]=xe,u[9]=ke,u[10]=Ae,u[11]=Te,u[12]=Ce,u[13]=Re,u[14]=De,u[15]=Be,u[16]=Me,u[17]=Ie,u[18]=Ue,0!==c&&(u[19]=c,i.length++),i};function m(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var n=0,r=0,s=0;s<i.length-1;s++){var o=r;r=0;for(var a=67108863&n,u=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=u;c++){var f=s-c,h=0|e.words[f],l=0|t.words[c],d=h*l,p=67108863&d;o=o+(d/67108864|0)|0,p=p+a|0,a=67108863&p,o=o+(p>>>26)|0,r+=o>>>26,o&=67108863}i.words[s]=a,n=o,o=r}return 0!==n?i.words[s]=n:i.length--,i.strip()}function b(e,t,i){var n=new v;return n.mulp(e,t,i)}function v(e,t){this.x=e,this.y=t}Math.imul||(p=d),s.prototype.mulTo=function(e,t){var i,n=this.length+e.length;return i=10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?m(this,e,t):b(this,e,t),i},v.prototype.makeRBT=function(e){for(var t=new Array(e),i=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,i,e);return t},v.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var n=0,r=0;r<t;r++)n|=(1&e)<<t-r-1,e>>=1;return n},v.prototype.permute=function(e,t,i,n,r,s){for(var o=0;o<s;o++)n[o]=t[e[o]],r[o]=i[e[o]]},v.prototype.transform=function(e,t,i,n,r,s){this.permute(s,e,t,i,n,r);for(var o=1;o<r;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<r;f+=a)for(var h=u,l=c,d=0;d<o;d++){var p=i[f+d],m=n[f+d],b=i[f+d+o],v=n[f+d+o],g=h*b-l*v;v=h*v+l*b,b=g,i[f+d]=p+b,n[f+d]=m+v,i[f+d+o]=p-b,n[f+d+o]=m-v,d!==a&&(g=u*h-c*l,l=u*l+c*h,h=g)}},v.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),n=1&i,r=0;for(i=i/2|0;i;i>>>=1)r++;return 1<<r+1+n},v.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var n=0;n<i/2;n++){var r=e[n];e[n]=e[i-n-1],e[i-n-1]=r,r=t[n],t[n]=-t[i-n-1],t[i-n-1]=-r}},v.prototype.normalize13b=function(e,t){for(var i=0,n=0;n<t/2;n++){var r=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+i;e[n]=67108863&r,i=r<67108864?0:r/67108864|0}return e},v.prototype.convert13b=function(e,t,i,r){for(var s=0,o=0;o<t;o++)s+=0|e[o],i[2*o]=8191&s,s>>>=13,i[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<r;++o)i[o]=0;n(0===s),n(0===(-8192&s))},v.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},v.prototype.mulp=function(e,t,i){var n=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=i.words;l.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,u,n,r),this.transform(c,s,f,h,n,r);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,s,n,r),this.conjugate(l,s,n),this.normalize13b(l,n),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),b(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"===typeof e),n(e<67108864);for(var t=0,i=0;i<this.length;i++){var r=(0|this.words[i])*e,s=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=s>>>26,this.words[i]=67108863&s}return 0!==t&&(this.words[i]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=l(e);if(0===t.length)return new s(1);for(var i=this,n=0;n<t.length;n++,i=i.sqr())if(0!==t[n])break;if(++n<t.length)for(var r=i.sqr();n<t.length;n++,r=r.sqr())0!==t[n]&&(i=i.mul(r));return i},s.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,i=e%26,r=(e-i)/26,s=67108863>>>26-i<<26-i;if(0!==i){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,u=(0|this.words[t])-a<<i;this.words[t]=u|o,o=a>>>26-i}o&&(this.words[t]=o,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,i){var r;n("number"===typeof e&&e>=0),r=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,u=i;if(r-=o,r=Math.max(0,r),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=r);c--){var h=0|this.words[c];this.words[c]=f<<26-s|h>>>s,f=h&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,i){return n(0===this.negative),this.iushrn(e,t,i)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26,r=1<<t;if(this.length<=i)return!1;var s=this.words[i];return!!(s&r)},s.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,i){var r,s,o=e.length+i;this._expand(o);var a=0;for(r=0;r<e.length;r++){s=(0|this.words[r+i])+a;var u=(0|e.words[r])*t;s-=67108863&u,a=(s>>26)-(u/67108864|0),this.words[r+i]=67108863&s}for(;r<this.length-i;r++)s=(0|this.words[r+i])+a,a=s>>26,this.words[r+i]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,r=0;r<this.length;r++)s=-(0|this.words[r])+a,a=s>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var i=this.length-e.length,n=this.clone(),r=e,o=0|r.words[r.length-1],a=this._countBits(o);i=26-a,0!==i&&(r=r.ushln(i),n.iushln(i),o=0|r.words[r.length-1]);var u,c=n.length-r.length;if("mod"!==t){u=new s(null),u.length=c+1,u.words=new Array(u.length);for(var f=0;f<u.length;f++)u.words[f]=0}var h=n.clone()._ishlnsubmul(r,1,c);0===h.negative&&(n=h,u&&(u.words[c]=1));for(var l=c-1;l>=0;l--){var d=67108864*(0|n.words[r.length+l])+(0|n.words[r.length+l-1]);d=Math.min(d/o|0,67108863),n._ishlnsubmul(r,d,l);while(0!==n.negative)d--,n.negative=0,n._ishlnsubmul(r,1,l),n.isZero()||(n.negative^=1);u&&(u.words[l]=d)}return u&&u.strip(),n.strip(),"div"!==t&&0!==i&&n.iushrn(i),{div:u||null,mod:n}},s.prototype.divmod=function(e,t,i){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(r=a.div.neg()),"div"!==t&&(o=a.mod.neg(),i&&0!==o.negative&&o.iadd(e)),{div:r,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(r=a.div.neg()),{div:r,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),i&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var r,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),r=e.andln(1),s=i.cmp(n);return s<0||1===r&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,i=0,r=this.length-1;r>=0;r--)i=(t*i+(0|this.words[r]))%e;return i},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var r=(0|this.words[i])+67108864*t;this.words[i]=r/e|0,t=r%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();var r=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;while(t.isEven()&&i.isEven())t.iushrn(1),i.iushrn(1),++c;var f=i.clone(),h=t.clone();while(!t.isZero()){for(var l=0,d=1;0===(t.words[0]&d)&&l<26;++l,d<<=1);if(l>0){t.iushrn(l);while(l-- >0)(r.isOdd()||o.isOdd())&&(r.iadd(f),o.isub(h)),r.iushrn(1),o.iushrn(1)}for(var p=0,m=1;0===(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0){i.iushrn(p);while(p-- >0)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(h)),a.iushrn(1),u.iushrn(1)}t.cmp(i)>=0?(t.isub(i),r.isub(a),o.isub(u)):(i.isub(t),a.isub(r),u.isub(o))}return{a:a,b:u,gcd:i.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();var r,o=new s(1),a=new s(0),u=i.clone();while(t.cmpn(1)>0&&i.cmpn(1)>0){for(var c=0,f=1;0===(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0){t.iushrn(c);while(c-- >0)o.isOdd()&&o.iadd(u),o.iushrn(1)}for(var h=0,l=1;0===(i.words[0]&l)&&h<26;++h,l<<=1);if(h>0){i.iushrn(h);while(h-- >0)a.isOdd()&&a.iadd(u),a.iushrn(1)}t.cmp(i)>=0?(t.isub(i),o.isub(a)):(i.isub(t),a.isub(o))}return r=0===t.cmpn(1)?o:a,r.cmpn(0)<0&&r.iadd(e),r},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var n=0;t.isEven()&&i.isEven();n++)t.iushrn(1),i.iushrn(1);do{while(t.isEven())t.iushrn(1);while(i.isEven())i.iushrn(1);var r=t.cmp(i);if(r<0){var s=t;t=i,i=s}else if(0===r||0===i.cmpn(1))break;t.isub(i)}while(1);return i.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,i=(e-t)/26,r=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=r,this;for(var s=r,o=i;0!==s&&o<this.length;o++){var a=0|this.words[o];a+=s,s=a>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),n(e<=67108863,"Number is too big");var r=0|this.words[0];t=r===e?0:r<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var n=0|this.words[i],r=0|e.words[i];if(n!==r){n<r?t=-1:n>r&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new x(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"===typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),i=this.imulK(i),i=i.iadd(this.tmp),t=i.bitLength()}while(t>this.n);var n=t<this.n?-1:i.ucmp(this.p);return 0===n?(i.words[0]=0,i.length=1):n>0?i.isub(this.p):i.strip(),i},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},r(_,y),_.prototype.split=function(e,t){for(var i=4194303,n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&i,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(o&i)<<4|s>>>22,s=o}s>>>=22,e.words[r-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var n=0|e.words[i];t+=977*n,e.words[i]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(w,y),r(S,y),r(E,y),E.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var n=19*(0|e.words[i])+t,r=67108863&n;n>>>=26,e.words[i]=r,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new w;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return g[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},x.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var i=this.m.add(new s(1)).iushrn(2);return this.pow(e,i)}var r=this.m.subn(1),o=0;while(!r.isZero()&&0===r.andln(1))o++,r.iushrn(1);n(!r.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();f=new s(2*f*f).toRed(this);while(0!==this.pow(f,c).cmp(u))f.redIAdd(u);var h=this.pow(f,r),l=this.pow(e,r.addn(1).iushrn(1)),d=this.pow(e,r),p=o;while(0!==d.cmp(a)){for(var m=d,b=0;0!==m.cmp(a);b++)m=m.redSqr();n(b<p);var v=this.pow(h,new s(1).iushln(p-b-1));l=l.redMul(v),h=v.redSqr(),d=d.redMul(h),p=b}return l},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=4,n=new Array(1<<i);n[0]=new s(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var o=n[0],a=0,u=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var f=t.words[r],h=c-1;h>=0;h--){var l=f>>h&1;o!==n[0]&&(o=this.sqr(o)),0!==l||0!==a?(a<<=1,a|=l,u++,(u===i||0===r&&0===h)&&(o=this.mul(o,n[a]),u=0,a=0)):u=0}c=26}return o},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new k(e)},r(k,x),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var i=e.mul(t),n=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(n).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}})(e,this)}).call(this,i("62e4")(e))},"39f5":function(e,t,i){var n=i("8707").Buffer;function r(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,i=new Array(t),r=0;r<t;r++)i[r]=e.readUInt32BE(4*r);return i}function s(e){for(var t=0;t<e.length;e++)e[t]=0}function o(e,t,i,n,r){for(var s,o,a,u,c=i[0],f=i[1],h=i[2],l=i[3],d=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],b=e[3]^t[3],v=4,g=1;g<r;g++)s=c[d>>>24]^f[p>>>16&255]^h[m>>>8&255]^l[255&b]^t[v++],o=c[p>>>24]^f[m>>>16&255]^h[b>>>8&255]^l[255&d]^t[v++],a=c[m>>>24]^f[b>>>16&255]^h[d>>>8&255]^l[255&p]^t[v++],u=c[b>>>24]^f[d>>>16&255]^h[p>>>8&255]^l[255&m]^t[v++],d=s,p=o,m=a,b=u;return s=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[m>>>8&255]<<8|n[255&b])^t[v++],o=(n[p>>>24]<<24|n[m>>>16&255]<<16|n[b>>>8&255]<<8|n[255&d])^t[v++],a=(n[m>>>24]<<24|n[b>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^t[v++],u=(n[b>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&m])^t[v++],s>>>=0,o>>>=0,a>>>=0,u>>>=0,[s,o,a,u]}var a=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var i=[],n=[],r=[[],[],[],[]],s=[[],[],[],[]],o=0,a=0,u=0;u<256;++u){var c=a^a<<1^a<<2^a<<3^a<<4;c=c>>>8^255&c^99,i[o]=c,n[c]=o;var f=e[o],h=e[f],l=e[h],d=257*e[c]^16843008*c;r[0][o]=d<<24|d>>>8,r[1][o]=d<<16|d>>>16,r[2][o]=d<<8|d>>>24,r[3][o]=d,d=16843009*l^65537*h^257*f^16843008*o,s[0][c]=d<<24|d>>>8,s[1][c]=d<<16|d>>>16,s[2][c]=d<<8|d>>>24,s[3][c]=d,0===o?o=a=1:(o=f^e[e[e[l^f]]],a^=e[e[a]])}return{SBOX:i,INV_SBOX:n,SUB_MIX:r,INV_SUB_MIX:s}}();function c(e){this._key=r(e),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var e=this._key,t=e.length,i=t+6,n=4*(i+1),r=[],s=0;s<t;s++)r[s]=e[s];for(s=t;s<n;s++){var o=r[s-1];s%t===0?(o=o<<8|o>>>24,o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o],o^=a[s/t|0]<<24):t>6&&s%t===4&&(o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o]),r[s]=r[s-t]^o}for(var c=[],f=0;f<n;f++){var h=n-f,l=r[h-(f%4?0:4)];c[f]=f<4||h<=4?l:u.INV_SUB_MIX[0][u.SBOX[l>>>24]]^u.INV_SUB_MIX[1][u.SBOX[l>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[l>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&l]]}this._nRounds=i,this._keySchedule=r,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(e){return e=r(e),o(e,this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),i=n.allocUnsafe(16);return i.writeUInt32BE(t[0],0),i.writeUInt32BE(t[1],4),i.writeUInt32BE(t[2],8),i.writeUInt32BE(t[3],12),i},c.prototype.decryptBlock=function(e){e=r(e);var t=e[1];e[1]=e[3],e[3]=t;var i=o(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),s=n.allocUnsafe(16);return s.writeUInt32BE(i[0],0),s.writeUInt32BE(i[3],4),s.writeUInt32BE(i[2],8),s.writeUInt32BE(i[1],12),s},c.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},e.exports.AES=c},"3a7c":function(e,t,i){(function(e){function i(e){return Array.isArray?Array.isArray(e):"[object Array]"===b(e)}function n(e){return"boolean"===typeof e}function r(e){return null===e}function s(e){return null==e}function o(e){return"number"===typeof e}function a(e){return"string"===typeof e}function u(e){return"symbol"===typeof e}function c(e){return void 0===e}function f(e){return"[object RegExp]"===b(e)}function h(e){return"object"===typeof e&&null!==e}function l(e){return"[object Date]"===b(e)}function d(e){return"[object Error]"===b(e)||e instanceof Error}function p(e){return"function"===typeof e}function m(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function b(e){return Object.prototype.toString.call(e)}t.isArray=i,t.isBoolean=n,t.isNull=r,t.isNullOrUndefined=s,t.isNumber=o,t.isString=a,t.isSymbol=u,t.isUndefined=c,t.isRegExp=f,t.isObject=h,t.isDate=l,t.isError=d,t.isFunction=p,t.isPrimitive=m,t.isBuffer=e.isBuffer}).call(this,i("b639").Buffer)},"3daf":function(e,t,i){"use strict";var n=i("f3a3"),r=i("399f"),s=i("3fb5"),o=i("ea53"),a=n.assert;function u(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,o.call(this,"edwards",e),this.a=new r(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new r(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new r(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function c(e,t,i,n,s){o.BasePoint.call(this,e,"projective"),null===t&&null===i&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new r(t,16),this.y=new r(i,16),this.z=n?new r(n,16):this.curve.one,this.t=s&&new r(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(u,o),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,i,n){return this.point(e,t,i,n)},u.prototype.pointFromX=function(e,t){e=new r(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(t&&!u||!t&&u)&&(a=a.redNeg()),this.point(e,a)},u.prototype.pointFromY=function(e,t){e=new r(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),n=t.redMul(this.a).redAdd(i),r=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===n.cmp(r)},s(c,o.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,i,n){return new c(this,e,t,i,n)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),r=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),o=s.redSub(i),a=n.redSub(t),u=r.redMul(o),c=s.redMul(a),f=r.redMul(a),h=o.redMul(s);return this.curve.point(u,c,h,f)},c.prototype._projDbl=function(){var e,t,i,n=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var o=this.curve._mulA(r),a=o.redAdd(s);if(this.zOne)e=n.redSub(r).redSub(s).redMul(a.redSub(this.curve.two)),t=a.redMul(o.redSub(s)),i=a.redSqr().redSub(a).redSub(a);else{var u=this.z.redSqr(),c=a.redSub(u).redISub(u);e=n.redSub(r).redISub(s).redMul(c),t=a.redMul(o.redSub(s)),i=a.redMul(c)}}else{o=r.redAdd(s),u=this.curve._mulC(this.z).redSqr(),c=o.redSub(u).redSub(u);e=this.curve._mulC(n.redISub(o)).redMul(c),t=this.curve._mulC(o).redMul(r.redISub(s)),i=o.redMul(c)}return this.curve.point(e,t,i)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),r=this.z.redMul(e.z.redAdd(e.z)),s=i.redSub(t),o=r.redSub(n),a=r.redAdd(n),u=i.redAdd(t),c=s.redMul(o),f=a.redMul(u),h=s.redMul(u),l=o.redMul(a);return this.curve.point(c,f,l,h)},c.prototype._projAdd=function(e){var t,i,n=this.z.redMul(e.z),r=n.redSqr(),s=this.x.redMul(e.x),o=this.y.redMul(e.y),a=this.curve.d.redMul(s).redMul(o),u=r.redSub(a),c=r.redAdd(a),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(o),h=n.redMul(u).redMul(f);return this.curve.twisted?(t=n.redMul(c).redMul(o.redSub(this.curve._mulA(s))),i=u.redMul(c)):(t=n.redMul(c).redMul(o.redSub(s)),i=this.curve._mulC(u).redMul(c)),this.curve.point(h,t,i)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)},c.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},"3e8f":function(e,t){},"3f62":function(e,t,i){var n=i("8707").Buffer,r=n.alloc(16,0);function s(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function o(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}a.prototype.ghash=function(e){var t=-1;while(++t<e.length)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){var e,t,i,n=s(this.h),r=[0,0,0,0],a=-1;while(++a<128){for(t=0!==(this.state[~~(a/8)]&1<<7-a%8),t&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),i=0!==(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,i&&(n[0]=n[0]^225<<24)}this.state=o(r)},a.prototype.update=function(e){var t;this.cache=n.concat([this.cache,e]);while(this.cache.length>=16)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,r],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},"3fb5":function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},"409b":function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},4111:function(e,t,i){"use strict";var n=i("7f7a");t.certificate=i("56b5");var r=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=r;var s=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=s;var o=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));t.PublicKey=o;var a=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=u;var c=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=c;var f=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=f,t.DSAparam=n.define("DSAparam",(function(){this.int()}));var h=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=h;var l=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},4136:function(e,t,i){"use strict";var n=t;n.base=i("ea53"),n.short=i("3300"),n.mont=i("676f"),n.edwards=i("3daf")},"41a0":function(e,t,i){"use strict";var n=i("2aeb"),r=i("4630"),s=i("7f20"),o={};i("32e9")(o,i("2b4c")("iterator"),(function(){return this})),e.exports=function(e,t,i){e.prototype=n(o,{next:r(1,i)}),s(e,t+" Iterator")}},"41df":function(e,t,i){var n=t;n.Reporter=i("d1c8").Reporter,n.DecoderBuffer=i("6283").DecoderBuffer,n.EncoderBuffer=i("6283").EncoderBuffer,n.Node=i("8360")},4228:function(e,t,i){var n=i("82f0"),r=i("8707").Buffer,s=i("bac2"),o=i("09f5"),a=i("6430"),u=i("39f5"),c=i("ae84"),f=i("3fb5");function h(e,t,i){a.call(this),this._cache=new l,this._last=void 0,this._cipher=new u.AES(t),this._prev=r.from(i),this._mode=e,this._autopadding=!0}function l(){this.cache=r.allocUnsafe(0)}function d(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var i=-1;while(++i<t)if(e[i+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}function p(e,t,i){var a=s[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"===typeof i&&(i=r.from(i)),"GCM"!==a.mode&&i.length!==a.iv)throw new TypeError("invalid iv length "+i.length);if("string"===typeof t&&(t=r.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===a.type?new o(a.module,t,i,!0):"auth"===a.type?new n(a.module,t,i,!0):new h(a.module,t,i)}function m(e,t){var i=s[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var n=c(t,!1,i.key,i.iv);return p(e,n.key,n.iv)}f(h,a),h.prototype._update=function(e){var t,i;this._cache.add(e);var n=[];while(t=this._cache.get(this._autopadding))i=this._mode.decrypt(this,t),n.push(i);return r.concat(n)},h.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return d(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=r.concat([this.cache,e])},l.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},l.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=m,t.createDecipheriv=p},"429b":function(e,t,i){e.exports=i("faa1").EventEmitter},"44a3":function(e,t,i){"use strict";var n=i("399f"),r=i("f3a3"),s=r.assert,o=r.cachedProperty,a=r.parseBytes;function u(e,t){this.eddsa=e,"object"!==typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}o(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},4588:function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4681:function(e,t,i){"use strict";var n=i("966d");function r(e,t){var i=this,r=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return r||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(o,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)})),this)}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}e.exports={destroy:r,undestroy:s}},"499e":function(e,t,i){"use strict";function n(e,t){for(var i=[],n={},r=0;r<t.length;r++){var s=t[r],o=s[0],a=s[1],u=s[2],c=s[3],f={id:e+":"+r,css:a,media:u,sourceMap:c};n[o]?n[o].parts.push(f):i.push(n[o]={id:o,parts:[f]})}return i}i.r(t),i.d(t,"default",(function(){return p}));var r="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},o=r&&(document.head||document.getElementsByTagName("head")[0]),a=null,u=0,c=!1,f=function(){},h=null,l="data-vue-ssr-id",d="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,i,r){c=i,h=r||{};var o=n(e,t);return m(o),function(t){for(var i=[],r=0;r<o.length;r++){var a=o[r],u=s[a.id];u.refs--,i.push(u)}t?(o=n(e,t),m(o)):o=[];for(r=0;r<i.length;r++){u=i[r];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete s[u.id]}}}}function m(e){for(var t=0;t<e.length;t++){var i=e[t],n=s[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(v(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var o=[];for(r=0;r<i.parts.length;r++)o.push(v(i.parts[r]));s[i.id]={id:i.id,refs:1,parts:o}}}}function b(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function v(e){var t,i,n=document.querySelector("style["+l+'~="'+e.id+'"]');if(n){if(c)return f;n.parentNode.removeChild(n)}if(d){var r=u++;n=a||(a=b()),t=y.bind(null,n,r,!1),i=y.bind(null,n,r,!0)}else n=b(),t=_.bind(null,n),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else i()}}var g=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}();function y(e,t,i,n){var r=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=g(t,r);else{var s=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function _(e,t){var i=t.css,n=t.media,r=t.sourceMap;if(n&&e.setAttribute("media",n),h.ssrId&&e.setAttribute(l,t.id),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}},"4a59":function(e,t,i){var n=i("9b43"),r=i("1fa8"),s=i("33a4"),o=i("cb7c"),a=i("9def"),u=i("27ee"),c={},f={};t=e.exports=function(e,t,i,h,l){var d,p,m,b,v=l?function(){return e}:u(e),g=n(i,h,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(s(v)){for(d=a(e.length);d>y;y++)if(b=t?g(o(p=e[y])[0],p[1]):g(e[y]),b===c||b===f)return b}else for(m=v.call(e);!(p=m.next()).done;)if(b=r(m,g,p.value,t),b===c||b===f)return b};t.BREAK=c,t.RETURN=f},"4bf8":function(e,t,i){var n=i("be13");e.exports=function(e){return Object(n(e))}},"4dd0":function(e,t,i){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,r=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,o=i("ae84"),a=i("fda6"),u=i("8707").Buffer;e.exports=function(e,t){var i,c=e.toString(),f=c.match(n);if(f){var h="aes"+f[1],l=u.from(f[2],"hex"),d=u.from(f[3].replace(/[\r\n]/g,""),"base64"),p=o(t,l.slice(0,8),parseInt(f[1],10)).key,m=[],b=a.createDecipheriv(h,p,l);m.push(b.update(d)),m.push(b.final()),i=u.concat(m)}else{var v=c.match(s);i=new u(v[2].replace(/[\r\n]/g,""),"base64")}var g=c.match(r)[1];return{tag:g,data:i}}},"4e2b":function(e,t,i){"use strict";var n=i("da3e"),r=i("3fb5"),s=i("1545"),o=s.utils,a=s.Cipher;function u(){this.tmp=new Array(2),this.keys=null}function c(e){a.call(this,e);var t=new u;this._desState=t,this.deriveKeys(t,e.key)}r(c,a),e.exports=c,c.create=function(e){return new c(e)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var i=o.readUInt32BE(t,0),r=o.readUInt32BE(t,4);o.pc1(i,r,e.tmp,0),i=e.tmp[0],r=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=f[s>>>1];i=o.r28shl(i,a),r=o.r28shl(r,a),o.pc2(i,r,e.keys,s)}},c.prototype._update=function(e,t,i,n){var r=this._desState,s=o.readUInt32BE(e,t),a=o.readUInt32BE(e,t+4);o.ip(s,a,r.tmp,0),s=r.tmp[0],a=r.tmp[1],"encrypt"===this.type?this._encrypt(r,s,a,r.tmp,0):this._decrypt(r,s,a,r.tmp,0),s=r.tmp[0],a=r.tmp[1],o.writeUInt32BE(i,s,n),o.writeUInt32BE(i,a,n+4)},c.prototype._pad=function(e,t){for(var i=e.length-t,n=t;n<e.length;n++)e[n]=i;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],i=e.length-t;i<e.length;i++)n.equal(e[i],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,i,n,r){for(var s=t,a=i,u=0;u<e.keys.length;u+=2){var c=e.keys[u],f=e.keys[u+1];o.expand(a,e.tmp,0),c^=e.tmp[0],f^=e.tmp[1];var h=o.substitute(c,f),l=o.permute(h),d=a;a=(s^l)>>>0,s=d}o.rip(a,s,n,r)},c.prototype._decrypt=function(e,t,i,n,r){for(var s=i,a=t,u=e.keys.length-2;u>=0;u-=2){var c=e.keys[u],f=e.keys[u+1];o.expand(s,e.tmp,0),c^=e.tmp[0],f^=e.tmp[1];var h=o.substitute(c,f),l=o.permute(h),d=s;s=(a^l)>>>0,a=d}o.rip(s,a,n,r)}},"4fd1":function(e,t,i){var n=i("3fb5"),r=i("b672"),s=i("8707").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,r.call(this,128,112)}function c(e,t,i){return i^e&(t^i)}function f(e,t,i){return e&t|i&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function l(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function b(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function v(e,t){return e>>>0<t>>>0?1:0}n(u,r),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,i=0|this._ah,n=0|this._bh,r=0|this._ch,s=0|this._dh,a=0|this._eh,u=0|this._fh,g=0|this._gh,y=0|this._hh,_=0|this._al,w=0|this._bl,S=0|this._cl,E=0|this._dl,x=0|this._el,k=0|this._fl,A=0|this._gl,T=0|this._hl,C=0;C<32;C+=2)t[C]=e.readInt32BE(4*C),t[C+1]=e.readInt32BE(4*C+4);for(;C<160;C+=2){var R=t[C-30],D=t[C-30+1],B=d(R,D),M=p(D,R);R=t[C-4],D=t[C-4+1];var I=m(R,D),U=b(D,R),P=t[C-14],F=t[C-14+1],O=t[C-32],L=t[C-32+1],N=M+F|0,j=B+P+v(N,M)|0;N=N+U|0,j=j+I+v(N,U)|0,N=N+L|0,j=j+O+v(N,L)|0,t[C]=j,t[C+1]=N}for(var z=0;z<160;z+=2){j=t[z],N=t[z+1];var H=f(i,n,r),V=f(_,w,S),q=h(i,_),G=h(_,i),K=l(a,x),W=l(x,a),Y=o[z],$=o[z+1],X=c(a,u,g),Q=c(x,k,A),J=T+W|0,Z=y+K+v(J,T)|0;J=J+Q|0,Z=Z+X+v(J,Q)|0,J=J+$|0,Z=Z+Y+v(J,$)|0,J=J+N|0,Z=Z+j+v(J,N)|0;var ee=G+V|0,te=q+H+v(ee,G)|0;y=g,T=A,g=u,A=k,u=a,k=x,x=E+J|0,a=s+Z+v(x,E)|0,s=r,E=S,r=n,S=w,n=i,w=_,_=J+ee|0,i=Z+te+v(_,J)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+S|0,this._dl=this._dl+E|0,this._el=this._el+x|0,this._fl=this._fl+k|0,this._gl=this._gl+A|0,this._hl=this._hl+T|0,this._ah=this._ah+i+v(this._al,_)|0,this._bh=this._bh+n+v(this._bl,w)|0,this._ch=this._ch+r+v(this._cl,S)|0,this._dh=this._dh+s+v(this._dl,E)|0,this._eh=this._eh+a+v(this._el,x)|0,this._fh=this._fh+u+v(this._fl,k)|0,this._gh=this._gh+g+v(this._gl,A)|0,this._hh=this._hh+y+v(this._hl,T)|0},u.prototype._hash=function(){var e=s.allocUnsafe(64);function t(t,i,n){e.writeInt32BE(t,n),e.writeInt32BE(i,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},"50c4":function(module,exports,__webpack_require__){(function(process,__dirname){var require,require,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,require,_require=require;require=void 0,function(e,t){__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=t,__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,(function(){"use strict";var global;function initglobal(){global=this,global||("undefined"!=typeof window?global=window:"undefined"!=self&&(global=self))}function error(e){console.error(e),console.trace()}function assert(e,t){e||error(t)}initglobal();var getModule=function(_broadwayOnHeadersDecoded,_broadwayOnPictureDecoded){var windowBak;"undefined"!=typeof window&&(windowBak=window);var window={_broadwayOnHeadersDecoded:_broadwayOnHeadersDecoded,_broadwayOnPictureDecoded:_broadwayOnPictureDecoded};function d(e){throw e}var g=void 0,i=!0,k=null,m=!1,p;function n(){return function(){}}p||(p=eval("(function() { try { return Module || {} } catch(e) { return {} } })()"));var aa={},r;for(r in p)p.hasOwnProperty(r)&&(aa[r]=p[r]);var t="object"===typeof process&&!0,ba="object"===typeof window,ca="function"===typeof importScripts,da=!ba&&!t&&!ca;if(t){p.print||(p.print=function(e){process.stdout.write(e+"\n")}),p.printErr||(p.printErr=function(e){process.stderr.write(e+"\n")});var fa=__webpack_require__("3e8f"),ga=__webpack_require__("df7c");p.read=function(e,t){e=ga.normalize(e);var i=fa.readFileSync(e);return!i&&e!=ga.resolve(e)&&(e=path.join(__dirname,"..","src",e),i=fa.readFileSync(e)),i&&!t&&(i=i.toString()),i},p.readBinary=function(e){return p.read(e,i)},p.load=function(e){ha(read(e))},p.thisProgram=1<process.argv.length?process.argv[1].replace(/\\/g,"/"):"unknown-program",p.arguments=process.argv.slice(2),module.exports=p,process.on("uncaughtException",(function(e){e instanceof ia||d(e)}))}else da?(p.print||(p.print=print),"undefined"!=typeof printErr&&(p.printErr=printErr),p.read="undefined"!=typeof read?read:function(){d("no read() available (jsc?)")},p.readBinary=function(e){return"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(e=read(e,"binary"),w("object"===typeof e),e)},"undefined"!=typeof scriptArgs?p.arguments=scriptArgs:"undefined"!=typeof arguments&&(p.arguments=arguments),this.Module=p,eval("if (typeof gc === 'function' && gc.toString().indexOf('[native code]') > 0) var gc = undefined")):ba||ca?(p.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,m),t.send(k),t.responseText},"undefined"!=typeof arguments&&(p.arguments=arguments),"undefined"!==typeof console?(p.print||(p.print=function(e){console.log(e)}),p.printErr||(p.printErr=function(e){console.log(e)})):p.print||(p.print=n()),ba?window.Module=p:p.load=importScripts):d("Unknown runtime environment. Where are we?");function ha(e){eval.call(k,e)}for(r in!p.load&&p.read&&(p.load=function(e){ha(p.read(e))}),p.print||(p.print=n()),p.printErr||(p.printErr=p.print),p.arguments||(p.arguments=[]),p.thisProgram||(p.thisProgram="./this.program"),p.print=p.print,p.fa=p.printErr,p.preRun=[],p.postRun=[],aa)aa.hasOwnProperty(r)&&(p[r]=aa[r]);var z={Yd:function(e){ja=e},xd:function(){return ja},Tb:function(){return y},Sb:function(e){y=e},oc:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:return"*"===e[e.length-1]?z.ia:"i"===e[0]?(e=parseInt(e.substr(1)),w(0===e%8),e/8):0}},vd:function(e){return Math.max(z.oc(e),z.ia)},Qf:16,ng:function(e,t,i){return i||"i64"!=e&&"double"!=e?e?Math.min(t||(e?z.vd(e):0),z.ia):Math.min(t,8):8},Fa:function(e,t,i){return i&&i.length?(i.splice||(i=Array.prototype.slice.call(i)),i.splice(0,0,t),p["dynCall_"+e].apply(k,i)):p["dynCall_"+e].call(k,t)},eb:[],Vc:function(e){for(var t=0;t<z.eb.length;t++)if(!z.eb[t])return z.eb[t]=e,2*(1+t);d("Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS.")},Sd:function(e){z.eb[(e-2)/2]=k},og:function(a,b){z.wb||(z.wb={});var c=z.wb[a];if(c)return c;for(var c=[],e=0;e<b;e++)c.push(String.fromCharCode(36)+e);e=ka(a),'"'===e[0]&&(e.indexOf('"',1)===e.length-1?e=e.substr(1,e.length-2):A("invalid EM_ASM input |"+e+"|. Please use EM_ASM(..code..) (no quotes) or EM_ASM({ ..code($0).. }, input) (to input values)"));try{var f=eval("(function(Module, FS) { return function("+c.join(",")+"){ "+e+" } })")(p,"undefined"!==typeof B?B:k)}catch(h){p.fa("error in executing inline EM_ASM code: "+h+" on: \n\n"+e+"\n\nwith args |"+c+"| (make sure to use the right one out of EM_ASM, EM_ASM_ARGS, etc.)"),d(h)}return z.wb[a]=f},Aa:function(e){z.Aa.Rb||(z.Aa.Rb={}),z.Aa.Rb[e]||(z.Aa.Rb[e]=1,p.fa(e))},Cb:{},rg:function(e,t){w(t),z.Cb[t]||(z.Cb[t]={});var i=z.Cb[t];return i[e]||(i[e]=function(){return z.Fa(t,e,arguments)}),i[e]},Da:function(){var e=[],t=0;this.nb=function(i){if(i&=255,0==e.length)return 0==(128&i)?String.fromCharCode(i):(e.push(i),t=192==(224&i)?1:224==(240&i)?2:3,"");if(t&&(e.push(i),t--,0<t))return"";i=e[0];var n=e[1],r=e[2],s=e[3];return 2==e.length?i=String.fromCharCode((31&i)<<6|63&n):3==e.length?i=String.fromCharCode((15&i)<<12|(63&n)<<6|63&r):(i=(7&i)<<18|(63&n)<<12|(63&r)<<6|63&s,i=String.fromCharCode(55296+((i-65536)/1024|0),(i-65536)%1024+56320)),e.length=0,i},this.Ac=function(e){e=unescape(encodeURIComponent(e));for(var t=[],i=0;i<e.length;i++)t.push(e.charCodeAt(i));return t}},pg:function(){d("You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work")},pb:function(e){var t=y;return y=y+e|0,y=y+15&-16,t},Ec:function(e){var t=D;return D=D+e|0,D=D+15&-16,t},bb:function(e){var t=E;return E=E+e|0,E=E+15&-16,E>=F&&A("Cannot enlarge memory arrays. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value "+F+", (2) compile with ALLOW_MEMORY_GROWTH which adjusts the size at runtime but prevents some optimizations, or (3) set Module.TOTAL_MEMORY before the program runs."),t},ub:function(e,t){return Math.ceil(e/(t||16))*(t||16)},Fg:function(e,t,i){return i?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)},Pc:8,ia:4,Rf:0};p.Runtime=z,z.addFunction=z.Vc,z.removeFunction=z.Sd;var H=m,la,ma,ja,oa,pa;function w(e,t){e||A("Assertion failed: "+t)}function na(a){var b=p["_"+a];if(!b)try{b=eval("_"+a)}catch(c){}return w(b,"Cannot call unknown function "+a+" (perhaps LLVM optimizations or closure removed it?)"),b}function sa(e,t,i){switch(i=i||"i8","*"===i.charAt(i.length-1)&&(i="i32"),i){case"i1":I[e>>0]=t;break;case"i8":I[e>>0]=t;break;case"i16":J[e>>1]=t;break;case"i32":K[e>>2]=t;break;case"i64":ma=[t>>>0,(la=t,1<=+ta(la)?0<la?(0|va(+wa(la/4294967296),4294967295))>>>0:~~+xa((la-+(~~la>>>0))/4294967296)>>>0:0)],K[e>>2]=ma[0],K[e+4>>2]=ma[1];break;case"float":ya[e>>2]=t;break;case"double":za[e>>3]=t;break;default:A("invalid type for setValue: "+i)}}function Aa(e,t){switch(t=t||"i8","*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":return I[e>>0];case"i8":return I[e>>0];case"i16":return J[e>>1];case"i32":return K[e>>2];case"i64":return K[e>>2];case"float":return ya[e>>2];case"double":return za[e>>3];default:A("invalid type for setValue: "+t)}return k}(function(){function a(t){return t=t.toString().match(e).slice(1),{arguments:t[0],body:t[1],returnValue:t[2]}}var b={stackSave:function(){z.Tb()},stackRestore:function(){z.Sb()},arrayToC:function(e){var t=z.pb(e.length);return qa(e,t),t},stringToC:function(e){var t=0;return e!==k&&e!==g&&0!==e&&(t=z.pb(1+(e.length<<2)),ra(e,t)),t}},c={string:b.stringToC,array:b.arrayToC};pa=function(e,t,i,n){var r=na(e),s=[];e=0;if(n)for(var o=0;o<n.length;o++){var a=c[i[o]];a?(0===e&&(e=z.Tb()),s[o]=a(n[o])):s[o]=n[o]}return i=r.apply(k,s),"string"===t&&(i=ka(i)),0!==e&&z.Sb(e),i};var e=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/,f={},h;for(h in b)b.hasOwnProperty(h)&&(f[h]=a(b[h]));oa=function(b,c,e){var e=e||[],h=na(b),b=e.every((function(e){return"number"===e})),x="string"!==c;if(x&&b)return h;var s=e.map((function(e,t){return"$"+t})),c="(function("+s.join(",")+") {",v=e.length;if(!b)for(var c=c+"var stack = "+f.stackSave.body+";",G=0;G<v;G++){var ua=s[G],ea=e[G];"number"!==ea&&(ea=f[ea+"ToC"],c+="var "+ea.arguments+" = "+ua+";",c+=ea.body+";",c+=ua+"="+ea.returnValue+";")}return e=a((function(){return h})).returnValue,c+="var ret = "+e+"("+s.join(",")+");",x||(e=a((function(){return ka})).returnValue,c+="ret = "+e+"(ret);"),b||(c+=f.stackRestore.body.replace("()","(stack)")+";"),eval(c+"return ret})")}})(),p.cwrap=oa,p.ccall=pa,p.setValue=sa,p.getValue=Aa;var L=2,Ba=4;function M(e,t,n,r){var s,o;"number"===typeof e?(s=i,o=e):(s=m,o=e.length);var a="string"===typeof t?t:k;n=n==Ba?r:[Ca,z.pb,z.Ec,z.bb][n===g?L:n](Math.max(o,a?1:t.length));if(s){for(r=n,w(0==(3&n)),e=n+(-4&o);r<e;r+=4)K[r>>2]=0;for(e=n+o;r<e;)I[r++>>0]=0;return n}if("i8"===a)return e.subarray||e.slice?N.set(e,n):N.set(new Uint8Array(e),n),n;var u,c;for(r=0;r<o;){var f=e[r];"function"===typeof f&&(f=z.sg(f)),s=a||t[r],0===s?r++:("i64"==s&&(s="i32"),sa(n+r,f,s),c!==s&&(u=z.oc(s),c=s),r+=u)}return n}function ka(e,t){if(0===t||!e)return"";for(var n,r=m,s=0;;){if(n=N[e+s>>0],128<=n)r=i;else if(0==n&&!t)break;if(s++,t&&s==t)break}t||(t=s);var o="";if(!r){for(;0<t;)n=String.fromCharCode.apply(String,N.subarray(e,e+Math.min(t,1024))),o=o?o+n:n,e+=1024,t-=1024;return o}for(r=new z.Da,s=0;s<t;s++)n=N[e+s>>0],o+=r.nb(n);return o}function Da(e){function t(n,r,s){r=r||1/0;var o,h="",l=[];if("N"===e[a]){for(a++,"K"===e[a]&&a++,o=[];"E"!==e[a];)if("S"===e[a]){a++;var p=e.indexOf("_",a);o.push(c[e.substring(a,p)||0]||"?"),a=p+1}else if("C"===e[a])o.push(o[o.length-1]),a+=2;else{p=parseInt(e.substr(a));var b=p.toString().length;if(!p||!b){a--;break}var v=e.substr(a+b,p);o.push(v),c.push(v),a+=b+p}if(a++,o=o.join("::"),r--,0===r)return n?[o]:o}else("K"===e[a]||f&&"L"===e[a])&&a++,(p=parseInt(e.substr(a)))&&(b=p.toString().length,o=e.substr(a+b,p),a+=b+p);f=m,"I"===e[a]?(a++,p=t(i),b=t(i,1,i),h+=b[0]+" "+o+"<"+p.join(", ")+">"):h=o;e:for(;a<e.length&&0<r--;)if(o=e[a++],o in u)l.push(u[o]);else switch(o){case"P":l.push(t(i,1,i)[0]+"*");break;case"R":l.push(t(i,1,i)[0]+"&");break;case"L":a++,p=e.indexOf("E",a)-a,l.push(e.substr(a,p)),a+=p+2;break;case"A":p=parseInt(e.substr(a)),a+=p.toString().length,"_"!==e[a]&&d("?"),a++,l.push(t(i,1,i)[0]+" ["+p+"]");break;case"E":break e;default:h+="?"+o;break e}return!s&&1===l.length&&"void"===l[0]&&(l=[]),n?(h&&l.push(h+"?"),l):h+"("+l.join(", ")+")"}var n=!!p.___cxa_demangle;if(n)try{var r=Ca(e.length);ra(e.substr(1),r);var s=Ca(4),o=p.___cxa_demangle(r,0,0,s);if(0===Aa(s,"i32")&&o)return ka(o)}catch(h){}finally{r&&Ea(r),s&&Ea(s),o&&Ea(o)}var a=3,u={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},c=[],f=i;r=e;try{if("Object._main"==e||"_main"==e)return"main()";if("number"===typeof e&&(e=ka(e)),"_"!==e[0]||"_"!==e[1]||"Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}r=t()}catch(l){r+="?"}return 0<=r.indexOf("?")&&!n&&z.Aa("warning: a problem occurred in builtin C++ name demangling; build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),r}function Fa(){var e;e:{if(e=Error(),!e.stack){try{d(Error(0))}catch(t){e=t}if(!e.stack){e="(no stack trace available)";break e}}e=e.stack.toString()}return e.replace(/__Z[\w\d_]+/g,(function(e){var t=Da(e);return e===t?e:e+" ["+t+"]"}))}p.ALLOC_NORMAL=0,p.ALLOC_STACK=1,p.ALLOC_STATIC=L,p.ALLOC_DYNAMIC=3,p.ALLOC_NONE=Ba,p.allocate=M,p.Pointer_stringify=ka,p.UTF16ToString=function(e){for(var t=0,i="";;){var n=J[e+2*t>>1];if(0==n)return i;++t,i+=String.fromCharCode(n)}},p.stringToUTF16=function(e,t){for(var i=0;i<e.length;++i)J[t+2*i>>1]=e.charCodeAt(i);J[t+2*e.length>>1]=0},p.UTF32ToString=function(e){for(var t=0,i="";;){var n=K[e+4*t>>2];if(0==n)return i;++t,65536<=n?(n-=65536,i+=String.fromCharCode(55296|n>>10,56320|1023&n)):i+=String.fromCharCode(n)}},p.stringToUTF32=function(e,t){for(var i=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);if(55296<=r&&57343>=r){var s=e.charCodeAt(++n);r=65536+((1023&r)<<10)|1023&s}K[t+4*i>>2]=r,++i}K[t+4*i>>2]=0},p.stackTrace=function(){return Fa()};for(var I,N,J,Ga,K,Ha,ya,za,Ia=0,D=0,Ja=0,y=0,Ka=0,La=0,E=0,Ma=p.TOTAL_STACK||5242880,F=p.TOTAL_MEMORY||52428800,O=65536;O<F||O<2*Ma;)O=16777216>O?2*O:O+16777216;O!==F&&(p.fa("increasing TOTAL_MEMORY to "+O+" to be compliant with the asm.js spec"),F=O),w("undefined"!==typeof Int32Array&&"undefined"!==typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var Q=new ArrayBuffer(F);function Na(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var i=t.ja;"number"===typeof i?t.Xa===g?z.Fa("v",i):z.Fa("vi",i,[t.Xa]):i(t.Xa===g?k:t.Xa)}}}I=new Int8Array(Q),J=new Int16Array(Q),K=new Int32Array(Q),N=new Uint8Array(Q),Ga=new Uint16Array(Q),Ha=new Uint32Array(Q),ya=new Float32Array(Q),za=new Float64Array(Q),K[0]=255,w(255===N[0]&&0===N[3],"Typed arrays 2 must be run on a little-endian system"),p.HEAP=g,p.buffer=Q,p.HEAP8=I,p.HEAP16=J,p.HEAP32=K,p.HEAPU8=N,p.HEAPU16=Ga,p.HEAPU32=Ha,p.HEAPF32=ya,p.HEAPF64=za;var Oa=[],R=[],Pa=[],Qa=[],Ra=[],Sa=m;function Ta(e){Oa.unshift(e)}function Ua(e){Ra.unshift(e)}function Va(e,t,i){return e=(new z.Da).Ac(e),i&&(e.length=i),t||e.push(0),e}function ra(e,t,i){for(e=Va(e,i),i=0;i<e.length;)I[t+i>>0]=e[i],i+=1}function qa(e,t){for(var i=0;i<e.length;i++)I[t+i>>0]=e[i]}p.addOnPreRun=p.Xf=Ta,p.addOnInit=p.Uf=function(e){R.unshift(e)},p.addOnPreMain=p.Wf=function(e){Pa.unshift(e)},p.addOnExit=p.Tf=function(e){Qa.unshift(e)},p.addOnPostRun=p.Vf=Ua,p.intArrayFromString=Va,p.intArrayToString=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];255<n&&(n&=255),t.push(String.fromCharCode(n))}return t.join("")},p.writeStringToMemory=ra,p.writeArrayToMemory=qa,p.writeAsciiToMemory=function(e,t,i){for(var n=0;n<e.length;n++)I[t+n>>0]=e.charCodeAt(n);i||(I[t+e.length>>0]=0)},Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var i=65535&e,n=65535&t;return i*n+((e>>>16)*n+i*(t>>>16)<<16)|0}),Math.vg=Math.imul;var ta=Math.abs,xa=Math.ceil,wa=Math.floor,va=Math.min,S=0,Wa=k,Xa=k;function Ya(){S++,p.monitorRunDependencies&&p.monitorRunDependencies(S)}function Za(){if(S--,p.monitorRunDependencies&&p.monitorRunDependencies(S),0==S&&(Wa!==k&&(clearInterval(Wa),Wa=k),Xa)){var e=Xa;Xa=k,e()}}p.addRunDependency=Ya,p.removeRunDependency=Za,p.preloadedImages={},p.preloadedAudios={};var T=k,Ia=8,D=Ia+7808;R.push(),M([0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,4,4,4,4,4,4,5,5,5,5,5,5,6,6,6,6,6,6,7,7,7,7,7,7,8,8,8,8,0,0,0,0,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,4,5,0,1,2,3,0,0,0,0,10,0,0,0,13,0,0,0,16,0,0,0,11,0,0,0,14,0,0,0,18,0,0,0,13,0,0,0,16,0,0,0,20,0,0,0,14,0,0,0,18,0,0,0,23,0,0,0,16,0,0,0,20,0,0,0,25,0,0,0,18,0,0,0,23,0,0,0,29,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,16,0,0,0,17,0,0,0,18,0,0,0,19,0,0,0,20,0,0,0,21,0,0,0,22,0,0,0,23,0,0,0,24,0,0,0,25,0,0,0,26,0,0,0,27,0,0,0,28,0,0,0,29,0,0,0,29,0,0,0,30,0,0,0,31,0,0,0,32,0,0,0,32,0,0,0,33,0,0,0,34,0,0,0,34,0,0,0,35,0,0,0,35,0,0,0,36,0,0,0,36,0,0,0,37,0,0,0,37,0,0,0,37,0,0,0,38,0,0,0,38,0,0,0,38,0,0,0,39,0,0,0,39,0,0,0,39,0,0,0,39,0,0,0,1,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,16,0,0,0,32,0,0,0,64,0,0,0,128,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,1,0,0,0,4,0,0,0,5,0,0,0,2,0,0,0,3,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,12,0,0,0,13,0,0,0,10,0,0,0,11,0,0,0,14,0,0,0,15,0,0,0,47,31,15,0,23,27,29,30,7,11,13,14,39,43,45,46,16,3,5,10,12,19,21,26,28,35,37,42,44,1,2,4,8,17,18,20,24,6,9,22,25,32,33,34,36,40,38,41,0,16,1,2,4,8,32,3,5,10,12,15,47,7,11,13,14,6,9,31,35,37,42,44,33,34,36,40,39,43,45,46,17,18,20,24,19,21,26,28,23,27,29,30,22,25,38,41,17,1,0,0,0,0,0,0,34,18,1,1,0,0,0,0,50,34,18,2,0,0,0,0,67,51,34,34,18,18,2,2,83,67,51,35,18,18,2,2,19,35,67,51,99,83,2,2,0,0,101,85,68,68,52,52,35,35,35,35,19,19,19,19,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,249,233,217,200,200,184,184,167,167,167,167,151,151,151,151,134,134,134,134,134,134,134,134,118,118,118,118,118,118,118,118,230,214,198,182,165,165,149,149,132,132,132,132,116,116,116,116,100,100,100,100,84,84,84,84,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,19,19,19,19,19,19,19,19,3,3,3,3,3,3,3,3,214,182,197,197,165,165,149,149,132,132,132,132,84,84,84,84,68,68,68,68,4,4,4,4,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,19,19,19,19,19,19,19,19,197,181,165,5,148,148,116,116,52,52,36,36,131,131,131,131,99,99,99,99,83,83,83,83,67,67,67,67,19,19,19,19,181,149,164,164,132,132,36,36,20,20,4,4,115,115,115,115,99,99,99,99,83,83,83,83,67,67,67,67,51,51,51,51,166,6,21,21,132,132,132,132,147,147,147,147,147,147,147,147,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,83,83,83,83,83,83,83,83,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,150,6,21,21,116,116,116,116,131,131,131,131,131,131,131,131,99,99,99,99,99,99,99,99,67,67,67,67,67,67,67,67,51,51,51,51,51,51,51,51,35,35,35,35,35,35,35,35,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,134,6,37,37,20,20,20,20,115,115,115,115,115,115,115,115,99,99,99,99,99,99,99,99,51,51,51,51,51,51,51,51,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,22,6,117,117,36,36,36,36,83,83,83,83,83,83,83,83,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,98,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,21,5,100,100,35,35,35,35,82,82,82,82,82,82,82,82,66,66,66,66,66,66,66,66,50,50,50,50,50,50,50,50,4,20,35,35,51,51,83,83,65,65,65,65,65,65,65,65,4,20,67,67,34,34,34,34,49,49,49,49,49,49,49,49,3,19,50,50,33,33,33,33,2,18,33,33,0,0,0,0,0,0,0,0,0,0,102,32,38,16,6,8,101,24,101,24,67,16,67,16,67,16,67,16,67,16,67,16,67,16,67,16,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,34,8,0,0,0,0,0,0,0,0,106,64,74,48,42,40,10,32,105,56,105,56,73,40,73,40,41,32,41,32,9,24,9,24,104,48,104,48,104,48,104,48,72,32,72,32,72,32,72,32,40,24,40,24,40,24,40,24,8,16,8,16,8,16,8,16,103,40,103,40,103,40,103,40,103,40,103,40,103,40,103,40,71,24,71,24,71,24,71,24,71,24,71,24,71,24,71,24,110,96,78,88,46,80,14,80,110,88,78,80,46,72,14,72,13,64,13,64,77,72,77,72,45,64,45,64,13,56,13,56,109,80,109,80,77,64,77,64,45,56,45,56,13,48,13,48,107,72,107,72,107,72,107,72,107,72,107,72,107,72,107,72,75,56,75,56,75,56,75,56,75,56,75,56,75,56,75,56,43,48,43,48,43,48,43,48,43,48,43,48,43,48,43,48,11,40,11,40,11,40,11,40,11,40,11,40,11,40,11,40,0,0,0,0,47,104,47,104,16,128,80,128,48,128,16,120,112,128,80,120,48,120,16,112,112,120,80,112,48,112,16,104,111,112,111,112,79,104,79,104,47,96,47,96,15,96,15,96,111,104,111,104,79,96,79,96,47,88,47,88,15,88,15,88,0,0,0,0,0,0,0,0,102,56,70,32,38,32,6,16,102,48,70,24,38,24,6,8,101,40,101,40,37,16,37,16,100,32,100,32,100,32,100,32,100,24,100,24,100,24,100,24,67,16,67,16,67,16,67,16,67,16,67,16,67,16,67,16,0,0,0,0,0,0,0,0,105,72,73,56,41,56,9,48,8,40,8,40,72,48,72,48,40,48,40,48,8,32,8,32,103,64,103,64,103,64,103,64,71,40,71,40,71,40,71,40,39,40,39,40,39,40,39,40,7,24,7,24,7,24,7,24,0,0,0,0,109,120,109,120,110,128,78,128,46,128,14,128,46,120,14,120,78,120,46,112,77,112,77,112,13,112,13,112,109,112,109,112,77,104,77,104,45,104,45,104,13,104,13,104,109,104,109,104,77,96,77,96,45,96,45,96,13,96,13,96,12,88,12,88,12,88,12,88,76,88,76,88,76,88,76,88,44,88,44,88,44,88,44,88,12,80,12,80,12,80,12,80,108,96,108,96,108,96,108,96,76,80,76,80,76,80,76,80,44,80,44,80,44,80,44,80,12,72,12,72,12,72,12,72,107,88,107,88,107,88,107,88,107,88,107,88,107,88,107,88,75,72,75,72,75,72,75,72,75,72,75,72,75,72,75,72,43,72,43,72,43,72,43,72,43,72,43,72,43,72,43,72,11,64,11,64,11,64,11,64,11,64,11,64,11,64,11,64,107,80,107,80,107,80,107,80,107,80,107,80,107,80,107,80,75,64,75,64,75,64,75,64,75,64,75,64,75,64,75,64,43,64,43,64,43,64,43,64,43,64,43,64,43,64,43,64,11,56,11,56,11,56,11,56,11,56,11,56,11,56,11,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,24,70,56,38,56,6,16,102,72,70,48,38,48,6,8,37,40,37,40,69,40,69,40,37,32,37,32,69,32,69,32,37,24,37,24,101,64,101,64,69,24,69,24,37,16,37,16,100,56,100,56,100,56,100,56,100,48,100,48,100,48,100,48,100,40,100,40,100,40,100,40,100,32,100,32,100,32,100,32,100,24,100,24,100,24,100,24,68,16,68,16,68,16,68,16,36,8,36,8,36,8,36,8,4,0,4,0,4,0,4,0,0,0,10,128,106,128,74,128,42,128,10,120,106,120,74,120,42,120,10,112,106,112,74,112,42,112,10,104,41,104,41,104,9,96,9,96,73,104,73,104,41,96,41,96,9,88,9,88,105,104,105,104,73,96,73,96,41,88,41,88,9,80,9,80,104,96,104,96,104,96,104,96,72,88,72,88,72,88,72,88,40,80,40,80,40,80,40,80,8,72,8,72,8,72,8,72,104,88,104,88,104,88,104,88,72,80,72,80,72,80,72,80,40,72,40,72,40,72,40,72,8,64,8,64,8,64,8,64,7,56,7,56,7,56,7,56,7,56,7,56,7,56,7,56,7,48,7,48,7,48,7,48,7,48,7,48,7,48,7,48,71,72,71,72,71,72,71,72,71,72,71,72,71,72,71,72,7,40,7,40,7,40,7,40,7,40,7,40,7,40,7,40,103,80,103,80,103,80,103,80,103,80,103,80,103,80,103,80,71,64,71,64,71,64,71,64,71,64,71,64,71,64,71,64,39,64,39,64,39,64,39,64,39,64,39,64,39,64,39,64,7,32,7,32,7,32,7,32,7,32,7,32,7,32,7,32,6,8,38,8,0,0,6,0,6,16,38,16,70,16,0,0,6,24,38,24,70,24,102,24,6,32,38,32,70,32,102,32,6,40,38,40,70,40,102,40,6,48,38,48,70,48,102,48,6,56,38,56,70,56,102,56,6,64,38,64,70,64,102,64,6,72,38,72,70,72,102,72,6,80,38,80,70,80,102,80,6,88,38,88,70,88,102,88,6,96,38,96,70,96,102,96,6,104,38,104,70,104,102,104,6,112,38,112,70,112,102,112,6,120,38,120,70,120,102,120,6,128,38,128,70,128,102,128,0,0,67,16,2,0,2,0,33,8,33,8,33,8,33,8,103,32,103,32,72,32,40,32,71,24,71,24,39,24,39,24,6,32,6,32,6,32,6,32,6,24,6,24,6,24,6,24,6,16,6,16,6,16,6,16,102,24,102,24,102,24,102,24,38,16,38,16,38,16,38,16,6,8,6,8,6,8,6,8,3,0,0,0,15,0,0,0,1,0,0,0,10,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,3,0,0,0,19,0,0,0,1,0,0,0,18,0,0,0,0,0,0,0,17,0,0,0,4,0,0,0,16,0,0,0,3,0,0,0,23,0,0,0,1,0,0,0,22,0,0,0,0,0,0,0,21,0,0,0,4,0,0,0,20,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,4,0,0,0,1,0,0,0,15,0,0,0,2,0,0,0,10,0,0,0,4,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,12,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,2,0,0,0,4,0,0,0,13,0,0,0,255,0,0,0,8,0,0,0,1,0,0,0,19,0,0,0,2,0,0,0,18,0,0,0,4,0,0,0,17,0,0,0,255,0,0,0,16,0,0,0,1,0,0,0,23,0,0,0,2,0,0,0,22,0,0,0,4,0,0,0,21,0,0,0,255,0,0,0,20,0,0,0,1,0,0,0,10,0,0,0,1,0,0,0,11,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,1,0,0,0,14,0,0,0,1,0,0,0,15,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,7,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,13,0,0,0,1,0,0,0,18,0,0,0,1,0,0,0,19,0,0,0,4,0,0,0,16,0,0,0,4,0,0,0,17,0,0,0,1,0,0,0,22,0,0,0,1,0,0,0,23,0,0,0,4,0,0,0,20,0,0,0,4,0,0,0,21,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,0,0,0,0,15,0,0,0,4,0,0,0,10,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,11,0,0,0,4,0,0,0,14,0,0,0,0,0,0,0,17,0,0,0,4,0,0,0,16,0,0,0,0,0,0,0,19,0,0,0,4,0,0,0,18,0,0,0,0,0,0,0,21,0,0,0,4,0,0,0,20,0,0,0,0,0,0,0,23,0,0,0,4,0,0,0,22,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,8,0,0,0,12,0,0,0,8,0,0,0,12,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,8,0,0,0,12,0,0,0,8,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,4,0,0,0,8,0,0,0,8,0,0,0,12,0,0,0,12,0,0,0,8,0,0,0,8,0,0,0,12,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,3,0,0,0,15,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,3,0,0,0,15,0,0,0,0,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,3,0,0,0,15,0,0,0,1,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,3,0,0,0,15,0,0,0,1,0,0,0,10,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,0,0,0,0,7,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,13,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,3,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,4,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,11,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,4,0,0,0,2,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,2,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,15,0,0,0,2,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,15,0,0,0,2,0,0,0,10,0,0,0,4,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,12,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,12,0,0,0,255,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,2,0,0,0,255,0,0,0,8,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,2,0,0,0,4,0,0,0,13,0,0,0,255,0,0,0,8,0,0,0,1,0,0,0,10,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,10,0,0,0,4,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,10,0,0,0,1,0,0,0,11,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,10,0,0,0,1,0,0,0,11,0,0,0,4,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,1,0,0,0,14,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,4,0,0,0,4,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,1,0,0,0,15,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,1,0,0,0,14,0,0,0,1,0,0,0,15,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,2,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,8,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,3,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,8,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,6,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,12,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,7,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,7,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,13,0,0,0,0,0,0,0,5,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,7,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,4,0,0,0,2,0,0,0,4,0,0,0,1,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,3,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,1,0,0,0,4,0,0,0,4,0,0,0,4,0,0,0,3,0,0,0,4,0,0,0,6,0,0,0,0,0,0,0,13,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,0,0,0,0,15,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,0,0,0,0,13,0,0,0,4,0,0,0,8,0,0,0,0,0,0,0,15,0,0,0,4,0,0,0,10,0,0,0,4,0,0,0,9,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,11,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,255,0,0,0,0,0,0,0,255,0,0,0,0,0,0,0,4,0,0,0,9,0,0,0,4,0,0,0,12,0,0,0,4,0,0,0,11,0,0,0,4,0,0,0,14,0,0,0,0,0,0,0,1,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,5,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,9,0,0,0,10,0,0,0,11,0,0,0,12,0,0,0,13,0,0,0,14,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,5,6,7,8,9,10,12,13,15,17,20,22,25,28,32,36,40,45,50,56,63,71,80,90,101,113,127,144,162,182,203,226,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,3,3,3,3,4,4,4,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,1,1,2,1,2,3,1,2,3,2,2,3,2,2,4,2,3,4,2,3,4,3,3,5,3,4,6,3,4,6,4,5,7,4,5,8,4,6,9,5,7,10,6,8,11,6,8,13,7,10,14,8,11,16,9,12,18,10,13,20,11,15,23,13,17,25,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,69,67,79,68,69,82,32,73,78,73,84,73,65,76,73,90,65,84,73,79,78,32,70,65,73,76,69,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",Ba,z.Pc);var $a=z.ub(M(12,"i8",L),8);w(0==$a%8);var U={O:1,Q:2,Ef:3,De:4,ha:5,Zb:6,be:7,$e:8,V:9,oe:10,Ca:11,Of:11,Mc:12,qb:13,ye:14,mf:15,ga:16,Xb:17,Oc:18,Qa:19,Sa:20,pa:21,B:22,Ve:23,Lc:24,Nc:25,Lf:26,ze:27,hf:28,Ua:29,Bf:30,Oe:31,uf:32,ve:33,yf:34,df:42,Be:43,pe:44,Fe:45,Ge:46,He:47,Ne:48,Mf:49,Ye:50,Ee:51,te:35,af:37,ge:52,je:53,Pf:54,We:55,ke:56,le:57,ue:35,me:59,kf:60,Ze:61,If:62,jf:63,ef:64,ff:65,Af:66,bf:67,ee:68,Ff:69,qe:70,vf:71,Qe:72,we:73,ie:74,qf:76,he:77,zf:78,Ie:79,Je:80,Me:81,Le:82,Ke:83,lf:38,sb:39,Re:36,rb:40,Ta:95,tf:96,se:104,Xe:105,fe:97,xf:91,of:88,gf:92,Cf:108,Wb:111,ce:98,re:103,Ue:101,Se:100,Jf:110,Ae:112,Yb:113,Jc:115,Hc:114,Ic:89,Pe:90,wf:93,Df:94,de:99,Te:102,Kc:106,Ra:107,Kf:109,Nf:87,xe:122,Gf:116,pf:95,cf:123,Ce:84,rf:75,ne:125,nf:131,sf:130,Hf:86},ab={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},bb=0;function V(e){return K[bb>>2]=e}function cb(e,t){for(var i=0,n=e.length-1;0<=n;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function db(e){var t="/"===e.charAt(0),i="/"===e.substr(-1);e=cb(e.split("/").filter((function(e){return!!e})),!t).join("/");return!e&&!t&&(e="."),e&&i&&(e+="/"),(t?"/":"")+e}function eb(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);e=t[0],t=t[1];return e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function W(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)}function fb(){var e=Array.prototype.slice.call(arguments,0);return db(e.join("/"))}function X(e,t){return db(e+"/"+t)}function gb(){for(var e="",t=m,i=arguments.length-1;-1<=i&&!t;i--){if(t=0<=i?arguments[i]:B.yb(),"string"!==typeof t&&d(new TypeError("Arguments to path.resolve must be strings")),!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return e=cb(e.split("/").filter((function(e){return!!e})),!t).join("/"),(t?"/":"")+e||"."}function hb(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;0<=i&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=gb(e).substr(1),t=gb(t).substr(1);for(var n=i(e.split("/")),r=i(t.split("/")),s=Math.min(n.length,r.length),o=s,a=0;a<s;a++)if(n[a]!==r[a]){o=a;break}for(s=[],a=o;a<n.length;a++)s.push("..");return s=s.concat(r.slice(o)),s.join("/")}var ib=[];function jb(e,t){ib[e]={input:[],K:[],sa:t},B.Ob(e,kb)}var kb={open:function(e){var t=ib[e.g.ob];t||d(new B.e(U.Qa)),e.N=t,e.seekable=m},close:function(e){e.N.sa.flush(e.N)},flush:function(e){e.N.sa.flush(e.N)},M:function(e,t,i,n){(!e.N||!e.N.sa.rc)&&d(new B.e(U.Zb));for(var r=0,s=0;s<n;s++){var o;try{o=e.N.sa.rc(e.N)}catch(a){d(new B.e(U.ha))}if(o===g&&0===r&&d(new B.e(U.Ca)),o===k||o===g)break;r++,t[i+s]=o}return r&&(e.g.timestamp=Date.now()),r},write:function(e,t,i,n){(!e.N||!e.N.sa.Lb)&&d(new B.e(U.Zb));for(var r=0;r<n;r++)try{e.N.sa.Lb(e.N,t[i+r])}catch(s){d(new B.e(U.ha))}return n&&(e.g.timestamp=Date.now()),r}},mb={rc:function(e){if(!e.input.length){var n=k;if(t){if(n=process.stdin.read(),!n)return process.stdin._readableState&&process.stdin._readableState.ended?k:void 0}else"undefined"!=typeof window&&"function"==typeof window.prompt?(n=window.prompt("Input: "),n!==k&&(n+="\n")):"function"==typeof readline&&(n=readline(),n!==k&&(n+="\n"));if(!n)return k;e.input=Va(n,i)}return e.input.shift()},flush:function(e){e.K&&0<e.K.length&&(p.print(e.K.join("")),e.K=[])},Lb:function(e,t){t===k||10===t?(p.print(e.K.join("")),e.K=[]):e.K.push(lb.nb(t))}},nb={Lb:function(e,t){t===k||10===t?(p.printErr(e.K.join("")),e.K=[]):e.K.push(lb.nb(t))},flush:function(e){e.K&&0<e.K.length&&(p.printErr(e.K.join("")),e.K=[])}},Y={U:k,F:function(){return Y.createNode(k,"/",16895,0)},createNode:function(e,t,i,n){return(B.Bd(i)||B.Cd(i))&&d(new B.e(U.O)),Y.U||(Y.U={dir:{g:{S:Y.n.S,I:Y.n.I,ra:Y.n.ra,ba:Y.n.ba,rename:Y.n.rename,za:Y.n.za,Oa:Y.n.Oa,Na:Y.n.Na,ca:Y.n.ca},A:{$:Y.p.$}},file:{g:{S:Y.n.S,I:Y.n.I},A:{$:Y.p.$,M:Y.p.M,write:Y.p.write,Ea:Y.p.Ea,Ja:Y.p.Ja}},link:{g:{S:Y.n.S,I:Y.n.I,ta:Y.n.ta},A:{}},ec:{g:{S:Y.n.S,I:Y.n.I},A:B.bd}}),i=B.createNode(e,t,i,n),B.J(i.mode)?(i.n=Y.U.dir.g,i.p=Y.U.dir.A,i.k={}):B.isFile(i.mode)?(i.n=Y.U.file.g,i.p=Y.U.file.A,i.q=0,i.k=k):B.Ia(i.mode)?(i.n=Y.U.link.g,i.p=Y.U.link.A):B.ib(i.mode)&&(i.n=Y.U.ec.g,i.p=Y.U.ec.A),i.timestamp=Date.now(),e&&(e.k[t]=i),i},ud:function(e){if(e.k&&e.k.subarray){for(var t=[],i=0;i<e.q;++i)t.push(e.k[i]);return t}return e.k},qg:function(e){return e.k?e.k.subarray?e.k.subarray(0,e.q):new Uint8Array(e.k):new Uint8Array},lc:function(e,t){if(e.k&&e.k.subarray&&t>e.k.length&&(e.k=Y.ud(e),e.q=e.k.length),!e.k||e.k.subarray){var i=e.k?e.k.buffer.byteLength:0;i>=t||(t=Math.max(t,i*(1048576>i?2:1.125)|0),0!=i&&(t=Math.max(t,256)),i=e.k,e.k=new Uint8Array(t),0<e.q&&e.k.set(i.subarray(0,e.q),0))}else for(!e.k&&0<t&&(e.k=[]);e.k.length<t;)e.k.push(0)},Ud:function(e,t){if(e.q!=t)if(0==t)e.k=k,e.q=0;else{if(!e.k||e.k.subarray){var i=e.k;e.k=new Uint8Array(new ArrayBuffer(t)),i&&e.k.set(i.subarray(0,Math.min(t,e.q)))}else if(e.k||(e.k=[]),e.k.length>t)e.k.length=t;else for(;e.k.length<t;)e.k.push(0);e.q=t}},n:{S:function(e){var t={};return t.gg=B.ib(e.mode)?e.id:1,t.wg=e.id,t.mode=e.mode,t.Ig=1,t.uid=0,t.ug=0,t.ob=e.ob,t.size=B.J(e.mode)?4096:B.isFile(e.mode)?e.q:B.Ia(e.mode)?e.link.length:0,t.Zf=new Date(e.timestamp),t.Hg=new Date(e.timestamp),t.eg=new Date(e.timestamp),t.Zc=4096,t.$f=Math.ceil(t.size/t.Zc),t},I:function(e,t){t.mode!==g&&(e.mode=t.mode),t.timestamp!==g&&(e.timestamp=t.timestamp),t.size!==g&&Y.Ud(e,t.size)},ra:function(){d(B.Db[U.Q])},ba:function(e,t,i,n){return Y.createNode(e,t,i,n)},rename:function(e,t,i){if(B.J(e.mode)){var n;try{n=B.aa(t,i)}catch(s){}if(n)for(var r in n.k)d(new B.e(U.sb))}delete e.parent.k[e.name],e.name=i,t.k[i]=e,e.parent=t},za:function(e,t){delete e.k[t]},Oa:function(e,t){var i,n=B.aa(e,t);for(i in n.k)d(new B.e(U.sb));delete e.k[t]},Na:function(e){var t,i=[".",".."];for(t in e.k)e.k.hasOwnProperty(t)&&i.push(t);return i},ca:function(e,t,i){return e=Y.createNode(e,t,41471,0),e.link=i,e},ta:function(e){return B.Ia(e.mode)||d(new B.e(U.B)),e.link}},p:{M:function(e,t,i,n,r){var s=e.g.k;if(r>=e.g.q)return 0;if(e=Math.min(e.g.q-r,n),w(0<=e),8<e&&s.subarray)t.set(s.subarray(r,r+e),i);else for(n=0;n<e;n++)t[i+n]=s[r+n];return e},write:function(e,t,i,n,r,s){if(!n)return 0;if(e=e.g,e.timestamp=Date.now(),t.subarray&&(!e.k||e.k.subarray)){if(s)return e.k=t.subarray(i,i+n),e.q=n;if(0===e.q&&0===r)return e.k=new Uint8Array(t.subarray(i,i+n)),e.q=n;if(r+n<=e.q)return e.k.set(t.subarray(i,i+n),r),n}if(Y.lc(e,r+n),e.k.subarray&&t.subarray)e.k.set(t.subarray(i,i+n),r);else for(s=0;s<n;s++)e.k[r+s]=t[i+s];return e.q=Math.max(e.q,r+n),n},$:function(e,t,i){return 1===i?t+=e.position:2===i&&B.isFile(e.g.mode)&&(t+=e.g.q),0>t&&d(new B.e(U.B)),t},Ea:function(e,t,i){Y.lc(e.g,t+i),e.g.q=Math.max(e.g.q,t+i)},Ja:function(e,t,n,r,s,o,a){return B.isFile(e.g.mode)||d(new B.e(U.Qa)),n=e.g.k,2&a||n.buffer!==t&&n.buffer!==t.buffer?((0<s||s+r<e.g.q)&&(n=n.subarray?n.subarray(s,s+r):Array.prototype.slice.call(n,s,s+r)),e=i,(r=Ca(r))||d(new B.e(U.Mc)),t.set(n,r)):(e=m,r=n.byteOffset),{Lg:r,Yf:e}}}},ob=M(1,"i32*",L),pb=M(1,"i32*",L),qb=M(1,"i32*",L),B={root:k,La:[],ic:[k],oa:[],Jd:1,T:k,hc:"/",hb:m,vc:i,H:{},Gc:{yc:{Rc:1,Sc:2}},e:k,Db:{},sc:function(e){return e instanceof B.e||d(e+" : "+Fa()),V(e.cb)},u:function(e,t){if(e=gb(B.yb(),e),t=t||{},!e)return{path:"",g:k};var n,r={Bb:i,Nb:0};for(n in r)t[n]===g&&(t[n]=r[n]);8<t.Nb&&d(new B.e(U.rb));r=cb(e.split("/").filter((function(e){return!!e})),m);var s=B.root;n="/";for(var o=0;o<r.length;o++){var a=o===r.length-1;if(a&&t.parent)break;if(s=B.aa(s,r[o]),n=X(n,r[o]),B.ka(s)&&(!a||a&&t.Bb)&&(s=s.Ka.root),!a||t.R)for(a=0;B.Ia(s.mode);)s=B.ta(n),n=gb(eb(n),s),s=B.u(n,{Nb:t.Nb}).g,40<a++&&d(new B.e(U.rb))}return{path:n,g:s}},da:function(e){for(var t;;){if(B.jb(e))return e=e.F.Id,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}},Fb:function(e,t){for(var i=0,n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n)|0;return(e+i>>>0)%B.T.length},tc:function(e){var t=B.Fb(e.parent.id,e.name);e.ma=B.T[t],B.T[t]=e},uc:function(e){var t=B.Fb(e.parent.id,e.name);if(B.T[t]===e)B.T[t]=e.ma;else for(t=B.T[t];t;){if(t.ma===e){t.ma=e.ma;break}t=t.ma}},aa:function(e,t){var i=B.Gd(e);for(i&&d(new B.e(i,e)),i=B.T[B.Fb(e.id,t)];i;i=i.ma){var n=i.name;if(i.parent.id===e.id&&n===t)return i}return B.ra(e,t)},createNode:function(e,t,i,n){return B.Va||(B.Va=function(e,t,i,n){e||(e=this),this.parent=e,this.F=e.F,this.Ka=k,this.id=B.Jd++,this.name=t,this.mode=i,this.n={},this.p={},this.ob=n},B.Va.prototype={},Object.defineProperties(B.Va.prototype,{M:{get:function(){return 365===(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},Dd:{get:function(){return B.J(this.mode)}},Gb:{get:function(){return B.ib(this.mode)}}})),e=new B.Va(e,t,i,n),B.tc(e),e},zb:function(e){B.uc(e)},jb:function(e){return e===e.parent},ka:function(e){return!!e.Ka},isFile:function(e){return 32768===(61440&e)},J:function(e){return 16384===(61440&e)},Ia:function(e){return 40960===(61440&e)},ib:function(e){return 8192===(61440&e)},Bd:function(e){return 24576===(61440&e)},Cd:function(e){return 4096===(61440&e)},Ed:function(e){return 49152===(49152&e)},rd:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},wc:function(e){var t=B.rd[e];return"undefined"===typeof t&&d(Error("Unknown file open mode: "+e)),t},sd:function(e){var t=["r","w","rw"][2097155&e];return 512&e&&(t+="w"),t},na:function(e,t){return B.vc?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:U.qb},Gd:function(e){var t=B.na(e,"x");return t||(e.n.ra?0:U.qb)},Jb:function(e,t){try{return B.aa(e,t),U.Xb}catch(i){}return B.na(e,"wx")},kb:function(e,t,i){var n;try{n=B.aa(e,t)}catch(r){return r.cb}if(e=B.na(e,"wx"))return e;if(i){if(!B.J(n.mode))return U.Sa;if(B.jb(n)||B.da(n)===B.yb())return U.ga}else if(B.J(n.mode))return U.pa;return 0},Hd:function(e,t){return e?B.Ia(e.mode)?U.rb:B.J(e.mode)&&(0!==(2097155&t)||512&t)?U.pa:B.na(e,B.sd(t)):U.Q},Qc:4096,Kd:function(e,t){t=t||B.Qc;for(var i=e||0;i<=t;i++)if(!B.oa[i])return i;d(new B.e(U.Lc))},qa:function(e){return B.oa[e]},fc:function(e,t,i){B.Wa||(B.Wa=n(),B.Wa.prototype={},Object.defineProperties(B.Wa.prototype,{object:{get:function(){return this.g},set:function(e){this.g=e}},yg:{get:function(){return 1!==(2097155&this.D)}},zg:{get:function(){return 0!==(2097155&this.D)}},xg:{get:function(){return 1024&this.D}}}));var r,s=new B.Wa;for(r in e)s[r]=e[r];return e=s,t=B.Kd(t,i),e.C=t,B.oa[t]=e},dd:function(e){B.oa[e]=k},pc:function(e){return B.oa[e-1]},Eb:function(e){return e?e.C+1:0},bd:{open:function(e){e.p=B.td(e.g.ob).p,e.p.open&&e.p.open(e)},$:function(){d(new B.e(U.Ua))}},Ib:function(e){return e>>8},Gg:function(e){return 255&e},la:function(e,t){return e<<8|t},Ob:function(e,t){B.ic[e]={p:t}},td:function(e){return B.ic[e]},nc:function(e){var t=[];for(e=[e];e.length;){var i=e.pop();t.push(i),e.push.apply(e,i.La)}return t},Fc:function(e,t){function n(e){if(e){if(!n.pd)return n.pd=i,t(e)}else++s>=r.length&&t(k)}"function"===typeof e&&(t=e,e=m);var r=B.nc(B.root.F),s=0;r.forEach((function(t){if(!t.type.Fc)return n(k);t.type.Fc(t,e,n)}))},F:function(e,t,i){var n,r="/"===i,s=!i;return r&&B.root&&d(new B.e(U.ga)),!r&&!s&&(n=B.u(i,{Bb:m}),i=n.path,n=n.g,B.ka(n)&&d(new B.e(U.ga)),B.J(n.mode)||d(new B.e(U.Sa))),t={type:e,Kg:t,Id:i,La:[]},e=e.F(t),e.F=t,t.root=e,r?B.root=e:n&&(n.Ka=t,n.F&&n.F.La.push(t)),e},Qg:function(e){e=B.u(e,{Bb:m}),B.ka(e.g)||d(new B.e(U.B));e=e.g;var t=e.Ka,i=B.nc(t);Object.keys(B.T).forEach((function(e){for(e=B.T[e];e;){var t=e.ma;-1!==i.indexOf(e.F)&&B.zb(e),e=t}})),e.Ka=k,t=e.F.La.indexOf(t),w(-1!==t),e.F.La.splice(t,1)},ra:function(e,t){return e.n.ra(e,t)},ba:function(e,t,n){var r=B.u(e,{parent:i}).g;e=W(e);(!e||"."===e||".."===e)&&d(new B.e(U.B));var s=B.Jb(r,e);return s&&d(new B.e(s)),r.n.ba||d(new B.e(U.O)),r.n.ba(r,e,t,n)},create:function(e,t){return t=4095&(t!==g?t:438),t|=32768,B.ba(e,t,0)},ea:function(e,t){return t=1023&(t!==g?t:511),t|=16384,B.ba(e,t,0)},lb:function(e,t,i){return"undefined"===typeof i&&(i=t,t=438),B.ba(e,8192|t,i)},ca:function(e,t){gb(e)||d(new B.e(U.Q));var n=B.u(t,{parent:i}).g;n||d(new B.e(U.Q));var r=W(t),s=B.Jb(n,r);return s&&d(new B.e(s)),n.n.ca||d(new B.e(U.O)),n.n.ca(n,r,e)},rename:function(e,t){var n,r,s,o,a=eb(e),u=eb(t),c=W(e),f=W(t);try{n=B.u(e,{parent:i}),r=n.g,n=B.u(t,{parent:i}),s=n.g}catch(h){d(new B.e(U.ga))}(!r||!s)&&d(new B.e(U.Q)),r.F!==s.F&&d(new B.e(U.Oc)),n=B.aa(r,c),u=hb(e,u),"."!==u.charAt(0)&&d(new B.e(U.B)),u=hb(t,a),"."!==u.charAt(0)&&d(new B.e(U.sb));try{o=B.aa(s,f)}catch(l){}if(n!==o){a=B.J(n.mode),(c=B.kb(r,c,a))&&d(new B.e(c)),(c=o?B.kb(s,f,a):B.Jb(s,f))&&d(new B.e(c)),r.n.rename||d(new B.e(U.O)),(B.ka(n)||o&&B.ka(o))&&d(new B.e(U.ga)),s!==r&&(c=B.na(r,"w"))&&d(new B.e(c));try{B.H.willMovePath&&B.H.willMovePath(e,t)}catch(p){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+p.message)}B.uc(n);try{r.n.rename(n,s,f)}catch(m){d(m)}finally{B.tc(n)}try{B.H.onMovePath&&B.H.onMovePath(e,t)}catch(b){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+b.message)}}},Oa:function(e){var t=B.u(e,{parent:i}).g,n=W(e),r=B.aa(t,n),s=B.kb(t,n,i);s&&d(new B.e(s)),t.n.Oa||d(new B.e(U.O)),B.ka(r)&&d(new B.e(U.ga));try{B.H.willDeletePath&&B.H.willDeletePath(e)}catch(o){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+o.message)}t.n.Oa(t,n),B.zb(r);try{B.H.onDeletePath&&B.H.onDeletePath(e)}catch(a){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+a.message)}},Na:function(e){return e=B.u(e,{R:i}).g,e.n.Na||d(new B.e(U.Sa)),e.n.Na(e)},za:function(e){var t=B.u(e,{parent:i}).g,n=W(e),r=B.aa(t,n),s=B.kb(t,n,m);s&&(s===U.pa&&(s=U.O),d(new B.e(s))),t.n.za||d(new B.e(U.O)),B.ka(r)&&d(new B.e(U.ga));try{B.H.willDeletePath&&B.H.willDeletePath(e)}catch(o){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+o.message)}t.n.za(t,n),B.zb(r);try{B.H.onDeletePath&&B.H.onDeletePath(e)}catch(a){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+a.message)}},ta:function(e){return(e=B.u(e).g)||d(new B.e(U.Q)),e.n.ta||d(new B.e(U.B)),e.n.ta(e)},Dc:function(e,t){var i=B.u(e,{R:!t}).g;return i||d(new B.e(U.Q)),i.n.S||d(new B.e(U.O)),i.n.S(i)},Eg:function(e){return B.Dc(e,i)},Ya:function(e,t,i){e="string"===typeof e?B.u(e,{R:!i}).g:e,e.n.I||d(new B.e(U.O)),e.n.I(e,{mode:4095&t|-4096&e.mode,timestamp:Date.now()})},Bg:function(e,t){B.Ya(e,t,i)},jg:function(e,t){var i=B.qa(e);i||d(new B.e(U.V)),B.Ya(i.g,t)},dc:function(e,t,i,n){e="string"===typeof e?B.u(e,{R:!n}).g:e,e.n.I||d(new B.e(U.O)),e.n.I(e,{timestamp:Date.now()})},Cg:function(e,t,n){B.dc(e,t,n,i)},kg:function(e,t,i){(e=B.qa(e))||d(new B.e(U.V)),B.dc(e.g,t,i)},truncate:function(e,t){var n;0>t&&d(new B.e(U.B)),n="string"===typeof e?B.u(e,{R:i}).g:e,n.n.I||d(new B.e(U.O)),B.J(n.mode)&&d(new B.e(U.pa)),B.isFile(n.mode)||d(new B.e(U.B));var r=B.na(n,"w");r&&d(new B.e(r)),n.n.I(n,{size:t,timestamp:Date.now()})},mg:function(e,t){var i=B.qa(e);i||d(new B.e(U.V)),0===(2097155&i.D)&&d(new B.e(U.B)),B.truncate(i.g,t)},Rg:function(e,t,n){e=B.u(e,{R:i}).g,e.n.I(e,{timestamp:Math.max(t,n)})},open:function(e,t,n,r,s){""===e&&d(new B.e(U.Q));var o;t="string"===typeof t?B.wc(t):t,n=64&t?4095&("undefined"===typeof n?438:n)|32768:0;if("object"===typeof e)o=e;else{e=db(e);try{o=B.u(e,{R:!(131072&t)}).g}catch(u){}}var a=m;64&t&&(o?128&t&&d(new B.e(U.Xb)):(o=B.ba(e,n,0),a=i)),o||d(new B.e(U.Q)),B.ib(o.mode)&&(t&=-513),a||(n=B.Hd(o,t))&&d(new B.e(n)),512&t&&B.truncate(o,0),t&=-641,r=B.fc({g:o,path:B.da(o),D:t,seekable:i,position:0,p:o.p,$d:[],error:m},r,s),r.p.open&&r.p.open(r),p.logReadFiles&&!(1&t)&&(B.Mb||(B.Mb={}),e in B.Mb||(B.Mb[e]=1,p.printErr("read file: "+e)));try{B.H.onOpenFile&&(s=0,1!==(2097155&t)&&(s|=B.Gc.yc.Rc),0!==(2097155&t)&&(s|=B.Gc.yc.Sc),B.H.onOpenFile(e,s))}catch(c){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+c.message)}return r},close:function(e){try{e.p.close&&e.p.close(e)}catch(t){d(t)}finally{B.dd(e.C)}},$:function(e,t,i){return(!e.seekable||!e.p.$)&&d(new B.e(U.Ua)),e.position=e.p.$(e,t,i),e.$d=[],e.position},M:function(e,t,n,r,s){(0>r||0>s)&&d(new B.e(U.B)),1===(2097155&e.D)&&d(new B.e(U.V)),B.J(e.g.mode)&&d(new B.e(U.pa)),e.p.M||d(new B.e(U.B));var o=i;return"undefined"===typeof s?(s=e.position,o=m):e.seekable||d(new B.e(U.Ua)),t=e.p.M(e,t,n,r,s),o||(e.position+=t),t},write:function(e,t,n,r,s,o){(0>r||0>s)&&d(new B.e(U.B)),0===(2097155&e.D)&&d(new B.e(U.V)),B.J(e.g.mode)&&d(new B.e(U.pa)),e.p.write||d(new B.e(U.B)),1024&e.D&&B.$(e,0,2);var a=i;"undefined"===typeof s?(s=e.position,a=m):e.seekable||d(new B.e(U.Ua)),t=e.p.write(e,t,n,r,s,o),a||(e.position+=t);try{e.path&&B.H.onWriteToFile&&B.H.onWriteToFile(e.path)}catch(u){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+u.message)}return t},Ea:function(e,t,i){(0>t||0>=i)&&d(new B.e(U.B)),0===(2097155&e.D)&&d(new B.e(U.V)),!B.isFile(e.g.mode)&&!B.J(node.mode)&&d(new B.e(U.Qa)),e.p.Ea||d(new B.e(U.Ta)),e.p.Ea(e,t,i)},Ja:function(e,t,i,n,r,s,o){return 1===(2097155&e.D)&&d(new B.e(U.qb)),e.p.Ja||d(new B.e(U.Qa)),e.p.Ja(e,t,i,n,r,s,o)},Ha:function(e,t,i){return e.p.Ha||d(new B.e(U.Nc)),e.p.Ha(e,t,i)},Mg:function(e,t){t=t||{},t.D=t.D||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding&&d(Error('Invalid encoding type "'+t.encoding+'"'));var i,n=B.open(e,t.D),r=B.Dc(e).size,s=new Uint8Array(r);if(B.M(n,s,0,r,0),"utf8"===t.encoding){i="";for(var o=new z.Da,a=0;a<r;a++)i+=o.nb(s[a])}else"binary"===t.encoding&&(i=s);return B.close(n),i},Sg:function(e,t,i){i=i||{},i.D=i.D||"w",i.encoding=i.encoding||"utf8","utf8"!==i.encoding&&"binary"!==i.encoding&&d(Error('Invalid encoding type "'+i.encoding+'"')),e=B.open(e,i.D,i.mode),"utf8"===i.encoding?(t=new Uint8Array((new z.Da).Ac(t)),B.write(e,t,0,t.length,0,i.ad)):"binary"===i.encoding&&B.write(e,t,0,t.length,0,i.ad),B.close(e)},yb:function(){return B.hc},bg:function(e){e=B.u(e,{R:i}),B.J(e.g.mode)||d(new B.e(U.Sa));var t=B.na(e.g,"x");t&&d(new B.e(t)),B.hc=e.path},fd:function(){B.ea("/tmp"),B.ea("/home"),B.ea("/home/web_user")},ed:function(){var e;if(B.ea("/dev"),B.Ob(B.la(1,3),{M:function(){return 0},write:function(){return 0}}),B.lb("/dev/null",B.la(1,3)),jb(B.la(5,0),mb),jb(B.la(6,0),nb),B.lb("/dev/tty",B.la(5,0)),B.lb("/dev/tty1",B.la(6,0)),"undefined"!==typeof crypto){var i=new Uint8Array(1);e=function(){return crypto.getRandomValues(i),i[0]}}else e=t?function(){return __webpack_require__("1c46").randomBytes(1)[0]}:function(){return 256*Math.random()|0};B.X("/dev","random",e),B.X("/dev","urandom",e),B.ea("/dev/shm"),B.ea("/dev/shm/tmp")},od:function(){p.stdin?B.X("/dev","stdin",p.stdin):B.ca("/dev/tty","/dev/stdin"),p.stdout?B.X("/dev","stdout",k,p.stdout):B.ca("/dev/tty","/dev/stdout"),p.stderr?B.X("/dev","stderr",k,p.stderr):B.ca("/dev/tty1","/dev/stderr");var e=B.open("/dev/stdin","r");K[ob>>2]=B.Eb(e),w(0===e.C,"invalid handle for stdin ("+e.C+")"),e=B.open("/dev/stdout","w"),K[pb>>2]=B.Eb(e),w(1===e.C,"invalid handle for stdout ("+e.C+")"),e=B.open("/dev/stderr","w"),K[qb>>2]=B.Eb(e),w(2===e.C,"invalid handle for stderr ("+e.C+")")},jc:function(){B.e||(B.e=function(e,t){this.g=t,this.Xd=function(e){for(var t in this.cb=e,U)if(U[t]===e){this.code=t;break}},this.Xd(e),this.message=ab[e]},B.e.prototype=Error(),[U.Q].forEach((function(e){B.Db[e]=new B.e(e),B.Db[e].stack="<generic error, no stack>"})))},Zd:function(){B.jc(),B.T=Array(4096),B.F(Y,{},"/"),B.fd(),B.ed()},Ga:function(e,t,n){w(!B.Ga.hb,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),B.Ga.hb=i,B.jc(),p.stdin=e||p.stdin,p.stdout=t||p.stdout,p.stderr=n||p.stderr,B.od()},Qd:function(){B.Ga.hb=m;for(var e=0;e<B.oa.length;e++){var t=B.oa[e];t&&B.close(t)}},fb:function(e,t){var i=0;return e&&(i|=365),t&&(i|=146),i},Ag:function(e,t){var i=fb.apply(k,e);return t&&"/"==i[0]&&(i=i.substr(1)),i},Sf:function(e,t){return gb(t,e)},Pg:function(e){return db(e)},lg:function(e,t){var i=B.vb(e,t);return i.Ab?i.object:(V(i.error),k)},vb:function(e,t){try{var n=B.u(e,{R:!t});e=n.path}catch(s){}var r={jb:m,Ab:m,error:0,name:k,path:k,object:k,Md:m,Od:k,Nd:k};try{n=B.u(e,{parent:i}),r.Md=i,r.Od=n.path,r.Nd=n.g,r.name=W(e),n=B.u(e,{R:!t}),r.Ab=i,r.path=n.path,r.object=n.g,r.name=n.g.name,r.jb="/"===n.path}catch(o){r.error=o.cb}return r},hd:function(e,t,i,n){return e=X("string"===typeof e?e:B.da(e),t),B.ea(e,B.fb(i,n))},ld:function(e,t){e="string"===typeof e?e:B.da(e);for(var i=t.split("/").reverse();i.length;){var n=i.pop();if(n){var r=X(e,n);try{B.ea(r)}catch(s){}e=r}}return r},gd:function(e,t,i,n,r){return e=X("string"===typeof e?e:B.da(e),t),B.create(e,B.fb(n,r))},xb:function(e,t,i,n,r,s){if(e=t?X("string"===typeof e?e:B.da(e),t):e,n=B.fb(n,r),r=B.create(e,n),i){if("string"===typeof i){e=Array(i.length),t=0;for(var o=i.length;t<o;++t)e[t]=i.charCodeAt(t);i=e}B.Ya(r,146|n),e=B.open(r,"w"),B.write(e,i,0,i.length,0,s),B.close(e),B.Ya(r,n)}return r},X:function(e,t,i,n){e=X("string"===typeof e?e:B.da(e),t),t=B.fb(!!i,!!n),B.X.Ib||(B.X.Ib=64);var r=B.la(B.X.Ib++,0);return B.Ob(r,{open:function(e){e.seekable=m},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},M:function(e,t,n,r){for(var s=0,o=0;o<r;o++){var a;try{a=i()}catch(u){d(new B.e(U.ha))}if(a===g&&0===s&&d(new B.e(U.Ca)),a===k||a===g)break;s++,t[n+o]=a}return s&&(e.g.timestamp=Date.now()),s},write:function(e,t,i,r){for(var s=0;s<r;s++)try{n(t[i+s])}catch(o){d(new B.e(U.ha))}return r&&(e.g.timestamp=Date.now()),s}}),B.lb(e,t,r)},kd:function(e,t,i){return e=X("string"===typeof e?e:B.da(e),t),B.ca(i,e)},mc:function(e){if(e.Gb||e.Dd||e.link||e.k)return i;var t=i;if("undefined"!==typeof XMLHttpRequest&&d(Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")),p.read)try{e.k=Va(p.read(e.url),i),e.q=e.k.length}catch(n){t=m}else d(Error("Cannot load without read() or XMLHttpRequest."));return t||V(U.ha),t},jd:function(e,t,n,r,s){function o(){this.Hb=m,this.Za=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||0>e)){var t=e%this.cd;return this.yd(e/this.cd|0)[t]}},o.prototype.Wd=function(e){this.yd=e},o.prototype.bc=function(){var e=new XMLHttpRequest;e.open("HEAD",n,m),e.send(k),200<=e.status&&300>e.status||304===e.status||d(Error("Couldn't load "+n+". Status: "+e.status));var t,r=Number(e.getResponseHeader("Content-length")),s=1048576;(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t||(s=r);var o=this;o.Wd((function(e){var t=e*s,a=(e+1)*s-1;a=Math.min(a,r-1);if("undefined"===typeof o.Za[e]){var u=o.Za;t>a&&d(Error("invalid range ("+t+", "+a+") or no bytes requested!")),a>r-1&&d(Error("only "+r+" bytes available! programmer error!"));var c=new XMLHttpRequest;c.open("GET",n,m),r!==s&&c.setRequestHeader("Range","bytes="+t+"-"+a),"undefined"!=typeof Uint8Array&&(c.responseType="arraybuffer"),c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined"),c.send(k),200<=c.status&&300>c.status||304===c.status||d(Error("Couldn't load "+n+". Status: "+c.status)),t=c.response!==g?new Uint8Array(c.response||[]):Va(c.responseText||"",i),u[e]=t}return"undefined"===typeof o.Za[e]&&d(Error("doXHR failed!")),o.Za[e]})),this.Uc=r,this.Tc=s,this.Hb=i},"undefined"!==typeof XMLHttpRequest){ca||d("Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc");var a=new o;Object.defineProperty(a,"length",{get:function(){return this.Hb||this.bc(),this.Uc}}),Object.defineProperty(a,"chunkSize",{get:function(){return this.Hb||this.bc(),this.Tc}}),a={Gb:m,k:a}}else a={Gb:m,url:n};var u=B.gd(e,t,a,r,s);a.k?u.k=a.k:a.url&&(u.k=k,u.url=a.url),Object.defineProperty(u,"usedBytes",{get:function(){return this.k.length}});var c={};return Object.keys(u.p).forEach((function(e){var t=u.p[e];c[e]=function(){return B.mc(u)||d(new B.e(U.ha)),t.apply(k,arguments)}})),c.M=function(e,t,i,n,r){if(B.mc(u)||d(new B.e(U.ha)),e=e.g.k,r>=e.length)return 0;if(n=Math.min(e.length-r,n),w(0<=n),e.slice)for(var s=0;s<n;s++)t[i+s]=e[r+s];else for(s=0;s<n;s++)t[i+s]=e.get(r+s);return n},u.p=c,u},md:function(e,t,r,s,o,a,u,c,f){function h(){rb=document.pointerLockElement===d||document.mozPointerLockElement===d||document.webkitPointerLockElement===d||document.msPointerLockElement===d}function l(n){function r(i){c||B.xb(e,t,i,s,o,f),a&&a(),Za()}var h=m;p.preloadPlugins.forEach((function(e){!h&&e.canHandle(b)&&(e.handle(n,b,r,(function(){u&&u(),Za()})),h=i)})),h||r(n)}if(p.preloadPlugins||(p.preloadPlugins=[]),!tb){tb=i;try{new Blob,ub=i}catch(v){ub=m,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}vb="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:ub?k:console.log("warning: no BlobBuilder"),wb="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:g,!p.xc&&"undefined"===typeof wb&&(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),p.xc=i),p.preloadPlugins.push({canHandle:function(e){return!p.xc&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},handle:function(e,t,i,n){var r=k;if(ub)try{r=new Blob([e],{type:xb(t)}),r.size!==e.length&&(r=new Blob([new Uint8Array(e).buffer],{type:xb(t)}))}catch(a){z.Aa("Blob constructor present but fails: "+a+"; falling back to blob builder")}r||(r=new vb,r.append(new Uint8Array(e).buffer),r=r.getBlob());var s=wb.createObjectURL(r),o=new Image;o.onload=function(){w(o.complete,"Image "+t+" could not be decoded");var n=document.createElement("canvas");n.width=o.width,n.height=o.height,n.getContext("2d").drawImage(o,0,0),p.preloadedImages[t]=n,wb.revokeObjectURL(s),i&&i(e)},o.onerror=function(){console.log("Image "+s+" could not be decoded"),n&&n()},o.src=s}}),p.preloadPlugins.push({canHandle:function(e){return!p.Jg&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,n,r){function s(r){a||(a=i,p.preloadedAudios[t]=r,n&&n(e))}function o(){a||(a=i,p.preloadedAudios[t]=new Audio,r&&r())}var a=m;if(!ub)return o();try{var u=new Blob([e],{type:xb(t)})}catch(h){return o()}u=wb.createObjectURL(u);var c=new Audio;c.addEventListener("canplaythrough",(function(){s(c)}),m),c.onerror=function(){if(!a){console.log("warning: browser could not fully decode audio "+t+", trying slower base64 approach");for(var i="",n=0,r=0,o=0;o<e.length;o++)for(n=n<<8|e[o],r+=8;6<=r;){var u=n>>r-6&63;r=r-6,i=i+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[u]}2==r?(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(3&n)<<4],i+="=="):4==r&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(15&n)<<2],i+="="),c.src="data:audio/x-"+t.substr(-3)+";base64,"+i,s(c)}},c.src=u,p.noExitRuntime=i,setTimeout((function(){H||s(c)}),1e4)}});var d=p.canvas;d&&(d.Pb=d.requestPointerLock||d.mozRequestPointerLock||d.webkitRequestPointerLock||d.msRequestPointerLock||n(),d.kc=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||n(),d.kc=d.kc.bind(document),document.addEventListener("pointerlockchange",h,m),document.addEventListener("mozpointerlockchange",h,m),document.addEventListener("webkitpointerlockchange",h,m),document.addEventListener("mspointerlockchange",h,m),p.elementPointerLock&&d.addEventListener("click",(function(e){!rb&&d.Pb&&(d.Pb(),e.preventDefault())}),m))}var b=t?gb(X(e,t)):e;Ya(),"string"==typeof r?yb(r,(function(e){l(e)}),u):l(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},Ub:function(){return"EM_FS_"+window.location.pathname},Vb:20,Ba:"FILE_DATA",Og:function(e,t,i){t=t||n(),i=i||n();var r=B.indexedDB();try{var s=r.open(B.Ub(),B.Vb)}catch(o){return i(o)}s.Ld=function(){console.log("creating db"),s.result.createObjectStore(B.Ba)},s.onsuccess=function(){var n=s.result.transaction([B.Ba],"readwrite"),r=n.objectStore(B.Ba),o=0,a=0,u=e.length;e.forEach((function(e){e=r.put(B.vb(e).object.k,e),e.onsuccess=function(){o++,o+a==u&&(0==a?t():i())},e.onerror=function(){a++,o+a==u&&(0==a?t():i())}})),n.onerror=i},s.onerror=i},Dg:function(e,t,r){t=t||n(),r=r||n();var s=B.indexedDB();try{var o=s.open(B.Ub(),B.Vb)}catch(a){return r(a)}o.Ld=r,o.onsuccess=function(){var n=o.result;try{var s=n.transaction([B.Ba],"readonly")}catch(h){return void r(h)}var a=s.objectStore(B.Ba),u=0,c=0,f=e.length;e.forEach((function(e){var n=a.get(e);n.onsuccess=function(){B.vb(e).Ab&&B.za(e),B.xb(eb(e),W(e),n.result,i,i,i),u++,u+c==f&&(0==c?t():r())},n.onerror=function(){c++,u+c==f&&(0==c?t():r())}})),s.onerror=r},o.onerror=r}};function zb(){d("TODO")}var Z={F:function(){return p.websocket=p.websocket&&"object"===typeof p.websocket?p.websocket:{},p.websocket.tb={},p.websocket.on=function(e,t){return"function"===typeof t&&(this.tb[e]=t),this},p.websocket.P=function(e,t){"function"===typeof this.tb[e]&&this.tb[e].call(this,t)},B.createNode(k,"/",16895,0)},nd:function(e,t,i){return i&&w(1==t==(6==i)),e={qd:e,type:t,protocol:i,G:k,error:k,Ma:{},Kb:[],ua:[],wa:Z.L},t=Z.mb(),i=B.createNode(Z.root,t,49152,0),i.va=e,t=B.fc({path:t,g:i,D:B.wc("r+"),seekable:m,p:Z.p}),e.A=t,e},wd:function(e){return e=B.qa(e),e&&B.Ed(e.g.mode)?e.g.va:k},p:{zc:function(e){return e=e.g.va,e.wa.zc(e)},Ha:function(e,t,i){return e=e.g.va,e.wa.Ha(e,t,i)},M:function(e,t,i,n){return e=e.g.va,n=e.wa.Rd(e,n),n?(t.set(n.buffer,i),n.buffer.length):0},write:function(e,t,i,n){return e=e.g.va,e.wa.Vd(e,t,i,n)},close:function(e){e=e.g.va,e.wa.close(e)}},mb:function(){return Z.mb.gc||(Z.mb.gc=0),"socket["+Z.mb.gc+++"]"},L:{$a:function(e,i,n){var r;if("object"===typeof i&&(r=i,n=i=k),r)r._socket?(i=r._socket.remoteAddress,n=r._socket.remotePort):((n=/ws[s]?:\/\/([^:]+):(\d+)/.exec(r.url))||d(Error("WebSocket URL must be in the format ws(s)://address:port")),i=n[1],n=parseInt(n[2],10));else try{var s=p.websocket&&"object"===typeof p.websocket,o="ws:#".replace("#","//");if(s&&"string"===typeof p.websocket.url&&(o=p.websocket.url),"ws://"===o||"wss://"===o){var a=i.split("/");o=o+a[0]+":"+n+"/"+a.slice(1).join("/")}a="binary",s&&"string"===typeof p.websocket.subprotocol&&(a=p.websocket.subprotocol);a=a.replace(/^ +| +$/g,"").split(/ *, */);var u=t?{protocol:a.toString()}:a;r=new(t?__webpack_require__("7f73"):window.WebSocket)(o,u),r.binaryType="arraybuffer"}catch(c){d(new B.e(U.Yb))}return i={W:i,port:n,o:r,ab:[]},Z.L.$b(e,i),Z.L.zd(e,i),2===e.type&&"undefined"!==typeof e.ya&&i.ab.push(new Uint8Array([255,255,255,255,112,111,114,116,(65280&e.ya)>>8,255&e.ya])),i},gb:function(e,t,i){return e.Ma[t+":"+i]},$b:function(e,t){e.Ma[t.W+":"+t.port]=t},Bc:function(e,t){delete e.Ma[t.W+":"+t.port]},zd:function(e,n){function r(){p.websocket.P("open",e.A.C);try{for(var t=n.ab.shift();t;)n.o.send(t),t=n.ab.shift()}catch(s){n.o.close()}}function s(t){w("string"!==typeof t&&t.byteLength!==g);t=new Uint8Array(t);var i=o;o=m,i&&10===t.length&&255===t[0]&&255===t[1]&&255===t[2]&&255===t[3]&&112===t[4]&&111===t[5]&&114===t[6]&&116===t[7]?(t=t[8]<<8|t[9],Z.L.Bc(e,n),n.port=t,Z.L.$b(e,n)):(e.ua.push({W:n.W,port:n.port,data:t}),p.websocket.P("message",e.A.C))}var o=i;t?(n.o.on("open",r),n.o.on("message",(function(e,t){t.binary&&s(new Uint8Array(e).buffer)})),n.o.on("close",(function(){p.websocket.P("close",e.A.C)})),n.o.on("error",(function(){e.error=U.Wb,p.websocket.P("error",[e.A.C,e.error,"ECONNREFUSED: Connection refused"])}))):(n.o.onopen=r,n.o.onclose=function(){p.websocket.P("close",e.A.C)},n.o.onmessage=function(e){s(e.data)},n.o.onerror=function(){e.error=U.Wb,p.websocket.P("error",[e.A.C,e.error,"ECONNREFUSED: Connection refused"])})},zc:function(e){if(1===e.type&&e.G)return e.Kb.length?65:0;var t=0,i=1===e.type?Z.L.gb(e,e.Y,e.Z):k;return(e.ua.length||!i||i&&i.o.readyState===i.o.Pa||i&&i.o.readyState===i.o.CLOSED)&&(t|=65),(!i||i&&i.o.readyState===i.o.OPEN)&&(t|=4),(i&&i.o.readyState===i.o.Pa||i&&i.o.readyState===i.o.CLOSED)&&(t|=16),t},Ha:function(e,t,i){switch(t){case 21531:return t=0,e.ua.length&&(t=e.ua[0].data.length),K[i>>2]=t,0;default:return U.B}},close:function(e){if(e.G){try{e.G.close()}catch(r){}e.G=k}for(var t=Object.keys(e.Ma),i=0;i<t.length;i++){var n=e.Ma[t[i]];try{n.o.close()}catch(s){}Z.L.Bc(e,n)}return 0},bind:function(e,t,i){if(("undefined"!==typeof e.Qb||"undefined"!==typeof e.ya)&&d(new B.e(U.B)),e.Qb=t,e.ya=i||zb(),2===e.type){e.G&&(e.G.close(),e.G=k);try{e.wa.Fd(e,0)}catch(n){n instanceof B.e||d(n),n.cb!==U.Ta&&d(n)}}},cg:function(e,t,i){if(e.G&&d(new B.e(U.Ta)),"undefined"!==typeof e.Y&&"undefined"!==typeof e.Z){var n=Z.L.gb(e,e.Y,e.Z);n&&(n.o.readyState===n.o.CONNECTING&&d(new B.e(U.Hc)),d(new B.e(U.Kc)))}t=Z.L.$a(e,t,i),e.Y=t.W,e.Z=t.port,d(new B.e(U.Jc))},Fd:function(e){t||d(new B.e(U.Ta)),e.G&&d(new B.e(U.B));var i=__webpack_require__("7f73").Server;e.G=new i({host:e.Qb,port:e.ya}),p.websocket.P("listen",e.A.C),e.G.on("connection",(function(t){if(1===e.type){var i=Z.nd(e.qd,e.type,e.protocol);t=Z.L.$a(i,t);i.Y=t.W,i.Z=t.port,e.Kb.push(i),p.websocket.P("connection",i.A.C)}else Z.L.$a(e,t),p.websocket.P("connection",e.A.C)})),e.G.on("closed",(function(){p.websocket.P("close",e.A.C),e.G=k})),e.G.on("error",(function(){e.error=U.Yb,p.websocket.P("error",[e.A.C,e.error,"EHOSTUNREACH: Host is unreachable"])}))},accept:function(e){e.G||d(new B.e(U.B));var t=e.Kb.shift();return t.A.D=e.A.D,t},tg:function(e,t){var i,n;return t?((e.Y===g||e.Z===g)&&d(new B.e(U.Ra)),i=e.Y,n=e.Z):(i=e.Qb||0,n=e.ya||0),{W:i,port:n}},Vd:function(e,t,i,n,r,s){2===e.type?(r!==g&&s!==g||(r=e.Y,s=e.Z),(r===g||s===g)&&d(new B.e(U.Ic))):(r=e.Y,s=e.Z);var o=Z.L.gb(e,r,s);if(1===e.type&&((!o||o.o.readyState===o.o.Pa||o.o.readyState===o.o.CLOSED)&&d(new B.e(U.Ra)),o.o.readyState===o.o.CONNECTING&&d(new B.e(U.Ca))),t=t instanceof Array||t instanceof ArrayBuffer?t.slice(i,i+n):t.buffer.slice(t.byteOffset+i,t.byteOffset+i+n),2===e.type&&(!o||o.o.readyState!==o.o.OPEN))return o&&o.o.readyState!==o.o.Pa&&o.o.readyState!==o.o.CLOSED||(o=Z.L.$a(e,r,s)),o.ab.push(t),n;try{return o.o.send(t),n}catch(a){d(new B.e(U.B))}},Rd:function(e,t){1===e.type&&e.G&&d(new B.e(U.Ra));var i=e.ua.shift();if(!i){if(1===e.type){var n=Z.L.gb(e,e.Y,e.Z);if(n){if(n.o.readyState===n.o.Pa||n.o.readyState===n.o.CLOSED)return k;d(new B.e(U.Ca))}d(new B.e(U.Ra))}d(new B.e(U.Ca))}n=i.data.byteLength||i.data.length;var r=i.data.byteOffset||0,s=i.data.buffer||i.data,o=Math.min(t,n),a={buffer:new Uint8Array(s,r,o),W:i.W,port:i.port};return 1===e.type&&o<n&&(i.data=new Uint8Array(s,r+o,n-o),e.ua.unshift(i)),a}}};function Ab(e,t,i){if(e=B.qa(e),!e)return V(U.V),-1;try{return B.write(e,I,t,i)}catch(n){return B.sc(n),-1}}function Cb(e){return e=B.pc(e),e?e.C:-1}function Db(e,t){return Ab(Cb(t),e,Bb(e))}function Eb(e,t){var n;return n=255&e,n=0<=n?n:Math.pow(2,g)+n,I[Eb.Cc>>0]=n,-1==Ab(Cb(t),Eb.Cc,1)?((n=B.pc(t))&&(n.error=i),-1):n}function Fb(e){Fb.$c||(E=E+4095&-4096,Fb.$c=i,w(z.bb),Fb.Wc=z.bb,z.bb=function(){A("cannot dynamically allocate, sbrk now has control")});var t=E;return 0!=e&&Fb.Wc(e),t}function Hb(e,t,i){window._broadwayOnPictureDecoded(e,t,i)}function Ib(){window._broadwayOnHeadersDecoded()}function Jb(e,t){return Kb=e,Lb=t,Mb?(0==e?(Nb=function(){setTimeout(Ob,t)},Pb="timeout"):1==e&&(Nb=function(){Qb(Ob)},Pb="rAF"),0):1}function Rb(e,t,n,r){p.noExitRuntime=i,w(!Mb,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Mb=e,Sb=r;var s=Tb;Ob=function(){if(!H)if(0<Ub.length){var t=Date.now(),i=Ub.shift();if(i.ja(i.Xa),Vb){var n=Vb,o=0==n%1?n-1:Math.floor(n);Vb=i.dg?o:(8*n+(o+.5))/9}console.log('main loop blocker "'+i.name+'" took '+(Date.now()-t)+" ms"),p.setStatus&&(t=p.statusMessage||"Please wait...",i=Vb,n=Wb.ig,i?i<n?p.setStatus(t+" ("+(n-i)+"/"+n+")"):p.setStatus(t):p.setStatus("")),setTimeout(Ob,0)}else if(!(s<Tb))if(Xb=Xb+1|0,1==Kb&&1<Lb&&0!=Xb%Lb)Nb();else{"timeout"===Pb&&p.fg&&(p.fa("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),Pb="");e:if(!H&&(!p.preMainLoop||p.preMainLoop()!==m)){try{"undefined"!==typeof r?z.Fa("vi",e,[r]):z.Fa("v",e)}catch(a){if(a instanceof ia)break e;a&&"object"===typeof a&&a.stack&&p.fa("exception thrown: "+[a,a.stack]),d(a)}p.postMainLoop&&p.postMainLoop()}s<Tb||("object"===typeof SDL&&SDL.ac&&SDL.ac.Pd&&SDL.ac.Pd(),Nb())}},t&&0<t?Jb(0,1e3/t):Jb(1,1),Nb(),n&&d("SimulateInfiniteLoop")}p._strlen=Bb,p._memset=Gb,p._broadwayOnPictureDecoded=Hb,p._broadwayOnHeadersDecoded=Ib;var Nb=k,Pb="",Tb=0,Mb=k,Sb=0,Kb=0,Lb=0,Xb=0,Ub=[],Wb={},Ob,Vb,Yb=m,rb=m,Zb=m,$b=g,ac=g,bc=0;function cc(e){var t=Date.now();if(0===bc)bc=t+1e3/60;else for(;t+2>=bc;)bc+=1e3/60;t=Math.max(bc-t,0),setTimeout(e,t)}function Qb(e){"undefined"===typeof window?cc(e):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||cc),window.requestAnimationFrame(e))}function xb(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]}function yb(e,t,n){function r(){n?n():d('Loading data file "'+e+'" failed.')}var s=new XMLHttpRequest;s.open("GET",e,i),s.responseType="arraybuffer",s.onload=function(){if(200==s.status||0==s.status&&s.response){var i=s.response;w(i,'Loading data file "'+e+'" failed (no arrayBuffer).'),t(new Uint8Array(i)),Za()}else r()},s.onerror=r,s.send(k),Ya()}var dc=[],tb,ub,vb,wb;function ec(){var e=p.canvas;dc.forEach((function(t){t(e.width,e.height)}))}function fc(e,t,i){t&&i?(e.ae=t,e.Ad=i):(t=e.ae,i=e.Ad);var n=t,r=i;if(p.forcedAspectRatio&&0<p.forcedAspectRatio&&(n/r<p.forcedAspectRatio?n=Math.round(r*p.forcedAspectRatio):r=Math.round(n/p.forcedAspectRatio)),(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var s=Math.min(screen.width/n,screen.height/r);n=Math.round(n*s),r=Math.round(r*s)}ac?(e.width!=n&&(e.width=n),e.height!=r&&(e.height=r),"undefined"!=typeof e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=t&&(e.width=t),e.height!=i&&(e.height=i),"undefined"!=typeof e.style&&(n!=t||r!=i?(e.style.setProperty("width",n+"px","important"),e.style.setProperty("height",r+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}p._memcpy=gc,B.Zd(),R.unshift({ja:function(){!p.noFSInit&&!B.Ga.hb&&B.Ga()}}),Pa.push({ja:function(){B.vc=m}}),Qa.push({ja:function(){B.Qd()}}),p.FS_createFolder=B.hd,p.FS_createPath=B.ld,p.FS_createDataFile=B.xb,p.FS_createPreloadedFile=B.md,p.FS_createLazyFile=B.jd,p.FS_createLink=B.kd,p.FS_createDevice=B.X,bb=z.Ec(4),K[bb>>2]=0,R.unshift({ja:n()}),Qa.push({ja:n()});var lb=new z.Da;t&&(__webpack_require__("3e8f"),process.platform.match(/^win/)),R.push({ja:function(){Z.root=B.F(Z,{},k)}}),Eb.Cc=M([0],"i8",L),p.requestFullScreen=function(e,t){function r(){Yb=m;var e=s.parentNode;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e?(s.cc=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||document.exitFullscreen||n(),s.cc=s.cc.bind(document),$b&&s.Pb(),Yb=i,ac&&("undefined"!=typeof SDL&&(e=Ha[SDL.screen+0*z.ia>>2],K[SDL.screen+0*z.ia>>2]=8388608|e),ec())):(e.parentNode.insertBefore(s,e),e.parentNode.removeChild(e),ac&&("undefined"!=typeof SDL&&(e=Ha[SDL.screen+0*z.ia>>2],K[SDL.screen+0*z.ia>>2]=-8388609&e),ec())),p.onFullScreen&&p.onFullScreen(Yb),fc(s)}$b=e,ac=t,"undefined"===typeof $b&&($b=i),"undefined"===typeof ac&&(ac=m);var s=p.canvas;Zb||(Zb=i,document.addEventListener("fullscreenchange",r,m),document.addEventListener("mozfullscreenchange",r,m),document.addEventListener("webkitfullscreenchange",r,m),document.addEventListener("MSFullscreenChange",r,m));var o=document.createElement("div");s.parentNode.insertBefore(o,s),o.appendChild(s),o.Td=o.requestFullScreen||o.mozRequestFullScreen||o.msRequestFullscreen||(o.webkitRequestFullScreen?function(){o.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:k),o.Td()},p.requestAnimationFrame=function(e){Qb(e)},p.setCanvasSize=function(e,t,i){fc(p.canvas,e,t),i||ec()},p.pauseMainLoop=function(){Nb=k,Tb++},p.resumeMainLoop=function(){Tb++;var e=Kb,t=Lb,i=Mb;Mb=k,Rb(i,0,m,Sb),Jb(e,t)},p.getUserMedia=function(){window.qc||(window.qc=navigator.getUserMedia||navigator.mozGetUserMedia),window.qc(g)},Ja=y=z.ub(D),Ka=Ja+Ma,La=E=z.ub(Ka),w(La<F,"TOTAL_MEMORY not big enough for stack"),p.Xc={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array},p.Yc={abort:A,assert:w,min:va,invoke_viiiii:function(e,t,i,n,r,s){try{p.dynCall_viiiii(e,t,i,n,r,s)}catch(o){"number"!==typeof o&&"longjmp"!==o&&d(o),$.setThrew(1,0)}},_broadwayOnPictureDecoded:Hb,_puts:function(e){var t=K[pb>>2];e=Db(e,t);return 0>e?e:0>Eb(10,t)?-1:e+1},_fflush:n(),_fputc:Eb,_send:function(e,t,i){return Z.wd(e)?Ab(e,t,i):(V(U.V),-1)},_pwrite:function(e,t,i,n){if(e=B.qa(e),!e)return V(U.V),-1;try{return B.write(e,I,t,i,n)}catch(r){return B.sc(r),-1}},_fputs:Db,_emscripten_set_main_loop:Rb,_abort:function(){p.abort()},___setErrNo:V,_sbrk:Fb,_mkport:zb,_emscripten_set_main_loop_timing:Jb,_emscripten_memcpy_big:function(e,t,i){return N.set(N.subarray(t,t+i),e),e},_fileno:Cb,_broadwayOnHeadersDecoded:Ib,_write:Ab,_time:function(e){var t=Date.now()/1e3|0;return e&&(K[e>>2]=t),t},_sysconf:function(e){switch(e){case 30:return 4096;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 79:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"===typeof navigator&&navigator.hardwareConcurrency||1}return V(U.B),-1},___errno_location:function(){return bb},STACKTOP:y,STACK_MAX:Ka,tempDoublePtr:$a,ABORT:H,NaN:NaN,Infinity:1/0};var $=function(e,t,i){"use asm";var n=new e.Int8Array(i);var r=new e.Int16Array(i);var s=new e.Int32Array(i);var o=new e.Uint8Array(i);var a=new e.Uint16Array(i);var u=new e.Uint32Array(i);var c=new e.Float32Array(i);var f=new e.Float64Array(i);var h=t.STACKTOP|0;var l=t.STACK_MAX|0;var d=t.tempDoublePtr|0;var p=t.ABORT|0;var m=0;var b=0;var v=0;var g=0;var y=+t.NaN,_=+t.Infinity;var w=0,S=0,E=0,x=0,k=0.0,A=0,T=0,C=0,R=0.0;var D=0;var B=0;var M=0;var I=0;var U=0;var P=0;var F=0;var O=0;var L=0;var N=0;var j=e.Math.floor;var z=e.Math.abs;var H=e.Math.sqrt;var V=e.Math.pow;var q=e.Math.cos;var G=e.Math.sin;var K=e.Math.tan;var W=e.Math.acos;var Y=e.Math.asin;var $=e.Math.atan;var X=e.Math.atan2;var Q=e.Math.exp;var J=e.Math.log;var Z=e.Math.ceil;var ee=e.Math.imul;var te=t.abort;var ie=t.assert;var ne=t.min;var re=t.invoke_viiiii;var se=t._broadwayOnPictureDecoded;var oe=t._puts;var ae=t._fflush;var ue=t._fputc;var ce=t._send;var fe=t._pwrite;var he=t._fputs;var le=t._emscripten_set_main_loop;var de=t._abort;var pe=t.___setErrNo;var me=t._sbrk;var be=t._mkport;var ve=t._emscripten_set_main_loop_timing;var ge=t._emscripten_memcpy_big;var ye=t._fileno;var _e=t._broadwayOnHeadersDecoded;var we=t._write;var Se=t._time;var Ee=t._sysconf;var xe=t.___errno_location;var ke=0.0;function Ae(e,t,i,n,u,c){e=e|0;t=t|0;i=i|0;n=n|0;u=u|0;c=c|0;var f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0,B=0,M=0,I=0,U=0,P=0,F=0,O=0,L=0,N=0,j=0,z=0,H=0,V=0,q=0,G=0,K=0,W=0,Y=0,$=0;$=h;h=h+32|0;Y=$;m=s[u+4>>2]|0;W=(n>>>0)/(m>>>0)|0;K=W<<4;W=n-(ee(W,m)|0)<<4;s[Y+4>>2]=m;s[Y+8>>2]=s[u+8>>2];m=s[e>>2]|0;do{if((m|0)==2){k=r[t+160>>1]|0;A=r[t+162>>1]|0;C=s[t+144>>2]|0;T=e+4|0;p=s[e+204>>2]|0;if((p|0)!=0?(s[p+4>>2]|0)==(s[T>>2]|0):0)if((s[p>>2]|0)>>>0<6){S=p+172|0;S=a[S>>1]|a[S+2>>1]<<16;l=1;p=s[p+108>>2]|0;v=S&65535;S=S>>>16&65535}else{l=1;p=-1;v=0;S=0}else{l=0;p=-1;v=0;S=0}e:do{if((p|0)==(C|0)){d=v;p=S}else{d=s[e+200>>2]|0;if((d|0)!=0?(s[d+4>>2]|0)==(s[T>>2]|0):0)if((s[d>>2]|0)>>>0<6){p=d+152|0;p=a[p>>1]|a[p+2>>1]<<16;b=1;g=p&65535;p=p>>>16&65535;m=s[d+104>>2]|0}else{b=1;g=0;p=0;m=-1}else{b=0;g=0;p=0;m=-1}d=s[e+208>>2]|0;if((d|0)!=0?(s[d+4>>2]|0)==(s[T>>2]|0):0)if((s[d>>2]|0)>>>0<6){y=d+172|0;d=s[d+108>>2]|0;y=a[y>>1]|a[y+2>>1]<<16}else{d=-1;y=0}else G=54;do{if((G|0)==54){d=s[e+212>>2]|0;if((d|0)!=0?(s[d+4>>2]|0)==(s[T>>2]|0):0){if((s[d>>2]|0)>>>0>=6){d=-1;y=0;break}y=d+192|0;d=s[d+112>>2]|0;y=a[y>>1]|a[y+2>>1]<<16;break}if((b|0)==0|(l|0)!=0){d=-1;y=0}else{d=g;break e}}}while(0);l=(m|0)==(C|0);if((((d|0)==(C|0)&1)+(l&1)|0)==1){if(l){d=l?g:v;p=l?p:S;break}d=y&65535;p=y>>>16&65535;break}d=g<<16>>16;f=v<<16>>16;m=y<<16>>16;if(v<<16>>16>g<<16>>16)l=f;else{l=d;d=(f|0)<(d|0)?f:d}if((l|0)<(m|0))b=l;else b=(d|0)>(m|0)?d:m;d=p<<16>>16;l=S<<16>>16;f=y>>16;if(S<<16>>16>p<<16>>16)p=l;else{p=d;d=(l|0)<(d|0)?l:d}if((p|0)>=(f|0))p=(d|0)>(f|0)?d:f;d=b&65535;p=p&65535}}while(0);d=(d&65535)+(k&65535)|0;p=(p&65535)+(A&65535)|0;if(((d<<16>>16)+8192|0)>>>0>16383){M=1;h=$;return M|0}if(((p<<16>>16)+2048|0)>>>0>4095){M=1;h=$;return M|0}l=qe(i,C)|0;if(!l){M=1;h=$;return M|0}A=e+132|0;E=e+136|0;x=e+140|0;k=e+144|0;b=e+148|0;m=e+152|0;M=e+156|0;w=e+160|0;r[e+160>>1]=d;r[e+162>>1]=p;w=a[w>>1]|a[w+2>>1]<<16;r[M>>1]=w;r[M+2>>1]=w>>>16;r[m>>1]=w;r[m+2>>1]=w>>>16;r[b>>1]=w;r[b+2>>1]=w>>>16;r[k>>1]=w;r[k+2>>1]=w>>>16;r[x>>1]=w;r[x+2>>1]=w>>>16;r[E>>1]=w;r[E+2>>1]=w>>>16;r[A>>1]=w;r[A+2>>1]=w>>>16;s[e+100>>2]=C;s[e+104>>2]=C;A=e+116|0;s[A>>2]=l;s[e+120>>2]=l;E=r[t+164>>1]|0;x=r[t+166>>1]|0;k=s[t+148>>2]|0;b=s[e+200>>2]|0;m=(b|0)==0;if((!m?(s[b+4>>2]|0)==(s[T>>2]|0):0)?(s[b>>2]|0)>>>0<6:0){S=b+184|0;S=a[S>>1]|a[S+2>>1]<<16;v=S&65535;S=S>>>16&65535;p=s[b+112>>2]|0}else{v=0;S=0;p=-1}do{if((p|0)!=(k|0)){g=w&65535;d=w>>>16;_=d&65535;if((!m?(s[b+4>>2]|0)==(s[T>>2]|0):0)?(s[b>>2]|0)>>>0<6:0){y=b+160|0;m=s[b+104>>2]|0;y=a[y>>1]|a[y+2>>1]<<16}else{m=-1;y=0}p=(C|0)==(k|0);if((((m|0)==(k|0)&1)+(p&1)|0)==1){l=p?w:y;p=p?d:y>>>16;break}p=v<<16>>16;m=w<<16>>16;b=y<<16>>16;if(g<<16>>16>v<<16>>16)l=m;else{l=p;p=(m|0)<(p|0)?m:p}if((l|0)>=(b|0))l=(p|0)>(b|0)?p:b;d=S<<16>>16;f=w>>16;m=y>>16;if(_<<16>>16>S<<16>>16)p=f;else{p=d;d=(f|0)<(d|0)?f:d}if((p|0)>=(m|0))p=(d|0)>(m|0)?d:m}else{p=S&65535;l=p<<16|v&65535}}while(0);l=(l&65535)+(E&65535)|0;d=(p&65535)+(x&65535)|0;if(((l<<16>>16)+8192|0)>>>0>16383){M=1;h=$;return M|0}if(((d<<16>>16)+2048|0)>>>0>4095){M=1;h=$;return M|0}p=qe(i,k)|0;if(!p){M=1;h=$;return M|0}else{M=e+164|0;D=e+168|0;R=e+172|0;C=e+176|0;T=e+180|0;x=e+184|0;E=e+188|0;B=e+192|0;r[e+192>>1]=l;r[e+194>>1]=d;B=a[B>>1]|a[B+2>>1]<<16;r[E>>1]=B;r[E+2>>1]=B>>>16;r[x>>1]=B;r[x+2>>1]=B>>>16;r[T>>1]=B;r[T+2>>1]=B>>>16;r[C>>1]=B;r[C+2>>1]=B>>>16;r[R>>1]=B;r[R+2>>1]=B>>>16;r[D>>1]=B;r[D+2>>1]=B>>>16;r[M>>1]=B;r[M+2>>1]=B>>>16;s[e+108>>2]=k;s[e+112>>2]=k;B=e+124|0;s[B>>2]=p;s[e+128>>2]=p;s[Y>>2]=s[A>>2];Ne(c,e+132|0,Y,W,K,0,0,16,8);s[Y>>2]=s[B>>2];Ne(c,M,Y,W,K,0,8,16,8);break}}else if((m|0)==1|(m|0)==0){A=s[t+144>>2]|0;f=e+4|0;d=s[e+200>>2]|0;if((d|0)!=0?(s[d+4>>2]|0)==(s[f>>2]|0):0)if((s[d>>2]|0)>>>0<6){p=d+152|0;p=a[p>>1]|a[p+2>>1]<<16;l=1;w=p&65535;p=p>>>16&65535;g=s[d+104>>2]|0}else{l=1;w=0;p=0;g=-1}else{l=0;w=0;p=0;g=-1}d=s[e+204>>2]|0;if((d|0)!=0?(s[d+4>>2]|0)==(s[f>>2]|0):0)if((s[d>>2]|0)>>>0<6){S=d+172|0;S=a[S>>1]|a[S+2>>1]<<16;_=S&65535;b=1;v=s[d+108>>2]|0;S=S>>>16&65535}else{_=0;b=1;v=-1;S=0}else{_=0;b=0;v=-1;S=0}do{if(!m)if(!((l|0)==0|(b|0)==0)){if((g|0)==0?((p&65535)<<16|w&65535|0)==0:0){d=0;p=0;break}if((v|0)==0?((S&65535)<<16|_&65535|0)==0:0){d=0;p=0}else G=16}else{d=0;p=0}else G=16}while(0);if((G|0)==16){x=r[t+160>>1]|0;k=r[t+162>>1]|0;d=s[e+208>>2]|0;if((d|0)!=0?(s[d+4>>2]|0)==(s[f>>2]|0):0)if((s[d>>2]|0)>>>0<6){y=d+172|0;m=s[d+108>>2]|0;y=a[y>>1]|a[y+2>>1]<<16;G=25}else{m=-1;y=0;G=25}else G=20;do{if((G|0)==20){m=s[e+212>>2]|0;if((m|0)!=0?(s[m+4>>2]|0)==(s[f>>2]|0):0){if((s[m>>2]|0)>>>0>=6){m=-1;y=0;G=25;break}y=m+192|0;m=s[m+112>>2]|0;y=a[y>>1]|a[y+2>>1]<<16;G=25;break}if((l|0)==0|(b|0)!=0){m=-1;y=0;G=25}else d=w}}while(0);do{if((G|0)==25){l=(g|0)==(A|0);d=(v|0)==(A|0);if(((d&1)+(l&1)+((m|0)==(A|0)&1)|0)==1){if(l|d){d=l?w:_;p=l?p:S;break}d=y&65535;p=y>>>16&65535;break}d=w<<16>>16;f=_<<16>>16;m=y<<16>>16;if(_<<16>>16>w<<16>>16)l=f;else{l=d;d=(f|0)<(d|0)?f:d}if((l|0)<(m|0))m=l;else m=(d|0)>(m|0)?d:m;d=p<<16>>16;l=S<<16>>16;f=y>>16;if(S<<16>>16>p<<16>>16)p=l;else{p=d;d=(l|0)<(d|0)?l:d}if((p|0)>=(f|0))p=(d|0)>(f|0)?d:f;d=m&65535;p=p&65535}}while(0);d=(d&65535)+(x&65535)|0;p=(p&65535)+(k&65535)|0;if(((d<<16>>16)+8192|0)>>>0>16383){M=1;h=$;return M|0}if(((p<<16>>16)+2048|0)>>>0>4095){M=1;h=$;return M|0}else{d=d&65535;p=p&65535}}f=qe(i,A)|0;if(!f){M=1;h=$;return M|0}else{M=e+132|0;D=e+136|0;R=e+140|0;C=e+144|0;T=e+148|0;k=e+152|0;x=e+156|0;E=e+160|0;S=e+164|0;w=e+168|0;l=e+172|0;m=e+176|0;b=e+180|0;v=e+184|0;g=e+188|0;B=e+192|0;r[e+192>>1]=d;r[e+194>>1]=p;B=a[B>>1]|a[B+2>>1]<<16;r[g>>1]=B;r[g+2>>1]=B>>>16;r[v>>1]=B;r[v+2>>1]=B>>>16;r[b>>1]=B;r[b+2>>1]=B>>>16;r[m>>1]=B;r[m+2>>1]=B>>>16;r[l>>1]=B;r[l+2>>1]=B>>>16;r[w>>1]=B;r[w+2>>1]=B>>>16;r[S>>1]=B;r[S+2>>1]=B>>>16;r[E>>1]=B;r[E+2>>1]=B>>>16;r[x>>1]=B;r[x+2>>1]=B>>>16;r[k>>1]=B;r[k+2>>1]=B>>>16;r[T>>1]=B;r[T+2>>1]=B>>>16;r[C>>1]=B;r[C+2>>1]=B>>>16;r[R>>1]=B;r[R+2>>1]=B>>>16;r[D>>1]=B;r[D+2>>1]=B>>>16;r[M>>1]=B;r[M+2>>1]=B>>>16;s[e+100>>2]=A;s[e+104>>2]=A;s[e+108>>2]=A;s[e+112>>2]=A;s[e+116>>2]=f;s[e+120>>2]=f;s[e+124>>2]=f;s[e+128>>2]=f;s[Y>>2]=f;Ne(c,e+132|0,Y,W,K,0,0,16,16);break}}else if((m|0)==3){E=r[t+160>>1]|0;x=r[t+162>>1]|0;C=s[t+144>>2]|0;_=e+4|0;p=s[e+200>>2]|0;if((p|0)!=0?(s[p+4>>2]|0)==(s[_>>2]|0):0)if((s[p>>2]|0)>>>0<6){S=p+152|0;S=a[S>>1]|a[S+2>>1]<<16;d=1;g=S&65535;S=S>>>16&65535;p=s[p+104>>2]|0}else{d=1;g=0;S=0;p=-1}else{d=0;g=0;S=0;p=-1}e:do{if((p|0)==(C|0)){d=g;p=S}else{p=s[e+204>>2]|0;if((p|0)!=0?(s[p+4>>2]|0)==(s[_>>2]|0):0)if((s[p>>2]|0)>>>0<6){M=p+172|0;M=a[M>>1]|a[M+2>>1]<<16;y=p+188|0;m=s[p+108>>2]|0;f=s[p+112>>2]|0;d=M&65535;p=M>>>16&65535;y=a[y>>1]|a[y+2>>1]<<16}else{m=-1;f=-1;d=0;p=0;y=0}else G=107;do{if((G|0)==107){p=s[e+212>>2]|0;if((p|0)!=0?(s[p+4>>2]|0)==(s[_>>2]|0):0){if((s[p>>2]|0)>>>0>=6){m=-1;f=-1;d=0;p=0;y=0;break}y=p+192|0;m=-1;f=s[p+112>>2]|0;d=0;p=0;y=a[y>>1]|a[y+2>>1]<<16;break}if(!d){m=-1;f=-1;d=0;p=0;y=0}else{d=g;p=S;break e}}}while(0);l=(m|0)==(C|0);if(((l&1)+((f|0)==(C|0)&1)|0)==1){if(l)break;d=y&65535;p=y>>>16&65535;break}f=g<<16>>16;m=d<<16>>16;b=y<<16>>16;if(d<<16>>16>g<<16>>16){l=m;d=f}else{l=f;d=(m|0)<(f|0)?m:f}if((l|0)<(b|0))b=l;else b=(d|0)>(b|0)?d:b;d=S<<16>>16;l=p<<16>>16;f=y>>16;if(p<<16>>16>S<<16>>16)p=l;else{p=d;d=(l|0)<(d|0)?l:d}if((p|0)>=(f|0))p=(d|0)>(f|0)?d:f;d=b&65535;p=p&65535}}while(0);d=(d&65535)+(E&65535)|0;p=(p&65535)+(x&65535)|0;if(((d<<16>>16)+8192|0)>>>0>16383){M=1;h=$;return M|0}if(((p<<16>>16)+2048|0)>>>0>4095){M=1;h=$;return M|0}l=qe(i,C)|0;if(!l){M=1;h=$;return M|0}E=e+132|0;k=e+136|0;A=e+140|0;x=e+144|0;M=e+164|0;B=e+168|0;D=e+172|0;S=e+176|0;r[e+176>>1]=d;r[e+178>>1]=p;S=a[S>>1]|a[S+2>>1]<<16;r[D>>1]=S;r[D+2>>1]=S>>>16;r[B>>1]=S;r[B+2>>1]=S>>>16;r[M>>1]=S;r[M+2>>1]=S>>>16;r[x>>1]=S;r[x+2>>1]=S>>>16;r[A>>1]=S;r[A+2>>1]=S>>>16;r[k>>1]=S;r[k+2>>1]=S>>>16;r[E>>1]=S;r[E+2>>1]=S>>>16;s[e+100>>2]=C;s[e+108>>2]=C;E=e+116|0;s[E>>2]=l;s[e+124>>2]=l;k=r[t+164>>1]|0;A=r[t+166>>1]|0;x=s[t+148>>2]|0;p=s[e+208>>2]|0;if((p|0)!=0?(s[p+4>>2]|0)==(s[_>>2]|0):0)if((s[p>>2]|0)>>>0<6){v=p+172|0;p=s[p+108>>2]|0;m=1;v=a[v>>1]|a[v+2>>1]<<16}else{p=-1;m=1;v=0}else{p=s[e+204>>2]|0;if((p|0)!=0?(s[p+4>>2]|0)==(s[_>>2]|0):0)if((s[p>>2]|0)>>>0<6){v=p+176|0;p=s[p+108>>2]|0;m=1;v=a[v>>1]|a[v+2>>1]<<16}else{p=-1;m=1;v=0}else{p=-1;m=0;v=0}}do{if((p|0)!=(x|0)){g=S&65535;p=S>>>16;w=p&65535;d=s[e+204>>2]|0;if((d|0)!=0?(s[d+4>>2]|0)==(s[_>>2]|0):0)if((s[d>>2]|0)>>>0<6){_=d+188|0;_=a[_>>1]|a[_+2>>1]<<16;m=s[d+112>>2]|0;f=_&65535;_=_>>>16&65535}else{m=-1;f=0;_=0}else if(!m){l=S;break}else{m=-1;f=0;_=0}l=(C|0)==(x|0);d=(m|0)==(x|0);if(((d&1)+(l&1)|0)==1){if(l){l=S;break}if(d){p=_&65535;l=p<<16|f&65535;break}else{l=v;p=v>>>16;break}}p=S<<16>>16;m=f<<16>>16;b=v<<16>>16;if(f<<16>>16>g<<16>>16)l=m;else{l=p;p=(m|0)<(p|0)?m:p}if((l|0)>=(b|0))l=(p|0)>(b|0)?p:b;d=S>>16;f=_<<16>>16;m=v>>16;if(_<<16>>16>w<<16>>16)p=f;else{p=d;d=(f|0)<(d|0)?f:d}if((p|0)>=(m|0))p=(d|0)>(m|0)?d:m}else{l=v;p=v>>>16}}while(0);l=(l&65535)+(k&65535)|0;d=(p&65535)+(A&65535)|0;if(((l<<16>>16)+8192|0)>>>0>16383){M=1;h=$;return M|0}if(((d<<16>>16)+2048|0)>>>0>4095){M=1;h=$;return M|0}p=qe(i,x)|0;if(!p){M=1;h=$;return M|0}else{M=e+148|0;D=e+152|0;R=e+156|0;C=e+160|0;T=e+180|0;A=e+184|0;k=e+188|0;B=e+192|0;r[e+192>>1]=l;r[e+194>>1]=d;B=a[B>>1]|a[B+2>>1]<<16;r[k>>1]=B;r[k+2>>1]=B>>>16;r[A>>1]=B;r[A+2>>1]=B>>>16;r[T>>1]=B;r[T+2>>1]=B>>>16;r[C>>1]=B;r[C+2>>1]=B>>>16;r[R>>1]=B;r[R+2>>1]=B>>>16;r[D>>1]=B;r[D+2>>1]=B>>>16;r[M>>1]=B;r[M+2>>1]=B>>>16;s[e+104>>2]=x;s[e+112>>2]=x;B=e+120|0;s[B>>2]=p;s[e+128>>2]=p;s[Y>>2]=s[E>>2];Ne(c,e+132|0,Y,W,K,0,0,8,16);s[Y>>2]=s[B>>2];Ne(c,M,Y,W,K,8,0,8,16);break}}else{q=e+4|0;I=0;e:while(1){R=t+(I<<2)+176|0;M=jt(s[R>>2]|0)|0;D=t+(I<<2)+192|0;s[e+(I<<2)+100>>2]=s[D>>2];B=qe(i,s[D>>2]|0)|0;s[e+(I<<2)+116>>2]=B;if(!B){f=1;G=212;break}if(M){P=I<<2;F=e+(P<<2)+132|0;j=e+(P<<2)+134|0;z=P|1;O=e+(z<<2)+132|0;z=e+(z<<2)+134|0;H=P|2;L=e+(H<<2)+132|0;H=e+(H<<2)+134|0;V=P|3;N=e+(V<<2)+132|0;V=e+(V<<2)+134|0;U=0;do{C=r[t+(I<<4)+(U<<2)+208>>1]|0;T=r[t+(I<<4)+(U<<2)+210>>1]|0;B=Vt(s[R>>2]|0)|0;d=s[D>>2]|0;g=ii(e,s[6288+(I<<7)+(B<<5)+(U<<3)>>2]|0)|0;v=o[6288+(I<<7)+(B<<5)+(U<<3)+4>>0]|0;if((g|0)!=0?(s[g+4>>2]|0)==(s[q>>2]|0):0)if((s[g>>2]|0)>>>0<6){b=g+(v<<2)+132|0;b=a[b>>1]|a[b+2>>1]<<16;A=s[g+(v>>>2<<2)+100>>2]|0;p=b&65535;k=1;b=b>>>16&65535}else{A=-1;p=0;k=1;b=0}else{A=-1;p=0;k=0;b=0}w=ii(e,s[5776+(I<<7)+(B<<5)+(U<<3)>>2]|0)|0;f=o[5776+(I<<7)+(B<<5)+(U<<3)+4>>0]|0;if((w|0)!=0?(s[w+4>>2]|0)==(s[q>>2]|0):0)if((s[w>>2]|0)>>>0<6){m=w+(f<<2)+132|0;m=a[m>>1]|a[m+2>>1]<<16;x=1;E=s[w+(f>>>2<<2)+100>>2]|0;l=m&65535;m=m>>>16&65535}else{x=1;E=-1;l=0;m=0}else{x=0;E=-1;l=0;m=0}S=ii(e,s[5264+(I<<7)+(B<<5)+(U<<3)>>2]|0)|0;w=o[5264+(I<<7)+(B<<5)+(U<<3)+4>>0]|0;if((S|0)!=0?(s[S+4>>2]|0)==(s[q>>2]|0):0)if((s[S>>2]|0)>>>0<6){k=S+(w<<2)+132|0;k=a[k>>1]|a[k+2>>1]<<16;w=s[S+(w>>>2<<2)+100>>2]|0;G=180}else{k=0;w=-1;G=180}else G=175;do{if((G|0)==175){G=0;S=ii(e,s[4752+(I<<7)+(B<<5)+(U<<3)>>2]|0)|0;w=o[4752+(I<<7)+(B<<5)+(U<<3)+4>>0]|0;if((S|0)!=0?(s[S+4>>2]|0)==(s[q>>2]|0):0){if((s[S>>2]|0)>>>0>=6){k=0;w=-1;G=180;break}k=S+(w<<2)+132|0;k=a[k>>1]|a[k+2>>1]<<16;w=s[S+(w>>>2<<2)+100>>2]|0;G=180;break}if((k|0)==0|(x|0)!=0){k=0;w=-1;G=180}else{w=p;y=b}}}while(0);do{if((G|0)==180){f=(A|0)==(d|0);S=(E|0)==(d|0);if(((S&1)+(f&1)+((w|0)==(d|0)&1)|0)==1){if(f|S){w=f?p:l;y=f?b:m;break}w=k&65535;y=k>>>16&65535;break}_=p<<16>>16;S=l<<16>>16;f=k<<16>>16;if(l<<16>>16>p<<16>>16)w=S;else{w=_;_=(S|0)<(_|0)?S:_}if((w|0)<(f|0))S=w;else S=(_|0)>(f|0)?_:f;y=b<<16>>16;w=m<<16>>16;f=k>>16;if(m<<16>>16>b<<16>>16)g=w;else{g=y;y=(w|0)<(y|0)?w:y}if((g|0)>=(f|0))g=(y|0)>(f|0)?y:f;w=S&65535;y=g&65535}}while(0);C=(w&65535)+(C&65535)|0;b=C&65535;g=(y&65535)+(T&65535)|0;v=g&65535;if(((C<<16>>16)+8192|0)>>>0>16383){f=1;G=212;break e}if(((g<<16>>16)+2048|0)>>>0>4095){f=1;G=212;break e}if((B|0)==1){B=(U<<1)+P|0;r[e+(B<<2)+132>>1]=b;r[e+(B<<2)+134>>1]=v;B=B|1;r[e+(B<<2)+132>>1]=b;r[e+(B<<2)+134>>1]=v}else if((B|0)==2){B=U+P|0;r[e+(B<<2)+132>>1]=b;r[e+(B<<2)+134>>1]=v;B=B+2|0;r[e+(B<<2)+132>>1]=b;r[e+(B<<2)+134>>1]=v}else if((B|0)==3){B=U+P|0;r[e+(B<<2)+132>>1]=b;r[e+(B<<2)+134>>1]=v}else if(!B){r[F>>1]=b;r[j>>1]=v;r[O>>1]=b;r[z>>1]=v;r[L>>1]=b;r[H>>1]=v;r[N>>1]=b;r[V>>1]=v}U=U+1|0}while(U>>>0<M>>>0)}I=I+1|0;if(I>>>0>=4){G=201;break}}if((G|0)==201){p=0;do{s[Y>>2]=s[e+(p<<2)+116>>2];l=Vt(s[t+(p<<2)+176>>2]|0)|0;f=p<<3&8;d=p>>>0<2?0:8;if(!l)Ne(c,e+(p<<2<<2)+132|0,Y,W,K,f,d,8,8);else if((l|0)==1){M=p<<2;Ne(c,e+(M<<2)+132|0,Y,W,K,f,d,8,4);Ne(c,e+((M|2)<<2)+132|0,Y,W,K,f,d|4,8,4)}else if((l|0)==2){M=p<<2;Ne(c,e+(M<<2)+132|0,Y,W,K,f,d,4,8);Ne(c,e+((M|1)<<2)+132|0,Y,W,K,f|4,d,4,8)}else{D=p<<2;Ne(c,e+(D<<2)+132|0,Y,W,K,f,d,4,4);B=f|4;Ne(c,e+((D|1)<<2)+132|0,Y,W,K,B,d,4,4);M=d|4;Ne(c,e+((D|2)<<2)+132|0,Y,W,K,f,M,4,4);Ne(c,e+((D|3)<<2)+132|0,Y,W,K,B,M,4,4)}p=p+1|0}while((p|0)!=4)}else if((G|0)==212){h=$;return f|0}}}while(0);if((s[e+196>>2]|0)>>>0>1){M=0;h=$;return M|0}if(!(s[e>>2]|0)){et(u,c);M=0;h=$;return M|0}else{tt(u,n,c,t+328|0);M=0;h=$;return M|0}return 0}function Te(e,t,i,r,s,a,u,c,f){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;u=u|0;c=c|0;f=f|0;var l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0,B=0;T=h;h=h+144|0;l=T;if((i|0)>=0?!((i+1+c|0)>>>0>s>>>0|(r|0)<0|(f+r|0)>>>0>a>>>0):0)l=e;else{A=c+1|0;Ce(e,l,i,r,s,a,A,f,A);Ce(e+(ee(a,s)|0)|0,l+(ee(A,f)|0)|0,i,r,s,a,A,f,A);a=f;s=A;i=0;r=0}A=8-u|0;w=f>>>1;k=(w|0)==0;S=c>>>1;x=(S|0)==0;E=16-c|0;_=(s<<1)-c|0;g=s+1|0;y=s+2|0;m=S<<1;v=0;do{f=l+((ee((ee(v,a)|0)+r|0,s)|0)+i)|0;if(!(k|x)){b=t+(v<<6)|0;p=w;while(1){c=b;e=f;d=S;while(1){R=o[e>>0]|0;D=o[e+g>>0]|0;B=e;e=e+2|0;C=o[B+1>>0]|0;n[c+8>>0]=(((ee(D,u)|0)+(ee(o[B+s>>0]|0,A)|0)<<3)+32|0)>>>6;n[c>>0]=(((ee(C,u)|0)+(ee(R,A)|0)<<3)+32|0)>>>6;R=o[e>>0]|0;n[c+9>>0]=(((ee(o[B+y>>0]|0,u)|0)+(ee(D,A)|0)<<3)+32|0)>>>6;n[c+1>>0]=(((ee(R,u)|0)+(ee(C,A)|0)<<3)+32|0)>>>6;d=d+-1|0;if(!d)break;else c=c+2|0}p=p+-1|0;if(!p)break;else{b=b+(m+E)|0;f=f+(m+_)|0}}}v=v+1|0}while((v|0)!=2);h=T;return}function Ce(e,t,i,n,r,s,o,a,u){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;o=o|0;a=a|0;u=u|0;var c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0;y=h;c=o+i|0;p=a+n|0;g=(i|0)<0|(c|0)>(r|0)?2:1;l=(p|0)<0?0-a|0:n;n=(c|0)<0?0-o|0:i;l=(l|0)>(s|0)?s:l;n=(n|0)>(r|0)?r:n;c=n+o|0;f=l+a|0;if((n|0)>0)e=e+n|0;if((l|0)>0)e=e+(ee(l,r)|0)|0;v=(n|0)<0?0-n|0:0;b=(c|0)>(r|0)?c-r|0:0;m=o-v-b|0;o=0-l|0;l=(l|0)<0?o:0;i=f-s|0;d=(f|0)>(s|0)?i:0;c=a-l|0;n=c-d|0;if(l){l=a+-1-((p|0)>0?p:0)|0;f=~s;f=(l|0)>(f|0)?l:f;l=~f;l=ee(f+((l|0)>0?l:0)+1|0,u)|0;f=t;while(1){_n[g&3](e,f,v,m,b);o=o+-1|0;if(!o)break;else f=f+u|0}t=t+l|0}if((c|0)!=(d|0)){f=a+-1|0;o=f-((p|0)>0?p:0)|0;c=~s;c=(o|0)>(c|0)?o:c;f=f-c|0;o=~c;o=a+s+-1-((f|0)<(s|0)?s:f)-c-((o|0)>0?o:0)|0;c=ee(o,u)|0;o=ee(o,r)|0;f=t;l=e;while(1){_n[g&3](l,f,v,m,b);n=n+-1|0;if(!n)break;else{f=f+u|0;l=l+r|0}}t=t+c|0;e=e+o|0}e=e+(0-r)|0;if(!d){h=y;return}while(1){_n[g&3](e,t,v,m,b);i=i+-1|0;if(!i)break;else t=t+u|0}h=y;return}function Re(e,t,i,r,s,a,u,c,f){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;u=u|0;c=c|0;f=f|0;var l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0;C=h;h=h+144|0;l=C;if(((i|0)>=0?!((c+i|0)>>>0>s>>>0|(r|0)<0):0)?(r+1+f|0)>>>0<=a>>>0:0)l=e;else{A=f+1|0;Ce(e,l,i,r,s,a,c,A,c);Ce(e+(ee(a,s)|0)|0,l+(ee(A,c)|0)|0,i,r,s,a,c,A,c);a=A;s=c;i=0;r=0}T=8-u|0;S=f>>>1;A=(S|0)==0;E=c>>>1;k=(E|0)==0;x=16-c|0;w=s<<1;_=w-c|0;y=w|1;g=s+1|0;m=E<<1;v=0;do{f=l+((ee((ee(v,a)|0)+r|0,s)|0)+i)|0;if(!(A|k)){b=t+(v<<6)|0;p=S;while(1){c=b;e=f;d=E;while(1){R=o[e+s>>0]|0;D=o[e>>0]|0;n[c+8>>0]=(((ee(R,T)|0)+(ee(o[e+w>>0]|0,u)|0)<<3)+32|0)>>>6;n[c>>0]=(((ee(D,T)|0)+(ee(R,u)|0)<<3)+32|0)>>>6;R=o[e+g>>0]|0;D=o[e+1>>0]|0;n[c+9>>0]=(((ee(R,T)|0)+(ee(o[e+y>>0]|0,u)|0)<<3)+32|0)>>>6;n[c+1>>0]=(((ee(D,T)|0)+(ee(R,u)|0)<<3)+32|0)>>>6;d=d+-1|0;if(!d)break;else{c=c+2|0;e=e+2|0}}p=p+-1|0;if(!p)break;else{b=b+(m+x)|0;f=f+(m+_)|0}}}v=v+1|0}while((v|0)!=2);h=C;return}function De(e,t,i,r,s,a,u,c,f,l){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;u=u|0;c=c|0;f=f|0;l=l|0;var d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0,B=0,M=0,I=0,U=0,P=0,F=0,O=0,L=0;U=h;h=h+176|0;d=U;if(((i|0)>=0?!((i+1+f|0)>>>0>s>>>0|(r|0)<0):0)?(r+1+l|0)>>>0<=a>>>0:0)d=e;else{T=f+1|0;A=l+1|0;Ce(e,d,i,r,s,a,T,A,T);Ce(e+(ee(a,s)|0)|0,d+(ee(A,T)|0)|0,i,r,s,a,T,A,T);a=A;s=T;i=0;r=0}M=8-u|0;I=8-c|0;T=l>>>1;D=(T|0)==0;A=s<<1;C=f>>>1;B=(C|0)==0;R=16-f|0;k=A-f|0;w=s+1|0;S=A|1;E=s+2|0;x=A+2|0;g=C<<1;_=0;do{f=d+((ee((ee(_,a)|0)+r|0,s)|0)+i)|0;if(!(D|B)){y=t+(_<<6)|0;v=T;while(1){m=o[f+s>>0]|0;l=y;e=f;p=(ee(m,c)|0)+(ee(o[f>>0]|0,I)|0)|0;m=(ee(o[f+A>>0]|0,c)|0)+(ee(m,I)|0)|0;b=C;while(1){F=o[e+w>>0]|0;P=(ee(F,c)|0)+(ee(o[e+1>>0]|0,I)|0)|0;F=(ee(o[e+S>>0]|0,c)|0)+(ee(F,I)|0)|0;L=((ee(p,M)|0)+32+(ee(P,u)|0)|0)>>>6;n[l+8>>0]=((ee(m,M)|0)+32+(ee(F,u)|0)|0)>>>6;n[l>>0]=L;L=e;e=e+2|0;O=o[L+E>>0]|0;p=(ee(O,c)|0)+(ee(o[e>>0]|0,I)|0)|0;m=(ee(o[L+x>>0]|0,c)|0)+(ee(O,I)|0)|0;P=((ee(P,M)|0)+32+(ee(p,u)|0)|0)>>>6;n[l+9>>0]=((ee(F,M)|0)+32+(ee(m,u)|0)|0)>>>6;n[l+1>>0]=P;b=b+-1|0;if(!b)break;else l=l+2|0}v=v+-1|0;if(!v)break;else{y=y+(g+R)|0;f=f+(g+k)|0}}}_=_+1|0}while((_|0)!=2);h=U;return}function Be(e,t,i,r,s,a,u,c){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;u=u|0;c=c|0;var f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0;v=h;h=h+448|0;f=v;if(((i|0)>=0?!((u+i|0)>>>0>s>>>0|(r|0)<0):0)?(r+5+c|0)>>>0<=a>>>0:0)f=e;else{Ce(e,f,i,r,s,a,u,c+5|0,u);s=u;i=0;r=0}a=i+s+(ee(r,s)|0)|0;e=c>>>2;if(!e){h=v;return}d=s<<2;b=0-s|0;p=b<<1;m=s<<1;if(!u){h=v;return}else{l=f+a|0;i=f+(a+(s*5|0))|0}while(1){f=u;a=t;c=l;r=i;while(1){_=o[r+p>>0]|0;w=o[r+b>>0]|0;S=o[r+s>>0]|0;x=o[r>>0]|0;E=S+_|0;g=o[c+m>>0]|0;n[a+48>>0]=n[((o[r+m>>0]|0)+16-E-(E<<2)+g+((x+w|0)*20|0)>>5)+3984>>0]|0;E=g+x|0;y=o[c+s>>0]|0;n[a+32>>0]=n[(S+16-E-(E<<2)+y+((w+_|0)*20|0)>>5)+3984>>0]|0;E=y+w|0;S=o[c>>0]|0;n[a+16>>0]=n[(x+16-E-(E<<2)+S+((g+_|0)*20|0)>>5)+3984>>0]|0;_=S+_|0;n[a>>0]=n[(w+16-_-(_<<2)+(o[c+b>>0]|0)+((y+g|0)*20|0)>>5)+3984>>0]|0;f=f+-1|0;if(!f)break;else{a=a+1|0;c=c+1|0;r=r+1|0}}e=e+-1|0;if(!e)break;else{t=t+64|0;l=l+d|0;i=i+d|0}}h=v;return}function Me(e,t,i,r,s,a,u,c,f){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;u=u|0;c=c|0;f=f|0;var l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0;w=h;h=h+448|0;l=w;if(((i|0)>=0?!((u+i|0)>>>0>s>>>0|(r|0)<0):0)?(r+5+c|0)>>>0<=a>>>0:0)l=e;else{Ce(e,l,i,r,s,a,u,c+5|0,u);s=u;i=0;r=0}a=i+s+(ee(r,s)|0)|0;e=c>>>2;if(!e){h=w;return}_=(u|0)==0;g=(s<<2)-u|0;y=64-u|0;v=0-s|0;m=v<<1;b=s<<1;i=l+a|0;r=l+(a+(ee(s,f+2|0)|0))|0;l=l+(a+(s*5|0))|0;while(1){if(_){a=t;c=r}else{c=r+u|0;a=t+u|0;f=u;p=i;d=l;while(1){x=o[d+m>>0]|0;k=o[d+v>>0]|0;A=o[d+s>>0]|0;C=o[d>>0]|0;T=A+x|0;S=o[p+b>>0]|0;n[t+48>>0]=((o[((o[d+b>>0]|0)+16-T-(T<<2)+S+((C+k|0)*20|0)>>5)+3984>>0]|0)+1+(o[r+b>>0]|0)|0)>>>1;T=S+C|0;E=o[p+s>>0]|0;n[t+32>>0]=((o[(A+16-T-(T<<2)+E+((k+x|0)*20|0)>>5)+3984>>0]|0)+1+(o[r+s>>0]|0)|0)>>>1;T=E+k|0;A=o[p>>0]|0;n[t+16>>0]=((o[(C+16-T-(T<<2)+A+((S+x|0)*20|0)>>5)+3984>>0]|0)+1+(o[r>>0]|0)|0)>>>1;x=A+x|0;n[t>>0]=((o[(k+16-x-(x<<2)+(o[p+v>>0]|0)+((E+S|0)*20|0)>>5)+3984>>0]|0)+1+(o[r+v>>0]|0)|0)>>>1;f=f+-1|0;if(!f)break;else{t=t+1|0;p=p+1|0;r=r+1|0;d=d+1|0}}i=i+u|0;l=l+u|0}e=e+-1|0;if(!e)break;else{t=a+y|0;i=i+g|0;r=c+g|0;l=l+g|0}}h=w;return}function Ie(e,t,i,r,s,a,u,c){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;u=u|0;c=c|0;var f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0;_=h;h=h+448|0;f=_;if((i|0)>=0?!((i+5+u|0)>>>0>s>>>0|(r|0)<0|(c+r|0)>>>0>a>>>0):0)f=e;else{d=u+5|0;Ce(e,f,i,r,s,a,d,c,d);s=d;i=0;r=0}if(!c){h=_;return}v=u>>>2;y=(v|0)==0;g=s-u|0;b=16-u|0;m=v<<2;e=t;f=f+(i+5+(ee(r,s)|0))|0;p=c;while(1){if(y)a=e;else{a=e+m|0;i=f;s=o[f+-1>>0]|0;c=o[f+-2>>0]|0;l=o[f+-3>>0]|0;d=o[f+-4>>0]|0;u=o[f+-5>>0]|0;t=v;while(1){r=d+s|0;w=d;d=o[i>>0]|0;n[e>>0]=n[(u+16-r-(r<<2)+d+((l+c|0)*20|0)>>5)+3984>>0]|0;u=d+l|0;r=l;l=o[i+1>>0]|0;n[e+1>>0]=n[(w+16-u-(u<<2)+l+((c+s|0)*20|0)>>5)+3984>>0]|0;u=l+c|0;w=c;c=o[i+2>>0]|0;n[e+2>>0]=n[(r+16-u-(u<<2)+c+((d+s|0)*20|0)>>5)+3984>>0]|0;u=c+s|0;r=o[i+3>>0]|0;n[e+3>>0]=n[(w+16-u-(u<<2)+r+((l+d|0)*20|0)>>5)+3984>>0]|0;t=t+-1|0;if(!t)break;else{u=s;e=e+4|0;i=i+4|0;s=r}}f=f+m|0}p=p+-1|0;if(!p)break;else{e=a+b|0;f=f+g|0}}h=_;return}function Ue(e,t,i,r,s,a,u,c,f){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;u=u|0;c=c|0;f=f|0;var l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0;w=h;h=h+448|0;l=w;if((i|0)>=0?!((i+5+u|0)>>>0>s>>>0|(r|0)<0|(c+r|0)>>>0>a>>>0):0)l=e;else{p=u+5|0;Ce(e,l,i,r,s,a,p,c,p);s=p;i=0;r=0}if(!c){h=w;return}g=u>>>2;_=(g|0)==0;y=s-u|0;v=16-u|0;b=(f|0)!=0;m=g<<2;e=t;l=l+(i+5+(ee(r,s)|0))|0;while(1){if(_)a=e;else{a=e+m|0;f=l;i=o[l+-1>>0]|0;s=o[l+-2>>0]|0;d=o[l+-3>>0]|0;p=o[l+-4>>0]|0;u=o[l+-5>>0]|0;t=g;while(1){r=p+i|0;S=p;p=o[f>>0]|0;n[e>>0]=((b?s:d)+1+(o[(u+16-r-(r<<2)+p+((d+s|0)*20|0)>>5)+3984>>0]|0)|0)>>>1;u=p+d|0;r=d;d=o[f+1>>0]|0;n[e+1>>0]=((b?i:s)+1+(o[(S+16-u-(u<<2)+d+((s+i|0)*20|0)>>5)+3984>>0]|0)|0)>>>1;u=d+s|0;S=s;s=o[f+2>>0]|0;n[e+2>>0]=((b?p:i)+1+(o[(r+16-u-(u<<2)+s+((p+i|0)*20|0)>>5)+3984>>0]|0)|0)>>>1;u=s+i|0;r=o[f+3>>0]|0;n[e+3>>0]=((b?d:p)+1+(o[(S+16-u-(u<<2)+r+((d+p|0)*20|0)>>5)+3984>>0]|0)|0)>>>1;t=t+-1|0;if(!t)break;else{u=i;e=e+4|0;f=f+4|0;i=r}}l=l+m|0}c=c+-1|0;if(!c)break;else{e=a+v|0;l=l+y|0}}h=w;return}function Pe(e,t,i,r,s,a,u,c,f){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;u=u|0;c=c|0;f=f|0;var l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0;k=h;h=h+448|0;l=k;if(((i|0)>=0?!((i+5+u|0)>>>0>s>>>0|(r|0)<0):0)?(r+5+c|0)>>>0<=a>>>0:0)l=e;else{x=u+5|0;Ce(e,l,i,r,s,a,x,c+5|0,x);s=x;i=0;r=0}e=(ee(r,s)|0)+i|0;x=(f&1|2)+s+e|0;d=l+x|0;if(!c){h=k;return}_=u>>>2;S=(_|0)==0;w=s-u|0;E=16-u|0;y=_<<2;e=l+((ee(s,f>>>1&1|2)|0)+5+e)|0;g=c;while(1){if(!S){v=t+y|0;a=e;i=o[e+-1>>0]|0;r=o[e+-2>>0]|0;p=o[e+-3>>0]|0;m=o[e+-4>>0]|0;f=o[e+-5>>0]|0;b=_;while(1){A=m+i|0;T=m;m=o[a>>0]|0;n[t>>0]=n[(f+16-A-(A<<2)+m+((p+r|0)*20|0)>>5)+3984>>0]|0;A=m+p|0;f=p;p=o[a+1>>0]|0;n[t+1>>0]=n[(T+16-A-(A<<2)+p+((r+i|0)*20|0)>>5)+3984>>0]|0;A=p+r|0;T=r;r=o[a+2>>0]|0;n[t+2>>0]=n[(f+16-A-(A<<2)+r+((m+i|0)*20|0)>>5)+3984>>0]|0;A=r+i|0;f=o[a+3>>0]|0;n[t+3>>0]=n[(T+16-A-(A<<2)+f+((p+m|0)*20|0)>>5)+3984>>0]|0;b=b+-1|0;if(!b)break;else{A=i;t=t+4|0;a=a+4|0;i=f;f=A}}t=v;e=e+y|0}g=g+-1|0;if(!g)break;else{t=t+E|0;e=e+w|0}}e=c>>>2;if(!e){h=k;return}y=(u|0)==0;m=(s<<2)-u|0;p=64-u|0;b=0-s|0;g=b<<1;v=s<<1;t=t+(E-(c<<4))|0;a=l+(x+(s*5|0))|0;f=e;while(1){if(y){e=t;l=d}else{e=t+u|0;l=t;i=d;r=a;t=u;while(1){E=o[r+g>>0]|0;S=o[r+b>>0]|0;_=o[r+s>>0]|0;T=o[r>>0]|0;x=_+E|0;c=o[i+v>>0]|0;A=l+48|0;n[A>>0]=((o[((o[r+v>>0]|0)+16-x-(x<<2)+c+((T+S|0)*20|0)>>5)+3984>>0]|0)+1+(o[A>>0]|0)|0)>>>1;A=c+T|0;x=o[i+s>>0]|0;w=l+32|0;n[w>>0]=((o[(_+16-A-(A<<2)+x+((S+E|0)*20|0)>>5)+3984>>0]|0)+1+(o[w>>0]|0)|0)>>>1;w=o[i>>0]|0;A=x+S|0;_=l+16|0;n[_>>0]=((o[(T+16-A-(A<<2)+w+((c+E|0)*20|0)>>5)+3984>>0]|0)+1+(o[_>>0]|0)|0)>>>1;E=w+E|0;n[l>>0]=((o[(S+16-E-(E<<2)+(o[i+b>>0]|0)+((x+c|0)*20|0)>>5)+3984>>0]|0)+1+(o[l>>0]|0)|0)>>>1;t=t+-1|0;if(!t)break;else{l=l+1|0;i=i+1|0;r=r+1|0}}l=d+u|0;a=a+u|0}f=f+-1|0;if(!f)break;else{t=e+p|0;d=l+m|0;a=a+m|0}}h=k;return}function Fe(e,t,i,r,a,u,c,f){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;u=u|0;c=c|0;f=f|0;var l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0;E=h;h=h+1792|0;l=E+1344|0;S=E;if(((i|0)>=0?!((i+5+c|0)>>>0>a>>>0|(r|0)<0):0)?(r+5+f|0)>>>0<=u>>>0:0){p=f+5|0;l=e;d=i+5|0}else{d=c+5|0;p=f+5|0;Ce(e,l,i,r,a,u,d,p,d);a=d;d=5;r=0}if(p){y=c>>>2;w=(y|0)==0;g=a-c|0;_=y<<2;i=S;l=l+(d+(ee(r,a)|0))|0;while(1){if(w)e=i;else{e=i+(_<<2)|0;r=l;a=o[l+-1>>0]|0;u=o[l+-2>>0]|0;m=o[l+-3>>0]|0;b=o[l+-4>>0]|0;d=o[l+-5>>0]|0;v=y;while(1){x=b+a|0;k=b;b=o[r>>0]|0;s[i>>2]=d-x-(x<<2)+b+((m+u|0)*20|0);x=b+m|0;d=m;m=o[r+1>>0]|0;s[i+4>>2]=k-x+m-(x<<2)+((u+a|0)*20|0);x=m+u|0;k=u;u=o[r+2>>0]|0;s[i+8>>2]=d-x+u-(x<<2)+((b+a|0)*20|0);x=u+a|0;d=o[r+3>>0]|0;s[i+12>>2]=k-x+d-(x<<2)+((m+b|0)*20|0);v=v+-1|0;if(!v)break;else{x=a;i=i+16|0;r=r+4|0;a=d;d=x}}l=l+_|0}p=p+-1|0;if(!p)break;else{i=e;l=l+g|0}}}a=f>>>2;if(!a){h=E;return}_=(c|0)==0;g=64-c|0;m=c*3|0;y=0-c|0;b=y<<1;v=c<<1;r=t;e=S+(c<<2)|0;l=S+(c*6<<2)|0;p=a;while(1){if(_)a=r;else{a=r+c|0;i=e;u=l;d=c;while(1){t=s[u+(b<<2)>>2]|0;S=s[u+(y<<2)>>2]|0;k=s[u+(c<<2)>>2]|0;A=s[u>>2]|0;x=k+t|0;w=s[i+(v<<2)>>2]|0;n[r+48>>0]=n[((s[u+(v<<2)>>2]|0)+512-x-(x<<2)+w+((A+S|0)*20|0)>>10)+3984>>0]|0;x=w+A|0;f=s[i+(c<<2)>>2]|0;n[r+32>>0]=n[(k+512-x-(x<<2)+f+((S+t|0)*20|0)>>10)+3984>>0]|0;x=s[i>>2]|0;k=f+S|0;n[r+16>>0]=n[(A+512-k-(k<<2)+x+((w+t|0)*20|0)>>10)+3984>>0]|0;t=x+t|0;n[r>>0]=n[(S+512-t-(t<<2)+(s[i+(y<<2)>>2]|0)+((f+w|0)*20|0)>>10)+3984>>0]|0;d=d+-1|0;if(!d)break;else{r=r+1|0;i=i+4|0;u=u+4|0}}e=e+(c<<2)|0;l=l+(c<<2)|0}p=p+-1|0;if(!p)break;else{r=a+g|0;e=e+(m<<2)|0;l=l+(m<<2)|0}}h=E;return}function Oe(e,t,i,r,a,u,c,f,l){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;u=u|0;c=c|0;f=f|0;l=l|0;var d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0;x=h;h=h+1792|0;d=x+1344|0;E=x;if(((i|0)>=0?!((i+5+c|0)>>>0>a>>>0|(r|0)<0):0)?(r+5+f|0)>>>0<=u>>>0:0){p=f+5|0;d=e;i=i+5|0}else{b=c+5|0;p=f+5|0;Ce(e,d,i,r,a,u,b,p,b);a=b;i=5;r=0}if(p){w=c>>>2;y=(w|0)==0;_=a-c|0;S=w<<2;m=E;d=d+(i+(ee(r,a)|0))|0;g=p;while(1){if(y)e=m;else{e=m+(S<<2)|0;r=d;i=o[d+-1>>0]|0;a=o[d+-2>>0]|0;u=o[d+-3>>0]|0;b=o[d+-4>>0]|0;p=o[d+-5>>0]|0;v=w;while(1){k=b+i|0;A=b;b=o[r>>0]|0;s[m>>2]=p-k-(k<<2)+b+((u+a|0)*20|0);k=b+u|0;p=u;u=o[r+1>>0]|0;s[m+4>>2]=A-k+u-(k<<2)+((a+i|0)*20|0);k=u+a|0;A=a;a=o[r+2>>0]|0;s[m+8>>2]=p-k+a-(k<<2)+((b+i|0)*20|0);k=a+i|0;p=o[r+3>>0]|0;s[m+12>>2]=A-k+p-(k<<2)+((u+b|0)*20|0);v=v+-1|0;if(!v)break;else{k=i;m=m+16|0;r=r+4|0;i=p;p=k}}d=d+S|0}g=g+-1|0;if(!g)break;else{m=e;d=d+_|0}}}i=f>>>2;if(!i){h=x;return}S=(c|0)==0;_=64-c|0;b=c*3|0;w=0-c|0;y=w<<1;g=c<<1;e=E+(c<<2)|0;d=E+((ee(l+2|0,c)|0)+c<<2)|0;a=E+(c*6<<2)|0;v=i;while(1){if(S){r=t;i=d}else{i=d+(c<<2)|0;r=t+c|0;m=e;u=a;p=c;while(1){l=s[u+(y<<2)>>2]|0;f=s[u+(w<<2)>>2]|0;T=s[u+(c<<2)>>2]|0;C=s[u>>2]|0;A=T+l|0;k=s[m+(g<<2)>>2]|0;n[t+48>>0]=((o[((s[u+(g<<2)>>2]|0)+512-A-(A<<2)+k+((C+f|0)*20|0)>>10)+3984>>0]|0)+1+(o[((s[d+(g<<2)>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;A=k+C|0;E=s[m+(c<<2)>>2]|0;n[t+32>>0]=((o[(T+512-A-(A<<2)+E+((f+l|0)*20|0)>>10)+3984>>0]|0)+1+(o[((s[d+(c<<2)>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;A=s[m>>2]|0;T=E+f|0;n[t+16>>0]=((o[(C+512-T-(T<<2)+A+((k+l|0)*20|0)>>10)+3984>>0]|0)+1+(o[((s[d>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;l=A+l|0;n[t>>0]=((o[(f+512-l-(l<<2)+(s[m+(w<<2)>>2]|0)+((E+k|0)*20|0)>>10)+3984>>0]|0)+1+(o[((s[d+(w<<2)>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;p=p+-1|0;if(!p)break;else{t=t+1|0;m=m+4|0;d=d+4|0;u=u+4|0}}e=e+(c<<2)|0;a=a+(c<<2)|0}v=v+-1|0;if(!v)break;else{t=r+_|0;e=e+(b<<2)|0;d=i+(b<<2)|0;a=a+(b<<2)|0}}h=x;return}function Le(e,t,i,r,a,u,c,f,l){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;u=u|0;c=c|0;f=f|0;l=l|0;var d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0,B=0,M=0,I=0,U=0;T=h;h=h+1792|0;d=T+1344|0;A=T;k=c+5|0;if(((i|0)>=0?!((i+5+c|0)>>>0>a>>>0|(r|0)<0):0)?(r+5+f|0)>>>0<=u>>>0:0)d=e;else{Ce(e,d,i,r,a,u,k,f+5|0,k);a=k;i=0;r=0}g=i+a+(ee(r,a)|0)|0;r=f>>>2;if(r){x=(k|0)==0;E=(a<<2)-c+-5|0;y=k*3|0;m=0-a|0;S=m<<1;w=a<<1;_=k<<1;b=-5-c|0;u=A+(k<<2)|0;v=d+g|0;i=d+(g+(a*5|0))|0;while(1){if(x)g=u;else{g=u+(k<<2)|0;d=v;e=i;p=k;while(1){D=o[e+S>>0]|0;B=o[e+m>>0]|0;I=o[e+a>>0]|0;U=o[e>>0]|0;M=I+D|0;C=o[d+w>>0]|0;s[u+(_<<2)>>2]=(o[e+w>>0]|0)-M-(M<<2)+C+((U+B|0)*20|0);M=C+U|0;R=o[d+a>>0]|0;s[u+(k<<2)>>2]=I-M+R-(M<<2)+((B+D|0)*20|0);M=o[d>>0]|0;I=R+B|0;s[u>>2]=U-I+M-(I<<2)+((C+D|0)*20|0);D=M+D|0;s[u+(b<<2)>>2]=B-D+(o[d+m>>0]|0)-(D<<2)+((R+C|0)*20|0);p=p+-1|0;if(!p)break;else{u=u+4|0;d=d+1|0;e=e+1|0}}v=v+k|0;i=i+k|0}r=r+-1|0;if(!r)break;else{u=g+(y<<2)|0;v=v+E|0;i=i+E|0}}}if(!f){h=T;return}w=c>>>2;S=(w|0)==0;_=16-c|0;y=w<<2;a=A+(l+2<<2)|0;r=A+20|0;while(1){if(S)i=a;else{i=a+(y<<2)|0;g=t;d=r;u=s[r+-4>>2]|0;p=s[r+-8>>2]|0;m=s[r+-12>>2]|0;b=s[r+-16>>2]|0;e=s[r+-20>>2]|0;v=w;while(1){l=b+u|0;c=b;b=s[d>>2]|0;n[g>>0]=((o[(e+512-l-(l<<2)+b+((m+p|0)*20|0)>>10)+3984>>0]|0)+1+(o[((s[a>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;l=b+m|0;e=m;m=s[d+4>>2]|0;n[g+1>>0]=((o[(c+512-l-(l<<2)+m+((p+u|0)*20|0)>>10)+3984>>0]|0)+1+(o[((s[a+4>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;l=m+p|0;c=p;p=s[d+8>>2]|0;n[g+2>>0]=((o[(e+512-l-(l<<2)+p+((b+u|0)*20|0)>>10)+3984>>0]|0)+1+(o[((s[a+8>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;l=p+u|0;e=s[d+12>>2]|0;n[g+3>>0]=((o[(c+512-l-(l<<2)+e+((m+b|0)*20|0)>>10)+3984>>0]|0)+1+(o[((s[a+12>>2]|0)+16>>5)+3984>>0]|0)|0)>>>1;v=v+-1|0;if(!v)break;else{l=u;g=g+4|0;a=a+16|0;d=d+16|0;u=e;e=l}}t=t+y|0;r=r+(y<<2)|0}f=f+-1|0;if(!f)break;else{t=t+_|0;a=i+20|0;r=r+20|0}}h=T;return}function Ne(e,t,i,n,o,a,u,c,f){e=e|0;t=t|0;i=i|0;n=n|0;o=o|0;a=a|0;u=u|0;c=c|0;f=f|0;var l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0;E=h;b=e+((u<<4)+a)|0;_=r[t>>1]|0;S=t+2|0;y=r[S>>1]|0;g=i+4|0;m=s[g>>2]<<4;v=i+8|0;p=s[v>>2]<<4;n=a+n|0;l=n+(_>>2)|0;o=u+o|0;d=o+(y>>2)|0;do{switch(s[6800+((_&3)<<4)+((y&3)<<2)>>2]|0){case 10:{Fe(s[i>>2]|0,b,l+-2|0,d+-2|0,m,p,c,f);break}case 12:{Ue(s[i>>2]|0,b,l+-2|0,d,m,p,c,f,1);break}case 5:{Pe(s[i>>2]|0,b,l+-2|0,d+-2|0,m,p,c,f,0);break}case 7:{Pe(s[i>>2]|0,b,l+-2|0,d+-2|0,m,p,c,f,2);break}case 9:{Oe(s[i>>2]|0,b,l+-2|0,d+-2|0,m,p,c,f,0);break}case 0:{Ce(s[i>>2]|0,b,l,d,m,p,c,f,16);break}case 4:{Ue(s[i>>2]|0,b,l+-2|0,d,m,p,c,f,0);break}case 1:{Me(s[i>>2]|0,b,l,d+-2|0,m,p,c,f,0);break}case 14:{Le(s[i>>2]|0,b,l+-2|0,d+-2|0,m,p,c,f,1);break}case 3:{Me(s[i>>2]|0,b,l,d+-2|0,m,p,c,f,1);break}case 8:{Ie(s[i>>2]|0,b,l+-2|0,d,m,p,c,f);break}case 2:{Be(s[i>>2]|0,b,l,d+-2|0,m,p,c,f);break}case 6:{Le(s[i>>2]|0,b,l+-2|0,d+-2|0,m,p,c,f,0);break}case 11:{Oe(s[i>>2]|0,b,l+-2|0,d+-2|0,m,p,c,f,1);break}case 13:{Pe(s[i>>2]|0,b,l+-2|0,d+-2|0,m,p,c,f,1);break}default:Pe(s[i>>2]|0,b,l+-2|0,d+-2|0,m,p,c,f,3)}}while(0);_=(a>>>1)+256+(u>>>1<<3)|0;w=e+_|0;y=s[i>>2]|0;l=s[g>>2]|0;u=s[v>>2]|0;v=l<<3;g=u<<3;m=r[t>>1]|0;i=(m>>3)+(n>>>1)|0;b=r[S>>1]|0;p=(b>>3)+(o>>>1)|0;m=m&7;b=b&7;o=c>>>1;a=f>>>1;u=ee(l<<8,u)|0;n=y+u|0;l=(m|0)!=0;d=(b|0)!=0;if(l&d){De(n,w,i,p,v,g,m,b,o,a);h=E;return}if(l){Te(n,w,i,p,v,g,m,o,a);h=E;return}if(d){Re(n,w,i,p,v,g,b,o,a);h=E;return}else{Ce(n,w,i,p,v,g,o,a,8);Ce(y+((ee(g,v)|0)+u)|0,e+(_+64)|0,i,p,v,g,o,a,8);h=E;return}}function je(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var o=0,a=0,u=0;u=h;if(i){bn(t|0,n[e>>0]|0,i|0)|0;t=t+i|0}if(r){a=t+r|0;o=r;i=e;while(1){n[t>>0]=n[i>>0]|0;o=o+-1|0;if(!o)break;else{t=t+1|0;i=i+1|0}}t=a;e=e+r|0}if(!s){h=u;return}bn(t|0,n[e+-1>>0]|0,s|0)|0;h=u;return}function ze(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;i=h;fn(t,e,n);h=i;return}function He(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0;b=h;r=s[e+40>>2]|0;if(r){a=s[e>>2]|0;c=e+32|0;u=0;do{if(((s[a+(u*40|0)+20>>2]|0)+-1|0)>>>0<2){o=s[a+(u*40|0)+12>>2]|0;if(o>>>0>i>>>0)o=o-(s[c>>2]|0)|0;s[a+(u*40|0)+8>>2]=o}u=u+1|0}while((u|0)!=(r|0))}if(!(s[t>>2]|0)){m=0;h=b;return m|0}o=s[t+4>>2]|0;if(o>>>0>=3){m=0;h=b;return m|0}p=e+32|0;m=e+24|0;d=e+4|0;r=i;l=0;e:while(1){t:do{if(o>>>0<2){c=s[t+(l*12|0)+8>>2]|0;if(!o){o=r-c|0;if((o|0)<0)o=(s[p>>2]|0)+o|0}else{f=c+r|0;o=s[p>>2]|0;o=f-((f|0)<(o|0)?0:o)|0}if(o>>>0>i>>>0)r=o-(s[p>>2]|0)|0;else r=o;u=s[m>>2]|0;if(!u){r=1;o=37;break e}c=s[e>>2]|0;f=0;while(1){a=s[c+(f*40|0)+20>>2]|0;if((a+-1|0)>>>0<2?(s[c+(f*40|0)+8>>2]|0)==(r|0):0){r=o;break t}f=f+1|0;if(f>>>0>=u>>>0){r=1;o=37;break e}}}else{u=s[t+(l*12|0)+12>>2]|0;a=s[m>>2]|0;if(!a){r=1;o=37;break e}c=s[e>>2]|0;o=0;while(1){if((s[c+(o*40|0)+20>>2]|0)==3?(s[c+(o*40|0)+8>>2]|0)==(u|0):0){a=3;f=o;break t}o=o+1|0;if(o>>>0>=a>>>0){r=1;o=37;break e}}}}while(0);if(!((f|0)>-1&a>>>0>1)){r=1;o=37;break}if(l>>>0<n>>>0){c=n;do{u=c;c=c+-1|0;a=s[d>>2]|0;s[a+(u<<2)>>2]=s[a+(c<<2)>>2]}while(c>>>0>l>>>0);c=s[e>>2]|0}s[(s[d>>2]|0)+(l<<2)>>2]=c+(f*40|0);l=l+1|0;if(l>>>0<=n>>>0){o=l;c=l;do{u=s[d>>2]|0;a=s[u+(o<<2)>>2]|0;if((a|0)!=((s[e>>2]|0)+(f*40|0)|0)){s[u+(c<<2)>>2]=a;c=c+1|0}o=o+1|0}while(o>>>0<=n>>>0)}o=s[t+(l*12|0)+4>>2]|0;if(o>>>0>=3){r=0;o=37;break}}if((o|0)==37){h=b;return r|0}return 0}function Ve(e,t,i,n,r,o,a,u){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;a=a|0;u=u|0;var c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0,B=0,M=0,I=0,U=0,P=0,F=0;F=h;U=s[i>>2]|0;P=s[e+8>>2]|0;if((U|0)!=(s[P>>2]|0)){R=1;h=F;return R|0}T=e+52|0;s[T>>2]=0;M=s[e+56>>2]|0;p=(M|0)==0;I=p&1;do{if(!t){s[P+20>>2]=0;s[P+12>>2]=n;s[P+8>>2]=n;s[P+16>>2]=r;s[P+24>>2]=I;if(p){i=e+44|0;s[i>>2]=(s[i>>2]|0)+1;i=0;v=0}else{i=M;v=0}}else{if(o){c=e+20|0;s[c>>2]=0;f=e+16|0;s[f>>2]=0;v=s[e>>2]|0;g=e+44|0;b=0;do{m=v+(b*40|0)+20|0;if((s[m>>2]|0)!=0?(s[m>>2]=0,(s[v+(b*40|0)+24>>2]|0)==0):0)s[g>>2]=(s[g>>2]|0)+-1;b=b+1|0}while((b|0)!=16);e:do{if(p){d=s[e+28>>2]|0;l=e+12|0;b=0;while(1){n=0;m=2147483647;p=0;do{if(s[v+(n*40|0)+24>>2]|0){C=s[v+(n*40|0)+16>>2]|0;R=(C|0)<(m|0);m=R?C:m;p=R?v+(n*40|0)|0:p}n=n+1|0}while(n>>>0<=d>>>0);if(!p){i=0;break e}R=s[l>>2]|0;s[R+(b<<4)>>2]=s[p>>2];s[R+(b<<4)+12>>2]=s[p+36>>2];s[R+(b<<4)+4>>2]=s[p+28>>2];s[R+(b<<4)+8>>2]=s[p+32>>2];b=b+1|0;s[f>>2]=b;s[p+24>>2]=0;if(s[p+20>>2]|0)continue;s[g>>2]=(s[g>>2]|0)+-1}}else i=M}while(0);m=e+40|0;s[m>>2]=0;p=e+36|0;s[p>>2]=65535;s[e+48>>2]=0;if(!(s[t>>2]|i))i=0;else{s[f>>2]=0;s[c>>2]=0}v=(s[t+4>>2]|0)==0;s[P+20>>2]=v?2:3;s[p>>2]=v?65535:0;s[P+12>>2]=0;s[P+8>>2]=0;s[P+16>>2]=0;s[P+24>>2]=I;s[g>>2]=1;s[m>>2]=1;v=0;break}if(!(s[t+8>>2]|0)){i=e+40|0;b=s[i>>2]|0;m=s[e+24>>2]|0;if(b>>>0>=m>>>0)if(b){f=s[e>>2]|0;l=0;p=-1;d=0;do{if(((s[f+(l*40|0)+20>>2]|0)+-1|0)>>>0<2){R=s[f+(l*40|0)+8>>2]|0;C=(R|0)<(d|0)|(p|0)==-1;p=C?l:p;d=C?R:d}l=l+1|0}while((l|0)!=(b|0));if((p|0)>-1){b=b+-1|0;s[f+(p*40|0)+20>>2]=0;s[i>>2]=b;if(!(s[f+(p*40|0)+24>>2]|0)){i=e+44|0;s[i>>2]=(s[i>>2]|0)+-1;i=M;d=0}else{i=M;d=0}}else{i=M;d=1}}else{b=0;i=M;d=1}else{i=M;d=0}}else{D=e+24|0;C=e+40|0;w=e+44|0;E=e+36|0;A=e+48|0;_=e+28|0;x=e+16|0;k=e+12|0;v=M;i=M;y=0;S=0;e:while(1){switch(s[t+(y*20|0)+12>>2]|0){case 2:{f=s[t+(y*20|0)+20>>2]|0;l=s[D>>2]|0;if(!l){d=1;break e}d=s[e>>2]|0;g=0;while(1){c=d+(g*40|0)+20|0;if((s[c>>2]|0)==3?(s[d+(g*40|0)+8>>2]|0)==(f|0):0)break;g=g+1|0;if(g>>>0>=l>>>0){d=1;break e}}if((g|0)<0){d=1;break e}s[c>>2]=0;s[C>>2]=(s[C>>2]|0)+-1;if(!(s[d+(g*40|0)+24>>2]|0)){s[w>>2]=(s[w>>2]|0)+-1;g=S}else g=S;break}case 4:{f=s[t+(y*20|0)+28>>2]|0;s[E>>2]=f;l=s[D>>2]|0;if(!l)g=S;else{d=s[e>>2]|0;g=f;p=0;do{c=d+(p*40|0)+20|0;do{if((s[c>>2]|0)==3){if((s[d+(p*40|0)+8>>2]|0)>>>0<=f>>>0)if((g|0)==65535)g=65535;else break;s[c>>2]=0;s[C>>2]=(s[C>>2]|0)+-1;if(!(s[d+(p*40|0)+24>>2]|0))s[w>>2]=(s[w>>2]|0)+-1}}while(0);p=p+1|0}while((p|0)!=(l|0));g=S}break}case 0:{d=0;B=101;break e}case 1:{d=n-(s[t+(y*20|0)+16>>2]|0)|0;f=s[D>>2]|0;if(!f){d=1;break e}l=s[e>>2]|0;g=0;while(1){c=l+(g*40|0)+20|0;if(((s[c>>2]|0)+-1|0)>>>0<2?(s[l+(g*40|0)+8>>2]|0)==(d|0):0)break;g=g+1|0;if(g>>>0>=f>>>0){d=1;break e}}if((g|0)<0){d=1;break e}s[c>>2]=0;s[C>>2]=(s[C>>2]|0)+-1;if(!(s[l+(g*40|0)+24>>2]|0)){s[w>>2]=(s[w>>2]|0)+-1;g=S}else g=S;break}case 6:{l=s[t+(y*20|0)+24>>2]|0;g=s[E>>2]|0;if((g|0)==65535|g>>>0<l>>>0){d=1;B=101;break e}v=s[D>>2]|0;t:do{if(v){f=s[e>>2]|0;g=0;while(1){c=f+(g*40|0)+20|0;if((s[c>>2]|0)==3?(s[f+(g*40|0)+8>>2]|0)==(l|0):0)break;g=g+1|0;if(g>>>0>=v>>>0){B=88;break t}}s[c>>2]=0;c=(s[C>>2]|0)+-1|0;s[C>>2]=c;if(!(s[f+(g*40|0)+24>>2]|0)){s[w>>2]=(s[w>>2]|0)+-1;g=c}else g=c}else{v=0;B=88}}while(0);if((B|0)==88){B=0;g=s[C>>2]|0}if(g>>>0>=v>>>0){d=1;B=101;break e}s[P+12>>2]=n;s[P+8>>2]=l;s[P+16>>2]=r;s[P+20>>2]=3;s[P+24>>2]=I;s[C>>2]=g+1;s[w>>2]=(s[w>>2]|0)+1;v=M;i=M;g=1;break}case 3:{g=s[t+(y*20|0)+16>>2]|0;d=s[t+(y*20|0)+24>>2]|0;c=s[E>>2]|0;if((c|0)==65535|c>>>0<d>>>0){d=1;break e}p=s[D>>2]|0;if(!p){d=1;break e}m=s[e>>2]|0;c=0;while(1){l=m+(c*40|0)+20|0;if((s[l>>2]|0)==3?(s[m+(c*40|0)+8>>2]|0)==(d|0):0){B=47;break}f=c+1|0;if(f>>>0<p>>>0)c=f;else break}if((B|0)==47?(B=0,s[l>>2]=0,s[C>>2]=(s[C>>2]|0)+-1,(s[m+(c*40|0)+24>>2]|0)==0):0)s[w>>2]=(s[w>>2]|0)+-1;l=n-g|0;g=0;while(1){f=m+(g*40|0)+20|0;c=s[f>>2]|0;if((c+-1|0)>>>0<2?(R=m+(g*40|0)+8|0,(s[R>>2]|0)==(l|0)):0)break;g=g+1|0;if(g>>>0>=p>>>0){d=1;break e}}if(!((g|0)>-1&c>>>0>1)){d=1;break e}s[f>>2]=3;s[R>>2]=d;g=S;break}case 5:{d=s[e>>2]|0;b=0;do{m=d+(b*40|0)+20|0;if((s[m>>2]|0)!=0?(s[m>>2]=0,(s[d+(b*40|0)+24>>2]|0)==0):0)s[w>>2]=(s[w>>2]|0)+-1;b=b+1|0}while((b|0)!=16);t:do{if(!i){f=s[_>>2]|0;l=v;while(1){i=0;g=2147483647;c=0;do{if(s[d+(i*40|0)+24>>2]|0){p=s[d+(i*40|0)+16>>2]|0;n=(p|0)<(g|0);g=n?p:g;c=n?d+(i*40|0)|0:c}i=i+1|0}while(i>>>0<=f>>>0);if(!c){v=l;i=0;break t}g=s[x>>2]|0;i=s[k>>2]|0;s[i+(g<<4)>>2]=s[c>>2];s[i+(g<<4)+12>>2]=s[c+36>>2];s[i+(g<<4)+4>>2]=s[c+28>>2];s[i+(g<<4)+8>>2]=s[c+32>>2];s[x>>2]=g+1;s[c+24>>2]=0;if(!(s[c+20>>2]|0))s[w>>2]=(s[w>>2]|0)+-1;if(!l)l=0;else{v=l;i=l;break}}}}while(0);s[C>>2]=0;s[E>>2]=65535;s[A>>2]=0;s[T>>2]=1;n=0;g=S;break}default:{d=1;break e}}y=y+1|0;S=g}if(S){v=d;break}b=s[C>>2]|0;m=s[D>>2]|0}if(b>>>0<m>>>0){s[P+12>>2]=n;s[P+8>>2]=n;s[P+16>>2]=r;s[P+20>>2]=2;s[P+24>>2]=I;v=e+44|0;s[v>>2]=(s[v>>2]|0)+1;s[e+40>>2]=b+1;v=d}else v=1}}while(0);s[P+36>>2]=o;s[P+28>>2]=a;s[P+32>>2]=u;if(!i){p=e+44|0;i=s[p>>2]|0;c=s[e+28>>2]|0;if(i>>>0>c>>>0){m=e+16|0;b=e+12|0;do{d=s[e>>2]|0;n=0;f=2147483647;l=0;do{if(s[d+(n*40|0)+24>>2]|0){C=s[d+(n*40|0)+16>>2]|0;R=(C|0)<(f|0);f=R?C:f;l=R?d+(n*40|0)|0:l}n=n+1|0}while(n>>>0<=c>>>0);if((l|0)!=0?(R=s[m>>2]|0,C=s[b>>2]|0,s[C+(R<<4)>>2]=s[l>>2],s[C+(R<<4)+12>>2]=s[l+36>>2],s[C+(R<<4)+4>>2]=s[l+28>>2],s[C+(R<<4)+8>>2]=s[l+32>>2],s[m>>2]=R+1,s[l+24>>2]=0,(s[l+20>>2]|0)==0):0){i=i+-1|0;s[p>>2]=i}}while(i>>>0>c>>>0)}}else{c=e+16|0;R=s[c>>2]|0;C=s[e+12>>2]|0;s[C+(R<<4)>>2]=U;s[C+(R<<4)+12>>2]=o;s[C+(R<<4)+4>>2]=a;s[C+(R<<4)+8>>2]=u;s[c>>2]=R+1;c=s[e+28>>2]|0}Ze(s[e>>2]|0,c+1|0);R=v;h=F;return R|0}function qe(e,t){e=e|0;t=t|0;var i=0,n=0;n=h;if((t>>>0<=16?(i=s[(s[e+4>>2]|0)+(t<<2)>>2]|0,(i|0)!=0):0)?(s[i+20>>2]|0)>>>0>1:0)i=s[i>>2]|0;else i=0;h=n;return i|0}function Ge(e){e=e|0;var t=0;t=(s[e>>2]|0)+((s[e+28>>2]|0)*40|0)|0;s[e+8>>2]=t;return s[t>>2]|0}function Ke(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;var a=0,u=0;u=h;s[e+36>>2]=65535;n=n>>>0>1?n:1;s[e+24>>2]=n;a=e+28|0;s[a>>2]=(o|0)==0?i:n;s[e+32>>2]=r;s[e+56>>2]=o;s[e+44>>2]=0;s[e+40>>2]=0;s[e+48>>2]=0;o=un(680)|0;s[e>>2]=o;if(!o){o=65535;h=u;return o|0}hn(o,0,680);e:do{if((s[a>>2]|0)!=-1){r=t*384|47;n=0;while(1){i=un(r)|0;o=s[e>>2]|0;s[o+(n*40|0)+4>>2]=i;if(!i){o=65535;break}s[o+(n*40|0)>>2]=i+(0-i&15);n=n+1|0;if(n>>>0>=((s[a>>2]|0)+1|0)>>>0)break e}h=u;return o|0}}while(0);o=e+4|0;s[o>>2]=un(68)|0;r=un((s[a>>2]<<4)+16|0)|0;s[e+12>>2]=r;o=s[o>>2]|0;if((o|0)==0|(r|0)==0){o=65535;h=u;return o|0}hn(o,0,68);s[e+20>>2]=0;s[e+16>>2]=0;o=0;h=u;return o|0}function We(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;var a=0,u=0,c=0,f=0;f=h;a=s[e>>2]|0;if(a){c=e+28|0;if((s[c>>2]|0)!=-1){u=0;do{cn(s[a+(u*40|0)+4>>2]|0);a=s[e>>2]|0;s[a+(u*40|0)+4>>2]=0;u=u+1|0}while(u>>>0<((s[c>>2]|0)+1|0)>>>0)}}else a=0;cn(a);s[e>>2]=0;a=e+4|0;cn(s[a>>2]|0);s[a>>2]=0;a=e+12|0;cn(s[a>>2]|0);s[a>>2]=0;a=Ke(e,t,i,n,r,o)|0;h=f;return a|0}function Ye(e){e=e|0;var t=0,i=0,n=0,r=0;r=h;t=s[e>>2]|0;if(t){n=e+28|0;if((s[n>>2]|0)!=-1){i=0;do{cn(s[t+(i*40|0)+4>>2]|0);t=s[e>>2]|0;s[t+(i*40|0)+4>>2]=0;i=i+1|0}while(i>>>0<((s[n>>2]|0)+1|0)>>>0)}}else t=0;cn(t);s[e>>2]=0;t=e+4|0;cn(s[t>>2]|0);s[t>>2]=0;t=e+12|0;cn(s[t>>2]|0);s[t>>2]=0;h=r;return}function $e(e){e=e|0;var t=0,i=0,n=0,r=0;r=h;t=s[e+40>>2]|0;if(!t){h=r;return}n=e+4|0;i=0;do{s[(s[n>>2]|0)+(i<<2)>>2]=(s[e>>2]|0)+(i*40|0);i=i+1|0}while(i>>>0<t>>>0);h=r;return}function Xe(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0;x=h;w=e+16|0;s[w>>2]=0;s[e+20>>2]=0;if(!n){t=0;h=x;return t|0}E=e+48|0;n=s[E>>2]|0;r=(n|0)==(t|0);e:do{if(!r?(_=e+32|0,f=s[_>>2]|0,c=((n+1|0)>>>0)%(f>>>0)|0,(c|0)!=(t|0)):0){y=e+28|0;S=s[(s[e>>2]|0)+((s[y>>2]|0)*40|0)>>2]|0;v=e+40|0;m=e+24|0;p=e+44|0;b=e+56|0;g=e+12|0;d=c;while(1){c=s[v>>2]|0;if(!c)c=0;else{u=s[e>>2]|0;a=0;do{if(((s[u+(a*40|0)+20>>2]|0)+-1|0)>>>0<2){n=s[u+(a*40|0)+12>>2]|0;s[u+(a*40|0)+8>>2]=n-(n>>>0>d>>>0?f:0)}a=a+1|0}while((a|0)!=(c|0))}if(c>>>0>=(s[m>>2]|0)>>>0){if(!c){n=1;o=46;break}r=s[e>>2]|0;a=0;f=-1;u=0;while(1){if(((s[r+(a*40|0)+20>>2]|0)+-1|0)>>>0<2){n=s[r+(a*40|0)+8>>2]|0;l=(n|0)<(u|0)|(f|0)==-1;o=l?a:f;u=l?n:u}else o=f;a=a+1|0;if((a|0)==(c|0))break;else f=o}if((o|0)<=-1){n=1;o=46;break}f=c+-1|0;s[r+(o*40|0)+20>>2]=0;s[v>>2]=f;if(!(s[r+(o*40|0)+24>>2]|0)){s[p>>2]=(s[p>>2]|0)+-1;c=f}else c=f}f=s[p>>2]|0;l=s[y>>2]|0;if(f>>>0>=l>>>0){n=(s[b>>2]|0)==0;do{if(n){o=s[e>>2]|0;r=0;u=2147483647;a=0;do{if(s[o+(r*40|0)+24>>2]|0){A=s[o+(r*40|0)+16>>2]|0;k=(A|0)<(u|0);u=k?A:u;a=k?o+(r*40|0)|0:a}r=r+1|0}while(r>>>0<=l>>>0);if((a|0)!=0?(r=s[w>>2]|0,o=s[g>>2]|0,s[o+(r<<4)>>2]=s[a>>2],s[o+(r<<4)+12>>2]=s[a+36>>2],s[o+(r<<4)+4>>2]=s[a+28>>2],s[o+(r<<4)+8>>2]=s[a+32>>2],s[w>>2]=r+1,s[a+24>>2]=0,(s[a+20>>2]|0)==0):0){f=f+-1|0;s[p>>2]=f}}}while(f>>>0>=l>>>0)}n=s[e>>2]|0;s[n+(l*40|0)+20>>2]=1;s[n+(l*40|0)+12>>2]=d;s[n+(l*40|0)+8>>2]=d;s[n+(l*40|0)+16>>2]=0;s[n+(l*40|0)+24>>2]=0;s[p>>2]=f+1;s[v>>2]=c+1;Ze(n,l+1|0);f=s[_>>2]|0;d=((d+1|0)>>>0)%(f>>>0)|0;if((d|0)==(t|0)){o=31;break}}if((o|0)==31){o=s[w>>2]|0;if(!o){o=41;break}n=s[g>>2]|0;a=s[y>>2]|0;u=s[e>>2]|0;f=u+(a*40|0)|0;c=s[f>>2]|0;r=0;while(1){if((s[n+(r<<4)>>2]|0)==(c|0))break;r=r+1|0;if(r>>>0>=o>>>0){o=41;break e}}if(!a){o=41;break}else n=0;while(1){r=u+(n*40|0)|0;n=n+1|0;if((s[r>>2]|0)==(S|0))break;if(n>>>0>=a>>>0){o=41;break e}}s[r>>2]=c;s[f>>2]=S;o=41;break}else if((o|0)==46){h=x;return n|0}}else o=39}while(0);if((o|0)==39)if(i)if(r){t=1;h=x;return t|0}else o=41;do{if((o|0)==41){if(!i){n=s[E>>2]|0;break}s[E>>2]=t;t=0;h=x;return t|0}}while(0);if((n|0)==(t|0)){t=0;h=x;return t|0}e=s[e+32>>2]|0;s[E>>2]=((t+-1+e|0)>>>0)%(e>>>0)|0;t=0;h=x;return t|0}function Qe(e){e=e|0;var t=0,i=0,n=0;n=h;i=e+20|0;t=s[i>>2]|0;if(t>>>0>=(s[e+16>>2]|0)>>>0){t=0;h=n;return t|0}e=s[e+12>>2]|0;s[i>>2]=t+1;t=e+(t<<4)|0;h=n;return t|0}function Je(e){e=e|0;var t=0,i=0,n=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0;c=h;r=s[e>>2]|0;if(!r){h=c;return}s[e+60>>2]=1;if(s[e+56>>2]|0){h=c;return}o=s[e+28>>2]|0;a=e+16|0;u=e+12|0;n=e+44|0;e=0;t=2147483647;i=0;while(1){if(s[r+(e*40|0)+24>>2]|0){l=s[r+(e*40|0)+16>>2]|0;f=(l|0)<(t|0);t=f?l:t;i=f?r+(e*40|0)|0:i}e=e+1|0;if(e>>>0<=o>>>0)continue;if(!i)break;f=s[a>>2]|0;t=s[u>>2]|0;s[t+(f<<4)>>2]=s[i>>2];s[t+(f<<4)+12>>2]=s[i+36>>2];s[t+(f<<4)+4>>2]=s[i+28>>2];s[t+(f<<4)+8>>2]=s[i+32>>2];s[a>>2]=f+1;s[i+24>>2]=0;if(s[i+20>>2]|0){e=0;t=2147483647;i=0;continue}s[n>>2]=(s[n>>2]|0)+-1;e=0;t=2147483647;i=0}h=c;return}function Ze(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0;w=h;h=h+32|0;b=w+16|0;y=w;p=7;do{if(p>>>0<t>>>0){d=p;do{l=e+(d*40|0)|0;f=s[l>>2]|0;l=s[l+4>>2]|0;m=s[e+(d*40|0)+8>>2]|0;c=e+(d*40|0)+12|0;g=s[c+4>>2]|0;v=b;s[v>>2]=s[c>>2];s[v+4>>2]=g;v=s[e+(d*40|0)+20>>2]|0;g=s[e+(d*40|0)+24>>2]|0;c=e+(d*40|0)+28|0;s[y+0>>2]=s[c+0>>2];s[y+4>>2]=s[c+4>>2];s[y+8>>2]=s[c+8>>2];e:do{if(d>>>0<p>>>0){i=d;_=8}else{r=(g|0)==0;u=v+-1|0;c=u>>>0<2;t:do{if(!v){n=d;while(1){i=n-p|0;if(s[e+(i*40|0)+20>>2]|0){i=n;break t}if((s[e+(i*40|0)+24>>2]|0)!=0|r){i=n;break t}n=e+(n*40|0)+0|0;o=e+(i*40|0)+0|0;a=n+40|0;do{s[n>>2]=s[o>>2];n=n+4|0;o=o+4|0}while((n|0)<(a|0));if(i>>>0<p>>>0){_=8;break e}else n=i}}else{i=d;while(1){r=i-p|0;n=s[e+(r*40|0)+20>>2]|0;do{if(n){n=n+-1|0;if((n|u)>>>0<2){n=s[e+(r*40|0)+8>>2]|0;if((n|0)>(m|0))break t;i=e+(i*40|0)|0;if((n|0)<(m|0))break;else break e}if(n>>>0<2)break t;if(!c?(s[e+(r*40|0)+8>>2]|0)<=(m|0):0)break t;else _=16}else _=16}while(0);if((_|0)==16){_=0;i=e+(i*40|0)|0}n=i+0|0;o=e+(r*40|0)+0|0;a=n+40|0;do{s[n>>2]=s[o>>2];n=n+4|0;o=o+4|0}while((n|0)<(a|0));if(r>>>0<p>>>0){i=r;_=8;break e}else i=r}}}while(0);i=e+(i*40|0)|0}}while(0);if((_|0)==8){_=0;i=e+(i*40|0)|0}c=i;s[c>>2]=f;s[c+4>>2]=l;s[i+8>>2]=m;c=b;f=s[c+4>>2]|0;l=i+12|0;s[l>>2]=s[c>>2];s[l+4>>2]=f;s[i+20>>2]=v;s[i+24>>2]=g;l=i+28|0;s[l+0>>2]=s[y+0>>2];s[l+4>>2]=s[y+4>>2];s[l+8>>2]=s[y+8>>2];d=d+1|0}while((d|0)!=(t|0))}p=p>>>1}while((p|0)!=0);h=w;return}function et(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0;f=h;n=s[e+4>>2]|0;r=s[e+16>>2]|0;o=s[e+20>>2]|0;u=n<<2;c=t+256|0;a=16;e=s[e+12>>2]|0;i=t;while(1){l=s[i+4>>2]|0;s[e>>2]=s[i>>2];s[e+4>>2]=l;l=s[i+12>>2]|0;s[e+8>>2]=s[i+8>>2];s[e+12>>2]=l;a=a+-1|0;if(!a)break;else{e=e+(u<<2)|0;i=i+16|0}}u=n<<1&2147483646;a=s[t+260>>2]|0;s[r>>2]=s[c>>2];s[r+4>>2]=a;c=s[t+268>>2]|0;s[r+(u<<2)>>2]=s[t+264>>2];s[r+((u|1)<<2)>>2]=c;c=n<<2;a=s[t+276>>2]|0;s[r+(c<<2)>>2]=s[t+272>>2];s[r+((c|1)<<2)>>2]=a;c=c+u|0;a=s[t+284>>2]|0;s[r+(c<<2)>>2]=s[t+280>>2];s[r+((c|1)<<2)>>2]=a;c=c+u|0;a=s[t+292>>2]|0;s[r+(c<<2)>>2]=s[t+288>>2];s[r+((c|1)<<2)>>2]=a;c=c+u|0;a=s[t+300>>2]|0;s[r+(c<<2)>>2]=s[t+296>>2];s[r+((c|1)<<2)>>2]=a;c=c+u|0;a=s[t+308>>2]|0;s[r+(c<<2)>>2]=s[t+304>>2];s[r+((c|1)<<2)>>2]=a;c=c+u|0;a=s[t+316>>2]|0;s[r+(c<<2)>>2]=s[t+312>>2];s[r+((c|1)<<2)>>2]=a;c=s[t+324>>2]|0;s[o>>2]=s[t+320>>2];s[o+4>>2]=c;c=s[t+332>>2]|0;s[o+(u<<2)>>2]=s[t+328>>2];s[o+((u|1)<<2)>>2]=c;c=n<<2;a=s[t+340>>2]|0;s[o+(c<<2)>>2]=s[t+336>>2];s[o+((c|1)<<2)>>2]=a;c=c+u|0;a=s[t+348>>2]|0;s[o+(c<<2)>>2]=s[t+344>>2];s[o+((c|1)<<2)>>2]=a;c=c+u|0;a=s[t+356>>2]|0;s[o+(c<<2)>>2]=s[t+352>>2];s[o+((c|1)<<2)>>2]=a;c=c+u|0;a=s[t+364>>2]|0;s[o+(c<<2)>>2]=s[t+360>>2];s[o+((c|1)<<2)>>2]=a;c=c+u|0;a=s[t+372>>2]|0;s[o+(c<<2)>>2]=s[t+368>>2];s[o+((c|1)<<2)>>2]=a;c=c+u|0;u=s[t+380>>2]|0;s[o+(c<<2)>>2]=s[t+376>>2];s[o+((c|1)<<2)>>2]=u;h=f;return}function tt(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0;x=h;v=s[e+4>>2]|0;g=ee(s[e+8>>2]|0,v)|0;S=(t>>>0)%(v>>>0)|0;E=s[e>>2]|0;_=t-S|0;e=(_<<8)+(S<<4)|0;w=g<<8;S=S<<3;m=v<<4;p=v<<2&1073741820;f=p<<1;l=f+p|0;d=0;do{c=s[3344+(d<<2)>>2]|0;u=s[3408+(d<<2)>>2]|0;t=(u<<4)+c|0;a=i+t|0;u=e+c+(ee(u,m)|0)|0;c=E+u|0;b=s[r+(d<<6)>>2]|0;if((b|0)==16777215){u=s[i+(t+16)>>2]|0;s[c>>2]=s[a>>2];s[c+(p<<2)>>2]=u;u=s[i+(t+48)>>2]|0;s[c+(f<<2)>>2]=s[i+(t+32)>>2];s[c+(l<<2)>>2]=u}else{A=o[i+(t+1)>>0]|0;k=s[r+(d<<6)+4>>2]|0;n[c>>0]=n[3472+(b+512+(o[a>>0]|0))>>0]|0;b=o[i+(t+2)>>0]|0;y=s[r+(d<<6)+8>>2]|0;n[E+(u+1)>>0]=n[3472+((A|512)+k)>>0]|0;c=o[i+(t+3)>>0]|0;a=s[r+(d<<6)+12>>2]|0;n[E+(u+2)>>0]=n[3472+(y+512+b)>>0]|0;n[E+(u+3)>>0]=n[3472+(a+512+c)>>0]|0;c=u+m|0;a=o[i+(t+17)>>0]|0;u=s[r+(d<<6)+20>>2]|0;n[E+c>>0]=n[3472+((s[r+(d<<6)+16>>2]|0)+512+(o[i+(t+16)>>0]|0))>>0]|0;b=o[i+(t+18)>>0]|0;y=s[r+(d<<6)+24>>2]|0;n[E+(c+1)>>0]=n[3472+((a|512)+u)>>0]|0;u=o[i+(t+19)>>0]|0;a=s[r+(d<<6)+28>>2]|0;n[E+(c+2)>>0]=n[3472+(y+512+b)>>0]|0;n[E+(c+3)>>0]=n[3472+(a+512+u)>>0]|0;c=c+m|0;u=o[i+(t+33)>>0]|0;a=s[r+(d<<6)+36>>2]|0;n[E+c>>0]=n[3472+((s[r+(d<<6)+32>>2]|0)+512+(o[i+(t+32)>>0]|0))>>0]|0;b=o[i+(t+34)>>0]|0;y=s[r+(d<<6)+40>>2]|0;n[E+(c+1)>>0]=n[3472+((u|512)+a)>>0]|0;a=o[i+(t+35)>>0]|0;u=s[r+(d<<6)+44>>2]|0;n[E+(c+2)>>0]=n[3472+(y+512+b)>>0]|0;n[E+(c+3)>>0]=n[3472+(u+512+a)>>0]|0;c=c+m|0;a=o[i+(t+49)>>0]|0;u=s[r+(d<<6)+52>>2]|0;n[E+c>>0]=n[3472+((s[r+(d<<6)+48>>2]|0)+512+(o[i+(t+48)>>0]|0))>>0]|0;b=o[i+(t+50)>>0]|0;y=s[r+(d<<6)+56>>2]|0;n[E+(c+1)>>0]=n[3472+((a|512)+u)>>0]|0;u=o[i+(t+51)>>0]|0;a=s[r+(d<<6)+60>>2]|0;n[E+(c+2)>>0]=n[3472+(y+512+b)>>0]|0;n[E+(c+3)>>0]=n[3472+(a+512+u)>>0]|0}d=d+1|0}while((d|0)!=16);y=g<<6;g=v<<3&2147483640;v=i+256|0;i=i+320|0;f=S+w+(_<<6)|0;m=g>>>2;u=g>>>1;c=u+m|0;p=16;do{b=p&3;a=s[3344+(b<<2)>>2]|0;b=s[3408+(b<<2)>>2]|0;t=p>>>0>19;l=t?i:v;d=(b<<3)+a|0;e=l+d|0;b=f+(t?y:0)+a+(ee(b,g)|0)|0;a=E+b|0;t=s[r+(p<<6)>>2]|0;if((t|0)==16777215){k=s[l+(d+8)>>2]|0;s[a>>2]=s[e>>2];s[a+(m<<2)>>2]=k;k=s[l+(d+24)>>2]|0;s[a+(u<<2)>>2]=s[l+(d+16)>>2];s[a+(c<<2)>>2]=k}else{w=o[l+(d+1)>>0]|0;k=s[r+(p<<6)+4>>2]|0;n[a>>0]=n[3472+(t+512+(o[e>>0]|0))>>0]|0;S=o[l+(d+2)>>0]|0;_=s[r+(p<<6)+8>>2]|0;n[E+(b+1)>>0]=n[3472+((w|512)+k)>>0]|0;k=o[l+(d+3)>>0]|0;w=s[r+(p<<6)+12>>2]|0;n[E+(b+2)>>0]=n[3472+(_+512+S)>>0]|0;n[E+(b+3)>>0]=n[3472+(w+512+k)>>0]|0;k=b+g|0;w=o[l+(d+9)>>0]|0;S=s[r+(p<<6)+20>>2]|0;n[E+k>>0]=n[3472+((s[r+(p<<6)+16>>2]|0)+512+(o[l+(d+8)>>0]|0))>>0]|0;_=o[l+(d+10)>>0]|0;b=s[r+(p<<6)+24>>2]|0;n[E+(k+1)>>0]=n[3472+((w|512)+S)>>0]|0;S=o[l+(d+11)>>0]|0;w=s[r+(p<<6)+28>>2]|0;n[E+(k+2)>>0]=n[3472+(b+512+_)>>0]|0;n[E+(k+3)>>0]=n[3472+(w+512+S)>>0]|0;k=k+g|0;S=o[l+(d+17)>>0]|0;w=s[r+(p<<6)+36>>2]|0;n[E+k>>0]=n[3472+((s[r+(p<<6)+32>>2]|0)+512+(o[l+(d+16)>>0]|0))>>0]|0;_=o[l+(d+18)>>0]|0;b=s[r+(p<<6)+40>>2]|0;n[E+(k+1)>>0]=n[3472+((S|512)+w)>>0]|0;w=o[l+(d+19)>>0]|0;S=s[r+(p<<6)+44>>2]|0;n[E+(k+2)>>0]=n[3472+(b+512+_)>>0]|0;n[E+(k+3)>>0]=n[3472+(S+512+w)>>0]|0;k=k+g|0;w=o[l+(d+25)>>0]|0;S=s[r+(p<<6)+52>>2]|0;n[E+k>>0]=n[3472+((s[r+(p<<6)+48>>2]|0)+512+(o[l+(d+24)>>0]|0))>>0]|0;_=o[l+(d+26)>>0]|0;b=s[r+(p<<6)+56>>2]|0;n[E+(k+1)>>0]=n[3472+((w|512)+S)>>0]|0;S=o[l+(d+27)>>0]|0;w=s[r+(p<<6)+60>>2]|0;n[E+(k+2)>>0]=n[3472+(b+512+_)>>0]|0;n[E+(k+3)>>0]=n[3472+(w+512+S)>>0]|0}p=p+1|0}while((p|0)!=24);h=x;return}function it(e,t){e=e|0;t=t|0;var i=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0,B=0,M=0,I=0,U=0,P=0,F=0,O=0,L=0,N=0,j=0,z=0,H=0,V=0,q=0,G=0,K=0,W=0,Y=0,$=0,X=0,Q=0,J=0,Z=0,te=0,ie=0,ne=0,re=0,se=0,oe=0,ae=0,ue=0,ce=0,fe=0,he=0,le=0,de=0,pe=0,me=0,be=0,ve=0,ge=0,ye=0,_e=0,we=0,Se=0,Ee=0,xe=0,ke=0,Ae=0,Te=0,Ce=0,Re=0,De=0,Be=0,Me=0,Ie=0,Ue=0,Pe=0,Fe=0,Oe=0,Le=0,Ne=0,je=0,ze=0,He=0,Ve=0,qe=0,Ge=0,Ke=0,We=0,Ye=0,$e=0,Xe=0,Qe=0,Je=0,Ze=0,et=0;et=h;h=h+176|0;ue=et+40|0;Oe=et;re=s[e+4>>2]|0;fe=e+8|0;We=s[fe>>2]|0;i=ee(We,re)|0;if(!We){h=et;return}Xe=ue+24|0;Qe=ue+16|0;Je=ue+8|0;he=ue+100|0;le=ue+68|0;de=ue+36|0;pe=ue+4|0;Le=ue+120|0;Ne=ue+112|0;je=ue+104|0;ze=ue+96|0;He=ue+88|0;Ve=ue+80|0;qe=ue+72|0;Ge=ue+64|0;Ke=ue+56|0;We=ue+48|0;Ye=ue+40|0;$e=ue+32|0;me=ue+124|0;be=ue+116|0;ve=ue+108|0;ge=ue+92|0;ye=ue+84|0;_e=ue+76|0;we=ue+60|0;Se=ue+52|0;Ee=ue+44|0;xe=ue+28|0;ke=ue+20|0;Ae=ue+12|0;ae=Oe+28|0;ce=Oe+32|0;Fe=Oe+24|0;Re=re<<4;Pe=0-Re|0;Ce=Pe<<1;Ie=ee(re,-48)|0;Ue=re<<5;De=Pe<<2;Me=re*48|0;Te=re<<6;oe=Oe+24|0;se=Oe+12|0;Be=i<<8;te=i<<6;ie=re<<3;Y=Re|4;X=Oe+16|0;J=Oe+20|0;ne=Oe+12|0;$=Oe+4|0;Q=Oe+8|0;K=0;Z=0;W=t;while(1){t=s[W+8>>2]|0;do{if((t|0)!=1){G=W+200|0;d=s[G>>2]|0;do{if(!d)i=1;else{if((t|0)==2?(s[W+4>>2]|0)!=(s[d+4>>2]|0):0){i=1;break}i=5}}while(0);q=W+204|0;f=s[q>>2]|0;do{if(f){if((t|0)==2?(s[W+4>>2]|0)!=(s[f+4>>2]|0):0)break;i=i|2}}while(0);V=(i&2|0)==0;do{if(V){s[Xe>>2]=0;s[Qe>>2]=0;s[Je>>2]=0;s[ue>>2]=0;l=0}else{if((s[W>>2]|0)>>>0<=5?(s[f>>2]|0)>>>0<=5:0){if((r[W+28>>1]|0)==0?(r[f+48>>1]|0)==0:0)if((s[W+116>>2]|0)==(s[f+124>>2]|0)?(T=(r[W+132>>1]|0)-(r[f+172>>1]|0)|0,(((T|0)>-1?T:0-T|0)|0)<=3):0){a=(r[W+134>>1]|0)-(r[f+174>>1]|0)|0;a=(((a|0)>-1?a:0-a|0)|0)>3&1}else a=1;else a=2;s[ue>>2]=a;if((r[W+30>>1]|0)==0?(r[f+50>>1]|0)==0:0)if((s[W+116>>2]|0)==(s[f+124>>2]|0)?(T=(r[W+136>>1]|0)-(r[f+176>>1]|0)|0,(((T|0)>-1?T:0-T|0)|0)<=3):0){u=(r[W+138>>1]|0)-(r[f+178>>1]|0)|0;u=(((u|0)>-1?u:0-u|0)|0)>3&1}else u=1;else u=2;s[Je>>2]=u;if((r[W+36>>1]|0)==0?(r[f+56>>1]|0)==0:0)if((s[W+120>>2]|0)==(s[f+128>>2]|0)?(T=(r[W+148>>1]|0)-(r[f+188>>1]|0)|0,(((T|0)>-1?T:0-T|0)|0)<=3):0){c=(r[W+150>>1]|0)-(r[f+190>>1]|0)|0;c=(((c|0)>-1?c:0-c|0)|0)>3&1}else c=1;else c=2;s[Qe>>2]=c;if((r[W+38>>1]|0)==0?(r[f+58>>1]|0)==0:0)if((s[W+120>>2]|0)==(s[f+128>>2]|0)?(T=(r[W+152>>1]|0)-(r[f+192>>1]|0)|0,(((T|0)>-1?T:0-T|0)|0)<=3):0){t=(r[W+154>>1]|0)-(r[f+194>>1]|0)|0;t=(((t|0)>-1?t:0-t|0)|0)>3&1}else t=1;else t=2;s[Xe>>2]=t;l=(u|a|c|t|0)!=0&1;break}s[Xe>>2]=4;s[Qe>>2]=4;s[Je>>2]=4;s[ue>>2]=4;l=1}}while(0);H=(i&4|0)==0;do{if(H){s[he>>2]=0;s[le>>2]=0;s[de>>2]=0;s[pe>>2]=0;c=s[W>>2]|0}else{c=s[W>>2]|0;if(c>>>0<=5?(s[d>>2]|0)>>>0<=5:0){if((r[W+28>>1]|0)==0?(r[d+38>>1]|0)==0:0)if((s[W+116>>2]|0)==(s[d+120>>2]|0)?(T=(r[W+132>>1]|0)-(r[d+152>>1]|0)|0,(((T|0)>-1?T:0-T|0)|0)<=3):0){u=(r[W+134>>1]|0)-(r[d+154>>1]|0)|0;u=(((u|0)>-1?u:0-u|0)|0)>3&1}else u=1;else u=2;s[pe>>2]=u;if((r[W+32>>1]|0)==0?(r[d+42>>1]|0)==0:0)if((s[W+116>>2]|0)==(s[d+120>>2]|0)?(T=(r[W+140>>1]|0)-(r[d+160>>1]|0)|0,(((T|0)>-1?T:0-T|0)|0)<=3):0){a=(r[W+142>>1]|0)-(r[d+162>>1]|0)|0;a=(((a|0)>-1?a:0-a|0)|0)>3&1}else a=1;else a=2;s[de>>2]=a;if((r[W+44>>1]|0)==0?(r[d+54>>1]|0)==0:0)if((s[W+124>>2]|0)==(s[d+128>>2]|0)?(T=(r[W+164>>1]|0)-(r[d+184>>1]|0)|0,(((T|0)>-1?T:0-T|0)|0)<=3):0){t=(r[W+166>>1]|0)-(r[d+186>>1]|0)|0;t=(((t|0)>-1?t:0-t|0)|0)>3&1}else t=1;else t=2;s[le>>2]=t;if((r[W+48>>1]|0)==0?(r[d+58>>1]|0)==0:0)if((s[W+124>>2]|0)==(s[d+128>>2]|0)?(T=(r[W+172>>1]|0)-(r[d+192>>1]|0)|0,(((T|0)>-1?T:0-T|0)|0)<=3):0){f=(r[W+174>>1]|0)-(r[d+194>>1]|0)|0;f=(((f|0)>-1?f:0-f|0)|0)>3&1}else f=1;else f=2;s[he>>2]=f;if(l)break;l=(a|u|t|f|0)!=0&1;break}s[he>>2]=4;s[le>>2]=4;s[de>>2]=4;s[pe>>2]=4;l=1}}while(0);if(c>>>0<=5){do{if((Nt(c)|0)!=1){t=s[W>>2]|0;if((t|0)==2){S=W+28|0;E=r[W+32>>1]|0;if(!(E<<16>>16))t=(r[S>>1]|0)!=0?2:0;else t=2;s[$e>>2]=t;b=r[W+34>>1]|0;A=b<<16>>16==0;if(A)t=(r[W+30>>1]|0)!=0?2:0;else t=2;s[Ye>>2]=t;i=r[W+40>>1]|0;k=i<<16>>16==0;if(k)f=(r[W+36>>1]|0)!=0?2:0;else f=2;s[We>>2]=f;w=r[W+42>>1]|0;x=w<<16>>16==0;if(x)f=(r[W+38>>1]|0)!=0?2:0;else f=2;s[Ke>>2]=f;a=r[W+48>>1]|0;if(!(a<<16>>16))f=(r[W+44>>1]|0)!=0?2:0;else f=2;s[ze>>2]=f;c=r[W+50>>1]|0;T=c<<16>>16==0;if(T)f=(r[W+46>>1]|0)!=0?2:0;else f=2;s[je>>2]=f;m=r[W+56>>1]|0;t=m<<16>>16==0;if(t)d=(r[W+52>>1]|0)!=0?2:0;else d=2;s[Ne>>2]=d;u=(r[W+58>>1]|0)==0;if(u)d=(r[W+54>>1]|0)!=0?2:0;else d=2;s[Le>>2]=d;v=r[W+44>>1]|0;p=r[W+166>>1]|0;d=r[W+142>>1]|0;do{if(!((v|E)<<16>>16)){_=(r[W+164>>1]|0)-(r[W+140>>1]|0)|0;if((((_|0)>-1?_:0-_|0)|0)>3){d=1;break}_=p-d|0;if((((_|0)>-1?_:0-_|0)|0)>3){d=1;break}d=(s[W+124>>2]|0)!=(s[W+116>>2]|0)&1}else d=2}while(0);s[Ge>>2]=d;g=r[W+46>>1]|0;p=r[W+170>>1]|0;d=r[W+146>>1]|0;do{if(!((g|b)<<16>>16)){_=(r[W+168>>1]|0)-(r[W+144>>1]|0)|0;if((((_|0)>-1?_:0-_|0)|0)>3){p=1;break}_=p-d|0;if((((_|0)>-1?_:0-_|0)|0)>3){p=1;break}p=(s[W+124>>2]|0)!=(s[W+116>>2]|0)&1}else p=2}while(0);s[qe>>2]=p;y=r[W+52>>1]|0;p=r[W+182>>1]|0;d=r[W+158>>1]|0;do{if(!((y|i)<<16>>16)){_=(r[W+180>>1]|0)-(r[W+156>>1]|0)|0;if((((_|0)>-1?_:0-_|0)|0)>3){p=1;break}_=p-d|0;if((((_|0)>-1?_:0-_|0)|0)>3){p=1;break}p=(s[W+128>>2]|0)!=(s[W+120>>2]|0)&1}else p=2}while(0);s[Ve>>2]=p;_=r[W+54>>1]|0;p=r[W+186>>1]|0;d=r[W+162>>1]|0;do{if(!((_|w)<<16>>16)){w=(r[W+184>>1]|0)-(r[W+160>>1]|0)|0;if((((w|0)>-1?w:0-w|0)|0)>3){p=1;break}w=p-d|0;if((((w|0)>-1?w:0-w|0)|0)>3){p=1;break}p=(s[W+128>>2]|0)!=(s[W+120>>2]|0)&1}else p=2}while(0);s[He>>2]=p;f=r[W+30>>1]|0;if(!(f<<16>>16))p=(r[S>>1]|0)!=0?2:0;else p=2;s[Ae>>2]=p;d=r[W+36>>1]|0;if(!(d<<16>>16))p=f<<16>>16!=0?2:0;else p=2;s[ke>>2]=p;if(!(r[W+38>>1]|0))p=d<<16>>16!=0?2:0;else p=2;s[xe>>2]=p;if(A)d=E<<16>>16!=0?2:0;else d=2;s[Ee>>2]=d;if(k)f=b<<16>>16!=0?2:0;else f=2;s[Se>>2]=f;if(x)f=i<<16>>16!=0?2:0;else f=2;s[we>>2]=f;if(!(g<<16>>16))f=v<<16>>16!=0?2:0;else f=2;s[_e>>2]=f;if(!(y<<16>>16))f=g<<16>>16!=0?2:0;else f=2;s[ye>>2]=f;if(!(_<<16>>16))f=y<<16>>16!=0?2:0;else f=2;s[ge>>2]=f;if(T)a=a<<16>>16!=0?2:0;else a=2;s[ve>>2]=a;if(t)t=c<<16>>16!=0?2:0;else t=2;s[be>>2]=t;if(u)t=m<<16>>16!=0?2:0;else t=2;s[me>>2]=t;break}else if((t|0)==3){u=W+28|0;w=r[W+32>>1]|0;if(!(w<<16>>16))t=(r[u>>1]|0)!=0?2:0;else t=2;s[$e>>2]=t;T=r[W+34>>1]|0;m=T<<16>>16==0;if(m)a=(r[W+30>>1]|0)!=0?2:0;else a=2;s[Ye>>2]=a;k=r[W+40>>1]|0;if(!(k<<16>>16))c=(r[W+36>>1]|0)!=0?2:0;else c=2;s[We>>2]=c;p=r[W+42>>1]|0;a=p<<16>>16==0;if(a)f=(r[W+38>>1]|0)!=0?2:0;else f=2;s[Ke>>2]=f;t=r[W+44>>1]|0;if(!(t<<16>>16))f=w<<16>>16!=0?2:0;else f=2;s[Ge>>2]=f;A=r[W+46>>1]|0;i=A<<16>>16==0;if(i)f=T<<16>>16!=0?2:0;else f=2;s[qe>>2]=f;x=r[W+52>>1]|0;if(!(x<<16>>16))f=k<<16>>16!=0?2:0;else f=2;s[Ve>>2]=f;c=r[W+54>>1]|0;b=c<<16>>16==0;if(b)f=p<<16>>16!=0?2:0;else f=2;s[He>>2]=f;v=r[W+48>>1]|0;if(!(v<<16>>16))d=t<<16>>16!=0?2:0;else d=2;s[ze>>2]=d;E=r[W+50>>1]|0;g=E<<16>>16==0;if(g)d=A<<16>>16!=0?2:0;else d=2;s[je>>2]=d;S=r[W+56>>1]|0;if(!(S<<16>>16))p=x<<16>>16!=0?2:0;else p=2;s[Ne>>2]=p;_=(r[W+58>>1]|0)==0;if(_)p=c<<16>>16!=0?2:0;else p=2;s[Le>>2]=p;y=r[W+30>>1]|0;if(!(y<<16>>16))p=(r[u>>1]|0)!=0?2:0;else p=2;s[Ae>>2]=p;if(!(r[W+38>>1]|0))p=(r[W+36>>1]|0)!=0?2:0;else p=2;s[xe>>2]=p;if(m)d=w<<16>>16!=0?2:0;else d=2;s[Ee>>2]=d;if(a)d=k<<16>>16!=0?2:0;else d=2;s[we>>2]=d;if(i)f=t<<16>>16!=0?2:0;else f=2;s[_e>>2]=f;if(b)f=x<<16>>16!=0?2:0;else f=2;s[ge>>2]=f;if(g)f=v<<16>>16!=0?2:0;else f=2;s[ve>>2]=f;if(_)f=S<<16>>16!=0?2:0;else f=2;s[me>>2]=f;f=r[W+150>>1]|0;c=r[W+138>>1]|0;do{if(!((r[W+36>>1]|y)<<16>>16)){w=(r[W+148>>1]|0)-(r[W+136>>1]|0)|0;if((((w|0)>-1?w:0-w|0)|0)>3){f=1;break}w=f-c|0;if((((w|0)>-1?w:0-w|0)|0)>3){f=1;break}f=(s[W+120>>2]|0)!=(s[W+116>>2]|0)&1}else f=2}while(0);s[ke>>2]=f;f=r[W+158>>1]|0;c=r[W+146>>1]|0;do{if(!((k|T)<<16>>16)){T=(r[W+156>>1]|0)-(r[W+144>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){c=1;break}T=f-c|0;if((((T|0)>-1?T:0-T|0)|0)>3){c=1;break}c=(s[W+120>>2]|0)!=(s[W+116>>2]|0)&1}else c=2}while(0);s[Se>>2]=c;f=r[W+182>>1]|0;c=r[W+170>>1]|0;do{if(!((x|A)<<16>>16)){T=(r[W+180>>1]|0)-(r[W+168>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){t=1;break}T=f-c|0;if((((T|0)>-1?T:0-T|0)|0)>3){t=1;break}t=(s[W+128>>2]|0)!=(s[W+124>>2]|0)&1}else t=2}while(0);s[ye>>2]=t;t=r[W+190>>1]|0;i=r[W+178>>1]|0;do{if(!((S|E)<<16>>16)){T=(r[W+188>>1]|0)-(r[W+176>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){t=1;break}T=t-i|0;if((((T|0)>-1?T:0-T|0)|0)>3){t=1;break}t=(s[W+128>>2]|0)!=(s[W+124>>2]|0)&1}else t=2}while(0);s[be>>2]=t;break}else{F=r[W+32>>1]|0;k=r[W+28>>1]|0;z=r[W+142>>1]|0;b=r[W+134>>1]|0;if(!((k|F)<<16>>16)){T=(r[W+140>>1]|0)-(r[W+132>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3)c=1;else{c=z-b|0;c=(((c|0)>-1?c:0-c|0)|0)>3&1}}else c=2;s[$e>>2]=c;O=r[W+34>>1]|0;x=r[W+30>>1]|0;j=r[W+146>>1]|0;v=r[W+138>>1]|0;if(!((x|O)<<16>>16)){T=(r[W+144>>1]|0)-(r[W+136>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3)f=1;else{f=j-v|0;f=(((f|0)>-1?f:0-f|0)|0)>3&1}}else f=2;s[Ye>>2]=f;L=r[W+40>>1]|0;E=r[W+36>>1]|0;N=r[W+158>>1]|0;g=r[W+150>>1]|0;if(!((E|L)<<16>>16)){T=(r[W+156>>1]|0)-(r[W+148>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3)d=1;else{d=N-g|0;d=(((d|0)>-1?d:0-d|0)|0)>3&1}}else d=2;s[We>>2]=d;d=r[W+42>>1]|0;T=r[W+38>>1]|0;P=r[W+162>>1]|0;A=r[W+154>>1]|0;if(!((T|d)<<16>>16)){S=(r[W+160>>1]|0)-(r[W+152>>1]|0)|0;if((((S|0)>-1?S:0-S|0)|0)>3)p=1;else{p=P-A|0;p=(((p|0)>-1?p:0-p|0)|0)>3&1}}else p=2;s[Ke>>2]=p;R=r[W+44>>1]|0;U=r[W+166>>1]|0;do{if(!((R|F)<<16>>16)){S=(r[W+164>>1]|0)-(r[W+140>>1]|0)|0;if((((S|0)>-1?S:0-S|0)|0)>3)p=1;else{S=U-z|0;if((((S|0)>-1?S:0-S|0)|0)>3){p=1;break}p=(s[W+124>>2]|0)!=(s[W+116>>2]|0)&1}}else p=2}while(0);s[Ge>>2]=p;D=r[W+46>>1]|0;I=r[W+170>>1]|0;do{if(!((D|O)<<16>>16)){S=(r[W+168>>1]|0)-(r[W+144>>1]|0)|0;if((((S|0)>-1?S:0-S|0)|0)>3){p=1;break}S=I-j|0;if((((S|0)>-1?S:0-S|0)|0)>3){p=1;break}p=(s[W+124>>2]|0)!=(s[W+116>>2]|0)&1}else p=2}while(0);s[qe>>2]=p;B=r[W+52>>1]|0;M=r[W+182>>1]|0;do{if(!((B|L)<<16>>16)){S=(r[W+180>>1]|0)-(r[W+156>>1]|0)|0;if((((S|0)>-1?S:0-S|0)|0)>3){p=1;break}S=M-N|0;if((((S|0)>-1?S:0-S|0)|0)>3){p=1;break}p=(s[W+128>>2]|0)!=(s[W+120>>2]|0)&1}else p=2}while(0);s[Ve>>2]=p;i=r[W+54>>1]|0;f=r[W+186>>1]|0;do{if(!((i|d)<<16>>16)){S=(r[W+184>>1]|0)-(r[W+160>>1]|0)|0;if((((S|0)>-1?S:0-S|0)|0)>3){_=1;break}S=f-P|0;if((((S|0)>-1?S:0-S|0)|0)>3){_=1;break}_=(s[W+128>>2]|0)!=(s[W+120>>2]|0)&1}else _=2}while(0);s[He>>2]=_;t=r[W+48>>1]|0;C=r[W+174>>1]|0;do{if(!((t|R)<<16>>16)){S=(r[W+172>>1]|0)-(r[W+164>>1]|0)|0;if((((S|0)>-1?S:0-S|0)|0)>3){_=1;break}_=C-U|0;_=(((_|0)>-1?_:0-_|0)|0)>3&1}else _=2}while(0);s[ze>>2]=_;a=r[W+50>>1]|0;c=r[W+178>>1]|0;do{if(!((a|D)<<16>>16)){S=(r[W+176>>1]|0)-(r[W+168>>1]|0)|0;if((((S|0)>-1?S:0-S|0)|0)>3){_=1;break}_=c-I|0;_=(((_|0)>-1?_:0-_|0)|0)>3&1}else _=2}while(0);s[je>>2]=_;u=r[W+56>>1]|0;m=r[W+190>>1]|0;do{if(!((u|B)<<16>>16)){S=(r[W+188>>1]|0)-(r[W+180>>1]|0)|0;if((((S|0)>-1?S:0-S|0)|0)>3){_=1;break}_=m-M|0;_=(((_|0)>-1?_:0-_|0)|0)>3&1}else _=2}while(0);s[Ne>>2]=_;S=r[W+58>>1]|0;y=r[W+194>>1]|0;do{if(!((S|i)<<16>>16)){w=(r[W+192>>1]|0)-(r[W+184>>1]|0)|0;if((((w|0)>-1?w:0-w|0)|0)>3){w=1;break}w=y-f|0;w=(((w|0)>-1?w:0-w|0)|0)>3&1}else w=2}while(0);s[Le>>2]=w;do{if(!((x|k)<<16>>16)){k=(r[W+136>>1]|0)-(r[W+132>>1]|0)|0;if((((k|0)>-1?k:0-k|0)|0)>3){_=1;break}_=v-b|0;_=(((_|0)>-1?_:0-_|0)|0)>3&1}else _=2}while(0);s[Ae>>2]=_;do{if(!((E|x)<<16>>16)){k=(r[W+148>>1]|0)-(r[W+136>>1]|0)|0;if((((k|0)>-1?k:0-k|0)|0)>3){_=1;break}k=g-v|0;if((((k|0)>-1?k:0-k|0)|0)>3){_=1;break}_=(s[W+120>>2]|0)!=(s[W+116>>2]|0)&1}else _=2}while(0);s[ke>>2]=_;do{if(!((T|E)<<16>>16)){T=(r[W+152>>1]|0)-(r[W+148>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){_=1;break}_=A-g|0;_=(((_|0)>-1?_:0-_|0)|0)>3&1}else _=2}while(0);s[xe>>2]=_;do{if(!((O|F)<<16>>16)){T=(r[W+144>>1]|0)-(r[W+140>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){p=1;break}p=j-z|0;p=(((p|0)>-1?p:0-p|0)|0)>3&1}else p=2}while(0);s[Ee>>2]=p;do{if(!((L|O)<<16>>16)){T=(r[W+156>>1]|0)-(r[W+144>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){p=1;break}T=N-j|0;if((((T|0)>-1?T:0-T|0)|0)>3){p=1;break}p=(s[W+120>>2]|0)!=(s[W+116>>2]|0)&1}else p=2}while(0);s[Se>>2]=p;do{if(!((d|L)<<16>>16)){T=(r[W+160>>1]|0)-(r[W+156>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){p=1;break}p=P-N|0;p=(((p|0)>-1?p:0-p|0)|0)>3&1}else p=2}while(0);s[we>>2]=p;do{if(!((D|R)<<16>>16)){T=(r[W+168>>1]|0)-(r[W+164>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){d=1;break}d=I-U|0;d=(((d|0)>-1?d:0-d|0)|0)>3&1}else d=2}while(0);s[_e>>2]=d;do{if(!((B|D)<<16>>16)){T=(r[W+180>>1]|0)-(r[W+168>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){d=1;break}T=M-I|0;if((((T|0)>-1?T:0-T|0)|0)>3){d=1;break}d=(s[W+128>>2]|0)!=(s[W+124>>2]|0)&1}else d=2}while(0);s[ye>>2]=d;do{if(!((i|B)<<16>>16)){T=(r[W+184>>1]|0)-(r[W+180>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){f=1;break}f=f-M|0;f=(((f|0)>-1?f:0-f|0)|0)>3&1}else f=2}while(0);s[ge>>2]=f;do{if(!((a|t)<<16>>16)){T=(r[W+176>>1]|0)-(r[W+172>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){f=1;break}f=c-C|0;f=(((f|0)>-1?f:0-f|0)|0)>3&1}else f=2}while(0);s[ve>>2]=f;do{if(!((u|a)<<16>>16)){T=(r[W+188>>1]|0)-(r[W+176>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){c=1;break}T=m-c|0;if((((T|0)>-1?T:0-T|0)|0)>3){c=1;break}c=(s[W+128>>2]|0)!=(s[W+124>>2]|0)&1}else c=2}while(0);s[be>>2]=c;do{if(!((S|u)<<16>>16)){T=(r[W+192>>1]|0)-(r[W+188>>1]|0)|0;if((((T|0)>-1?T:0-T|0)|0)>3){t=1;break}t=y-m|0;t=(((t|0)>-1?t:0-t|0)|0)>3&1}else t=2}while(0);s[me>>2]=t;break}}else nt(W,ue)}while(0);if(!(l|s[$e>>2]|s[Ye>>2]|s[We>>2]|s[Ke>>2]|s[Ge>>2]|s[qe>>2]|s[Ve>>2]|s[He>>2]|s[ze>>2]|s[je>>2]|s[Ne>>2]|s[Le>>2]|s[Ae>>2]|s[ke>>2]|s[xe>>2]|s[Ee>>2]|s[Se>>2]|s[we>>2]|s[_e>>2]|s[ye>>2]|s[ge>>2]|s[ve>>2]|s[be>>2]|s[me>>2]))break}else{s[Le>>2]=3;s[Ne>>2]=3;s[je>>2]=3;s[ze>>2]=3;s[He>>2]=3;s[Ve>>2]=3;s[qe>>2]=3;s[Ge>>2]=3;s[Ke>>2]=3;s[We>>2]=3;s[Ye>>2]=3;s[$e>>2]=3;s[me>>2]=3;s[be>>2]=3;s[ve>>2]=3;s[ge>>2]=3;s[ye>>2]=3;s[_e>>2]=3;s[we>>2]=3;s[Se>>2]=3;s[Ee>>2]=3;s[xe>>2]=3;s[ke>>2]=3;s[Ae>>2]=3}P=W+20|0;i=s[P>>2]|0;O=W+12|0;c=St(0,51,(s[O>>2]|0)+i|0)|0;F=W+16|0;a=St(0,51,(s[F>>2]|0)+i|0)|0;u=o[6864+c>>0]|0;s[ae>>2]=u;a=o[6920+a>>0]|0;s[ce>>2]=a;c=6976+(c*3|0)|0;s[Fe>>2]=c;do{if(!V){f=s[(s[q>>2]|0)+20>>2]|0;if((f|0)==(i|0)){s[$>>2]=u;s[Q>>2]=a;s[Oe>>2]=c;break}else{A=(i+1+f|0)>>>1;T=St(0,51,(s[O>>2]|0)+A|0)|0;A=St(0,51,(s[F>>2]|0)+A|0)|0;s[$>>2]=o[6864+T>>0];s[Q>>2]=o[6920+A>>0];s[Oe>>2]=6976+(T*3|0);break}}}while(0);do{if(!H){t=s[(s[G>>2]|0)+20>>2]|0;if((t|0)==(i|0)){s[X>>2]=s[ae>>2];s[J>>2]=s[ce>>2];s[ne>>2]=s[Fe>>2];break}else{A=(i+1+t|0)>>>1;T=St(0,51,(s[O>>2]|0)+A|0)|0;A=St(0,51,(s[F>>2]|0)+A|0)|0;s[X>>2]=o[6864+T>>0];s[J>>2]=o[6920+A>>0];s[ne>>2]=6976+(T*3|0);break}}}while(0);L=ee(Z,re)|0;z=3;p=0;j=(s[e>>2]|0)+((L<<8)+(K<<4))|0;N=ue;while(1){f=s[N+4>>2]|0;if(f)rt(j,f,se,Re);f=s[N+12>>2]|0;if(f)rt(j+4|0,f,oe,Re);c=N+16|0;l=s[N+20>>2]|0;if(l)rt(j+8|0,l,oe,Re);u=N+24|0;l=s[N+28>>2]|0;if(l)rt(j+12|0,l,oe,Re);d=s[N>>2]|0;f=N+8|0;l=s[f>>2]|0;e:do{if(((d|0)==(l|0)?(d|0)==(s[c>>2]|0):0)?(d|0)==(s[u>>2]|0):0){if(!d)break;x=s[Oe+(p*12|0)+4>>2]|0;E=s[Oe+(p*12|0)+8>>2]|0;if(d>>>0<4){y=o[(s[Oe+(p*12|0)>>2]|0)+(d+-1)>>0]|0;c=0-y|0;u=y+1|0;t=j;a=16;while(1){p=t+Ce|0;g=o[p>>0]|0;_=t+Pe|0;v=o[_>>0]|0;b=o[t>>0]|0;l=t+Re|0;i=o[l>>0]|0;T=v-b|0;do{if(((T|0)>-1?T:0-T|0)>>>0<x>>>0){T=g-v|0;if(((T|0)>-1?T:0-T|0)>>>0>=E>>>0)break;T=i-b|0;if(((T|0)>-1?T:0-T|0)>>>0>=E>>>0)break;d=o[t+Ie>>0]|0;T=d-v|0;if(((T|0)>-1?T:0-T|0)>>>0<E>>>0){n[p>>0]=(St(c,y,((v+1+b|0)>>>1)-(g<<1)+d>>1)|0)+g;p=u}else p=y;d=o[t+Ue>>0]|0;T=d-b|0;if(((T|0)>-1?T:0-T|0)>>>0<E>>>0){n[l>>0]=(St(c,y,((v+1+b|0)>>>1)-(i<<1)+d>>1)|0)+i;p=p+1|0}A=St(0-p|0,p,g+4-i+(b-v<<2)>>3)|0;T=n[3472+((b|512)-A)>>0]|0;n[_>>0]=n[3472+(A+(v|512))>>0]|0;n[t>>0]=T}}while(0);a=a+-1|0;if(!a)break e;else t=t+1|0}}d=(x>>>2)+2|0;y=j;_=16;while(1){l=y+Ce|0;t=o[l>>0]|0;f=y+Pe|0;i=o[f>>0]|0;m=o[y>>0]|0;c=y+Re|0;b=o[c>>0]|0;p=i-m|0;p=(p|0)>-1?p:0-p|0;t:do{if(p>>>0<x>>>0){T=t-i|0;if(((T|0)>-1?T:0-T|0)>>>0>=E>>>0)break;T=b-m|0;if(((T|0)>-1?T:0-T|0)>>>0>=E>>>0)break;u=y+Ie|0;v=o[u>>0]|0;a=y+Ue|0;g=o[a>>0]|0;do{if(p>>>0<d>>>0){T=v-i|0;if(((T|0)>-1?T:0-T|0)>>>0<E>>>0){T=i+t+m|0;n[f>>0]=(b+4+(T<<1)+v|0)>>>3;n[l>>0]=(T+2+v|0)>>>2;n[u>>0]=(T+4+(v*3|0)+(o[y+De>>0]<<1)|0)>>>3}else n[f>>0]=(i+2+(t<<1)+b|0)>>>2;T=g-m|0;if(((T|0)>-1?T:0-T|0)>>>0>=E>>>0)break;T=m+i+b|0;n[y>>0]=(t+4+(T<<1)+g|0)>>>3;n[c>>0]=(T+2+g|0)>>>2;n[a>>0]=(T+4+(g*3|0)+(o[y+Me>>0]<<1)|0)>>>3;break t}else n[f>>0]=(i+2+(t<<1)+b|0)>>>2}while(0);n[y>>0]=(t+2+m+(b<<1)|0)>>>2}}while(0);_=_+-1|0;if(!_)break;else y=y+1|0}}else Ze=311}while(0);do{if((Ze|0)==311){Ze=0;if(d){st(j,d,Oe+(p*12|0)|0,Re);l=s[f>>2]|0}if(l)st(j+4|0,l,Oe+(p*12|0)|0,Re);l=s[c>>2]|0;if(l)st(j+8|0,l,Oe+(p*12|0)|0,Re);f=s[u>>2]|0;if(!f)break;st(j+12|0,f,Oe+(p*12|0)|0,Re)}}while(0);if(!z)break;else{z=z+-1|0;p=2;j=j+Te|0;N=N+32|0}}a=s[W+24>>2]|0;i=s[192+((St(0,51,(s[P>>2]|0)+a|0)|0)<<2)>>2]|0;l=St(0,51,(s[O>>2]|0)+i|0)|0;u=St(0,51,(s[F>>2]|0)+i|0)|0;c=o[6864+l>>0]|0;s[ae>>2]=c;u=o[6920+u>>0]|0;s[ce>>2]=u;l=6976+(l*3|0)|0;s[Fe>>2]=l;do{if(!V){f=s[(s[q>>2]|0)+20>>2]|0;if((f|0)==(s[P>>2]|0)){s[$>>2]=c;s[Q>>2]=u;s[Oe>>2]=l;break}else{A=(i+1+(s[192+((St(0,51,f+a|0)|0)<<2)>>2]|0)|0)>>>1;T=St(0,51,A+(s[O>>2]|0)|0)|0;A=St(0,51,(s[F>>2]|0)+A|0)|0;s[$>>2]=o[6864+T>>0];s[Q>>2]=o[6920+A>>0];s[Oe>>2]=6976+(T*3|0);break}}}while(0);do{if(!H){t=s[(s[G>>2]|0)+20>>2]|0;if((t|0)==(s[P>>2]|0)){s[X>>2]=s[ae>>2];s[J>>2]=s[ce>>2];s[ne>>2]=s[Fe>>2];break}else{A=(i+1+(s[192+((St(0,51,t+a|0)|0)<<2)>>2]|0)|0)>>>1;T=St(0,51,A+(s[O>>2]|0)|0)|0;A=St(0,51,(s[F>>2]|0)+A|0)|0;s[X>>2]=o[6864+T>>0];s[J>>2]=o[6920+A>>0];s[ne>>2]=6976+(T*3|0);break}}}while(0);u=s[e>>2]|0;f=(K<<3)+Be+(L<<6)|0;d=u+f|0;f=u+(f+te)|0;u=0;a=ue;p=0;while(1){i=a+4|0;t=s[i>>2]|0;if(t){Ai(d,t,se,ie);Ai(f,s[i>>2]|0,se,ie)}i=a+36|0;t=s[i>>2]|0;if(t){Ai(d+Re|0,t,se,ie);Ai(f+Re|0,s[i>>2]|0,se,ie)}l=a+16|0;i=a+20|0;t=s[i>>2]|0;if(t){Ai(d+4|0,t,oe,ie);Ai(f+4|0,s[i>>2]|0,oe,ie)}i=a+52|0;t=s[i>>2]|0;if(t){Ai(d+Y|0,t,oe,ie);Ai(f+Y|0,s[i>>2]|0,oe,ie)}i=s[a>>2]|0;c=a+8|0;t=s[c>>2]|0;do{if((i|0)==(t|0)){if((i|0)!=(s[l>>2]|0)){Ze=342;break}if((i|0)!=(s[a+24>>2]|0)){Ze=342;break}if(!i)break;T=Oe+(u*12|0)|0;Ti(d,i,T,ie);Ti(f,s[a>>2]|0,T,ie)}else Ze=342}while(0);do{if((Ze|0)==342){Ze=0;if(i){t=Oe+(u*12|0)|0;Ci(d,i,t,ie);Ci(f,s[a>>2]|0,t,ie);t=s[c>>2]|0}if(t){T=Oe+(u*12|0)|0;Ci(d+2|0,t,T,ie);Ci(f+2|0,s[c>>2]|0,T,ie)}t=s[l>>2]|0;if(t){T=Oe+(u*12|0)|0;Ci(d+4|0,t,T,ie);Ci(f+4|0,s[l>>2]|0,T,ie)}i=a+24|0;t=s[i>>2]|0;if(!t)break;T=Oe+(u*12|0)|0;Ci(d+6|0,t,T,ie);Ci(f+6|0,s[i>>2]|0,T,ie)}}while(0);p=p+1|0;if((p|0)==2)break;else{d=d+Ue|0;f=f+Ue|0;u=2;a=a+64|0}}}}while(0);t=K+1|0;i=(t|0)==(re|0);Z=(i&1)+Z|0;if(Z>>>0>=(s[fe>>2]|0)>>>0)break;else{K=i?0:t;W=W+216|0}}h=et;return}function nt(e,t){e=e|0;t=t|0;var i=0,n=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0;T=h;f=e+28|0;x=r[e+32>>1]|0;if(!(x<<16>>16))i=(r[f>>1]|0)!=0?2:0;else i=2;s[t+32>>2]=i;k=r[e+34>>1]|0;E=k<<16>>16==0;if(E)i=(r[e+30>>1]|0)!=0?2:0;else i=2;s[t+40>>2]=i;A=r[e+40>>1]|0;w=A<<16>>16==0;if(w)i=(r[e+36>>1]|0)!=0?2:0;else i=2;s[t+48>>2]=i;n=r[e+42>>1]|0;S=n<<16>>16==0;if(S)i=(r[e+38>>1]|0)!=0?2:0;else i=2;s[t+56>>2]=i;g=r[e+44>>1]|0;if(!(g<<16>>16))i=x<<16>>16!=0?2:0;else i=2;s[t+64>>2]=i;y=r[e+46>>1]|0;m=y<<16>>16==0;if(m)i=k<<16>>16!=0?2:0;else i=2;s[t+72>>2]=i;_=r[e+52>>1]|0;b=_<<16>>16==0;if(b)i=A<<16>>16!=0?2:0;else i=2;s[t+80>>2]=i;o=r[e+54>>1]|0;v=o<<16>>16==0;if(v)i=n<<16>>16!=0?2:0;else i=2;s[t+88>>2]=i;l=r[e+48>>1]|0;if(!(l<<16>>16))i=g<<16>>16!=0?2:0;else i=2;s[t+96>>2]=i;d=r[e+50>>1]|0;a=d<<16>>16==0;if(a)i=y<<16>>16!=0?2:0;else i=2;s[t+104>>2]=i;p=r[e+56>>1]|0;u=p<<16>>16==0;if(u)n=_<<16>>16!=0?2:0;else n=2;s[t+112>>2]=n;c=(r[e+58>>1]|0)==0;if(c)n=o<<16>>16!=0?2:0;else n=2;s[t+120>>2]=n;o=r[e+30>>1]|0;if(!(o<<16>>16))n=(r[f>>1]|0)!=0?2:0;else n=2;s[t+12>>2]=n;i=r[e+36>>1]|0;if(!(i<<16>>16))n=o<<16>>16!=0?2:0;else n=2;s[t+20>>2]=n;if(!(r[e+38>>1]|0))i=i<<16>>16!=0?2:0;else i=2;s[t+28>>2]=i;if(E)i=x<<16>>16!=0?2:0;else i=2;s[t+44>>2]=i;if(w)i=k<<16>>16!=0?2:0;else i=2;s[t+52>>2]=i;if(S)i=A<<16>>16!=0?2:0;else i=2;s[t+60>>2]=i;if(m)i=g<<16>>16!=0?2:0;else i=2;s[t+76>>2]=i;if(b)i=y<<16>>16!=0?2:0;else i=2;s[t+84>>2]=i;if(v)i=_<<16>>16!=0?2:0;else i=2;s[t+92>>2]=i;if(a)i=l<<16>>16!=0?2:0;else i=2;s[t+108>>2]=i;if(u)i=d<<16>>16!=0?2:0;else i=2;s[t+116>>2]=i;if(!c){x=2;k=t+124|0;s[k>>2]=x;h=T;return}x=p<<16>>16!=0?2:0;k=t+124|0;s[k>>2]=x;h=T;return}function rt(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0;S=h;_=s[i+4>>2]|0;w=s[i+8>>2]|0;if(t>>>0<4){f=o[(s[i>>2]|0)+(t+-1)>>0]|0;d=0-f|0;l=f+1|0;c=4;while(1){i=e+-2|0;g=o[i>>0]|0;y=e+-1|0;v=o[y>>0]|0;b=o[e>>0]|0;u=e+1|0;a=o[u>>0]|0;p=v-b|0;if((((p|0)>-1?p:0-p|0)>>>0<_>>>0?(p=g-v|0,((p|0)>-1?p:0-p|0)>>>0<w>>>0):0)?(p=a-b|0,((p|0)>-1?p:0-p|0)>>>0<w>>>0):0){t=o[e+-3>>0]|0;m=o[e+2>>0]|0;p=t-v|0;if(((p|0)>-1?p:0-p|0)>>>0<w>>>0){n[i>>0]=(St(d,f,((v+1+b|0)>>>1)-(g<<1)+t>>1)|0)+g;i=l}else i=f;p=m-b|0;if(((p|0)>-1?p:0-p|0)>>>0<w>>>0){n[u>>0]=(St(d,f,((v+1+b|0)>>>1)-(a<<1)+m>>1)|0)+a;i=i+1|0}u=St(0-i|0,i,g+4-a+(b-v<<2)>>3)|0;p=n[3472+((b|512)-u)>>0]|0;n[y>>0]=n[3472+((v|512)+u)>>0]|0;n[e>>0]=p}c=c+-1|0;if(!c)break;else e=e+r|0}h=S;return}y=(_>>>2)+2|0;g=4;while(1){c=e+-2|0;b=o[c>>0]|0;f=e+-1|0;v=o[f>>0]|0;l=o[e>>0]|0;t=e+1|0;d=o[t>>0]|0;i=v-l|0;i=(i|0)>-1?i:0-i|0;do{if((i>>>0<_>>>0?(p=b-v|0,((p|0)>-1?p:0-p|0)>>>0<w>>>0):0)?(p=d-l|0,((p|0)>-1?p:0-p|0)>>>0<w>>>0):0){a=e+-3|0;p=o[a>>0]|0;u=e+2|0;m=o[u>>0]|0;if(i>>>0<y>>>0){i=p-v|0;if(((i|0)>-1?i:0-i|0)>>>0<w>>>0){i=v+b+l|0;n[f>>0]=(d+4+(i<<1)+p|0)>>>3;n[c>>0]=(i+2+p|0)>>>2;n[a>>0]=(i+4+(p*3|0)+((o[e+-4>>0]|0)<<1)|0)>>>3}else n[f>>0]=(v+2+(b<<1)+d|0)>>>2;p=m-l|0;if(((p|0)>-1?p:0-p|0)>>>0<w>>>0){p=l+v+d|0;n[e>>0]=(b+4+(p<<1)+m|0)>>>3;n[t>>0]=(p+2+m|0)>>>2;n[u>>0]=(p+4+(m*3|0)+((o[e+3>>0]|0)<<1)|0)>>>3;break}}else n[f>>0]=(v+2+(b<<1)+d|0)>>>2;n[e>>0]=(b+2+l+(d<<1)|0)>>>2}}while(0);g=g+-1|0;if(!g)break;else e=e+r|0}h=S;return}function st(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0;A=h;_=o[(s[i>>2]|0)+(t+-1)>>0]|0;S=0-r|0;w=S<<1;y=i+4|0;p=i+8|0;b=ee(r,-3)|0;g=0-_|0;m=_+1|0;v=r<<1;d=4;while(1){t=e+w|0;c=e+S|0;u=e+r|0;i=n[u>>0]|0;f=o[c>>0]|0;l=o[e>>0]|0;a=f-l|0;if((((a|0)>-1?a:0-a|0)>>>0<(s[y>>2]|0)>>>0?(x=o[t>>0]|0,a=x-f|0,E=s[p>>2]|0,((a|0)>-1?a:0-a|0)>>>0<E>>>0):0)?(k=i&255,i=k-l|0,((i|0)>-1?i:0-i|0)>>>0<E>>>0):0){i=o[e+b>>0]|0;a=i-f|0;if(((a|0)>-1?a:0-a|0)>>>0<E>>>0){n[t>>0]=(St(g,_,((f+1+l|0)>>>1)-(x<<1)+i>>1)|0)+x;t=s[p>>2]|0;i=m}else{t=E;i=_}a=o[e+v>>0]|0;T=a-l|0;if(((T|0)>-1?T:0-T|0)>>>0<t>>>0){n[u>>0]=(St(g,_,((f+1+l|0)>>>1)-(k<<1)+a>>1)|0)+k;i=i+1|0}i=St(0-i|0,i,4-k+(l-f<<2)+x>>3)|0;t=n[3472+((l|512)-i)>>0]|0;n[c>>0]=n[3472+((f|512)+i)>>0]|0;n[e>>0]=t}d=d+-1|0;if(!d)break;else e=e+1|0}h=A;return}function ot(e){e=e|0;var t=0;t=h;h=h+e|0;h=h+15&-16;return t|0}function at(){return h|0}function ut(e){e=e|0;h=e}function ct(e,t){e=e|0;t=t|0;if(!m){m=e;b=t}}function ft(e){e=e|0;n[d>>0]=n[e>>0];n[d+1>>0]=n[e+1>>0];n[d+2>>0]=n[e+2>>0];n[d+3>>0]=n[e+3>>0]}function ht(e){e=e|0;n[d>>0]=n[e>>0];n[d+1>>0]=n[e+1>>0];n[d+2>>0]=n[e+2>>0];n[d+3>>0]=n[e+3>>0];n[d+4>>0]=n[e+4>>0];n[d+5>>0]=n[e+5>>0];n[d+6>>0]=n[e+6>>0];n[d+7>>0]=n[e+7>>0]}function lt(e){e=e|0;D=e}function dt(){return D|0}function pt(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0;c=h;r=o[8+t>>0]|0;u=o[64+t>>0]|0;t=s[120+(u*12|0)>>2]<<r;a=s[124+(u*12|0)>>2]<<r;r=s[128+(u*12|0)>>2]<<r;if(!i)s[e>>2]=ee(s[e>>2]|0,t)|0;e:do{if(!(n&65436)){if(n&98){d=e+4|0;f=ee(s[d>>2]|0,a)|0;u=e+20|0;l=ee(s[u>>2]|0,t)|0;i=e+24|0;r=ee(s[i>>2]|0,a)|0;a=s[e>>2]|0;t=(f>>1)-r|0;r=f+(r>>1)|0;f=l+a+32|0;n=f+r>>6;s[e>>2]=n;l=a-l+32|0;a=l+t>>6;s[d>>2]=a;t=l-t>>6;s[e+8>>2]=t;r=f-r>>6;s[e+12>>2]=r;s[e+48>>2]=n;s[e+32>>2]=n;s[e+16>>2]=n;s[e+52>>2]=a;s[e+36>>2]=a;s[u>>2]=a;s[e+56>>2]=t;s[e+40>>2]=t;s[i>>2]=t;s[e+60>>2]=r;s[e+44>>2]=r;s[e+28>>2]=r;if((n+512|0)>>>0>1023|(a+512|0)>>>0>1023|(t+512|0)>>>0>1023|(r+512|0)>>>0>1023)r=1;else break;h=c;return r|0}r=(s[e>>2]|0)+32>>6;if((r+512|0)>>>0>1023){l=1;h=c;return l|0}else{s[e+60>>2]=r;s[e+56>>2]=r;s[e+52>>2]=r;s[e+48>>2]=r;s[e+44>>2]=r;s[e+40>>2]=r;s[e+36>>2]=r;s[e+32>>2]=r;s[e+28>>2]=r;s[e+24>>2]=r;s[e+20>>2]=r;s[e+16>>2]=r;s[e+12>>2]=r;s[e+8>>2]=r;s[e+4>>2]=r;s[e>>2]=r;break}}else{k=e+4|0;g=e+56|0;S=e+60|0;y=s[S>>2]|0;_=ee(s[k>>2]|0,a)|0;s[g>>2]=ee(s[g>>2]|0,a)|0;s[S>>2]=ee(y,r)|0;S=e+8|0;y=s[S>>2]|0;g=e+16|0;x=ee(s[e+20>>2]|0,t)|0;p=ee(s[g>>2]|0,r)|0;b=e+12|0;m=s[b>>2]|0;n=ee(s[e+32>>2]|0,a)|0;i=ee(s[e+24>>2]|0,a)|0;v=s[e+28>>2]|0;u=ee(s[e+48>>2]|0,r)|0;d=ee(s[e+36>>2]|0,a)|0;f=s[e+44>>2]|0;l=ee(s[e+40>>2]|0,r)|0;r=ee(s[e+52>>2]|0,a)|0;E=s[e>>2]|0;w=x+E|0;x=E-x|0;E=(_>>1)-i|0;_=(i>>1)+_|0;i=_+w|0;s[e>>2]=i;s[k>>2]=E+x;s[S>>2]=x-E;s[b>>2]=w-_;b=ee(a,v+y|0)|0;v=ee(y-v|0,a)|0;a=(p>>1)-u|0;p=(u>>1)+p|0;u=p+b|0;s[g>>2]=u;s[e+20>>2]=a+v;s[e+24>>2]=v-a;s[e+28>>2]=b-p;p=ee(t,f+m|0)|0;t=ee(m-f|0,t)|0;f=(n>>1)-r|0;n=(r>>1)+n|0;a=n+p|0;s[e+32>>2]=a;s[e+36>>2]=f+t;s[e+40>>2]=t-f;s[e+44>>2]=p-n;n=e+56|0;p=s[n>>2]|0;f=p+d|0;p=d-p|0;t=e+60|0;r=s[t>>2]|0;d=(l>>1)-r|0;l=(r>>1)+l|0;r=l+f|0;s[e+48>>2]=r;s[e+52>>2]=d+p;s[n>>2]=p-d;s[t>>2]=f-l;t=u;u=3;while(1){w=(t>>1)-r|0;r=(r>>1)+t|0;S=a+i+32|0;E=S+r>>6;s[e>>2]=E;t=i-a+32|0;x=t+w>>6;s[e+16>>2]=x;t=t-w>>6;s[e+32>>2]=t;r=S-r>>6;s[e+48>>2]=r;if((E+512|0)>>>0>1023|(x+512|0)>>>0>1023){r=1;t=14;break}if((t+512|0)>>>0>1023|(r+512|0)>>>0>1023){r=1;t=14;break}n=e+4|0;if(!u)break e;i=s[n>>2]|0;a=s[e+36>>2]|0;t=s[e+20>>2]|0;r=s[e+52>>2]|0;e=n;u=u+-1|0}if((t|0)==14){h=c;return r|0}}}while(0);x=0;h=c;return x|0}function mt(e,t){e=e|0;t=t|0;var i=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0,B=0;T=h;i=n[64+t>>0]|0;g=n[8+t>>0]|0;R=e+8|0;_=s[R>>2]|0;u=s[e+20>>2]|0;b=e+16|0;x=s[b>>2]|0;v=e+32|0;k=s[v>>2]|0;D=e+12|0;w=s[D>>2]|0;r=s[e+24>>2]|0;l=s[e+28>>2]|0;p=e+48|0;o=s[p>>2]|0;C=s[e+36>>2]|0;A=s[e+40>>2]|0;B=s[e+44>>2]|0;a=s[e+52>>2]|0;m=s[e>>2]|0;f=u+m|0;u=m-u|0;m=e+4|0;E=s[m>>2]|0;y=E-r|0;E=r+E|0;r=E+f|0;s[e>>2]=r;c=y+u|0;s[m>>2]=c;y=u-y|0;s[R>>2]=y;E=f-E|0;s[D>>2]=E;D=l+_|0;l=_-l|0;_=x-o|0;x=o+x|0;o=x+D|0;s[b>>2]=o;f=_+l|0;s[e+20>>2]=f;_=l-_|0;s[e+24>>2]=_;x=D-x|0;s[e+28>>2]=x;D=B+w|0;B=w-B|0;w=k-a|0;k=a+k|0;a=k+D|0;s[e+32>>2]=a;l=w+B|0;s[e+36>>2]=l;w=B-w|0;s[e+40>>2]=w;k=D-k|0;s[e+44>>2]=k;D=e+56|0;B=s[D>>2]|0;R=B+C|0;B=C-B|0;C=e+60|0;u=s[C>>2]|0;S=A-u|0;A=u+A|0;u=A+R|0;s[e+48>>2]=u;d=S+B|0;s[e+52>>2]=d;S=B-S|0;s[D>>2]=S;A=R-A|0;s[C>>2]=A;g=g&255;i=s[120+((i&255)*12|0)>>2]|0;if(t>>>0>11){t=i<<g+-2;g=a+r|0;a=r-a|0;r=o-u|0;i=u+o|0;s[e>>2]=ee(i+g|0,t)|0;s[b>>2]=ee(r+a|0,t)|0;s[v>>2]=ee(a-r|0,t)|0;s[p>>2]=ee(g-i|0,t)|0;v=l+c|0;i=c-l|0;b=f-d|0;g=d+f|0;s[m>>2]=ee(g+v|0,t)|0;s[e+20>>2]=ee(b+i|0,t)|0;s[e+36>>2]=ee(i-b|0,t)|0;s[e+52>>2]=ee(v-g|0,t)|0;g=w+y|0;y=y-w|0;w=_-S|0;S=S+_|0;s[e+8>>2]=ee(S+g|0,t)|0;s[e+24>>2]=ee(w+y|0,t)|0;s[e+40>>2]=ee(y-w|0,t)|0;s[e+56>>2]=ee(g-S|0,t)|0;S=k+E|0;w=E-k|0;E=x-A|0;x=A+x|0;s[e+12>>2]=ee(x+S|0,t)|0;s[e+28>>2]=ee(E+w|0,t)|0;s[e+44>>2]=ee(w-E|0,t)|0;s[e+60>>2]=ee(S-x|0,t)|0;h=T;return}else{C=(t+-6|0)>>>0<6?1:2;t=2-g|0;g=a+r|0;R=r-a|0;a=o-u|0;r=u+o|0;s[e>>2]=(ee(r+g|0,i)|0)+C>>t;s[b>>2]=(ee(a+R|0,i)|0)+C>>t;s[v>>2]=(ee(R-a|0,i)|0)+C>>t;s[p>>2]=(ee(g-r|0,i)|0)+C>>t;v=l+c|0;r=c-l|0;b=f-d|0;g=d+f|0;s[m>>2]=(ee(g+v|0,i)|0)+C>>t;s[e+20>>2]=(ee(b+r|0,i)|0)+C>>t;s[e+36>>2]=(ee(r-b|0,i)|0)+C>>t;s[e+52>>2]=(ee(v-g|0,i)|0)+C>>t;g=w+y|0;y=y-w|0;w=_-S|0;S=S+_|0;s[e+8>>2]=(ee(S+g|0,i)|0)+C>>t;s[e+24>>2]=(ee(w+y|0,i)|0)+C>>t;s[e+40>>2]=(ee(y-w|0,i)|0)+C>>t;s[e+56>>2]=(ee(g-S|0,i)|0)+C>>t;S=k+E|0;w=E-k|0;E=x-A|0;x=A+x|0;s[e+12>>2]=(ee(x+S|0,i)|0)+C>>t;s[e+28>>2]=(ee(E+w|0,i)|0)+C>>t;s[e+44>>2]=(ee(w-E|0,i)|0)+C>>t;s[e+60>>2]=(ee(S-x|0,i)|0)+C>>t;h=T;return}}function bt(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,u=0,c=0,f=0,h=0,l=0;i=s[120+((o[64+t>>0]|0)*12|0)>>2]|0;if(t>>>0>5){i=i<<(o[8+t>>0]|0)+-1;t=0}else t=1;f=s[e>>2]|0;r=e+8|0;a=s[r>>2]|0;l=a+f|0;a=f-a|0;f=e+4|0;c=s[f>>2]|0;h=e+12|0;n=s[h>>2]|0;u=c-n|0;c=n+c|0;s[e>>2]=(ee(c+l|0,i)|0)>>t;s[f>>2]=(ee(l-c|0,i)|0)>>t;s[r>>2]=(ee(u+a|0,i)|0)>>t;s[h>>2]=(ee(a-u|0,i)|0)>>t;h=e+16|0;u=s[h>>2]|0;a=e+24|0;r=s[a>>2]|0;f=r+u|0;r=u-r|0;u=e+20|0;c=s[u>>2]|0;e=e+28|0;l=s[e>>2]|0;n=c-l|0;c=l+c|0;s[h>>2]=(ee(c+f|0,i)|0)>>t;s[u>>2]=(ee(f-c|0,i)|0)>>t;s[a>>2]=(ee(n+r|0,i)|0)>>t;s[e>>2]=(ee(r-n|0,i)|0)>>t;return}function vt(e,t){e=e|0;t=t|0;var i=0,n=0;n=h;t=1<<t+-1;if(!(t&e)){i=t;t=0}else{t=0;h=n;return t|0}do{t=t+1|0;i=i>>>1}while((i|0)!=0&(i&e|0)==0);h=n;return t|0}function gt(e){e=e|0;var t=0,i=0;i=h;t=8-(s[e+8>>2]|0)|0;e=Gt(e,t)|0;if((e|0)==-1){e=1;h=i;return e|0}e=(e|0)!=(s[400+(t+-1<<2)>>2]|0)&1;h=i;return e|0}function yt(e){e=e|0;var t=0,i=0,n=0,r=0;i=h;r=s[e+12>>2]<<3;n=s[e+16>>2]|0;t=r-n|0;if((r|0)==(n|0)){e=0;h=i;return e|0}if(t>>>0>8){e=1;h=i;return e|0}else{e=((Kt(e)|0)>>>(32-t|0)|0)!=(1<<t+-1|0)&1;h=i;return e|0}return 0}function _t(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;r=h;n=s[e+(i<<2)>>2]|0;do{i=i+1|0;if(i>>>0>=t>>>0)break}while((s[e+(i<<2)>>2]|0)!=(n|0));h=r;return((i|0)==(t|0)?0:i)|0}function wt(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;n=s[e+4>>2]|0;r=(t>>>0)%(n>>>0)|0;i=t-r|0;t=ee(s[e+8>>2]|0,n)|0;n=s[e>>2]|0;s[e+12>>2]=n+((i<<8)+(r<<4));i=(r<<3)+(t<<8)+(i<<6)|0;s[e+16>>2]=n+i;s[e+20>>2]=n+(i+(t<<6));return}function St(e,t,i){e=e|0;t=t|0;i=i|0;if((i|0)>=(e|0))e=(i|0)>(t|0)?t:i;return e|0}function Et(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0;g=h;e:do{if(((t>>>0>3?(n[e>>0]|0)==0:0)?(n[e+1>>0]|0)==0:0)?(a=n[e+2>>0]|0,(a&255)<2):0){t:do{if((t|0)!=3){m=-3;b=3;c=e+3|0;u=2;while(1){if(a<<24>>24)if(a<<24>>24==1&u>>>0>1){p=b;a=0;l=0;f=0;break}else u=0;else u=u+1|0;f=b+1|0;if((f|0)==(t|0))break t;a=n[c>>0]|0;m=~b;b=f;c=c+1|0}while(1){v=n[c>>0]|0;d=p+1|0;u=v<<24>>24!=0;f=(u&1^1)+f|0;a=v<<24>>24==3&(f|0)==2?1:a;if(v<<24>>24==1&f>>>0>1){v=14;break}if(u){l=f>>>0>2?1:l;f=0}if((d|0)==(t|0)){v=18;break}else{p=d;c=c+1|0}}if((v|0)==14){d=m+p-f|0;s[i+12>>2]=d;u=b;f=f-(f>>>0<3?f:3)|0;break e}else if((v|0)==18){d=m+t-f|0;s[i+12>>2]=d;u=b;break e}}}while(0);s[r>>2]=t;b=1;h=g;return b|0}else v=19}while(0);if((v|0)==19){s[i+12>>2]=t;d=t;a=1;u=0;l=0;f=0}c=e+u|0;s[i>>2]=c;s[i+4>>2]=c;s[i+8>>2]=0;s[i+16>>2]=0;p=i+12|0;s[r>>2]=f+u+d;if(l){b=1;h=g;return b|0}if(!a){b=0;h=g;return b|0}f=s[p>>2]|0;a=c;l=c;u=0;e:while(1){while(1){b=f;f=f+-1|0;if(!b){v=31;break e}c=n[a>>0]|0;if((u|0)!=2)break;if(c<<24>>24!=3){v=29;break}if(!f){a=1;v=32;break e}a=a+1|0;if((o[a>>0]|0)>3){a=1;v=32;break e}else u=0}if((v|0)==29){v=0;if((c&255)<3){a=1;v=32;break}else u=2}n[l>>0]=c;a=a+1|0;l=l+1|0;u=c<<24>>24==0?u+1|0:0}if((v|0)==31){s[p>>2]=l-a+(s[p>>2]|0);b=0;h=g;return b|0}else if((v|0)==32){h=g;return a|0}return 0}function xt(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0;p=h;h=h+16|0;d=p;hn(t,0,92);r=Gt(e,8)|0;e:do{if((((r|0)!=-1?(s[t>>2]=r,Gt(e,1)|0,Gt(e,1)|0,(Gt(e,1)|0)!=-1):0)?(Gt(e,5)|0)!=-1:0)?(n=Gt(e,8)|0,(n|0)!=-1):0){l=t+4|0;s[l>>2]=n;r=t+8|0;i=$t(e,r)|0;if(!i)if((s[r>>2]|0)>>>0<=31){i=$t(e,d)|0;if(!i){r=s[d>>2]|0;if(r>>>0<=12){s[t+12>>2]=1<<r+4;i=$t(e,d)|0;if(!i){r=s[d>>2]|0;if(r>>>0<=2){s[t+16>>2]=r;t:do{if(!r){i=$t(e,d)|0;if(i)break e;r=s[d>>2]|0;if(r>>>0>12){i=1;break e}s[t+20>>2]=1<<r+4}else if((r|0)==1){r=Gt(e,1)|0;if((r|0)==-1){i=1;break e}s[t+24>>2]=(r|0)==1&1;i=Xt(e,t+28|0)|0;if(i)break e;i=Xt(e,t+32|0)|0;if(i)break e;a=t+36|0;i=$t(e,a)|0;if(i)break e;r=s[a>>2]|0;if(r>>>0>255){i=1;break e}if(!r){s[t+40>>2]=0;break}r=un(r<<2)|0;o=t+40|0;s[o>>2]=r;if(!r){i=65535;break e}if(s[a>>2]|0){n=0;while(1){i=Xt(e,r+(n<<2)|0)|0;n=n+1|0;if(i)break e;if(n>>>0>=(s[a>>2]|0)>>>0)break t;r=s[o>>2]|0}}}}while(0);f=t+44|0;i=$t(e,f)|0;if(!i)if((s[f>>2]|0)>>>0<=16?(c=Gt(e,1)|0,(c|0)!=-1):0){s[t+48>>2]=(c|0)==1&1;i=$t(e,d)|0;if(!i){n=t+52|0;s[n>>2]=(s[d>>2]|0)+1;i=$t(e,d)|0;if(!i){c=t+56|0;s[c>>2]=(s[d>>2]|0)+1;a=Gt(e,1)|0;if((!((a|0)==0|(a|0)==-1)?(Gt(e,1)|0)!=-1:0)?(u=Gt(e,1)|0,(u|0)!=-1):0){u=(u|0)==1;s[t+60>>2]=u&1;if(u){u=t+64|0;i=$t(e,u)|0;if(i)break;r=t+68|0;i=$t(e,r)|0;if(i)break;a=t+72|0;i=$t(e,a)|0;if(i)break;o=t+76|0;i=$t(e,o)|0;if(i)break;n=s[n>>2]|0;if((s[u>>2]|0)>((n<<3)+~s[r>>2]|0)){i=1;break}r=s[c>>2]|0;if((s[a>>2]|0)>((r<<3)+~s[o>>2]|0)){i=1;break}}else{n=s[n>>2]|0;r=s[c>>2]|0}i=ee(r,n)|0;do{switch(s[l>>2]|0){case 11:{r=396;n=345600;o=58;break}case 12:{r=396;n=912384;o=58;break}case 13:{r=396;n=912384;o=58;break}case 20:{r=396;n=912384;o=58;break}case 21:{r=792;n=1824768;o=58;break}case 22:{r=1620;n=3110400;o=58;break}case 30:{r=1620;n=3110400;o=58;break}case 31:{r=3600;n=6912e3;o=58;break}case 32:{r=5120;n=7864320;o=58;break}case 40:{r=8192;n=12582912;o=58;break}case 41:{r=8192;n=12582912;o=58;break}case 42:{r=8704;n=13369344;o=58;break}case 50:{r=22080;n=42393600;o=58;break}case 51:{r=36864;n=70778880;o=58;break}case 10:{r=99;n=152064;o=58;break}default:o=60}}while(0);do{if((o|0)==58){if(r>>>0<i>>>0){o=60;break}n=(n>>>0)/((i*384|0)>>>0)|0;n=n>>>0<16?n:16;s[d>>2]=n;r=s[f>>2]|0;if(r>>>0>n>>>0){n=r;o=61}}}while(0);if((o|0)==60){s[d>>2]=2147483647;n=s[f>>2]|0;o=61}if((o|0)==61)s[d>>2]=n;o=t+88|0;s[o>>2]=n;n=Gt(e,1)|0;if((n|0)==-1){i=1;break}d=(n|0)==1;s[t+80>>2]=d&1;do{if(d){n=un(952)|0;r=t+84|0;s[r>>2]=n;if(!n){i=65535;break e}i=Mi(e,n)|0;if(i)break e;i=s[r>>2]|0;if(!(s[i+920>>2]|0))break;n=s[i+948>>2]|0;if((s[i+944>>2]|0)>>>0>n>>>0){i=1;break e}if(n>>>0<(s[f>>2]|0)>>>0){i=1;break e}if(n>>>0>(s[o>>2]|0)>>>0){i=1;break e}s[o>>2]=(n|0)==0?1:n}}while(0);gt(e)|0;i=0}else i=1}}}else i=1}else i=1}}else i=1}}else i=1}else i=1}while(0);h=p;return i|0}function kt(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,o=0,a=0,u=0;u=h;if((s[e>>2]|0)!=(s[t>>2]|0)){i=1;h=u;return i|0}if((s[e+4>>2]|0)!=(s[t+4>>2]|0)){i=1;h=u;return i|0}if((s[e+12>>2]|0)!=(s[t+12>>2]|0)){i=1;h=u;return i|0}i=s[e+16>>2]|0;if((i|0)!=(s[t+16>>2]|0)){i=1;h=u;return i|0}if((s[e+44>>2]|0)!=(s[t+44>>2]|0)){i=1;h=u;return i|0}if((s[e+48>>2]|0)!=(s[t+48>>2]|0)){i=1;h=u;return i|0}if((s[e+52>>2]|0)!=(s[t+52>>2]|0)){i=1;h=u;return i|0}if((s[e+56>>2]|0)!=(s[t+56>>2]|0)){i=1;h=u;return i|0}a=s[e+60>>2]|0;if((a|0)!=(s[t+60>>2]|0)){i=1;h=u;return i|0}if((s[e+80>>2]|0)!=(s[t+80>>2]|0)){i=1;h=u;return i|0}e:do{if(!i){if((s[e+20>>2]|0)!=(s[t+20>>2]|0)){i=1;h=u;return i|0}}else if((i|0)==1){if((s[e+24>>2]|0)!=(s[t+24>>2]|0)){i=1;h=u;return i|0}if((s[e+28>>2]|0)!=(s[t+28>>2]|0)){i=1;h=u;return i|0}if((s[e+32>>2]|0)!=(s[t+32>>2]|0)){i=1;h=u;return i|0}i=s[e+36>>2]|0;if((i|0)!=(s[t+36>>2]|0)){i=1;h=u;return i|0}if(i){n=s[e+40>>2]|0;r=s[t+40>>2]|0;o=0;while(1){if((s[n+(o<<2)>>2]|0)!=(s[r+(o<<2)>>2]|0)){i=1;break}o=o+1|0;if(o>>>0>=i>>>0)break e}h=u;return i|0}}}while(0);if(a){if((s[e+64>>2]|0)!=(s[t+64>>2]|0)){i=1;h=u;return i|0}if((s[e+68>>2]|0)!=(s[t+68>>2]|0)){i=1;h=u;return i|0}if((s[e+72>>2]|0)!=(s[t+72>>2]|0)){i=1;h=u;return i|0}if((s[e+76>>2]|0)!=(s[t+76>>2]|0)){i=1;h=u;return i|0}}i=0;h=u;return i|0}function At(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0;f=h;h=h+16|0;u=f+4|0;c=f;hn(t,0,72);i=$t(e,t)|0;if(i){h=f;return i|0}if((s[t>>2]|0)>>>0>255){i=1;h=f;return i|0}n=t+4|0;i=$t(e,n)|0;if(i){h=f;return i|0}if((s[n>>2]|0)>>>0>31){i=1;h=f;return i|0}if(Gt(e,1)|0){i=1;h=f;return i|0}i=Gt(e,1)|0;if((i|0)==-1){i=1;h=f;return i|0}s[t+8>>2]=(i|0)==1&1;i=$t(e,u)|0;if(i){h=f;return i|0}i=(s[u>>2]|0)+1|0;a=t+12|0;s[a>>2]=i;if(i>>>0>8){i=1;h=f;return i|0}e:do{if(i>>>0>1){i=t+16|0;n=$t(e,i)|0;if(n){i=n;h=f;return i|0}i=s[i>>2]|0;if(i>>>0>6){i=1;h=f;return i|0}switch(i|0){case 5:case 4:case 3:{i=Gt(e,1)|0;if((i|0)==-1){i=1;h=f;return i|0}s[t+32>>2]=(i|0)==1&1;i=$t(e,u)|0;if(!i){s[t+36>>2]=(s[u>>2]|0)+1;break e}else{h=f;return i|0}}case 0:{i=un(s[a>>2]<<2)|0;r=t+20|0;s[r>>2]=i;if(!i){i=65535;h=f;return i|0}if(!(s[a>>2]|0))break e;else n=0;while(1){i=$t(e,u)|0;if(i)break;s[(s[r>>2]|0)+(n<<2)>>2]=(s[u>>2]|0)+1;n=n+1|0;if(n>>>0>=(s[a>>2]|0)>>>0)break e}h=f;return i|0}case 2:{n=t+24|0;s[n>>2]=un((s[a>>2]<<2)+-4|0)|0;i=un((s[a>>2]<<2)+-4|0)|0;o=t+28|0;s[o>>2]=i;if((s[n>>2]|0)==0|(i|0)==0){i=65535;h=f;return i|0}if((s[a>>2]|0)==1)break e;else r=0;while(1){i=$t(e,u)|0;if(i){n=46;break}s[(s[n>>2]|0)+(r<<2)>>2]=s[u>>2];i=$t(e,u)|0;if(i){n=46;break}s[(s[o>>2]|0)+(r<<2)>>2]=s[u>>2];r=r+1|0;if(r>>>0>=((s[a>>2]|0)+-1|0)>>>0)break e}if((n|0)==46){h=f;return i|0}break}case 6:{i=$t(e,u)|0;if(i){h=f;return i|0}n=(s[u>>2]|0)+1|0;i=t+40|0;s[i>>2]=n;n=un(n<<2)|0;o=t+44|0;s[o>>2]=n;if(!n){i=65535;h=f;return i|0}r=s[432+((s[a>>2]|0)+-1<<2)>>2]|0;if(!(s[i>>2]|0))break e;else n=0;while(1){l=Gt(e,r)|0;s[(s[o>>2]|0)+(n<<2)>>2]=l;n=n+1|0;if(l>>>0>=(s[a>>2]|0)>>>0){i=1;break}if(n>>>0>=(s[i>>2]|0)>>>0)break e}h=f;return i|0}default:break e}}}while(0);i=$t(e,u)|0;if(i){e=i;h=f;return e|0}i=s[u>>2]|0;if(i>>>0>31){e=1;h=f;return e|0}s[t+48>>2]=i+1;i=$t(e,u)|0;if(i){e=i;h=f;return e|0}if((s[u>>2]|0)>>>0>31){e=1;h=f;return e|0}if(Gt(e,1)|0){e=1;h=f;return e|0}if((Gt(e,2)|0)>>>0>2){e=1;h=f;return e|0}i=Xt(e,c)|0;if(i){e=i;h=f;return e|0}i=(s[c>>2]|0)+26|0;if(i>>>0>51){e=1;h=f;return e|0}s[t+52>>2]=i;i=Xt(e,c)|0;if(i){e=i;h=f;return e|0}if(((s[c>>2]|0)+26|0)>>>0>51){e=1;h=f;return e|0}i=Xt(e,c)|0;if(i){e=i;h=f;return e|0}i=s[c>>2]|0;if((i+12|0)>>>0>24){e=1;h=f;return e|0}s[t+56>>2]=i;i=Gt(e,1)|0;if((i|0)==-1){e=1;h=f;return e|0}s[t+60>>2]=(i|0)==1&1;i=Gt(e,1)|0;if((i|0)==-1){e=1;h=f;return e|0}s[t+64>>2]=(i|0)==1&1;i=Gt(e,1)|0;if((i|0)==-1){e=1;h=f;return e|0}s[t+68>>2]=(i|0)==1&1;gt(e)|0;e=0;h=f;return e|0}function Tt(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0;S=h;h=h+32|0;g=S+20|0;b=S+16|0;p=S+12|0;f=S+8|0;w=S+4|0;y=S;hn(t,0,988);_=ee(s[i+56>>2]|0,s[i+52>>2]|0)|0;c=$t(e,w)|0;if(c){r=c;h=S;return r|0}d=s[w>>2]|0;s[t>>2]=d;if(d>>>0>=_>>>0){r=1;h=S;return r|0}c=$t(e,w)|0;if(c){r=c;h=S;return r|0}c=s[w>>2]|0;l=t+4|0;s[l>>2]=c;if((c|0)==5|(c|0)==0)u=5;else if(!((c|0)==7|(c|0)==2)){r=1;h=S;return r|0}if((u|0)==5){if((s[r>>2]|0)==5){r=1;h=S;return r|0}if(!(s[i+44>>2]|0)){r=1;h=S;return r|0}}c=$t(e,w)|0;if(c){r=c;h=S;return r|0}d=s[w>>2]|0;s[t+8>>2]=d;if((d|0)!=(s[n>>2]|0)){r=1;h=S;return r|0}d=i+12|0;c=s[d>>2]|0;u=0;while(1)if(!(c>>>u))break;else u=u+1|0;c=Gt(e,u+-1|0)|0;if((c|0)==-1){r=1;h=S;return r|0}u=(s[r>>2]|0)==5;if(u&(c|0)!=0){r=1;h=S;return r|0}s[t+12>>2]=c;if(u){c=$t(e,w)|0;if(c){r=c;h=S;return r|0}c=s[w>>2]|0;s[t+16>>2]=c;if(c>>>0>65535){r=1;h=S;return r|0}}o=i+16|0;c=s[o>>2]|0;if(!c){a=i+20|0;c=s[a>>2]|0;u=0;while(1)if(!(c>>>u))break;else u=u+1|0;c=Gt(e,u+-1|0)|0;if((c|0)==-1){r=1;h=S;return r|0}u=t+20|0;s[u>>2]=c;do{if(s[n+8>>2]|0){c=Xt(e,y)|0;if(!c){s[t+24>>2]=s[y>>2];break}else{r=c;h=S;return r|0}}}while(0);if((s[r>>2]|0)==5){c=s[u>>2]|0;if(c>>>0>(s[a>>2]|0)>>>1>>>0){r=1;h=S;return r|0}u=s[t+24>>2]|0;if((c|0)!=(((u|0)>0?0:0-u|0)|0)){r=1;h=S;return r|0}}c=s[o>>2]|0}if((c|0)==1?(s[i+24>>2]|0)==0:0){c=Xt(e,y)|0;if(c){r=c;h=S;return r|0}c=t+28|0;s[c>>2]=s[y>>2];do{if(s[n+8>>2]|0){u=Xt(e,y)|0;if(!u){s[t+32>>2]=s[y>>2];break}else{r=u;h=S;return r|0}}}while(0);if((s[r>>2]|0)==5?(u=s[c>>2]|0,c=(s[i+32>>2]|0)+u+(s[t+32>>2]|0)|0,(((u|0)<(c|0)?u:c)|0)!=0):0){r=1;h=S;return r|0}}if(s[n+68>>2]|0){c=$t(e,w)|0;if(c){r=c;h=S;return r|0}c=s[w>>2]|0;s[t+36>>2]=c;if(c>>>0>127){r=1;h=S;return r|0}}c=s[l>>2]|0;if((c|0)==5|(c|0)==0){c=Gt(e,1)|0;if((c|0)==-1){r=1;h=S;return r|0}s[t+40>>2]=c;do{if(!c){c=s[n+48>>2]|0;if(c>>>0>16){r=1;h=S;return r|0}else{s[t+44>>2]=c;break}}else{c=$t(e,w)|0;if(c){r=c;h=S;return r|0}c=s[w>>2]|0;if(c>>>0>15){r=1;h=S;return r|0}else{s[t+44>>2]=c+1;break}}}while(0);c=s[l>>2]|0}do{if((c|0)==5|(c|0)==0){o=s[t+44>>2]|0;u=s[d>>2]|0;c=Gt(e,1)|0;if((c|0)==-1){r=1;h=S;return r|0}s[t+68>>2]=c;if(c){a=0;e:while(1){if(a>>>0>o>>>0){v=1;u=110;break}c=$t(e,f)|0;if(c){v=c;u=110;break}c=s[f>>2]|0;if(c>>>0>3){v=1;u=110;break}s[t+(a*12|0)+72>>2]=c;do{if(c>>>0<2){c=$t(e,p)|0;if(c){v=c;u=110;break e}c=s[p>>2]|0;if(c>>>0>=u>>>0){v=1;u=110;break e}s[t+(a*12|0)+76>>2]=c+1}else{if((c|0)!=2)break;c=$t(e,p)|0;if(c){v=c;u=110;break e}s[t+(a*12|0)+80>>2]=s[p>>2]}}while(0);if((s[f>>2]|0)==3){u=61;break}else a=a+1|0}if((u|0)==61){if(!a)v=1;else break;h=S;return v|0}else if((u|0)==110){h=S;return v|0}}}}while(0);do{if(s[r+4>>2]|0){d=s[i+44>>2]|0;r=(s[r>>2]|0)==5;c=Gt(e,1)|0;u=(c|0)==-1;if(r){if(u){r=1;h=S;return r|0}s[t+276>>2]=c;o=Gt(e,1)|0;if((o|0)==-1){r=1;h=S;return r|0}s[t+280>>2]=o;if((d|0)!=0|(o|0)==0)break;else v=1;h=S;return v|0}if(u){r=1;h=S;return r|0}s[t+284>>2]=c;if(c){u=(d<<1)+2|0;a=0;i=0;o=0;f=0;l=0;while(1){if(a>>>0>u>>>0){v=1;u=110;break}c=$t(e,b)|0;if(c){v=c;u=110;break}c=s[b>>2]|0;if(c>>>0>6){v=1;u=110;break}s[t+(a*20|0)+288>>2]=c;if((c&-3|0)==1){c=$t(e,g)|0;if(c){v=c;u=110;break}s[t+(a*20|0)+292>>2]=(s[g>>2]|0)+1;c=s[b>>2]|0}if((c|0)==2){c=$t(e,g)|0;if(c){v=c;u=110;break}s[t+(a*20|0)+296>>2]=s[g>>2];c=s[b>>2]|0}if((c|0)==3|(c|0)==6){c=$t(e,g)|0;if(c){v=c;u=110;break}s[t+(a*20|0)+300>>2]=s[g>>2];c=s[b>>2]|0}if((c|0)==4){c=$t(e,g)|0;if(c){v=c;u=110;break}c=s[g>>2]|0;if(c>>>0>d>>>0){v=1;u=110;break}if(!c)s[t+(a*20|0)+304>>2]=65535;else s[t+(a*20|0)+304>>2]=c+-1;c=s[b>>2]|0;m=o+1|0}else m=o;f=((c|0)==5&1)+f|0;i=((c|0)!=0&c>>>0<4&1)+i|0;l=((c|0)==6&1)+l|0;if(!c){u=90;break}else{a=a+1|0;o=m}}if((u|0)==90){if(m>>>0>1|f>>>0>1|l>>>0>1){r=1;h=S;return r|0}if((i|0)!=0&(f|0)!=0)v=1;else break;h=S;return v|0}else if((u|0)==110){h=S;return v|0}}}}while(0);o=Xt(e,y)|0;if(o){r=o;h=S;return r|0}r=s[y>>2]|0;s[t+48>>2]=r;r=r+(s[n+52>>2]|0)|0;s[y>>2]=r;if(r>>>0>51){r=1;h=S;return r|0}do{if(s[n+60>>2]|0){o=$t(e,w)|0;if(o){r=o;h=S;return r|0}o=s[w>>2]|0;s[t+52>>2]=o;if(o>>>0>2){r=1;h=S;return r|0}if((o|0)==1)break;o=Xt(e,y)|0;if(o){r=o;h=S;return r|0}o=s[y>>2]|0;if((o+6|0)>>>0>12){r=1;h=S;return r|0}s[t+56>>2]=o<<1;o=Xt(e,y)|0;if(o){r=o;h=S;return r|0}o=s[y>>2]|0;if((o+6|0)>>>0>12){r=1;h=S;return r|0}else{s[t+60>>2]=o<<1;break}}}while(0);do{if((s[n+12>>2]|0)>>>0>1?((s[n+16>>2]|0)+-3|0)>>>0<3:0){c=n+36|0;u=s[c>>2]|0;u=(((_>>>0)%(u>>>0)|0|0)==0?1:2)+((_>>>0)/(u>>>0)|0)|0;a=0;while(1){o=a+1|0;if(!(-1<<o&u))break;else a=o}o=Gt(e,((1<<a)+-1&u|0)==0?a:o)|0;s[w>>2]=o;if((o|0)==-1){r=1;h=S;return r|0}s[t+64>>2]=o;r=s[c>>2]|0;if(o>>>0>(((_+-1+r|0)>>>0)/(r>>>0)|0)>>>0)v=1;else break;h=S;return v|0}}while(0);r=0;h=S;return r|0}function Ct(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;r=h;h=h+32|0;n=r+20|0;i=r;s[i+0>>2]=s[e+0>>2];s[i+4>>2]=s[e+4>>2];s[i+8>>2]=s[e+8>>2];s[i+12>>2]=s[e+12>>2];s[i+16>>2]=s[e+16>>2];e=$t(i,n)|0;if(!e){e=$t(i,n)|0;if(!e){e=$t(i,n)|0;if(!e){e=s[n>>2]|0;if(e>>>0>255)e=1;else{s[t>>2]=e;e=0}}}}h=r;return e|0}function Rt(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,o=0;o=h;h=h+32|0;n=o+20|0;r=o;s[r+0>>2]=s[e+0>>2];s[r+4>>2]=s[e+4>>2];s[r+8>>2]=s[e+8>>2];s[r+12>>2]=s[e+12>>2];s[r+16>>2]=s[e+16>>2];e=$t(r,n)|0;if(e){h=o;return e|0}e=$t(r,n)|0;if(e){h=o;return e|0}e=$t(r,n)|0;if(!e)e=0;else{h=o;return e|0}while(1)if(!(t>>>e))break;else e=e+1|0;e=Gt(r,e+-1|0)|0;if((e|0)==-1){e=1;h=o;return e|0}s[i>>2]=e;e=0;h=o;return e|0}function Dt(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,o=0,a=0;a=h;h=h+32|0;r=a+20|0;o=a;if((i|0)!=5){i=1;h=a;return i|0}s[o+0>>2]=s[e+0>>2];s[o+4>>2]=s[e+4>>2];s[o+8>>2]=s[e+8>>2];s[o+12>>2]=s[e+12>>2];s[o+16>>2]=s[e+16>>2];i=$t(o,r)|0;if(i){h=a;return i|0}i=$t(o,r)|0;if(i){h=a;return i|0}i=$t(o,r)|0;if(!i)i=0;else{h=a;return i|0}while(1)if(!(t>>>i))break;else i=i+1|0;if((Gt(o,i+-1|0)|0)==-1){i=1;h=a;return i|0}i=$t(o,n)|0;h=a;return i|0}function Bt(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,o=0,a=0,u=0,c=0;c=h;h=h+32|0;a=c+20|0;u=c;s[u+0>>2]=s[e+0>>2];s[u+4>>2]=s[e+4>>2];s[u+8>>2]=s[e+8>>2];s[u+12>>2]=s[e+12>>2];s[u+16>>2]=s[e+16>>2];e=$t(u,a)|0;if(e){r=e;h=c;return r|0}e=$t(u,a)|0;if(e){r=e;h=c;return r|0}e=$t(u,a)|0;if(e){r=e;h=c;return r|0}e=s[t+12>>2]|0;r=0;while(1)if(!(e>>>r))break;else r=r+1|0;if((Gt(u,r+-1|0)|0)==-1){r=1;h=c;return r|0}if((i|0)==5?(o=$t(u,a)|0,(o|0)!=0):0){r=o;h=c;return r|0}r=s[t+20>>2]|0;e=0;while(1)if(!(r>>>e))break;else e=e+1|0;r=Gt(u,e+-1|0)|0;if((r|0)==-1){r=1;h=c;return r|0}s[n>>2]=r;r=0;h=c;return r|0}function Mt(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,o=0,a=0,u=0,c=0;c=h;h=h+32|0;a=c+20|0;u=c;s[u+0>>2]=s[e+0>>2];s[u+4>>2]=s[e+4>>2];s[u+8>>2]=s[e+8>>2];s[u+12>>2]=s[e+12>>2];s[u+16>>2]=s[e+16>>2];e=$t(u,a)|0;if(e){r=e;h=c;return r|0}e=$t(u,a)|0;if(e){r=e;h=c;return r|0}e=$t(u,a)|0;if(e){r=e;h=c;return r|0}e=s[t+12>>2]|0;r=0;while(1)if(!(e>>>r))break;else r=r+1|0;if((Gt(u,r+-1|0)|0)==-1){r=1;h=c;return r|0}if((i|0)==5?(o=$t(u,a)|0,(o|0)!=0):0){r=o;h=c;return r|0}r=s[t+20>>2]|0;e=0;while(1)if(!(r>>>e))break;else e=e+1|0;if((Gt(u,e+-1|0)|0)==-1){r=1;h=c;return r|0}r=Xt(u,n)|0;h=c;return r|0}function It(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var o=0,a=0,u=0,c=0,f=0,l=0;l=h;h=h+32|0;u=l+20|0;f=l;s[f+0>>2]=s[e+0>>2];s[f+4>>2]=s[e+4>>2];s[f+8>>2]=s[e+8>>2];s[f+12>>2]=s[e+12>>2];s[f+16>>2]=s[e+16>>2];o=$t(f,u)|0;if(o){f=o;h=l;return f|0}o=$t(f,u)|0;if(o){f=o;h=l;return f|0}o=$t(f,u)|0;if(o){f=o;h=l;return f|0}o=s[t+12>>2]|0;e=0;while(1)if(!(o>>>e))break;else e=e+1|0;if((Gt(f,e+-1|0)|0)==-1){f=1;h=l;return f|0}if((i|0)==5?(a=$t(f,u)|0,(a|0)!=0):0){f=a;h=l;return f|0}o=Xt(f,r)|0;if(o){f=o;h=l;return f|0}if((n|0)!=0?(c=Xt(f,r+4|0)|0,(c|0)!=0):0){f=c;h=l;return f|0}f=0;h=l;return f|0}function Ut(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0;l=h;h=h+32|0;f=l+24|0;u=l+20|0;c=l;s[c+0>>2]=s[t+0>>2];s[c+4>>2]=s[t+4>>2];s[c+8>>2]=s[t+8>>2];s[c+12>>2]=s[t+12>>2];s[c+16>>2]=s[t+16>>2];r=$t(c,f)|0;if(r){d=r;h=l;return d|0}r=$t(c,f)|0;if(r){d=r;h=l;return d|0}r=$t(c,f)|0;if(r){d=r;h=l;return d|0}r=s[i+12>>2]|0;t=0;while(1)if(!(r>>>t))break;else t=t+1|0;if((Gt(c,t+-1|0)|0)==-1){d=1;h=l;return d|0}r=$t(c,f)|0;if(r){d=r;h=l;return d|0}o=i+16|0;r=s[o>>2]|0;if(!r){t=s[i+20>>2]|0;r=0;while(1)if(!(t>>>r))break;else r=r+1|0;if((Gt(c,r+-1|0)|0)==-1){d=1;h=l;return d|0}if((s[n+8>>2]|0)!=0?(a=Xt(c,u)|0,(a|0)!=0):0){d=a;h=l;return d|0}r=s[o>>2]|0}if((r|0)==1?(s[i+24>>2]|0)==0:0){r=Xt(c,u)|0;if(r){d=r;h=l;return d|0}if((s[n+8>>2]|0)!=0?(d=Xt(c,u)|0,(d|0)!=0):0){h=l;return d|0}}if((s[n+68>>2]|0)!=0?(p=$t(c,f)|0,(p|0)!=0):0){d=p;h=l;return d|0}d=Gt(c,1)|0;s[e>>2]=d;d=(d|0)==-1&1;h=l;return d|0}function Pt(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0,B=0;C=h;h=h+448|0;m=C+8|0;E=C+4|0;w=C;m=m+(0-m&15)|0;d=s[t+3376>>2]|0;u=s[n>>2]|0;s[E>>2]=0;x=t+1192|0;s[x>>2]=(s[x>>2]|0)+1;b=t+1200|0;s[b>>2]=0;p=t+12|0;s[w>>2]=(s[n+48>>2]|0)+(s[(s[p>>2]|0)+52>>2]|0);S=n+36|0;v=t+1212|0;g=n+52|0;y=n+56|0;_=n+60|0;k=n+4|0;f=n+44|0;a=t+1220|0;l=t+1172|0;T=t+1176|0;c=d+12|0;A=0;r=0;while(1){n=s[v>>2]|0;if((s[S>>2]|0)==0?(s[n+(u*216|0)+196>>2]|0)!=0:0){r=1;n=22;break}o=s[(s[p>>2]|0)+56>>2]|0;B=s[g>>2]|0;D=s[y>>2]|0;R=s[_>>2]|0;s[n+(u*216|0)+4>>2]=s[x>>2];s[n+(u*216|0)+8>>2]=B;s[n+(u*216|0)+12>>2]=D;s[n+(u*216|0)+16>>2]=R;s[n+(u*216|0)+24>>2]=o;n=s[k>>2]|0;if((n|0)!=2?!((n|0)==7|(r|0)!=0):0){r=$t(e,E)|0;if(r){n=22;break}n=s[E>>2]|0;if(n>>>0>((s[T>>2]|0)-u|0)>>>0){r=1;n=22;break}if(!n)r=0;else{hn(c,0,164);s[d>>2]=0;r=1}}n=s[E>>2]|0;if(!n){r=Ot(e,d,(s[v>>2]|0)+(u*216|0)|0,s[k>>2]|0,s[f>>2]|0)|0;if(!r)o=0;else{n=22;break}}else{s[E>>2]=n+-1;o=r}r=Ht((s[v>>2]|0)+(u*216|0)|0,d,i,a,w,u,s[(s[p>>2]|0)+64>>2]|0,m)|0;if(r){n=22;break}A=((s[(s[v>>2]|0)+(u*216|0)+196>>2]|0)==1&1)+A|0;if(!(yt(e)|0))n=(s[E>>2]|0)!=0;else n=1;r=s[k>>2]|0;if((r|0)==7|(r|0)==2)s[b>>2]=u;u=_t(s[l>>2]|0,s[T>>2]|0,u)|0;if(!((u|0)!=0|n^1)){r=1;n=22;break}if(!n){n=20;break}else r=o}if((n|0)==20){n=t+1196|0;r=(s[n>>2]|0)+A|0;if(r>>>0>(s[T>>2]|0)>>>0){x=1;h=C;return x|0}s[n>>2]=r;x=0;h=C;return x|0}else if((n|0)==22){h=C;return r|0}return 0}function Ft(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,o=0,a=0,u=0,c=0;c=h;a=s[e+1192>>2]|0;i=s[e+1200>>2]|0;u=e+1212|0;e:do{if(!i)i=t;else{n=e+16|0;r=0;do{do{i=i+-1|0;if(i>>>0<=t>>>0)break e}while((s[(s[u>>2]|0)+(i*216|0)+4>>2]|0)!=(a|0));r=r+1|0;o=s[(s[n>>2]|0)+52>>2]|0}while(r>>>0<(o>>>0>10?o:10)>>>0)}}while(0);o=e+1172|0;t=e+1176|0;while(1){n=s[u>>2]|0;if((s[n+(i*216|0)+4>>2]|0)!=(a|0)){i=11;break}r=n+(i*216|0)+196|0;n=s[r>>2]|0;if(!n){i=11;break}s[r>>2]=n+-1;i=_t(s[o>>2]|0,s[t>>2]|0,i)|0;if(!i){i=11;break}}if((i|0)==11){h=c;return}}function Ot(e,t,i,n,o){e=e|0;t=t|0;i=i|0;n=n|0;o=o|0;var a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0;T=h;h=h+32|0;_=T+20|0;w=T+16|0;b=T+12|0;m=T+8|0;k=T+4|0;x=T;hn(t,0,2088);f=$t(e,k)|0;l=s[k>>2]|0;do{if((n|0)==2|(n|0)==7){l=l+6|0;if(l>>>0>31|(f|0)!=0){i=1;h=T;return i|0}else{s[t>>2]=l;p=l;break}}else{l=l+1|0;if(l>>>0>31|(f|0)!=0){i=1;h=T;return i|0}else{s[t>>2]=l;p=l;break}}}while(0);e:do{if((p|0)!=31){t:do{if(p>>>0>=6){p=(p|0)!=6;m=p&1;if((m|0)==1)y=52;else if(!m){s[w>>2]=0;b=0;while(1){n=Kt(e)|0;s[_>>2]=n;y=n>>>31;s[t+(b<<2)+12>>2]=y;if(!y){s[t+(b<<2)+76>>2]=n>>>28&7;l=n<<4;d=1}else{l=n<<1;d=0}n=b|1;y=l>>>31;s[t+(n<<2)+12>>2]=y;if(!y){s[t+(n<<2)+76>>2]=l>>>28&7;f=l<<4;d=d+1|0}else f=l<<1;l=n+1|0;y=f>>>31;s[t+(l<<2)+12>>2]=y;if(!y){s[t+(l<<2)+76>>2]=f>>>28&7;l=f<<4;d=d+1|0}else l=f<<1;f=b|3;y=l>>>31;s[t+(f<<2)+12>>2]=y;if(!y){s[t+(f<<2)+76>>2]=l>>>28&7;n=l<<4;d=d+1|0}else n=l<<1;l=f+1|0;y=n>>>31;s[t+(l<<2)+12>>2]=y;if(!y){s[t+(l<<2)+76>>2]=n>>>28&7;n=n<<4;d=d+1|0}else n=n<<1;l=f+2|0;y=n>>>31;s[t+(l<<2)+12>>2]=y;if(!y){s[t+(l<<2)+76>>2]=n>>>28&7;n=n<<4;d=d+1|0}else n=n<<1;l=f+3|0;y=n>>>31;s[t+(l<<2)+12>>2]=y;if(!y){s[t+(l<<2)+76>>2]=n>>>28&7;n=n<<4;d=d+1|0}else n=n<<1;l=b|7;y=n>>>31;s[t+(l<<2)+12>>2]=y;if(!y){s[t+(l<<2)+76>>2]=n>>>28&7;l=n<<4;d=d+1|0}else l=n<<1;s[_>>2]=l;if((Wt(e,(d*3|0)+8|0)|0)==-1){S=1;y=68;break t}y=(s[w>>2]|0)+1|0;s[w>>2]=y;if((y|0)<2)b=b+8|0;else{y=52;break}}}if((y|0)==52){w=($t(e,_)|0)!=0;f=s[_>>2]|0;if(w|f>>>0>3){S=1;y=68;break}s[t+140>>2]=f}if(p){w=s[t>>2]|0;g=w+-7|0;_=g>>>2;s[t+4>>2]=(g>>>0>11?_+268435453|0:_)<<4|(w>>>0>18?15:0)}else{E=m;y=70}}else{if((p|0)==0|(p|0)==1){v=w;g=_}else if(!((p|0)==3|(p|0)==2)){n=0;do{f=($t(e,b)|0)!=0;l=s[b>>2]|0;if(f|l>>>0>3){d=1;y=96;break}s[t+(n<<2)+176>>2]=l;n=n+1|0}while(n>>>0<4);if((y|0)==96){h=T;return d|0}i:do{if(o>>>0>1&(p|0)!=5){l=o>>>0>2&1;n=0;while(1){if(Jt(e,b,l)|0){d=1;y=96;break}d=s[b>>2]|0;if(d>>>0>=o>>>0){d=1;y=96;break}s[t+(n<<2)+192>>2]=d;n=n+1|0;if(n>>>0>=4){a=0;break i}}if((y|0)==96){h=T;return d|0}}else a=0}while(0);i:while(1){d=s[t+(a<<2)+176>>2]|0;if((d|0)==2|(d|0)==1)d=1;else if(!d)d=0;else d=3;s[b>>2]=d;l=0;while(1){d=Xt(e,m)|0;if(d){y=96;break i}r[t+(a<<4)+(l<<2)+208>>1]=s[m>>2];d=Xt(e,m)|0;if(d){y=96;break i}r[t+(a<<4)+(l<<2)+210>>1]=s[m>>2];y=s[b>>2]|0;s[b>>2]=y+-1;if(!y)break;else l=l+1|0}a=a+1|0;if(a>>>0>=4){E=2;y=70;break t}}if((y|0)==96){h=T;return d|0}}else{v=w;g=_}if(o>>>0>1){if((p|0)==3|(p|0)==2)d=1;else if((p|0)==0|(p|0)==1)d=0;else d=3;f=o>>>0>2&1;n=0;while(1){if(Jt(e,_,f)|0){S=1;y=68;break t}l=s[_>>2]|0;if(l>>>0>=o>>>0){S=1;y=68;break t}s[t+(n<<2)+144>>2]=l;if(!d)break;else{d=d+-1|0;n=n+1|0}}}if((p|0)==0|(p|0)==1){f=0;l=0}else if((p|0)==3|(p|0)==2){f=1;l=0}else{f=3;l=0}while(1){n=Xt(e,w)|0;if(n){S=n;y=68;break t}r[t+(l<<2)+160>>1]=s[w>>2];n=Xt(e,w)|0;if(n){S=n;y=68;break t}r[t+(l<<2)+162>>1]=s[w>>2];if(!f){E=2;y=70;break}else{f=f+-1|0;l=l+1|0}}}}while(0);if((y|0)==68){i=S;h=T;return i|0}do{if((y|0)==70){a=Qt(e,k,(E|0)==0&1)|0;if(!a){k=s[k>>2]|0;s[t+4>>2]=k;if(!k)break e;else break}else{i=a;h=T;return i|0}}}while(0);k=(Xt(e,x)|0)!=0;a=s[x>>2]|0;if(k|(a|0)<-26|(a|0)>25){i=1;h=T;return i|0}s[t+8>>2]=a;f=s[t+4>>2]|0;p=t+272|0;t:do{if((s[t>>2]|0)>>>0>=7){a=Zt(e,t+1864|0,qt(i,0,p)|0,16)|0;if(!(a&15)){r[t+320>>1]=a>>>4&255;a=0;l=3;while(1){d=f>>>1;if(!(f&1))a=a+4|0;else{n=3;while(1){f=Zt(e,t+(a<<6)+332|0,qt(i,a,p)|0,15)|0;s[t+(a<<2)+1992>>2]=f>>>15;if(f&15){u=f;break t}r[t+(a<<1)+272>>1]=f>>>4&255;a=a+1|0;if(!n)break;else n=n+-1|0}}if(!l){c=a;A=d;y=87;break}else{f=d;l=l+-1|0}}}else u=a}else{a=0;l=3;while(1){d=f>>>1;if(!(f&1))a=a+4|0;else{n=3;while(1){f=Zt(e,t+(a<<6)+328|0,qt(i,a,p)|0,16)|0;s[t+(a<<2)+1992>>2]=f>>>16;if(f&15){u=f;break t}r[t+(a<<1)+272>>1]=f>>>4&255;a=a+1|0;if(!n)break;else n=n+-1|0}}if(!l){c=a;A=d;y=87;break}else{f=d;l=l+-1|0}}}}while(0);t:do{if((y|0)==87){if(A&3){u=Zt(e,t+1928|0,-1,4)|0;if(u&15)break;r[t+322>>1]=u>>>4&255;u=Zt(e,t+1944|0,-1,4)|0;if(u&15)break;r[t+324>>1]=u>>>4&255}if(!(A&2))u=0;else{a=7;while(1){u=Zt(e,t+(c<<6)+332|0,qt(i,c,p)|0,15)|0;if(u&15)break t;r[t+(c<<1)+272>>1]=u>>>4&255;s[t+(c<<2)+1992>>2]=u>>>15;if(!a){u=0;break}else{c=c+1|0;a=a+-1|0}}}}}while(0);s[e+16>>2]=((s[e+4>>2]|0)-(s[e>>2]|0)<<3)+(s[e+8>>2]|0);if(u){i=u;h=T;return i|0}}else{while(1){if(Yt(e)|0)break;if(Gt(e,1)|0){d=1;y=96;break}}if((y|0)==96){h=T;return d|0}c=0;u=t+328|0;while(1){a=Gt(e,8)|0;s[k>>2]=a;if((a|0)==-1){d=1;break}s[u>>2]=a;c=c+1|0;if(c>>>0>=384)break e;else u=u+4|0}h=T;return d|0}}while(0);i=0;h=T;return i|0}function Lt(e){e=e|0;if(e>>>0<6)e=2;else e=(e|0)!=6&1;return e|0}function Nt(e){e=e|0;var t=0;t=h;if((e|0)==0|(e|0)==1)e=1;else if((e|0)==3|(e|0)==2)e=2;else e=4;h=t;return e|0}function jt(e){e=e|0;var t=0;t=h;if((e|0)==2|(e|0)==1)e=2;else if(!e)e=1;else e=4;h=t;return e|0}function zt(e){e=e|0;return e+1&3|0}function Ht(e,t,i,o,a,u,c,f){e=e|0;t=t|0;i=i|0;o=o|0;a=a|0;u=u|0;c=c|0;f=f|0;var l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0;w=h;g=s[t>>2]|0;s[e>>2]=g;p=e+196|0;s[p>>2]=(s[p>>2]|0)+1;wt(i,u);if((g|0)==31){l=e+28|0;s[e+20>>2]=0;if((s[p>>2]|0)>>>0>1){r[l>>1]=16;r[e+30>>1]=16;r[e+32>>1]=16;r[e+34>>1]=16;r[e+36>>1]=16;r[e+38>>1]=16;r[e+40>>1]=16;r[e+42>>1]=16;r[e+44>>1]=16;r[e+46>>1]=16;r[e+48>>1]=16;r[e+50>>1]=16;r[e+52>>1]=16;r[e+54>>1]=16;r[e+56>>1]=16;r[e+58>>1]=16;r[e+60>>1]=16;r[e+62>>1]=16;r[e+64>>1]=16;r[e+66>>1]=16;r[e+68>>1]=16;r[e+70>>1]=16;r[e+72>>1]=16;r[e+74>>1]=16;y=0;h=w;return y|0}p=23;a=t+328|0;d=f;while(1){r[l>>1]=16;n[d>>0]=s[a>>2];n[d+1>>0]=s[a+4>>2];n[d+2>>0]=s[a+8>>2];n[d+3>>0]=s[a+12>>2];n[d+4>>0]=s[a+16>>2];n[d+5>>0]=s[a+20>>2];n[d+6>>0]=s[a+24>>2];n[d+7>>0]=s[a+28>>2];n[d+8>>0]=s[a+32>>2];n[d+9>>0]=s[a+36>>2];n[d+10>>0]=s[a+40>>2];n[d+11>>0]=s[a+44>>2];n[d+12>>0]=s[a+48>>2];n[d+13>>0]=s[a+52>>2];n[d+14>>0]=s[a+56>>2];n[d+15>>0]=s[a+60>>2];if(!p)break;else{p=p+-1|0;a=a+64|0;d=d+16|0;l=l+2|0}}et(i,f);y=0;h=w;return y|0}l=e+28|0;if(g){fn(l,t+272|0,54);d=s[t+8>>2]|0;p=s[a>>2]|0;do{if(d){p=p+d|0;s[a>>2]=p;if((p|0)<0){p=p+52|0;s[a>>2]=p;break}if((p|0)>51){p=p+-52|0;s[a>>2]=p}}}while(0);v=e+20|0;s[v>>2]=p;d=t+328|0;a=t+1992|0;e:do{if((s[e>>2]|0)>>>0<7){b=15;p=l;while(1){if(r[p>>1]|0){if(pt(d,s[v>>2]|0,0,s[a>>2]|0)|0){l=1;break}}else s[d>>2]=16777215;d=d+64|0;p=p+2|0;a=a+4|0;if(!b)break e;else b=b+-1|0}h=w;return l|0}else{if(!(r[e+76>>1]|0)){b=464;m=15;p=l}else{mt(t+1864|0,p);b=464;m=15;p=l}while(1){l=s[t+(s[b>>2]<<2)+1864>>2]|0;b=b+4|0;s[d>>2]=l;if((l|0)==0?(r[p>>1]|0)==0:0)s[d>>2]=16777215;else _=18;if((_|0)==18?(_=0,(pt(d,s[v>>2]|0,1,s[a>>2]|0)|0)!=0):0){l=1;break}d=d+64|0;p=p+2|0;a=a+4|0;if(!m)break e;else m=m+-1|0}h=w;return l|0}}while(0);b=s[192+((St(0,51,(s[e+24>>2]|0)+(s[v>>2]|0)|0)|0)<<2)>>2]|0;if((r[e+78>>1]|0)==0?(r[e+80>>1]|0)==0:0){m=t+1928|0;l=7}else{m=t+1928|0;bt(m,b);l=7}while(1){v=s[m>>2]|0;m=m+4|0;s[d>>2]=v;if((v|0)==0?(r[p>>1]|0)==0:0)s[d>>2]=16777215;else _=31;if((_|0)==31?(_=0,(pt(d,b,1,s[a>>2]|0)|0)!=0):0){l=1;_=39;break}if(!l)break;else{d=d+64|0;a=a+4|0;l=l+-1|0;p=p+2|0}}if((_|0)==39){h=w;return l|0}if(g>>>0>=6){p=_i(e,t,i,u,c,f)|0;if(p){y=p;h=w;return y|0}}else _=37}else{hn(l,0,54);s[e+20>>2]=s[a>>2];_=37}if((_|0)==37?(y=Ae(e,t,o,u,i,f)|0,(y|0)!=0):0){h=w;return y|0}y=0;h=w;return y|0}function Vt(e){e=e|0;return e|0}function qt(e,t,i){e=e|0;t=t|0;i=i|0;var o=0,a=0,u=0,c=0,f=0;c=h;f=ni(t)|0;o=ri(t)|0;a=n[f+4>>0]|0;u=n[o+4>>0]|0;o=(s[o>>2]|0)==4;if((s[f>>2]|0)==4){t=r[i+((a&255)<<1)>>1]|0;if(o){t=t+1+(r[i+((u&255)<<1)>>1]|0)>>1;h=c;return t|0}o=e+204|0;if(!(ai(e,s[o>>2]|0)|0)){h=c;return t|0}t=t+1+(r[(s[o>>2]|0)+((u&255)<<1)+28>>1]|0)>>1;h=c;return t|0}if(o){t=r[i+((u&255)<<1)>>1]|0;o=e+200|0;if(!(ai(e,s[o>>2]|0)|0)){h=c;return t|0}t=t+1+(r[(s[o>>2]|0)+((a&255)<<1)+28>>1]|0)>>1;h=c;return t|0}o=e+200|0;if(!(ai(e,s[o>>2]|0)|0)){a=0;i=0}else{a=r[(s[o>>2]|0)+((a&255)<<1)+28>>1]|0;i=1}o=e+204|0;if(!(ai(e,s[o>>2]|0)|0)){t=a;h=c;return t|0}t=r[(s[o>>2]|0)+((u&255)<<1)+28>>1]|0;if(!i){h=c;return t|0}t=a+1+t>>1;h=c;return t|0}function Gt(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0;m=h;d=e+4|0;u=s[d>>2]|0;l=s[e+12>>2]<<3;p=e+16|0;f=s[p>>2]|0;r=l-f|0;if((r|0)>31){i=e+8|0;r=s[i>>2]|0;n=(o[u+1>>0]|0)<<16|(o[u>>0]|0)<<24|(o[u+2>>0]|0)<<8|(o[u+3>>0]|0);if(!r)a=i;else{a=i;n=(o[u+4>>0]|0)>>>(8-r|0)|n<<r}}else{a=e+8|0;if((r|0)>0){i=s[a>>2]|0;c=i+24|0;n=(o[u>>0]|0)<<c;r=r+-8+i|0;if((r|0)>0){i=r;r=c;do{u=u+1|0;r=r+-8|0;n=(o[u>>0]|0)<<r|n;i=i+-8|0}while((i|0)>0)}}else n=0}i=f+t|0;s[p>>2]=i;s[a>>2]=i&7;if(i>>>0>l>>>0){d=-1;h=m;return d|0}s[d>>2]=(s[e>>2]|0)+(i>>>3);d=n>>>(32-t|0);h=m;return d|0}function Kt(e){e=e|0;var t=0,i=0,n=0,r=0,a=0;r=h;n=s[e+4>>2]|0;i=(s[e+12>>2]<<3)-(s[e+16>>2]|0)|0;if((i|0)>31){t=s[e+8>>2]|0;e=(o[n+1>>0]|0)<<16|(o[n>>0]|0)<<24|(o[n+2>>0]|0)<<8|(o[n+3>>0]|0);if(!t){t=e;h=r;return t|0}t=(o[n+4>>0]|0)>>>(8-t|0)|e<<t;h=r;return t|0}if((i|0)<=0){t=0;h=r;return t|0}a=s[e+8>>2]|0;e=a+24|0;t=(o[n>>0]|0)<<e;i=i+-8+a|0;if((i|0)<=0){h=r;return t|0}do{n=n+1|0;e=e+-8|0;t=(o[n>>0]|0)<<e|t;i=i+-8|0}while((i|0)>0);h=r;return t|0}function Wt(e,t){e=e|0;t=t|0;var i=0,n=0;i=h;n=e+16|0;t=(s[n>>2]|0)+t|0;s[n>>2]=t;s[e+8>>2]=t&7;if(t>>>0>s[e+12>>2]<<3>>>0){t=-1;h=i;return t|0}s[e+4>>2]=(s[e>>2]|0)+(t>>>3);t=0;h=i;return t|0}function Yt(e){e=e|0;return(s[e+8>>2]|0)==0|0}function $t(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,o=0;o=h;i=Kt(e)|0;do{if((i|0)>=0){if(i>>>0>1073741823){if((Wt(e,3)|0)==-1){i=1;break}s[t>>2]=(i>>>29&1)+1;i=0;break}if(i>>>0>536870911){if((Wt(e,5)|0)==-1){i=1;break}s[t>>2]=(i>>>27&3)+3;i=0;break}if(i>>>0>268435455){if((Wt(e,7)|0)==-1){i=1;break}s[t>>2]=(i>>>25&7)+7;i=0;break}i=vt(i,28)|0;n=i+4|0;if((n|0)!=32){Wt(e,i+5|0)|0;i=Gt(e,n)|0;if((i|0)==-1){i=1;break}s[t>>2]=(1<<n)+-1+i;i=0;break}s[t>>2]=0;Wt(e,32)|0;if((Gt(e,1)|0)==1?(r=Kt(e)|0,(Wt(e,32)|0)!=-1):0)if((r|0)==1){s[t>>2]=-1;i=1;break}else if(!r){s[t>>2]=-1;i=0;break}else{i=1;break}else i=1}else{Wt(e,1)|0;s[t>>2]=0;i=0}}while(0);h=o;return i|0}function Xt(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;n=h;h=h+16|0;r=n;s[r>>2]=0;i=$t(e,r)|0;e=s[r>>2]|0;i=(i|0)==0;if((e|0)==-1)if(i)e=1;else{s[t>>2]=-2147483648;e=0}else if(i){i=(e+1|0)>>>1;s[t>>2]=(e&1|0)!=0?i:0-i|0;e=0}else e=1;h=n;return e|0}function Qt(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;r=h;h=h+16|0;n=r;if($t(e,n)|0){n=1;h=r;return n|0}n=s[n>>2]|0;if(n>>>0>47){n=1;h=r;return n|0}s[t>>2]=o[((i|0)==0?576:528)+n>>0];n=0;h=r;return n|0}function Jt(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=h;if(!i){i=Gt(e,1)|0;s[t>>2]=i;if((i|0)==-1)i=1;else{s[t>>2]=i^1;i=0}}else i=$t(e,t)|0;h=n;return i|0}function Zt(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0,B=0,M=0,I=0,U=0,P=0,F=0,O=0,L=0,N=0,j=0;j=h;h=h+128|0;L=j+64|0;N=j;d=Kt(e)|0;m=d>>>16;do{if(i>>>0<2)if((d|0)>=0){if(d>>>0>201326591){p=a[1264+(d>>>26<<1)>>1]|0;c=25;break}if(d>>>0>16777215){p=a[1328+(d>>>22<<1)>>1]|0;c=25;break}if(d>>>0>2097151){p=a[1424+((d>>>18)+-8<<1)>>1]|0;c=25;break}else{p=a[1536+(m<<1)>>1]|0;c=25;break}}else b=1;else if(i>>>0<4){if((d|0)<0){b=(m&16384|0)!=0?2:2082;break}if(d>>>0>268435455){p=a[1600+(d>>>26<<1)>>1]|0;c=25;break}if(d>>>0>33554431){p=a[1664+(d>>>23<<1)>>1]|0;c=25;break}else{p=a[1728+(d>>>18<<1)>>1]|0;c=25;break}}else{if(i>>>0<8){i=d>>>26;if((i+-8|0)>>>0<56){p=a[1984+(i<<1)>>1]|0;c=25;break}p=a[2112+(d>>>22<<1)>>1]|0;c=25;break}if(i>>>0<17){p=a[2368+(d>>>26<<1)>>1]|0;c=25;break}i=d>>>29;if(i){p=a[2496+(i<<1)>>1]|0;c=25;break}p=a[2512+(d>>>24<<1)>>1]|0;c=25;break}}while(0);if((c|0)==25)if(!p){C=1;h=j;return C|0}else b=p;p=b&31;i=d<<p;m=32-p|0;U=b>>>11&31;if(U>>>0>n>>>0){C=1;h=j;return C|0}w=b>>>5&63;do{if(U){if(!w)p=0;else{do{if(m>>>0<w>>>0)if((Wt(e,p)|0)==-1){C=1;h=j;return C|0}else{m=32;i=Kt(e)|0;break}}while(0);d=i>>>(32-w|0);i=i<<w;c=0;p=1<<w+-1;do{s[L+(c<<2)>>2]=(p&d|0)!=0?-1:1;p=p>>>1;c=c+1|0}while((p|0)!=0);m=m-w|0;p=c}_=w>>>0<3;e:do{if(p>>>0<U>>>0){y=p;g=U>>>0>10&_&1;t:while(1){if(m>>>0<16){if((Wt(e,32-m|0)|0)==-1){P=1;c=127;break}v=32;i=Kt(e)|0}else v=m;do{if((i|0)>=0)if(i>>>0<=1073741823)if(i>>>0<=536870911)if(i>>>0<=268435455)if(i>>>0<=134217727)if(i>>>0<=67108863)if(i>>>0<=33554431)if(i>>>0<=16777215)if(i>>>0<=8388607)if(i>>>0>4194303){I=9;c=59}else{if(i>>>0>2097151){I=10;c=59;break}if(i>>>0>1048575){I=11;c=59;break}if(i>>>0>524287){I=12;c=59;break}if(i>>>0>262143){I=13;c=59;break}if(i>>>0>131071){m=14;p=i<<15;d=v+-15|0;b=g;c=(g|0)!=0?g:4}else{if(i>>>0<65536){P=1;c=127;break t}m=15;p=i<<16;d=v+-16|0;b=(g|0)!=0?g:1;c=12}M=m<<b;T=p;x=d;k=b;E=c;S=(b|0)==0;c=60}else{I=8;c=59}else{I=7;c=59}else{I=6;c=59}else{I=5;c=59}else{I=4;c=59}else{I=3;c=59}else{I=2;c=59}else{I=1;c=59}else{I=0;c=59}}while(0);if((c|0)==59){c=0;m=I+1|0;p=i<<m;m=v-m|0;i=I<<g;if(!g){D=m;B=p;A=i;C=0;R=1}else{M=i;T=p;x=m;k=g;E=g;S=0;c=60}}if((c|0)==60){if(x>>>0<E>>>0){if((Wt(e,32-x|0)|0)==-1){P=1;c=127;break}p=32;i=Kt(e)|0}else{p=x;i=T}D=p-E|0;B=i<<E;A=(i>>>(32-E|0))+M|0;C=k;R=S}g=(y|0)==(w|0)&_?A+2|0:A;p=(g+2|0)>>>1;d=R?1:C;s[L+(y<<2)>>2]=(g&1|0)==0?p:0-p|0;y=y+1|0;if(y>>>0>=U>>>0){f=D;l=B;break e}else{m=D;i=B;g=((p|0)>(3<<d+-1|0)&d>>>0<6&1)+d|0}}if((c|0)==127){h=j;return P|0}}else{f=m;l=i}}while(0);if(U>>>0<n>>>0){do{if(f>>>0<9)if((Wt(e,32-f|0)|0)==-1){C=1;h=j;return C|0}else{f=32;l=Kt(e)|0;break}}while(0);c=l>>>23;e:do{if((n|0)==4)if((l|0)>=0)if((U|0)!=3)if(l>>>0<=1073741823)if((U|0)==2)c=34;else c=l>>>0>536870911?35:51;else c=18;else c=17;else c=1;else{do{switch(U|0){case 12:{c=o[1232+(l>>>28)>>0]|0;break}case 13:{c=o[1248+(l>>>29)>>0]|0;break}case 6:{c=o[928+(l>>>26)>>0]|0;break}case 5:{c=o[896+(l>>>27)>>0]|0;break}case 2:{c=o[736+(l>>>26)>>0]|0;break}case 9:{c=o[1120+(l>>>26)>>0]|0;break}case 10:{c=o[1184+(l>>>27)>>0]|0;break}case 11:{c=o[1216+(l>>>28)>>0]|0;break}case 14:{c=o[1256+(l>>>30)>>0]|0;break}case 7:{c=o[992+(l>>>26)>>0]|0;break}case 8:{c=o[1056+(l>>>26)>>0]|0;break}case 1:{if(l>>>0>268435455)c=o[672+(l>>>27)>>0]|0;else c=o[704+c>>0]|0;break}case 3:{c=o[800+(l>>>26)>>0]|0;break}case 4:{c=o[864+(l>>>27)>>0]|0;break}default:{c=l>>31&16|1;break e}}}while(0);if(!c){C=1;h=j;return C|0}}}while(0);d=c&15;f=f-d|0;l=l<<d;d=c>>>4&15}else d=0;m=U+-1|0;i=(m|0)==0;if(i){s[t+(d<<2)>>2]=s[L+(m<<2)>>2];F=f;r=1<<d;break}else{c=l;p=0}e:while(1){if(!d){s[N+(p<<2)>>2]=1;O=f;u=0}else{if(f>>>0<11){if((Wt(e,32-f|0)|0)==-1){P=1;c=127;break}f=32;c=Kt(e)|0}switch(d|0){case 5:{l=o[656+(c>>>29)>>0]|0;break}case 6:{l=o[664+(c>>>29)>>0]|0;break}case 1:{l=o[624+(c>>>31)>>0]|0;break}case 2:{l=o[632+(c>>>30)>>0]|0;break}case 3:{l=o[640+(c>>>30)>>0]|0;break}case 4:{l=o[648+(c>>>29)>>0]|0;break}default:{do{if(c>>>0<=536870911)if(c>>>0<=268435455)if(c>>>0<=134217727)if(c>>>0<=67108863)if(c>>>0<=33554431)if(c>>>0>16777215)l=184;else{if(c>>>0>8388607){l=201;break}if(c>>>0>4194303){l=218;break}l=c>>>0<2097152?0:235}else l=167;else l=150;else l=133;else l=116;else l=c>>>29<<4^115}while(0);if((l>>>4&15)>>>0>d>>>0){P=1;c=127;break e}}}if(!l){P=1;c=127;break}C=l&15;u=l>>>4&15;s[N+(p<<2)>>2]=u+1;O=f-C|0;c=c<<C;u=d-u|0}p=p+1|0;if(p>>>0>=m>>>0){c=122;break}else{f=O;d=u}}if((c|0)==122){s[t+(u<<2)>>2]=s[L+(m<<2)>>2];r=1<<u;if(i){F=O;break}c=U+-2|0;while(1){u=(s[N+(c<<2)>>2]|0)+u|0;r=1<<u|r;s[t+(u<<2)>>2]=s[L+(c<<2)>>2];if(!c){F=O;break}else c=c+-1|0}}else if((c|0)==127){h=j;return P|0}}else{F=m;r=0}}while(0);if(Wt(e,32-F|0)|0){C=1;h=j;return C|0}C=r<<16|U<<4;h=j;return C|0}function ei(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;r=h;e:do{if((Gt(e,1)|0)!=-1?(n=t+4|0,s[n>>2]=Gt(e,2)|0,i=Gt(e,5)|0,s[t>>2]=i,(i+-2|0)>>>0>=3):0){switch(i|0){case 5:case 7:case 8:{if(!(s[n>>2]|0)){i=1;break e}switch(i|0){case 6:case 9:case 10:case 11:case 12:{i=1;break e}default:{}}break}case 6:case 9:case 10:case 11:case 12:{if(s[n>>2]|0){i=1;break e}break}default:{}}i=0}else i=1}while(0);h=r;return i|0}function ti(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0;p=h;if(!i){h=p;return}l=t+-1|0;u=1-t|0;c=~t;o=0;a=0;f=0;while(1){r=(o|0)!=0;if(r)s[e+(a*216|0)+200>>2]=e+((a+-1|0)*216|0);else s[e+(a*216|0)+200>>2]=0;n=(f|0)!=0;if(n){s[e+(a*216|0)+204>>2]=e+((a-t|0)*216|0);if(o>>>0<l>>>0)s[e+(a*216|0)+208>>2]=e+((u+a|0)*216|0);else d=10}else{s[e+(a*216|0)+204>>2]=0;d=10}if((d|0)==10){d=0;s[e+(a*216|0)+208>>2]=0}if(n&r)s[e+(a*216|0)+212>>2]=e+((a+c|0)*216|0);else s[e+(a*216|0)+212>>2]=0;n=o+1|0;r=(n|0)==(t|0);a=a+1|0;if((a|0)==(i|0))break;else{o=r?0:n;f=(r&1)+f|0}}h=p;return}function ii(e,t){e=e|0;t=t|0;var i=0;i=h;switch(t|0){case 4:break;case 0:{e=s[e+200>>2]|0;break}case 2:{e=s[e+208>>2]|0;break}case 1:{e=s[e+204>>2]|0;break}case 3:{e=s[e+212>>2]|0;break}default:e=0}h=i;return e|0}function ni(e){e=e|0;return 3152+(e<<3)|0}function ri(e){e=e|0;return 2960+(e<<3)|0}function si(e){e=e|0;return 2768+(e<<3)|0}function oi(e){e=e|0;return 2576+(e<<3)|0}function ai(e,t){e=e|0;t=t|0;var i=0;i=h;if(!t){h=i;return 0}else{h=i;return(s[e+4>>2]|0)==(s[t+4>>2]|0)|0}return 0}function ui(e){e=e|0;var t=0;t=h;hn(e,0,3388);s[e+8>>2]=32;s[e+4>>2]=256;s[e+1332>>2]=1;h=t;return}function ci(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,o=0,a=0;a=h;r=s[t+8>>2]|0;o=e+(r<<2)+20|0;n=s[o>>2]|0;do{if(!n){i=un(92)|0;s[o>>2]=i;if(!i){i=65535;h=a;return i|0}}else{i=e+8|0;if((r|0)!=(s[i>>2]|0)){cn(s[n+40>>2]|0);s[(s[o>>2]|0)+40>>2]=0;cn(s[(s[o>>2]|0)+84>>2]|0);s[(s[o>>2]|0)+84>>2]=0;break}r=e+16|0;if(kt(t,s[r>>2]|0)|0){cn(s[(s[o>>2]|0)+40>>2]|0);s[(s[o>>2]|0)+40>>2]=0;cn(s[(s[o>>2]|0)+84>>2]|0);s[(s[o>>2]|0)+84>>2]=0;s[i>>2]=33;s[e+4>>2]=257;s[r>>2]=0;s[e+12>>2]=0;break}i=t+40|0;cn(s[i>>2]|0);s[i>>2]=0;i=t+84|0;cn(s[i>>2]|0);s[i>>2]=0;i=0;h=a;return i|0}}while(0);r=(s[o>>2]|0)+0|0;i=t+0|0;n=r+92|0;do{s[r>>2]=s[i>>2];r=r+4|0;i=i+4|0}while((r|0)<(n|0));i=0;h=a;return i|0}function fi(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,o=0,a=0;a=h;r=s[t>>2]|0;o=e+(r<<2)+148|0;i=s[o>>2]|0;do{if(!i){i=un(72)|0;s[o>>2]=i;if(!i){i=65535;h=a;return i|0}}else{n=e+4|0;if((r|0)!=(s[n>>2]|0)){cn(s[i+20>>2]|0);s[(s[o>>2]|0)+20>>2]=0;cn(s[(s[o>>2]|0)+24>>2]|0);s[(s[o>>2]|0)+24>>2]=0;cn(s[(s[o>>2]|0)+28>>2]|0);s[(s[o>>2]|0)+28>>2]=0;cn(s[(s[o>>2]|0)+44>>2]|0);s[(s[o>>2]|0)+44>>2]=0;break}if((s[t+4>>2]|0)!=(s[e+8>>2]|0)){s[n>>2]=257;i=s[o>>2]|0}cn(s[i+20>>2]|0);s[(s[o>>2]|0)+20>>2]=0;cn(s[(s[o>>2]|0)+24>>2]|0);s[(s[o>>2]|0)+24>>2]=0;cn(s[(s[o>>2]|0)+28>>2]|0);s[(s[o>>2]|0)+28>>2]=0;cn(s[(s[o>>2]|0)+44>>2]|0);s[(s[o>>2]|0)+44>>2]=0}}while(0);r=(s[o>>2]|0)+0|0;i=t+0|0;n=r+72|0;do{s[r>>2]=s[i>>2];r=r+4|0;i=i+4|0}while((r|0)<(n|0));i=0;h=a;return i|0}function hi(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0;b=h;p=e+(t<<2)+148|0;r=s[p>>2]|0;if(!r){p=1;h=b;return p|0}d=s[r+4>>2]|0;o=s[e+(d<<2)+20>>2]|0;if(!o){p=1;h=b;return p|0}f=s[o+52>>2]|0;l=ee(s[o+56>>2]|0,f)|0;a=s[r+12>>2]|0;e:do{if(a>>>0>1){o=s[r+16>>2]|0;if(!o){o=s[r+20>>2]|0;r=0;while(1){if((s[o+(r<<2)>>2]|0)>>>0>l>>>0){n=1;break}r=r+1|0;if(r>>>0>=a>>>0)break e}h=b;return n|0}else if((o|0)==2){c=s[r+24>>2]|0;u=s[r+28>>2]|0;a=a+-1|0;n=0;while(1){r=s[c+(n<<2)>>2]|0;o=s[u+(n<<2)>>2]|0;if(!(r>>>0<=o>>>0&o>>>0<l>>>0)){n=1;o=33;break}n=n+1|0;if(((r>>>0)%(f>>>0)|0)>>>0>((o>>>0)%(f>>>0)|0)>>>0){n=1;o=33;break}if(n>>>0>=a>>>0)break e}if((o|0)==33){h=b;return n|0}}else{if((o+-3|0)>>>0<3){if((s[r+36>>2]|0)>>>0>l>>>0)n=1;else break;h=b;return n|0}if((o|0)!=6)break;if((s[r+40>>2]|0)>>>0<l>>>0)n=1;else break;h=b;return n|0}}}while(0);r=e+4|0;o=s[r>>2]|0;do{if((o|0)!=256){n=e+3380|0;if(!(s[n>>2]|0)){if((o|0)==(t|0))break;o=e+8|0;if((d|0)==(s[o>>2]|0)){s[r>>2]=t;s[e+12>>2]=s[p>>2];break}if(!i){p=1;h=b;return p|0}else{s[r>>2]=t;p=s[p>>2]|0;s[e+12>>2]=p;p=s[p+4>>2]|0;s[o>>2]=p;p=s[e+(p<<2)+20>>2]|0;s[e+16>>2]=p;d=s[p+52>>2]|0;p=s[p+56>>2]|0;s[e+1176>>2]=ee(p,d)|0;s[e+1340>>2]=d;s[e+1344>>2]=p;s[n>>2]=1;break}}s[n>>2]=0;n=e+1212|0;cn(s[n>>2]|0);s[n>>2]=0;r=e+1172|0;cn(s[r>>2]|0);s[r>>2]=0;o=e+1176|0;s[n>>2]=un((s[o>>2]|0)*216|0)|0;p=un(s[o>>2]<<2)|0;s[r>>2]=p;r=s[n>>2]|0;if((r|0)==0|(p|0)==0){p=65535;h=b;return p|0}hn(r,0,(s[o>>2]|0)*216|0);r=e+16|0;ti(s[n>>2]|0,s[(s[r>>2]|0)+52>>2]|0,s[o>>2]|0);r=s[r>>2]|0;do{if((s[e+1216>>2]|0)==0?(s[r+16>>2]|0)!=2:0){if(((s[r+80>>2]|0)!=0?(m=s[r+84>>2]|0,(s[m+920>>2]|0)!=0):0)?(s[m+944>>2]|0)==0:0){n=1;break}n=0}else n=1}while(0);p=ee(s[r+56>>2]|0,s[r+52>>2]|0)|0;n=We(e+1220|0,p,s[r+88>>2]|0,s[r+44>>2]|0,s[r+12>>2]|0,n)|0;if(n){p=n;h=b;return p|0}}else{s[r>>2]=t;p=s[p>>2]|0;s[e+12>>2]=p;p=s[p+4>>2]|0;s[e+8>>2]=p;p=s[e+(p<<2)+20>>2]|0;s[e+16>>2]=p;d=s[p+52>>2]|0;p=s[p+56>>2]|0;s[e+1176>>2]=ee(p,d)|0;s[e+1340>>2]=d;s[e+1344>>2]=p;s[e+3380>>2]=1}}while(0);p=0;h=b;return p|0}function li(e){e=e|0;var t=0,i=0,n=0;n=h;s[e+1196>>2]=0;s[e+1192>>2]=0;i=s[e+1176>>2]|0;if(!i){h=n;return}e=s[e+1212>>2]|0;t=0;do{s[e+(t*216|0)+4>>2]=0;s[e+(t*216|0)+196>>2]=0;t=t+1|0}while(t>>>0<i>>>0);h=n;return}function di(e){e=e|0;return(s[e+1188>>2]|0)==0|0}function pi(e){e=e|0;var t=0,i=0,n=0,r=0;r=h;if(!(s[e+1404>>2]|0)){if((s[e+1196>>2]|0)==(s[e+1176>>2]|0)){e=1;h=r;return e|0}}else{n=s[e+1176>>2]|0;if(!n){e=1;h=r;return e|0}e=s[e+1212>>2]|0;t=0;i=0;do{i=((s[e+(t*216|0)+196>>2]|0)!=0&1)+i|0;t=t+1|0}while(t>>>0<n>>>0);if((i|0)==(n|0)){e=1;h=r;return e|0}}e=0;h=r;return e|0}function mi(e,t){e=e|0;t=t|0;var i=0,n=0;i=h;n=s[e+16>>2]|0;gi(s[e+1172>>2]|0,s[e+12>>2]|0,t,s[n+52>>2]|0,s[n+56>>2]|0);h=i;return}function bi(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0;y=h;h=h+32|0;o=y+24|0;u=y+20|0;c=y+16|0;d=y+12|0;v=y+8|0;b=y;s[n>>2]=0;switch(s[t>>2]|0){case 5:case 1:{g=i+1300|0;a=i+1332|0;if(s[a>>2]|0){s[n>>2]=1;s[a>>2]=0}a=Ct(e,o)|0;if(a){p=a;h=y;return p|0}f=s[i+(s[o>>2]<<2)+148>>2]|0;if(!f){p=65520;h=y;return p|0}a=s[f+4>>2]|0;l=s[i+(a<<2)+20>>2]|0;if(!l){p=65520;h=y;return p|0}o=s[i+8>>2]|0;if(!((o|0)==32|(a|0)==(o|0))?(s[t>>2]|0)!=5:0){p=65520;h=y;return p|0}o=s[i+1304>>2]|0;a=s[t+4>>2]|0;if((o|0)!=(a|0)?(o|0)==0|(a|0)==0:0)s[n>>2]=1;a=(s[t>>2]|0)==5;if((s[g>>2]|0)==5){if(!a)r=16}else if(a)r=16;if((r|0)==16)s[n>>2]=1;o=l+12|0;if(Rt(e,s[o>>2]|0,u)|0){p=1;h=y;return p|0}r=i+1308|0;a=s[u>>2]|0;if((s[r>>2]|0)!=(a|0)){s[r>>2]=a;s[n>>2]=1}if((s[t>>2]|0)==5){if(Dt(e,s[o>>2]|0,5,c)|0){p=1;h=y;return p|0}if((s[g>>2]|0)==5){a=i+1312|0;r=s[a>>2]|0;o=s[c>>2]|0;if((r|0)==(o|0))o=r;else s[n>>2]=1}else{o=s[c>>2]|0;a=i+1312|0}s[a>>2]=o}o=s[l+16>>2]|0;if(!o){if(Bt(e,l,s[t>>2]|0,d)|0){p=1;h=y;return p|0}r=i+1316|0;o=s[d>>2]|0;if((s[r>>2]|0)!=(o|0)){s[r>>2]=o;s[n>>2]=1}if(s[f+8>>2]|0){r=Mt(e,l,s[t>>2]|0,v)|0;if(r){p=r;h=y;return p|0}o=i+1320|0;r=s[v>>2]|0;if((s[o>>2]|0)!=(r|0)){s[o>>2]=r;s[n>>2]=1}}}else if((o|0)==1?(s[l+24>>2]|0)==0:0){a=f+8|0;o=It(e,l,s[t>>2]|0,s[a>>2]|0,b)|0;if(o){p=o;h=y;return p|0}r=i+1324|0;o=s[b>>2]|0;if((s[r>>2]|0)!=(o|0)){s[r>>2]=o;s[n>>2]=1}if((s[a>>2]|0)!=0?(m=i+1328|0,p=s[b+4>>2]|0,(s[m>>2]|0)!=(p|0)):0){s[m>>2]=p;s[n>>2]=1}}d=t;e=s[d+4>>2]|0;p=g;s[p>>2]=s[d>>2];s[p+4>>2]=e;p=0;h=y;return p|0}case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:{s[n>>2]=1;p=0;h=y;return p|0}default:{p=0;h=y;return p|0}}return 0}function vi(e){e=e|0;var t=0,i=0,n=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0;d=h;f=0;e:while(1){t=s[e+(f<<2)+148>>2]|0;t:do{if((t|0)!=0?(c=s[e+(s[t+4>>2]<<2)+20>>2]|0,(c|0)!=0):0){u=s[c+52>>2]|0;l=ee(s[c+56>>2]|0,u)|0;r=s[t+12>>2]|0;if(r>>>0<=1){t=0;i=18;break e}i=s[t+16>>2]|0;if((i|0)==2){a=s[t+24>>2]|0;o=s[t+28>>2]|0;r=r+-1|0;n=0;while(1){t=s[a+(n<<2)>>2]|0;i=s[o+(n<<2)>>2]|0;if(!(t>>>0<=i>>>0&i>>>0<l>>>0))break t;n=n+1|0;if(((t>>>0)%(u>>>0)|0)>>>0>((i>>>0)%(u>>>0)|0)>>>0)break t;if(n>>>0>=r>>>0){t=0;i=18;break e}}}else if(i){if((i+-3|0)>>>0<3)if((s[t+36>>2]|0)>>>0>l>>>0)break;else{t=0;i=18;break e}if((i|0)!=6){t=0;i=18;break e}if((s[t+40>>2]|0)>>>0<l>>>0)break;else{t=0;i=18;break e}}else{i=s[t+20>>2]|0;t=0;while(1){if((s[i+(t<<2)>>2]|0)>>>0>l>>>0)break t;t=t+1|0;if(t>>>0>=r>>>0){t=0;i=18;break e}}}}}while(0);f=f+1|0;if(f>>>0>=256){t=1;i=18;break}}if((i|0)==18){h=d;return t|0}return 0}function gi(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0;w=h;y=ee(r,n)|0;p=s[t+12>>2]|0;if((p|0)==1){hn(e,0,y<<2);h=w;return}c=s[t+16>>2]|0;if((c+-3|0)>>>0<3){i=ee(s[t+36>>2]|0,i)|0;i=i>>>0<y>>>0?i:y;if((c&-2|0)==4){d=(s[t+32>>2]|0)==0?i:y-i|0;_=i}else{d=0;_=i}}else{d=0;_=0}switch(c|0){case 1:{if(!y){h=w;return}else a=0;do{s[e+(a<<2)>>2]=((((ee((a>>>0)/(n>>>0)|0,p)|0)>>>1)+((a>>>0)%(n>>>0)|0)|0)>>>0)%(p>>>0)|0;a=a+1|0}while((a|0)!=(y|0));h=w;return}case 5:{i=s[t+32>>2]|0;if(!n){h=w;return}c=1-i|0;if(!r){h=w;return}else{o=0;u=0}while(1){a=0;t=u;while(1){l=e+((ee(a,n)|0)+o<<2)|0;s[l>>2]=t>>>0<d>>>0?i:c;a=a+1|0;if((a|0)==(r|0))break;else t=t+1|0}o=o+1|0;if((o|0)==(n|0))break;else u=u+r|0}h=w;return}case 3:{l=s[t+32>>2]|0;if(y){i=0;do{s[e+(i<<2)>>2]=1;i=i+1|0}while((i|0)!=(y|0))}f=(n-l|0)>>>1;d=(r-l|0)>>>1;if(!_){h=w;return}y=l<<1;v=y+-1|0;g=n+-1|0;y=1-y|0;b=r+-1|0;p=d;m=0;o=f;r=f;c=d;t=f;u=l+-1|0;i=d;while(1){d=e+((ee(i,n)|0)+t<<2)|0;f=(s[d>>2]|0)==1;a=f&1;if(f)s[d>>2]=0;do{if(!((u|0)==-1&(t|0)==(o|0))){if((u|0)==1&(t|0)==(r|0)){t=r+1|0;t=(t|0)<(g|0)?t:g;d=p;f=o;r=t;u=0;l=y;break}if((l|0)==-1&(i|0)==(c|0)){i=c+-1|0;i=(i|0)>0?i:0;d=p;f=o;c=i;u=y;l=0;break}if((l|0)==1&(i|0)==(p|0)){i=p+1|0;i=(i|0)<(b|0)?i:b;d=i;f=o;u=v;l=0;break}else{d=p;f=o;t=t+u|0;i=i+l|0;break}}else{t=o+-1|0;t=(t|0)>0?t:0;d=p;f=t;u=0;l=v}}while(0);m=a+m|0;if(m>>>0>=_>>>0)break;else{p=d;o=f}}h=w;return}case 4:{a=s[t+32>>2]|0;if(!y){h=w;return}i=1-a|0;o=0;do{s[e+(o<<2)>>2]=o>>>0<d>>>0?a:i;o=o+1|0}while((o|0)!=(y|0));h=w;return}case 2:{d=s[t+24>>2]|0;l=s[t+28>>2]|0;a=p+-1|0;if(y){i=0;do{s[e+(i<<2)>>2]=a;i=i+1|0}while((i|0)!=(y|0))}if(!a){h=w;return}o=p+-2|0;while(1){u=s[d+(o<<2)>>2]|0;i=(u>>>0)/(n>>>0)|0;u=(u>>>0)%(n>>>0)|0;a=s[l+(o<<2)>>2]|0;f=(a>>>0)/(n>>>0)|0;a=(a>>>0)%(n>>>0)|0;e:do{if(i>>>0<=f>>>0){if(u>>>0>a>>>0)while(1){i=i+1|0;if(i>>>0>f>>>0)break e}do{c=ee(i,n)|0;t=u;do{s[e+(t+c<<2)>>2]=o;t=t+1|0}while(t>>>0<=a>>>0);i=i+1|0}while(i>>>0<=f>>>0)}}while(0);if(!o)break;else o=o+-1|0}h=w;return}case 0:{f=s[t+20>>2]|0;if(!y){h=w;return}else{a=0;u=0}while(1){while(1)if(a>>>0<p>>>0)break;else a=0;t=f+(a<<2)|0;i=s[t>>2]|0;e:do{if(!i)i=0;else{c=0;do{o=c+u|0;if(o>>>0>=y>>>0)break e;s[e+(o<<2)>>2]=a;c=c+1|0;i=s[t>>2]|0}while(c>>>0<i>>>0)}}while(0);u=i+u|0;if(u>>>0>=y>>>0)break;else a=a+1|0}h=w;return}default:{if(!y){h=w;return}o=s[t+44>>2]|0;a=0;do{s[e+(a<<2)>>2]=s[o+(a<<2)>>2];a=a+1|0}while((a|0)!=(y|0));h=w;return}}}function yi(){return 3472}function _i(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;var a=0,u=0,c=0;c=h;h=h+80|0;a=c+32|0;u=c;wi(i,a,u,n);if((Lt(s[e>>2]|0)|0)==1){n=Si(e,o,t+328|0,a,u,r)|0;if(n){h=c;return n|0}}else{n=Ei(e,o,t,a,u,r)|0;if(n){h=c;return n|0}}n=xi(e,o+256|0,t+1352|0,a+21|0,u+16|0,s[t+140>>2]|0,r)|0;if(n){h=c;return n|0}if((s[e+196>>2]|0)>>>0>1){n=0;h=c;return n|0}et(i,o);n=0;h=c;return n|0}function wi(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0;g=h;if(!r){h=g;return}m=s[e+4>>2]|0;b=ee(s[e+8>>2]|0,m)|0;d=(r>>>0)/(m>>>0)|0;o=ee(d,m)|0;p=r-o|0;c=m<<4;a=s[e>>2]|0;u=(p<<4)+(ee(m<<8,d)|0)|0;v=(d|0)!=0;if(v){l=u-(c|1)|0;n[t>>0]=n[a+l>>0]|0;n[t+1>>0]=n[a+(l+1)>>0]|0;n[t+2>>0]=n[a+(l+2)>>0]|0;n[t+3>>0]=n[a+(l+3)>>0]|0;n[t+4>>0]=n[a+(l+4)>>0]|0;n[t+5>>0]=n[a+(l+5)>>0]|0;n[t+6>>0]=n[a+(l+6)>>0]|0;n[t+7>>0]=n[a+(l+7)>>0]|0;n[t+8>>0]=n[a+(l+8)>>0]|0;n[t+9>>0]=n[a+(l+9)>>0]|0;n[t+10>>0]=n[a+(l+10)>>0]|0;n[t+11>>0]=n[a+(l+11)>>0]|0;n[t+12>>0]=n[a+(l+12)>>0]|0;n[t+13>>0]=n[a+(l+13)>>0]|0;n[t+14>>0]=n[a+(l+14)>>0]|0;n[t+15>>0]=n[a+(l+15)>>0]|0;n[t+16>>0]=n[a+(l+16)>>0]|0;n[t+17>>0]=n[a+(l+17)>>0]|0;n[t+18>>0]=n[a+(l+18)>>0]|0;n[t+19>>0]=n[a+(l+19)>>0]|0;n[t+20>>0]=n[a+(l+20)>>0]|0;l=t+21|0}else l=t;f=(o|0)!=(r|0);if(f){u=u+-1|0;n[i>>0]=n[a+u>>0]|0;u=u+c|0;n[i+1>>0]=n[a+u>>0]|0;u=u+c|0;n[i+2>>0]=n[a+u>>0]|0;u=u+c|0;n[i+3>>0]=n[a+u>>0]|0;u=u+c|0;n[i+4>>0]=n[a+u>>0]|0;u=u+c|0;n[i+5>>0]=n[a+u>>0]|0;u=u+c|0;n[i+6>>0]=n[a+u>>0]|0;u=u+c|0;n[i+7>>0]=n[a+u>>0]|0;u=u+c|0;n[i+8>>0]=n[a+u>>0]|0;u=u+c|0;n[i+9>>0]=n[a+u>>0]|0;u=u+c|0;n[i+10>>0]=n[a+u>>0]|0;u=u+c|0;n[i+11>>0]=n[a+u>>0]|0;u=u+c|0;n[i+12>>0]=n[a+u>>0]|0;u=u+c|0;n[i+13>>0]=n[a+u>>0]|0;u=u+c|0;n[i+14>>0]=n[a+u>>0]|0;n[i+15>>0]=n[a+(u+c)>>0]|0;i=i+16|0}t=m<<3&2147483640;r=s[e>>2]|0;o=(ee(d<<3,t)|0)+(b<<8)+(p<<3)|0;if(v){e=o-(t|1)|0;n[l>>0]=n[r+e>>0]|0;n[l+1>>0]=n[r+(e+1)>>0]|0;n[l+2>>0]=n[r+(e+2)>>0]|0;n[l+3>>0]=n[r+(e+3)>>0]|0;n[l+4>>0]=n[r+(e+4)>>0]|0;n[l+5>>0]=n[r+(e+5)>>0]|0;n[l+6>>0]=n[r+(e+6)>>0]|0;n[l+7>>0]=n[r+(e+7)>>0]|0;n[l+8>>0]=n[r+(e+8)>>0]|0;e=e+(b<<6)|0;n[l+9>>0]=n[r+e>>0]|0;n[l+10>>0]=n[r+(e+1)>>0]|0;n[l+11>>0]=n[r+(e+2)>>0]|0;n[l+12>>0]=n[r+(e+3)>>0]|0;n[l+13>>0]=n[r+(e+4)>>0]|0;n[l+14>>0]=n[r+(e+5)>>0]|0;n[l+15>>0]=n[r+(e+6)>>0]|0;n[l+16>>0]=n[r+(e+7)>>0]|0;n[l+17>>0]=n[r+(e+8)>>0]|0}if(!f){h=g;return}l=o+-1|0;n[i>>0]=n[r+l>>0]|0;l=l+t|0;n[i+1>>0]=n[r+l>>0]|0;l=l+t|0;n[i+2>>0]=n[r+l>>0]|0;l=l+t|0;n[i+3>>0]=n[r+l>>0]|0;l=l+t|0;n[i+4>>0]=n[r+l>>0]|0;l=l+t|0;n[i+5>>0]=n[r+l>>0]|0;l=l+t|0;n[i+6>>0]=n[r+l>>0]|0;l=l+t|0;n[i+7>>0]=n[r+l>>0]|0;l=l+(t+((b<<6)-(m<<6)))|0;n[i+8>>0]=n[r+l>>0]|0;l=l+t|0;n[i+9>>0]=n[r+l>>0]|0;l=l+t|0;n[i+10>>0]=n[r+l>>0]|0;l=l+t|0;n[i+11>>0]=n[r+l>>0]|0;l=l+t|0;n[i+12>>0]=n[r+l>>0]|0;l=l+t|0;n[i+13>>0]=n[r+l>>0]|0;l=l+t|0;n[i+14>>0]=n[r+l>>0]|0;n[i+15>>0]=n[r+(l+t)>>0]|0;h=g;return}function Si(e,t,i,r,a,u){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;u=u|0;var c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0;k=h;c=e+200|0;f=ai(e,s[c>>2]|0)|0;p=(u|0)!=0;if((f|0)!=0&p){d=(Lt(s[s[c>>2]>>2]|0)|0)==2;d=d?0:f}else d=f;u=e+204|0;f=ai(e,s[u>>2]|0)|0;if((f|0)!=0&p){m=(Lt(s[s[u>>2]>>2]|0)|0)==2;m=m?0:f}else m=f;u=e+212|0;f=ai(e,s[u>>2]|0)|0;if((f|0)!=0&p){v=(Lt(s[s[u>>2]>>2]|0)|0)==2;f=v?0:f}u=zt(s[e>>2]|0)|0;if((u|0)==2){f=r+1|0;c=(d|0)!=0;u=(m|0)!=0;do{if(!(c&u)){if(c){c=((o[a>>0]|0)+8+(o[a+1>>0]|0)+(o[a+2>>0]|0)+(o[a+3>>0]|0)+(o[a+4>>0]|0)+(o[a+5>>0]|0)+(o[a+6>>0]|0)+(o[a+7>>0]|0)+(o[a+8>>0]|0)+(o[a+9>>0]|0)+(o[a+10>>0]|0)+(o[a+11>>0]|0)+(o[a+12>>0]|0)+(o[a+13>>0]|0)+(o[a+14>>0]|0)+(o[a+15>>0]|0)|0)>>>4;break}if(u)c=((o[f>>0]|0)+8+(o[r+2>>0]|0)+(o[r+3>>0]|0)+(o[r+4>>0]|0)+(o[r+5>>0]|0)+(o[r+6>>0]|0)+(o[r+7>>0]|0)+(o[r+8>>0]|0)+(o[r+9>>0]|0)+(o[r+10>>0]|0)+(o[r+11>>0]|0)+(o[r+12>>0]|0)+(o[r+13>>0]|0)+(o[r+14>>0]|0)+(o[r+15>>0]|0)+(o[r+16>>0]|0)|0)>>>4;else c=128}else{u=0;c=0;do{v=u;u=u+1|0;c=(o[r+u>>0]|0)+c+(o[a+v>>0]|0)|0}while((u|0)!=16);c=(c+16|0)>>>5}}while(0);bn(t|0,c&255|0,256)|0}else if((u|0)==1)if(!d){v=1;h=k;return v|0}else{c=t;u=0;while(1){v=a+u|0;n[c>>0]=n[v>>0]|0;n[c+1>>0]=n[v>>0]|0;n[c+2>>0]=n[v>>0]|0;n[c+3>>0]=n[v>>0]|0;n[c+4>>0]=n[v>>0]|0;n[c+5>>0]=n[v>>0]|0;n[c+6>>0]=n[v>>0]|0;n[c+7>>0]=n[v>>0]|0;n[c+8>>0]=n[v>>0]|0;n[c+9>>0]=n[v>>0]|0;n[c+10>>0]=n[v>>0]|0;n[c+11>>0]=n[v>>0]|0;n[c+12>>0]=n[v>>0]|0;n[c+13>>0]=n[v>>0]|0;n[c+14>>0]=n[v>>0]|0;n[c+15>>0]=n[v>>0]|0;u=u+1|0;if((u|0)==16)break;else c=c+16|0}}else if(!u){if(!m){v=1;h=k;return v|0}e=r+1|0;l=r+2|0;g=r+3|0;y=r+4|0;_=r+5|0;w=r+6|0;S=r+7|0;E=r+8|0;x=r+9|0;a=r+10|0;f=r+11|0;u=r+12|0;c=r+13|0;b=r+14|0;v=r+15|0;m=r+16|0;p=t;d=0;while(1){n[p>>0]=n[e>>0]|0;n[p+1>>0]=n[l>>0]|0;n[p+2>>0]=n[g>>0]|0;n[p+3>>0]=n[y>>0]|0;n[p+4>>0]=n[_>>0]|0;n[p+5>>0]=n[w>>0]|0;n[p+6>>0]=n[S>>0]|0;n[p+7>>0]=n[E>>0]|0;n[p+8>>0]=n[x>>0]|0;n[p+9>>0]=n[a>>0]|0;n[p+10>>0]=n[f>>0]|0;n[p+11>>0]=n[u>>0]|0;n[p+12>>0]=n[c>>0]|0;n[p+13>>0]=n[b>>0]|0;n[p+14>>0]=n[v>>0]|0;n[p+15>>0]=n[m>>0]|0;d=d+1|0;if((d|0)==16)break;else p=p+16|0}}else{if(!((d|0)!=0&(m|0)!=0&(f|0)!=0)){v=1;h=k;return v|0}u=o[r+16>>0]|0;l=o[a+15>>0]|0;p=o[r>>0]|0;m=(((o[r+9>>0]|0)-(o[r+7>>0]|0)+((o[r+10>>0]|0)-(o[r+6>>0]|0)<<1)+(((o[r+11>>0]|0)-(o[r+5>>0]|0)|0)*3|0)+((o[r+12>>0]|0)-(o[r+4>>0]|0)<<2)+(((o[r+13>>0]|0)-(o[r+3>>0]|0)|0)*5|0)+(((o[r+14>>0]|0)-(o[r+2>>0]|0)|0)*6|0)+(((o[r+15>>0]|0)-(o[r+1>>0]|0)|0)*7|0)+(u-p<<3)|0)*5|0)+32>>6;p=(((o[a+8>>0]|0)-(o[a+6>>0]|0)+(l-p<<3)+((o[a+9>>0]|0)-(o[a+5>>0]|0)<<1)+(((o[a+10>>0]|0)-(o[a+4>>0]|0)|0)*3|0)+((o[a+11>>0]|0)-(o[a+3>>0]|0)<<2)+(((o[a+12>>0]|0)-(o[a+2>>0]|0)|0)*5|0)+(((o[a+13>>0]|0)-(o[a+1>>0]|0)|0)*6|0)+(((o[a+14>>0]|0)-(o[a>>0]|0)|0)*7|0)|0)*5|0)+32>>6;u=(l+u<<4)+16|0;l=0;do{c=u+(ee(l+-7|0,p)|0)|0;d=l<<4;e=0;do{f=c+(ee(e+-7|0,m)|0)>>5;if((f|0)<0)f=0;else f=(f|0)>255?-1:f&255;n[t+(e+d)>>0]=f;e=e+1|0}while((e|0)!=16);l=l+1|0}while((l|0)!=16)}ki(t,i,0);ki(t,i+64|0,1);ki(t,i+128|0,2);ki(t,i+192|0,3);ki(t,i+256|0,4);ki(t,i+320|0,5);ki(t,i+384|0,6);ki(t,i+448|0,7);ki(t,i+512|0,8);ki(t,i+576|0,9);ki(t,i+640|0,10);ki(t,i+704|0,11);ki(t,i+768|0,12);ki(t,i+832|0,13);ki(t,i+896|0,14);ki(t,i+960|0,15);v=0;h=k;return v|0}function Ei(e,t,i,r,a,u){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;u=u|0;var c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0,B=0,M=0,I=0,U=0,P=0,F=0,O=0,L=0,N=0;N=h;L=(u|0)!=0;O=0;e:while(1){f=ni(O)|0;d=s[f+4>>2]|0;f=ii(e,s[f>>2]|0)|0;u=ai(e,f)|0;if((u|0)!=0&L){D=(Lt(s[f>>2]|0)|0)==2;u=D?0:u}p=ri(O)|0;l=s[p+4>>2]|0;p=ii(e,s[p>>2]|0)|0;c=ai(e,p)|0;if((c|0)!=0&L){D=(Lt(s[p>>2]|0)|0)==2;c=D?0:c}M=(u|0)!=0;I=(c|0)!=0;U=M&I;if(U){if(!(Lt(s[f>>2]|0)|0))d=o[f+(d&255)+82>>0]|0;else d=2;if(!(Lt(s[p>>2]|0)|0))u=o[p+(l&255)+82>>0]|0;else u=2;u=d>>>0<u>>>0?d:u}else u=2;if(!(s[i+(O<<2)+12>>2]|0)){D=s[i+(O<<2)+76>>2]|0;u=(D>>>0>=u>>>0&1)+D|0}n[e+O+82>>0]=u;f=s[(si(O)|0)>>2]|0;f=ii(e,f)|0;l=ai(e,f)|0;if((l|0)!=0&L){D=(Lt(s[f>>2]|0)|0)==2;l=D?0:l}f=s[(oi(O)|0)>>2]|0;f=ii(e,f)|0;d=ai(e,f)|0;if((d|0)!=0&L){D=(Lt(s[f>>2]|0)|0)==2;d=D?0:d}P=s[3344+(O<<2)>>2]|0;F=s[3408+(O<<2)>>2]|0;v=(1285>>>O&1|0)!=0;if(v){p=a+F|0;f=a+(F+1)|0;m=a+(F+2)|0;b=a+(F+3)|0}else{b=(F<<4)+P|0;p=t+(b+-1)|0;f=t+(b+15)|0;m=t+(b+31)|0;b=t+(b+47)|0}A=n[p>>0]|0;x=n[f>>0]|0;B=n[m>>0]|0;D=n[b>>0]|0;do{if(!(51>>>O&1)){E=F+-1|0;S=(E<<4)+P|0;p=n[t+S>>0]|0;b=n[t+(S+1)>>0]|0;g=n[t+(S+2)>>0]|0;_=n[t+(S+3)>>0]|0;y=n[t+(S+4)>>0]|0;f=n[t+(S+5)>>0]|0;w=n[t+(S+6)>>0]|0;m=n[t+(S+7)>>0]|0;if(v){R=w;C=_;_=m;T=b;k=g;w=a+E|0;break}else{R=w;C=_;_=m;T=b;k=g;w=t+(S+-1)|0;break}}else{R=n[r+(P+7)>>0]|0;C=n[r+(P+4)>>0]|0;y=n[r+(P+5)>>0]|0;f=n[r+(P+6)>>0]|0;p=n[r+(P+1)>>0]|0;_=n[r+(P+8)>>0]|0;T=n[r+(P+2)>>0]|0;k=n[r+(P+3)>>0]|0;w=r+P|0}}while(0);w=n[w>>0]|0;switch(u|0){case 1:{if(!M){c=1;u=51;break e}u=ee(A&255,16843009)|0;g=ee(x&255,16843009)|0;w=ee(B&255,16843009)|0;b=u&255;m=g&255;d=w&255;l=u>>>8&255;f=u>>>16&255;u=u>>>24&255;c=g>>>8&255;v=g>>>16&255;g=g>>>24&255;y=w>>>8&255;_=w>>>16&255;w=w>>>24&255;p=ee(D&255,16843009)|0;break}case 5:{if(!(U&(d|0)!=0)){c=1;u=51;break e}d=w&255;_=p&255;y=(_+1+d|0)>>>1&255;E=T&255;D=(E+2+(_<<1)+d|0)>>>2;T=A&255;A=_+2|0;p=(A+T+(d<<1)|0)>>>2;_=(E+1+_|0)>>>1&255;g=k&255;A=((E<<1)+g+A|0)>>>2;w=(g+1+E|0)>>>1&255;C=C&255;R=x&255;b=y;m=p&255;d=(R+2+(T<<1)+d|0)>>>2&255;l=_;f=w;u=(C+1+g|0)>>>1&255;c=D&255;v=A&255;g=(C+2+E+(g<<1)|0)>>>2&255;p=A<<24|(T+2+(B&255)+(R<<1)|0)>>>2&255|D<<16&16711680|p<<8&65280;break}case 6:{if(!(U&(d|0)!=0)){c=1;u=51;break e}f=w&255;g=A&255;_=g+1|0;v=(_+f|0)>>>1&255;C=x&255;w=((g<<1)+2+C+f|0)>>>2&255;_=(_+C|0)>>>1&255;R=B&255;g=g+2|0;x=(g+(C<<1)+R|0)>>>2;A=(C+1+R|0)>>>1;D=D&255;u=p&255;g=(g+u+(f<<1)|0)>>>2&255;c=T&255;b=v;m=_;d=A&255;l=g;f=(c+2+(u<<1)+f|0)>>>2&255;u=((k&255)+2+(c<<1)+u|0)>>>2&255;c=w;y=x&255;p=x<<24|A<<16&16711680|(R+1+D|0)>>>1&255|C+2+(R<<1)+D<<6&65280;break}case 2:{do{if(!U){if(M){u=((A&255)+2+(x&255)+(B&255)+(D&255)|0)>>>2;break}if(I)u=((C&255)+2+(k&255)+(T&255)+(p&255)|0)>>>2;else u=128}else u=((A&255)+4+(x&255)+(B&255)+(D&255)+(C&255)+(k&255)+(T&255)+(p&255)|0)>>>3}while(0);p=ee(u&255,16843009)|0;d=p&255;y=p>>>8&255;_=p>>>16&255;w=p>>>24&255;b=d;m=d;l=y;f=_;u=w;c=y;v=_;g=w;break}case 3:{if(!c){c=1;u=51;break e}d=(l|0)==0;b=T&255;l=k&255;m=l+2|0;c=C&255;T=c+2|0;l=(T+b+(l<<1)|0)>>>2&255;w=(d?C:y)&255;c=(m+(c<<1)+w|0)>>>2&255;D=(d?C:f)&255;T=(T+D+(w<<1)|0)>>>2;y=T&255;A=(d?C:R)&255;R=(w+2+A+(D<<1)|0)>>>2;w=R&255;C=(d?C:_)&255;D=(D+2+C+(A<<1)|0)>>>2;b=(m+(p&255)+(b<<1)|0)>>>2&255;m=l;d=c;f=c;u=y;v=y;g=w;_=w;w=D&255;p=(A+2+(C*3|0)|0)>>>2<<24|T&255|R<<8&65280|D<<16&16711680;break}case 4:{if(!(U&(d|0)!=0)){c=1;u=51;break e}u=p&255;p=w&255;b=A&255;g=u+2|0;R=(g+b+(p<<1)|0)>>>2;_=R&255;c=T&255;p=p+2|0;w=((u<<1)+c+p|0)>>>2&255;u=k&255;g=((c<<1)+u+g|0)>>>2&255;k=x&255;p=(k+(b<<1)+p|0)>>>2;y=p&255;A=B&255;T=(b+2+(k<<1)+A|0)>>>2;b=_;m=y;d=T&255;l=w;f=g;u=((C&255)+2+c+(u<<1)|0)>>>2&255;c=_;v=w;p=(k+2+(A<<1)+(D&255)|0)>>>2&255|T<<8&65280|R<<24|p<<16&16711680;break}case 7:{if(!c){c=1;u=51;break e}A=(l|0)==0;d=p&255;m=T&255;k=k&255;l=(k+1+m|0)>>>1&255;p=C&255;_=p+1|0;w=(_+k|0)>>>1&255;T=(A?C:y)&255;_=(_+T|0)>>>1&255;u=k+2|0;x=p+2|0;k=(x+m+(k<<1)|0)>>>2;p=(u+(p<<1)+T|0)>>>2;D=(A?C:f)&255;x=(x+D+(T<<1)|0)>>>2;b=(m+1+d|0)>>>1&255;m=(u+d+(m<<1)|0)>>>2&255;d=l;f=w;u=_;c=k&255;v=p&255;g=x&255;y=w;w=(T+1+D|0)>>>1&255;p=x<<16&16711680|k&255|(T+2+((A?C:R)&255)+(D<<1)|0)>>>2<<24|p<<8&65280;break}case 0:{if(!c){c=1;u=51;break e}b=p;m=p;d=p;l=T;f=k;u=C;c=T;v=k;g=C;y=T;_=k;w=C;p=(k&255)<<16|(C&255)<<24|(T&255)<<8|p&255;break}default:{if(!M){c=1;u=51;break e}g=A&255;u=x&255;l=B&255;f=(u+1+l|0)>>>1&255;p=D&255;c=(u+2+(l<<1)+p|0)>>>2&255;v=(l+1+p|0)>>>1&255;y=(l+2+(p*3|0)|0)>>>2&255;b=(g+1+u|0)>>>1&255;m=f;d=v;l=(g+2+(u<<1)+l|0)>>>2&255;u=c;g=y;_=D;w=D;p=p<<8|p|p<<16|p<<24}}D=(F<<4)+P|0;s[t+D>>2]=(f&255)<<16|(u&255)<<24|(l&255)<<8|b&255;s[t+(D+16)>>2]=(v&255)<<16|(g&255)<<24|(c&255)<<8|m&255;s[t+(D+32)>>2]=(_&255)<<16|(w&255)<<24|(y&255)<<8|d&255;s[t+(D+48)>>2]=p;ki(t,i+(O<<6)+328|0,O);O=O+1|0;if(O>>>0>=16){c=0;u=51;break}}if((u|0)==51){h=N;return c|0}return 0}function xi(e,t,i,r,a,u,c){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;u=u|0;c=c|0;var f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0;x=h;l=e+200|0;f=ai(e,s[l>>2]|0)|0;d=(c|0)!=0;if((f|0)!=0&d){p=(Lt(s[s[l>>2]>>2]|0)|0)==2;f=p?0:f}l=e+204|0;c=ai(e,s[l>>2]|0)|0;if((c|0)!=0&d){p=(Lt(s[s[l>>2]>>2]|0)|0)==2;p=p?0:c}else p=c;l=e+212|0;c=ai(e,s[l>>2]|0)|0;if((c|0)!=0&d){d=(Lt(s[s[l>>2]>>2]|0)|0)==2;c=d?0:c}S=(f|0)!=0;E=(p|0)!=0;w=S&E;_=w&(c|0)!=0;y=(f|0)==0;g=(p|0)==0;m=r;b=16;v=0;while(1){if((u|0)==2){if(g){f=1;c=29;break}else{d=m;e=t;l=8}while(1){d=d+1|0;l=l+-1|0;n[e>>0]=n[d>>0]|0;n[e+8>>0]=n[d>>0]|0;n[e+16>>0]=n[d>>0]|0;n[e+24>>0]=n[d>>0]|0;n[e+32>>0]=n[d>>0]|0;n[e+40>>0]=n[d>>0]|0;n[e+48>>0]=n[d>>0]|0;n[e+56>>0]=n[d>>0]|0;if(!l)break;else e=e+1|0}}else if(!u){l=m+1|0;do{if(!w){if(E){d=((o[l>>0]|0)+2+(o[m+2>>0]|0)+(o[m+3>>0]|0)+(o[m+4>>0]|0)|0)>>>2;e=((o[m+5>>0]|0)+2+(o[m+6>>0]|0)+(o[m+7>>0]|0)+(o[m+8>>0]|0)|0)>>>2;break}if(S){e=((o[a>>0]|0)+2+(o[a+1>>0]|0)+(o[a+2>>0]|0)+(o[a+3>>0]|0)|0)>>>2;d=e}else{d=128;e=128}}else{d=((o[l>>0]|0)+4+(o[m+2>>0]|0)+(o[m+3>>0]|0)+(o[m+4>>0]|0)+(o[a>>0]|0)+(o[a+1>>0]|0)+(o[a+2>>0]|0)+(o[a+3>>0]|0)|0)>>>3;e=((o[m+5>>0]|0)+2+(o[m+6>>0]|0)+(o[m+7>>0]|0)+(o[m+8>>0]|0)|0)>>>2}}while(0);d=d&255;p=e&255;bn(t|0,d|0,4)|0;bn(t+4|0,p|0,4)|0;bn(t+8|0,d|0,4)|0;bn(t+12|0,p|0,4)|0;bn(t+16|0,d|0,4)|0;bn(t+20|0,p|0,4)|0;r=t+32|0;bn(t+24|0,d|0,4)|0;bn(t+28|0,p|0,4)|0;if(S){p=o[a+4>>0]|0;d=o[a+5>>0]|0;e=o[a+6>>0]|0;l=o[a+7>>0]|0;c=(p+2+d+e+l|0)>>>2;if(E){f=c;d=(p+4+d+e+l+(o[m+5>>0]|0)+(o[m+6>>0]|0)+(o[m+7>>0]|0)+(o[m+8>>0]|0)|0)>>>3}else{f=c;d=c}}else if(E){f=((o[l>>0]|0)+2+(o[m+2>>0]|0)+(o[m+3>>0]|0)+(o[m+4>>0]|0)|0)>>>2;d=((o[m+5>>0]|0)+2+(o[m+6>>0]|0)+(o[m+7>>0]|0)+(o[m+8>>0]|0)|0)>>>2}else{f=128;d=128}e=f&255;p=d&255;bn(r|0,e|0,4)|0;bn(t+36|0,p|0,4)|0;bn(t+40|0,e|0,4)|0;bn(t+44|0,p|0,4)|0;bn(t+48|0,e|0,4)|0;bn(t+52|0,p|0,4)|0;bn(t+56|0,e|0,4)|0;bn(t+60|0,p|0,4)|0}else if((u|0)==1){if(y){f=1;c=29;break}else{d=t;e=8;l=a}while(1){e=e+-1|0;n[d>>0]=n[l>>0]|0;n[d+1>>0]=n[l>>0]|0;n[d+2>>0]=n[l>>0]|0;n[d+3>>0]=n[l>>0]|0;n[d+4>>0]=n[l>>0]|0;n[d+5>>0]=n[l>>0]|0;n[d+6>>0]=n[l>>0]|0;n[d+7>>0]=n[l>>0]|0;if(!e)break;else{d=d+8|0;l=l+1|0}}}else{if(!_){f=1;c=29;break}d=o[m+8>>0]|0;e=o[a+7>>0]|0;f=o[m>>0]|0;c=(((o[m+5>>0]|0)-(o[m+3>>0]|0)+((o[m+6>>0]|0)-(o[m+2>>0]|0)<<1)+(((o[m+7>>0]|0)-(o[m+1>>0]|0)|0)*3|0)+(d-f<<2)|0)*17|0)+16>>5;f=(((o[a+4>>0]|0)-(o[a+2>>0]|0)+(e-f<<2)+((o[a+5>>0]|0)-(o[a+1>>0]|0)<<1)+(((o[a+6>>0]|0)-(o[a>>0]|0)|0)*3|0)|0)*17|0)+16>>5;p=ee(c,-3)|0;d=(e+d<<4)+16+(ee(f,-3)|0)|0;e=t;l=8;while(1){l=l+-1|0;r=d+p|0;n[e>>0]=n[(r>>5)+3984>>0]|0;r=r+c|0;n[e+1>>0]=n[(r>>5)+3984>>0]|0;r=r+c|0;n[e+2>>0]=n[(r>>5)+3984>>0]|0;r=r+c|0;n[e+3>>0]=n[(r>>5)+3984>>0]|0;r=r+c|0;n[e+4>>0]=n[(r>>5)+3984>>0]|0;r=r+c|0;n[e+5>>0]=n[(r>>5)+3984>>0]|0;r=r+c|0;n[e+6>>0]=n[(r>>5)+3984>>0]|0;n[e+7>>0]=n[(r+c>>5)+3984>>0]|0;if(!l)break;else{d=d+f|0;e=e+8|0}}}ki(t,i,b);r=b|1;ki(t,i+64|0,r);ki(t,i+128|0,r+1|0);ki(t,i+192|0,b|3);v=v+1|0;if(v>>>0>=2){f=0;c=29;break}else{m=m+9|0;b=b+4|0;t=t+64|0;a=a+8|0;i=i+256|0}}if((c|0)==29){h=x;return f|0}return 0}function ki(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0;a=h;r=s[t>>2]|0;if((r|0)==16777215){h=a;return}l=i>>>0<16;f=l?16:8;l=l?i:i&3;l=(ee(s[3408+(l<<2)>>2]|0,f)|0)+(s[3344+(l<<2)>>2]|0)|0;d=e+l|0;m=s[t+4>>2]|0;u=e+(l+1)|0;i=o[u>>0]|0;n[d>>0]=n[3472+(r+512+(o[d>>0]|0))>>0]|0;d=s[t+8>>2]|0;c=e+(l+2)|0;p=o[c>>0]|0;n[u>>0]=n[3472+(m+512+i)>>0]|0;r=e+(l+3)|0;u=n[3472+((s[t+12>>2]|0)+512+(o[r>>0]|0))>>0]|0;n[c>>0]=n[3472+(d+512+p)>>0]|0;n[r>>0]=u;r=l+f|0;l=e+r|0;u=s[t+20>>2]|0;c=e+(r+1)|0;p=o[c>>0]|0;n[l>>0]=n[3472+((s[t+16>>2]|0)+512+(o[l>>0]|0))>>0]|0;l=s[t+24>>2]|0;d=e+(r+2)|0;i=o[d>>0]|0;n[c>>0]=n[3472+(u+512+p)>>0]|0;c=e+(r+3)|0;p=n[3472+((s[t+28>>2]|0)+512+(o[c>>0]|0))>>0]|0;n[d>>0]=n[3472+(l+512+i)>>0]|0;n[c>>0]=p;r=r+f|0;c=e+r|0;p=s[t+36>>2]|0;d=e+(r+1)|0;i=o[d>>0]|0;n[c>>0]=n[3472+((s[t+32>>2]|0)+512+(o[c>>0]|0))>>0]|0;c=s[t+40>>2]|0;l=e+(r+2)|0;u=o[l>>0]|0;n[d>>0]=n[3472+(p+512+i)>>0]|0;d=e+(r+3)|0;i=n[3472+((s[t+44>>2]|0)+512+(o[d>>0]|0))>>0]|0;n[l>>0]=n[3472+(c+512+u)>>0]|0;n[d>>0]=i;r=r+f|0;f=e+r|0;d=s[t+52>>2]|0;i=e+(r+1)|0;l=o[i>>0]|0;n[f>>0]=n[3472+((s[t+48>>2]|0)+512+(o[f>>0]|0))>>0]|0;f=s[t+56>>2]|0;u=e+(r+2)|0;c=o[u>>0]|0;n[i>>0]=n[3472+(d+512+l)>>0]|0;r=e+(r+3)|0;i=n[3472+((s[t+60>>2]|0)+512+(o[r>>0]|0))>>0]|0;n[u>>0]=n[3472+(f+512+c)>>0]|0;n[r>>0]=i;h=a;return}function Ai(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0;b=h;f=e+-1|0;c=n[e+1>>0]|0;l=o[f>>0]|0;d=o[e>>0]|0;v=l-d|0;m=i+4|0;do{if((((v|0)>-1?v:0-v|0)>>>0<(s[m>>2]|0)>>>0?(p=o[e+-2>>0]|0,v=p-l|0,u=s[i+8>>2]|0,((v|0)>-1?v:0-v|0)>>>0<u>>>0):0)?(a=c&255,c=a-d|0,((c|0)>-1?c:0-c|0)>>>0<u>>>0):0)if(t>>>0<4){c=o[(s[i>>2]|0)+(t+-1)>>0]|0;c=St(~c,c+1|0,4-a+(d-l<<2)+p>>3)|0;p=n[3472+((d|512)-c)>>0]|0;n[f>>0]=n[3472+((l|512)+c)>>0]|0;n[e>>0]=p;break}else{n[f>>0]=(l+2+a+(p<<1)|0)>>>2;n[e>>0]=(d+2+(a<<1)+p|0)>>>2;break}}while(0);f=e+r|0;l=e+(r+-1)|0;p=o[l>>0]|0;d=o[f>>0]|0;c=p-d|0;if(((c|0)>-1?c:0-c|0)>>>0>=(s[m>>2]|0)>>>0){h=b;return}c=o[e+(r+-2)>>0]|0;m=c-p|0;u=s[i+8>>2]|0;if(((m|0)>-1?m:0-m|0)>>>0>=u>>>0){h=b;return}a=o[e+(r+1)>>0]|0;r=a-d|0;if(((r|0)>-1?r:0-r|0)>>>0>=u>>>0){h=b;return}if(t>>>0<4){e=o[(s[i>>2]|0)+(t+-1)>>0]|0;e=St(~e,e+1|0,4-a+(d-p<<2)+c>>3)|0;r=n[3472+((d|512)-e)>>0]|0;n[l>>0]=n[3472+((p|512)+e)>>0]|0;n[f>>0]=r;h=b;return}else{n[l>>0]=(p+2+a+(c<<1)|0)>>>2;n[f>>0]=(d+2+(a<<1)+c|0)>>>2;h=b;return}}function Ti(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0;w=h;if(t>>>0<4){d=o[(s[i>>2]|0)+(t+-1)>>0]|0;a=d+1|0;b=0-r|0;t=i+4|0;m=b<<1;p=i+8|0;d=~d;u=8;while(1){l=e+b|0;i=n[e+r>>0]|0;f=o[l>>0]|0;c=o[e>>0]|0;v=f-c|0;if((((v|0)>-1?v:0-v|0)>>>0<(s[t>>2]|0)>>>0?(y=o[e+m>>0]|0,v=y-f|0,g=s[p>>2]|0,((v|0)>-1?v:0-v|0)>>>0<g>>>0):0)?(_=i&255,i=_-c|0,((i|0)>-1?i:0-i|0)>>>0<g>>>0):0){v=St(d,a,4-_+(c-f<<2)+y>>3)|0;i=n[3472+((c|512)-v)>>0]|0;n[l>>0]=n[3472+((f|512)+v)>>0]|0;n[e>>0]=i}u=u+-1|0;if(!u)break;else e=e+1|0}h=w;return}else{p=0-r|0;l=i+4|0;d=p<<1;i=i+8|0;f=8;while(1){a=e+p|0;t=n[e+r>>0]|0;u=o[a>>0]|0;c=o[e>>0]|0;g=u-c|0;if((((g|0)>-1?g:0-g|0)>>>0<(s[l>>2]|0)>>>0?(m=o[e+d>>0]|0,g=m-u|0,b=s[i>>2]|0,((g|0)>-1?g:0-g|0)>>>0<b>>>0):0)?(v=t&255,t=v-c|0,((t|0)>-1?t:0-t|0)>>>0<b>>>0):0){n[a>>0]=(u+2+v+(m<<1)|0)>>>2;n[e>>0]=(c+2+(v<<1)+m|0)>>>2}f=f+-1|0;if(!f)break;else e=e+1|0}h=w;return}}function Ci(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0;y=h;v=o[(s[i>>2]|0)+(t+-1)>>0]|0;g=v+1|0;f=0-r|0;a=i+4|0;b=f<<1;t=i+8|0;v=~v;f=e+f|0;l=n[e+r>>0]|0;c=o[f>>0]|0;u=o[e>>0]|0;_=c-u|0;i=s[a>>2]|0;if((((_|0)>-1?_:0-_|0)>>>0<i>>>0?(p=o[e+b>>0]|0,_=p-c|0,d=s[t>>2]|0,((_|0)>-1?_:0-_|0)>>>0<d>>>0):0)?(m=l&255,l=m-u|0,((l|0)>-1?l:0-l|0)>>>0<d>>>0):0){m=St(v,g,4-m+(u-c<<2)+p>>3)|0;i=n[3472+((u|512)-m)>>0]|0;n[f>>0]=n[3472+((c|512)+m)>>0]|0;n[e>>0]=i;i=s[a>>2]|0}l=e+1|0;u=e+(1-r)|0;c=o[u>>0]|0;f=o[l>>0]|0;m=c-f|0;if(((m|0)>-1?m:0-m|0)>>>0>=i>>>0){h=y;return}a=o[e+(b|1)>>0]|0;m=a-c|0;i=s[t>>2]|0;if(((m|0)>-1?m:0-m|0)>>>0>=i>>>0){h=y;return}t=o[e+(r+1)>>0]|0;m=t-f|0;if(((m|0)>-1?m:0-m|0)>>>0>=i>>>0){h=y;return}p=St(v,g,4-t+(f-c<<2)+a>>3)|0;m=n[3472+((f|512)-p)>>0]|0;n[u>>0]=n[3472+((c|512)+p)>>0]|0;n[l>>0]=m;h=y;return}function Ri(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0;v=h;m=s[t+4>>2]|0;b=s[t+8>>2]|0;if(!((i|0)==0|(i|0)==5)?(s[e+3384>>2]|0)==0:0)r=0;else{o=e+1220|0;n=0;do{r=qe(o,n)|0;n=n+1|0}while(n>>>0<16&(r|0)==0)}f=e+1176|0;d=s[f>>2]|0;if(d){l=s[e+1212>>2]|0;n=0;u=0;o=0;do{if(s[l+(u*216|0)+196>>2]|0)break;u=u+1|0;n=n+1|0;p=(n|0)==(m|0);o=(p&1)+o|0;n=p?0:n}while(u>>>0<d>>>0);if((u|0)!=(d|0)){p=e+1212|0;d=s[p>>2]|0;u=ee(o,m)|0;if(n){f=e+1204|0;a=n;do{a=a+-1|0;l=a+u|0;Di(d+(l*216|0)|0,t,o,a,i,r);s[d+(l*216|0)+196>>2]=1;s[f>>2]=(s[f>>2]|0)+1}while((a|0)!=0)}n=n+1|0;if(n>>>0<m>>>0){l=e+1204|0;do{f=n+u|0;c=d+(f*216|0)+196|0;if(!(s[c>>2]|0)){Di(d+(f*216|0)|0,t,o,n,i,r);s[c>>2]=1;s[l>>2]=(s[l>>2]|0)+1}n=n+1|0}while((n|0)!=(m|0))}if(o){if(m){d=o+-1|0;a=ee(d,m)|0;n=e+1204|0;f=0-m|0;c=0;do{l=d;u=(s[p>>2]|0)+((c+a|0)*216|0)|0;while(1){Di(u,t,l,c,i,r);s[u+196>>2]=1;s[n>>2]=(s[n>>2]|0)+1;if(!l)break;else{l=l+-1|0;u=u+(f*216|0)|0}}c=c+1|0}while((c|0)!=(m|0))}}else o=0;o=o+1|0;if(o>>>0>=b>>>0){h=v;return 0}l=e+1204|0;if(!m){h=v;return 0}do{n=s[p>>2]|0;f=ee(o,m)|0;c=0;do{a=c+f|0;u=n+(a*216|0)+196|0;if(!(s[u>>2]|0)){Di(n+(a*216|0)|0,t,o,c,i,r);s[u>>2]=1;s[l>>2]=(s[l>>2]|0)+1}c=c+1|0}while((c|0)!=(m|0));o=o+1|0}while((o|0)!=(b|0));h=v;return 0}}if((i|0)==2|(i|0)==7)if((s[e+3384>>2]|0)==0|(r|0)==0)o=13;else o=14;else if(!r)o=13;else o=14;if((o|0)==13)hn(s[t>>2]|0,128,ee(m*384|0,b)|0);else if((o|0)==14)fn(s[t>>2]|0,r,ee(m*384|0,b)|0);o=s[f>>2]|0;s[e+1204>>2]=o;if(!o){h=v;return 0}n=s[e+1212>>2]|0;r=0;do{s[n+(r*216|0)+8>>2]=1;r=r+1|0}while(r>>>0<o>>>0);h=v;return 0}function Di(e,t,i,r,a,u){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;u=u|0;var c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0,B=0,M=0,I=0,U=0,P=0,F=0,O=0,L=0,N=0,j=0,z=0,H=0,V=0,q=0,G=0,K=0,W=0,Y=0,$=0,X=0,Q=0,J=0,Z=0,te=0,ie=0,ne=0,re=0,se=0,oe=0,ae=0,ue=0,ce=0,fe=0,he=0,le=0,de=0,pe=0,me=0,be=0,ve=0,ge=0,ye=0;ge=h;h=h+480|0;be=ge+96|0;ve=ge+32|0;l=ge+24|0;d=ge;de=s[t+4>>2]|0;_=s[t+8>>2]|0;wt(t,(ee(de,i)|0)+r|0);m=s[t>>2]|0;c=i<<4;f=r<<4;p=(ee(i<<8,de)|0)+f|0;s[e+20>>2]=40;s[e+8>>2]=0;s[e>>2]=6;s[e+12>>2]=0;s[e+16>>2]=0;s[e+24>>2]=0;do{if((a|0)==2|(a|0)==7)hn(be,0,384);else{s[l>>2]=0;s[d+4>>2]=de;s[d+8>>2]=_;s[d>>2]=u;if(!u){hn(be,0,384);break}Ne(be,l,d,f,c,0,0,16,16);et(t,be);h=ge;return}}while(0);hn(ve,0,64);if((i|0)!=0?(s[e+((0-de|0)*216|0)+196>>2]|0)!=0:0){w=p-(de<<4)|0;D=w|1;R=w|3;D=(o[m+D>>0]|0)+(o[m+w>>0]|0)+(o[m+(D+1)>>0]|0)+(o[m+R>>0]|0)|0;J=w|7;R=(o[m+(R+2)>>0]|0)+(o[m+(R+1)>>0]|0)+(o[m+(R+3)>>0]|0)+(o[m+J>>0]|0)|0;B=(o[m+(J+2)>>0]|0)+(o[m+(J+1)>>0]|0)+(o[m+(J+3)>>0]|0)+(o[m+(J+4)>>0]|0)|0;w=(o[m+(J+6)>>0]|0)+(o[m+(J+5)>>0]|0)+(o[m+(J+7)>>0]|0)+(o[m+(w|15)>>0]|0)|0;J=R+D|0;s[ve>>2]=B+J+(s[ve>>2]|0)+w;g=ve+4|0;s[g>>2]=J-B-w+(s[g>>2]|0);g=1}else{D=0;R=0;B=0;w=0;g=0}if((_+-1|0)!=(i|0)?(s[e+(de*216|0)+196>>2]|0)!=0:0){k=p+(de<<8)|0;S=k|1;E=k|3;S=(o[m+S>>0]|0)+(o[m+k>>0]|0)+(o[m+(S+1)>>0]|0)+(o[m+E>>0]|0)|0;v=k|7;E=(o[m+(E+2)>>0]|0)+(o[m+(E+1)>>0]|0)+(o[m+(E+3)>>0]|0)+(o[m+v>>0]|0)|0;x=(o[m+(v+2)>>0]|0)+(o[m+(v+1)>>0]|0)+(o[m+(v+3)>>0]|0)+(o[m+(v+4)>>0]|0)|0;k=(o[m+(v+6)>>0]|0)+(o[m+(v+5)>>0]|0)+(o[m+(v+7)>>0]|0)+(o[m+(k|15)>>0]|0)|0;v=E+S|0;s[ve>>2]=x+v+(s[ve>>2]|0)+k;y=ve+4|0;s[y>>2]=v-x-k+(s[y>>2]|0);y=1;v=g+1|0}else{y=0;S=0;E=0;x=0;k=0;v=g}if((r|0)!=0?(s[e+-20>>2]|0)!=0:0){Q=p+-1|0;J=de<<4;u=de<<5;le=de*48|0;C=(o[m+(Q+J)>>0]|0)+(o[m+Q>>0]|0)+(o[m+(Q+u)>>0]|0)+(o[m+(Q+le)>>0]|0)|0;a=de<<6;Q=Q+a|0;T=(o[m+(Q+J)>>0]|0)+(o[m+Q>>0]|0)+(o[m+(Q+u)>>0]|0)+(o[m+(Q+le)>>0]|0)|0;Q=Q+a|0;A=(o[m+(Q+J)>>0]|0)+(o[m+Q>>0]|0)+(o[m+(Q+u)>>0]|0)+(o[m+(Q+le)>>0]|0)|0;a=Q+a|0;le=(o[m+(a+J)>>0]|0)+(o[m+a>>0]|0)+(o[m+(a+u)>>0]|0)+(o[m+(a+le)>>0]|0)|0;a=T+C|0;s[ve>>2]=A+a+(s[ve>>2]|0)+le;u=ve+16|0;s[u>>2]=a-A-le+(s[u>>2]|0);u=v+1|0;a=1}else{u=v;C=0;T=0;A=0;le=0;a=0}do{if((de+-1|0)!=(r|0)?(s[e+412>>2]|0)!=0:0){J=p+16|0;d=de<<4;l=de<<5;p=de*48|0;e=(o[m+(J+d)>>0]|0)+(o[m+J>>0]|0)+(o[m+(J+l)>>0]|0)+(o[m+(J+p)>>0]|0)|0;b=de<<6;J=J+b|0;f=(o[m+(J+d)>>0]|0)+(o[m+J>>0]|0)+(o[m+(J+l)>>0]|0)+(o[m+(J+p)>>0]|0)|0;J=J+b|0;c=(o[m+(J+d)>>0]|0)+(o[m+J>>0]|0)+(o[m+(J+l)>>0]|0)+(o[m+(J+p)>>0]|0)|0;b=J+b|0;p=(o[m+(b+d)>>0]|0)+(o[m+b>>0]|0)+(o[m+(b+l)>>0]|0)+(o[m+(b+p)>>0]|0)|0;m=u+1|0;b=a+1|0;u=f+e|0;s[ve>>2]=c+u+(s[ve>>2]|0)+p;l=ve+16|0;u=u-c-p+(s[l>>2]|0)|0;s[l>>2]=u;l=(v|0)==0;d=(a|0)!=0;if(!(l&d)){if(!l){l=1;u=m;a=b;f=21;break}}else s[ve+4>>2]=A+le+T+C-e-f-c-p>>5;l=1;p=(g|0)!=0;e=(y|0)!=0;a=b;f=27}else f=17}while(0);if((f|0)==17){d=(a|0)!=0;if(!v){l=0;m=u;f=23}else{l=0;f=21}}if((f|0)==21){m=ve+4|0;s[m>>2]=s[m>>2]>>v+3;m=u;f=23}do{if((f|0)==23){u=(a|0)==0;p=(g|0)!=0;e=(y|0)!=0;if(u&p&e){s[ve+16>>2]=B+w+R+D-k-x-E-S>>5;me=l;a=m;pe=d;p=1;e=1;break}if(u){me=l;a=m;pe=d}else{u=s[ve+16>>2]|0;f=27}}}while(0);if((f|0)==27){s[ve+16>>2]=u>>a+3;me=l;a=m;pe=d}if((a|0)==1)s[ve>>2]=s[ve>>2]>>4;else if((a|0)==2)s[ve>>2]=s[ve>>2]>>5;else if((a|0)==3)s[ve>>2]=(s[ve>>2]|0)*21>>10;else s[ve>>2]=s[ve>>2]>>6;Bi(ve);d=0;u=be;l=ve;while(1){a=s[l+((d>>>2&3)<<2)>>2]|0;if((a|0)<0)a=0;else a=(a|0)>255?-1:a&255;n[u>>0]=a;a=d+1|0;if((a|0)==256)break;else{d=a;u=u+1|0;l=(a&63|0)==0?l+16|0:l}}ye=ee(_,de)|0;W=de<<3;X=0-W|0;M=X|1;Q=M+1|0;J=X|3;Z=J+1|0;te=J+2|0;ie=J+3|0;ne=X|7;Y=ve+4|0;fe=de<<6;I=fe|1;re=I+1|0;se=fe|3;oe=se+1|0;ae=se+2|0;ue=se+3|0;ce=fe|7;U=W+-1|0;K=de<<4;P=K+-1|0;F=P+W|0;O=P+K|0;L=O+W|0;N=O+K|0;j=N+W|0;$=ve+16|0;z=W+8|0;H=K|8;V=H+W|0;q=H+K|0;G=q+W|0;K=q+K|0;W=K+W|0;he=ye<<6;b=D;m=R;a=B;y=w;d=S;u=E;f=x;_=k;B=0;l=C;c=T;v=A;g=le;D=(s[t>>2]|0)+((ee(i<<6,de)|0)+(r<<3)+(ye<<8))|0;while(1){hn(ve,0,64);if(p){b=(o[D+M>>0]|0)+(o[D+X>>0]|0)|0;m=(o[D+J>>0]|0)+(o[D+Q>>0]|0)|0;k=(o[D+te>>0]|0)+(o[D+Z>>0]|0)|0;A=(o[D+ne>>0]|0)+(o[D+ie>>0]|0)|0;y=m+b|0;s[ve>>2]=k+y+(s[ve>>2]|0)+A;s[Y>>2]=y-k-A+(s[Y>>2]|0);y=1}else{k=a;A=y;y=0}if(e){T=(o[D+I>>0]|0)+(o[D+fe>>0]|0)|0;C=(o[D+se>>0]|0)+(o[D+re>>0]|0)|0;R=(o[D+ae>>0]|0)+(o[D+oe>>0]|0)|0;_=(o[D+ce>>0]|0)+(o[D+ue>>0]|0)|0;a=C+T|0;s[ve>>2]=R+a+(s[ve>>2]|0)+_;s[Y>>2]=a-R-_+(s[Y>>2]|0);a=y+1|0}else{T=d;C=u;R=f;a=y}if(pe){w=(o[D+U>>0]|0)+(o[D+-1>>0]|0)|0;S=(o[D+F>>0]|0)+(o[D+P>>0]|0)|0;E=(o[D+L>>0]|0)+(o[D+O>>0]|0)|0;x=(o[D+j>>0]|0)+(o[D+N>>0]|0)|0;y=S+w|0;s[ve>>2]=E+y+(s[ve>>2]|0)+x;s[$>>2]=y-E-x+(s[$>>2]|0);y=a+1|0;g=1}else{y=a;w=l;S=c;E=v;x=g;g=0}do{if(me){f=(o[D+z>>0]|0)+(o[D+8>>0]|0)|0;l=(o[D+V>>0]|0)+(o[D+H>>0]|0)|0;u=(o[D+G>>0]|0)+(o[D+q>>0]|0)|0;d=(o[D+W>>0]|0)+(o[D+K>>0]|0)|0;y=y+1|0;g=g+1|0;c=l+f|0;s[ve>>2]=u+c+(s[ve>>2]|0)+d;c=c-u-d+(s[$>>2]|0)|0;s[$>>2]=c;v=(a|0)==0;if(!(v&pe))if(v){f=54;break}else{f=49;break}else{s[Y>>2]=E+x+S+w-f-l-u-d>>4;f=54;break}}else if(!a){v=g;f=50}else f=49}while(0);if((f|0)==49){s[Y>>2]=s[Y>>2]>>a+2;v=g;f=50}do{if((f|0)==50){f=0;g=(v|0)==0;if(g&p&e){s[$>>2]=k+A+m+b-_-R-C-T>>4;break}if(!g){c=s[$>>2]|0;g=v;f=54}}}while(0);if((f|0)==54)s[$>>2]=c>>g+2;if((y|0)==1)s[ve>>2]=s[ve>>2]>>3;else if((y|0)==2)s[ve>>2]=s[ve>>2]>>4;else if((y|0)==3)s[ve>>2]=(s[ve>>2]|0)*21>>9;else s[ve>>2]=s[ve>>2]>>5;Bi(ve);g=0;v=be+((B<<6)+256)|0;c=ve;while(1){y=s[c+((g>>>1&3)<<2)>>2]|0;if((y|0)<0)y=0;else y=(y|0)>255?-1:y&255;n[v>>0]=y;y=g+1|0;if((y|0)==64)break;else{g=y;v=v+1|0;c=(y&15|0)==0?c+16|0:c}}B=B+1|0;if((B|0)==2)break;else{a=k;y=A;d=T;u=C;f=R;l=w;c=S;v=E;g=x;D=D+he|0}}et(t,be);h=ge;return}function Bi(e){e=e|0;var t=0,i=0,n=0,r=0,o=0,a=0,u=0,c=0;a=h;r=e+4|0;t=s[r>>2]|0;o=e+16|0;i=s[o>>2]|0;n=s[e>>2]|0;if(!(t|i)){s[e+60>>2]=n;s[e+56>>2]=n;s[e+52>>2]=n;s[e+48>>2]=n;s[e+44>>2]=n;s[e+40>>2]=n;s[e+36>>2]=n;s[e+32>>2]=n;s[e+28>>2]=n;s[e+24>>2]=n;s[e+20>>2]=n;s[o>>2]=n;s[e+12>>2]=n;s[e+8>>2]=n;s[r>>2]=n;h=a;return}else{c=t+n|0;o=t>>1;u=o+n|0;o=n-o|0;t=n-t|0;s[e>>2]=i+c;n=i>>1;s[e+16>>2]=n+c;s[e+32>>2]=c-n;s[e+48>>2]=c-i;s[r>>2]=i+u;s[e+20>>2]=n+u;s[e+36>>2]=u-n;s[e+52>>2]=u-i;s[e+8>>2]=i+o;s[e+24>>2]=n+o;s[e+40>>2]=o-n;s[e+56>>2]=o-i;s[e+12>>2]=i+t;s[e+28>>2]=n+t;s[e+44>>2]=t-n;s[e+60>>2]=t-i;h=a;return}}function Mi(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,o=0,a=0;a=h;hn(t,0,952);i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}i=(i|0)==1;s[t>>2]=i&1;do{if(i){i=Gt(e,8)|0;if((i|0)==-1){i=1;h=a;return i|0}s[t+4>>2]=i;if((i|0)==255){i=Gt(e,16)|0;if((i|0)==-1){i=1;h=a;return i|0}s[t+8>>2]=i;i=Gt(e,16)|0;if((i|0)==-1){i=1;h=a;return i|0}else{s[t+12>>2]=i;break}}}}while(0);i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}i=(i|0)==1;s[t+16>>2]=i&1;do{if(i){i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}else{s[t+20>>2]=(i|0)==1&1;break}}}while(0);i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}i=(i|0)==1;s[t+24>>2]=i&1;do{if(i){i=Gt(e,3)|0;if((i|0)==-1){i=1;h=a;return i|0}s[t+28>>2]=i;i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}s[t+32>>2]=(i|0)==1&1;i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}i=(i|0)==1;s[t+36>>2]=i&1;if(!i){s[t+40>>2]=2;s[t+44>>2]=2;s[t+48>>2]=2;break}i=Gt(e,8)|0;if((i|0)==-1){i=1;h=a;return i|0}s[t+40>>2]=i;i=Gt(e,8)|0;if((i|0)==-1){i=1;h=a;return i|0}s[t+44>>2]=i;i=Gt(e,8)|0;if((i|0)==-1){i=1;h=a;return i|0}else{s[t+48>>2]=i;break}}else{s[t+28>>2]=5;s[t+40>>2]=2;s[t+44>>2]=2;s[t+48>>2]=2}}while(0);i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}i=(i|0)==1;s[t+52>>2]=i&1;if(i){i=t+56|0;n=$t(e,i)|0;if(n){i=n;h=a;return i|0}if((s[i>>2]|0)>>>0>5){i=1;h=a;return i|0}i=t+60|0;n=$t(e,i)|0;if(n){i=n;h=a;return i|0}if((s[i>>2]|0)>>>0>5){i=1;h=a;return i|0}}i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}i=(i|0)==1;s[t+64>>2]=i&1;do{if(i){i=Kt(e)|0;if((Wt(e,32)|0)==-1|(i|0)==0){i=1;h=a;return i|0}s[t+68>>2]=i;i=Kt(e)|0;if((Wt(e,32)|0)==-1|(i|0)==0){i=1;h=a;return i|0}s[t+72>>2]=i;i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}else{s[t+76>>2]=(i|0)==1&1;break}}}while(0);i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}i=(i|0)==1;r=t+80|0;s[r>>2]=i&1;if(i){n=Ii(e,t+84|0)|0;if(n){i=n;h=a;return i|0}}else{s[t+84>>2]=1;s[t+96>>2]=288000001;s[t+224>>2]=288000001;s[t+480>>2]=24;s[t+484>>2]=24;s[t+488>>2]=24;s[t+492>>2]=24}n=Gt(e,1)|0;if((n|0)==-1){i=1;h=a;return i|0}n=(n|0)==1;i=t+496|0;s[i>>2]=n&1;if(n){n=Ii(e,t+500|0)|0;if(n){i=n;h=a;return i|0}}else{s[t+500>>2]=1;s[t+512>>2]=240000001;s[t+640>>2]=240000001;s[t+896>>2]=24;s[t+900>>2]=24;s[t+904>>2]=24;s[t+908>>2]=24}if(!((s[r>>2]|0)==0?(s[i>>2]|0)==0:0))o=46;do{if((o|0)==46){i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}else{s[t+912>>2]=(i|0)==1&1;break}}}while(0);i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}s[t+916>>2]=(i|0)==1&1;i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}i=(i|0)==1;s[t+920>>2]=i&1;do{if(i){i=Gt(e,1)|0;if((i|0)==-1){i=1;h=a;return i|0}s[t+924>>2]=(i|0)==1&1;n=t+928|0;i=$t(e,n)|0;if(i){h=a;return i|0}if((s[n>>2]|0)>>>0>16){i=1;h=a;return i|0}n=t+932|0;i=$t(e,n)|0;if(i){h=a;return i|0}if((s[n>>2]|0)>>>0>16){i=1;h=a;return i|0}n=t+936|0;i=$t(e,n)|0;if(i){h=a;return i|0}if((s[n>>2]|0)>>>0>16){i=1;h=a;return i|0}n=t+940|0;i=$t(e,n)|0;if(i){h=a;return i|0}if((s[n>>2]|0)>>>0>16){i=1;h=a;return i|0}i=$t(e,t+944|0)|0;if(i){h=a;return i|0}i=$t(e,t+948|0)|0;if(!i)break;h=a;return i|0}else{s[t+924>>2]=1;s[t+928>>2]=2;s[t+932>>2]=1;s[t+936>>2]=16;s[t+940>>2]=16;s[t+944>>2]=16;s[t+948>>2]=16}}while(0);i=0;h=a;return i|0}function Ii(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,o=0,a=0,u=0,c=0;c=h;i=$t(e,t)|0;if(i){h=c;return i|0}i=(s[t>>2]|0)+1|0;s[t>>2]=i;if(i>>>0>32){i=1;h=c;return i|0}i=Gt(e,4)|0;if((i|0)==-1){i=1;h=c;return i|0}u=t+4|0;s[u>>2]=i;n=Gt(e,4)|0;if((n|0)==-1){i=1;h=c;return i|0}a=t+8|0;s[a>>2]=n;e:do{if(s[t>>2]|0){o=0;while(1){r=t+(o<<2)+12|0;i=$t(e,r)|0;if(i){n=17;break}n=s[r>>2]|0;if((n|0)==-1){i=1;n=17;break}i=n+1|0;s[r>>2]=i;s[r>>2]=i<<(s[u>>2]|0)+6;r=t+(o<<2)+140|0;i=$t(e,r)|0;if(i){n=17;break}n=s[r>>2]|0;if((n|0)==-1){i=1;n=17;break}n=n+1|0;s[r>>2]=n;s[r>>2]=n<<(s[a>>2]|0)+4;n=Gt(e,1)|0;if((n|0)==-1){i=1;n=17;break}s[t+(o<<2)+268>>2]=(n|0)==1&1;o=o+1|0;if(o>>>0>=(s[t>>2]|0)>>>0)break e}if((n|0)==17){h=c;return i|0}}}while(0);i=Gt(e,5)|0;if((i|0)==-1){i=1;h=c;return i|0}s[t+396>>2]=i+1;i=Gt(e,5)|0;if((i|0)==-1){i=1;h=c;return i|0}s[t+400>>2]=i+1;i=Gt(e,5)|0;if((i|0)==-1){i=1;h=c;return i|0}s[t+404>>2]=i+1;i=Gt(e,5)|0;if((i|0)==-1){i=1;h=c;return i|0}s[t+408>>2]=i;i=0;h=c;return i|0}function Ui(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0;m=h;e:do{if(!(s[i+284>>2]|0))p=0;else{a=0;while(1){u=s[i+(a*20|0)+288>>2]|0;if((u|0)==5){p=1;break e}else if(!u)break;a=a+1|0}p=0}}while(0);u=s[t+16>>2]|0;if((u|0)==1){if((s[n>>2]|0)!=5){r=s[e+12>>2]|0;if((s[e+8>>2]|0)>>>0>(s[i+12>>2]|0)>>>0)r=(s[t+12>>2]|0)+r|0}else r=0;l=s[t+36>>2]|0;a=(l|0)==0;if(a)u=0;else u=(s[i+12>>2]|0)+r|0;n=(s[n+4>>2]|0)==0;c=((n&(u|0)!=0)<<31>>31)+u|0;f=(c|0)!=0;if(f){o=c+-1|0;d=(o>>>0)%(l>>>0)|0;o=(o>>>0)/(l>>>0)|0}else{d=0;o=0}if(a)u=0;else{c=s[t+40>>2]|0;u=0;a=0;do{u=(s[c+(a<<2)>>2]|0)+u|0;a=a+1|0}while(a>>>0<l>>>0)}if(f){o=ee(u,o)|0;c=s[t+40>>2]|0;u=0;do{o=(s[c+(u<<2)>>2]|0)+o|0;u=u+1|0}while(u>>>0<=d>>>0)}else o=0;if(n)u=(s[t+28>>2]|0)+o|0;else u=o;o=(s[i+32>>2]|0)+(s[t+32>>2]|0)|0;a=e+12|0;if(!p){t=((o|0)<0?o:0)+u+(s[i+28>>2]|0)|0;s[a>>2]=r;s[e+8>>2]=s[i+12>>2];h=m;return t|0}else{s[a>>2]=0;s[e+8>>2]=0;t=0;h=m;return t|0}}else if(!u){if((s[n>>2]|0)!=5){a=s[e>>2]|0;u=s[i+20>>2]|0;if(a>>>0>u>>>0?(c=s[t+20>>2]|0,(a-u|0)>>>0>=c>>>1>>>0):0){a=(s[e+4>>2]|0)+c|0;c=e}else{c=e;l=11}}else{s[e+4>>2]=0;s[e>>2]=0;u=s[i+20>>2]|0;a=0;c=e;l=11}do{if((l|0)==11){if(u>>>0>a>>>0?(o=s[t+20>>2]|0,(u-a|0)>>>0>o>>>1>>>0):0){a=(s[e+4>>2]|0)-o|0;break}a=s[e+4>>2]|0}}while(0);if(!(s[n+4>>2]|0)){t=s[i+24>>2]|0;t=u+a+((t|0)<0?t:0)|0;h=m;return t|0}s[e+4>>2]=a;r=s[i+24>>2]|0;o=(r|0)<0;if(!p){s[c>>2]=u;t=u+a+(o?r:0)|0;h=m;return t|0}else{s[e+4>>2]=0;s[c>>2]=o?0-r|0:0;t=0;h=m;return t|0}}else{if((s[n>>2]|0)==5){c=0;o=0;r=e+12|0}else{u=s[i+12>>2]|0;r=e+12|0;a=s[r>>2]|0;if((s[e+8>>2]|0)>>>0>u>>>0)a=(s[t+12>>2]|0)+a|0;c=a;o=(u+a<<1)+(((s[n+4>>2]|0)==0)<<31>>31)|0}if(!p){s[r>>2]=c;s[e+8>>2]=s[i+12>>2];t=o;h=m;return t|0}else{s[r>>2]=0;s[e+8>>2]=0;t=0;h=m;return t|0}}return 0}function Pi(e,t){e=e|0;t=t|0;var i=0,n=0;i=h;ui(e);n=un(2112)|0;s[e+3376>>2]=n;if(n)if(!t)t=0;else{s[e+1216>>2]=1;t=0}else t=1;h=i;return t|0}function Fi(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0;v=h;h=h+208|0;f=v+204|0;m=v;o=v+112|0;a=v+40|0;b=v+16|0;u=v+12|0;d=v+8|0;s[u>>2]=0;p=e+3344|0;if((s[p>>2]|0)!=0?(s[e+3348>>2]|0)==(t|0):0){t=e+3356|0;s[b+0>>2]=s[t+0>>2];s[b+4>>2]=s[t+4>>2];s[b+8>>2]=s[t+8>>2];s[b+12>>2]=s[t+12>>2];s[b+4>>2]=s[b>>2];s[b+8>>2]=0;s[b+16>>2]=0;s[r>>2]=s[e+3352>>2]}else c=4;do{if((c|0)==4)if(!(Et(t,i,b,r)|0)){i=e+3356|0;s[i+0>>2]=s[b+0>>2];s[i+4>>2]=s[b+4>>2];s[i+8>>2]=s[b+8>>2];s[i+12>>2]=s[b+12>>2];s[i+16>>2]=s[b+16>>2];s[e+3352>>2]=s[r>>2];s[e+3348>>2]=t;break}else{d=3;h=v;return d|0}}while(0);s[p>>2]=0;if(ei(b,m)|0){d=3;h=v;return d|0}if(((s[m>>2]|0)+-1|0)>>>0>11){d=0;h=v;return d|0}t=bi(b,m,e,u)|0;if(!t){do{if(!(s[u>>2]|0))c=19;else{if((s[e+1184>>2]|0)!=0?(s[e+16>>2]|0)!=0:0){if(s[e+3380>>2]|0){d=3;h=v;return d|0}if(!(s[e+1188>>2]|0)){l=e+1220|0;d=e+1336|0;s[d>>2]=Ge(l)|0;$e(l);Ri(e,d,0)|0}else Ri(e,e+1336|0,s[e+1372>>2]|0)|0;s[r>>2]=0;s[p>>2]=1;s[e+1180>>2]=0;o=e+1336|0;t=e+1360|0;break}s[e+1188>>2]=0;s[e+1180>>2]=0;c=19}}while(0);do{if((c|0)==19){t=s[m>>2]|0;if((t|0)==8)if(!(At(b,a)|0)){fi(e,a)|0;d=0;h=v;return d|0}else{d=a+20|0;cn(s[d>>2]|0);s[d>>2]=0;d=a+24|0;cn(s[d>>2]|0);s[d>>2]=0;d=a+28|0;cn(s[d>>2]|0);s[d>>2]=0;d=a+44|0;cn(s[d>>2]|0);s[d>>2]=0;d=3;h=v;return d|0}else if((t|0)==7)if(!(xt(b,o)|0)){ci(e,o)|0;d=0;h=v;return d|0}else{d=o+40|0;cn(s[d>>2]|0);s[d>>2]=0;d=o+84|0;cn(s[d>>2]|0);s[d>>2]=0;d=3;h=v;return d|0}else if((t|0)==1|(t|0)==5){c=e+1180|0;if(s[e+1180>>2]|0){d=0;h=v;return d|0}s[e+1184>>2]=1;if(di(e)|0){s[e+1204>>2]=0;s[e+1208>>2]=n;Ct(b,f)|0;u=e+8|0;i=s[u>>2]|0;t=hi(e,s[f>>2]|0,(s[m>>2]|0)==5&1)|0;if(t){s[e+4>>2]=256;s[e+12>>2]=0;s[u>>2]=32;s[e+16>>2]=0;s[e+3380>>2]=0;d=(t|0)==65535?5:4;h=v;return d|0}if((i|0)!=(s[u>>2]|0)){i=s[e+16>>2]|0;s[d>>2]=1;t=s[e>>2]|0;if(t>>>0<32)t=s[e+(t<<2)+20>>2]|0;else t=0;s[r>>2]=0;s[p>>2]=1;if((((((s[m>>2]|0)==5?(f=Ut(d,b,i,s[e+12>>2]|0,5)|0,(s[d>>2]|f|0)==0):0)?(l=e+1220|0,!((s[e+1276>>2]|0)!=0|(t|0)==0)):0)?(s[t+52>>2]|0)==(s[i+52>>2]|0):0)?(s[t+56>>2]|0)==(s[i+56>>2]|0):0)?(s[t+88>>2]|0)==(s[i+88>>2]|0):0)Je(l);else s[e+1280>>2]=0;s[e>>2]=s[u>>2];d=2;h=v;return d|0}}if(s[e+3380>>2]|0){d=3;h=v;return d|0}a=e+1368|0;u=e+2356|0;t=e+16|0;if(Tt(b,u,s[t>>2]|0,s[e+12>>2]|0,m)|0){d=3;h=v;return d|0}if(!(di(e)|0))i=e+1220|0;else{i=e+1220|0;if((s[m>>2]|0)!=5?(Xe(i,s[e+2368>>2]|0,(s[m+4>>2]|0)!=0&1,s[(s[t>>2]|0)+48>>2]|0)|0)!=0:0){d=3;h=v;return d|0}s[e+1336>>2]=Ge(i)|0}vn(a|0,u|0,988)|0;s[e+1188>>2]=1;t=e+1360|0;f=m;l=s[f+4>>2]|0;d=t;s[d>>2]=s[f>>2];s[d+4>>2]=l;mi(e,s[e+1432>>2]|0);$e(i);if(He(i,e+1436|0,s[e+1380>>2]|0,s[e+1412>>2]|0)|0){d=3;h=v;return d|0}o=e+1336|0;if(Pt(b,e,o,a)|0){Ft(e,s[a>>2]|0);d=3;h=v;return d|0}if(pi(e)|0){s[c>>2]=1;break}else{d=0;h=v;return d|0}}else{d=0;h=v;return d|0}}}while(0);it(o,s[e+1212>>2]|0);li(e);u=Ui(e+1284|0,s[e+16>>2]|0,e+1368|0,t)|0;i=e+1188|0;do{if(s[i>>2]|0){a=e+1220|0;if(!(s[e+1364>>2]|0)){Ve(a,0,o,s[e+1380>>2]|0,u,(s[t>>2]|0)==5&1,s[e+1208>>2]|0,s[e+1204>>2]|0)|0;break}else{Ve(a,e+1644|0,o,s[e+1380>>2]|0,u,(s[t>>2]|0)==5&1,s[e+1208>>2]|0,s[e+1204>>2]|0)|0;break}}}while(0);s[e+1184>>2]=0;s[i>>2]=0;d=1;h=v;return d|0}else if((t|0)==65520){d=4;h=v;return d|0}else{d=3;h=v;return d|0}return 0}function Oi(e){e=e|0;var t=0,i=0,n=0,r=0;r=h;n=0;do{i=e+(n<<2)+20|0;t=s[i>>2]|0;if(t){cn(s[t+40>>2]|0);s[(s[i>>2]|0)+40>>2]=0;cn(s[(s[i>>2]|0)+84>>2]|0);s[(s[i>>2]|0)+84>>2]=0;cn(s[i>>2]|0);s[i>>2]=0}n=n+1|0}while((n|0)!=32);n=0;do{i=e+(n<<2)+148|0;t=s[i>>2]|0;if(t){cn(s[t+20>>2]|0);s[(s[i>>2]|0)+20>>2]=0;cn(s[(s[i>>2]|0)+24>>2]|0);s[(s[i>>2]|0)+24>>2]=0;cn(s[(s[i>>2]|0)+28>>2]|0);s[(s[i>>2]|0)+28>>2]=0;cn(s[(s[i>>2]|0)+44>>2]|0);s[(s[i>>2]|0)+44>>2]=0;cn(s[i>>2]|0);s[i>>2]=0}n=n+1|0}while((n|0)!=256);t=e+3376|0;cn(s[t>>2]|0);s[t>>2]=0;t=e+1212|0;cn(s[t>>2]|0);s[t>>2]=0;t=e+1172|0;cn(s[t>>2]|0);s[t>>2]=0;Ye(e+1220|0);h=r;return}function Li(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;r=h;e=Qe(e+1220|0)|0;if(!e){e=0;h=r;return e|0}s[t>>2]=s[e+4>>2];s[i>>2]=s[e+12>>2];s[n>>2]=s[e+8>>2];e=s[e>>2]|0;h=r;return e|0}function Ni(e){e=e|0;var t=0;t=h;e=s[e+16>>2]|0;if(!e){e=0;h=t;return e|0}e=s[e+52>>2]|0;h=t;return e|0}function ji(e){e=e|0;var t=0;t=h;e=s[e+16>>2]|0;if(!e){e=0;h=t;return e|0}e=s[e+56>>2]|0;h=t;return e|0}function zi(e){e=e|0;var t=0;t=h;Je(e+1220|0);h=t;return}function Hi(e){e=e|0;var t=0;t=h;e=(vi(e)|0)==0&1;h=t;return e|0}function Vi(e){e=e|0;var t=0,i=0;i=h;e=s[e+16>>2]|0;if(((((e|0)!=0?(s[e+80>>2]|0)!=0:0)?(t=s[e+84>>2]|0,(t|0)!=0):0)?(s[t+24>>2]|0)!=0:0)?(s[t+32>>2]|0)!=0:0){e=1;h=i;return e|0}e=0;h=i;return e|0}function qi(e){e=e|0;var t=0,i=0;i=h;e=s[e+16>>2]|0;if(((((e|0)!=0?(s[e+80>>2]|0)!=0:0)?(t=s[e+84>>2]|0,(t|0)!=0):0)?(s[t+24>>2]|0)!=0:0)?(s[t+36>>2]|0)!=0:0)e=s[t+48>>2]|0;else e=2;h=i;return e|0}function Gi(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;var a=0;a=h;e=s[e+16>>2]|0;if((e|0)!=0?(s[e+60>>2]|0)!=0:0){s[t>>2]=1;t=e+64|0;s[i>>2]=s[t>>2]<<1;s[n>>2]=(s[e+52>>2]<<4)-((s[e+68>>2]|0)+(s[t>>2]|0)<<1);t=e+72|0;s[r>>2]=s[t>>2]<<1;e=(s[e+56>>2]<<4)-((s[e+76>>2]|0)+(s[t>>2]|0)<<1)|0;s[o>>2]=e;h=a;return}s[t>>2]=0;s[i>>2]=0;s[n>>2]=0;s[r>>2]=0;e=0;s[o>>2]=e;h=a;return}function Ki(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,o=0;r=h;e=s[e+16>>2]|0;e:do{if((((e|0)!=0?(s[e+80>>2]|0)!=0:0)?(n=s[e+84>>2]|0,(n|0)!=0):0)?(s[n>>2]|0)!=0:0){e=s[n+4>>2]|0;do{switch(e|0){case 11:{n=11;e=15;break e}case 255:{e=s[n+8>>2]|0;n=s[n+12>>2]|0;o=(e|0)==0|(n|0)==0;n=o?0:n;e=o?0:e;break e}case 2:{n=11;e=12;break e}case 12:{n=33;e=64;break e}case 13:{n=99;e=160;break e}case 3:{n=11;e=10;break e}case 5:{n=33;e=40;break e}case 6:{n=11;e=24;break e}case 7:{n=11;e=20;break e}case 4:{n=11;e=16;break e}case 10:{n=11;e=18;break e}case 9:{n=33;e=80;break e}case 8:{n=11;e=32;break e}case 1:case 0:{n=e;break e}default:{n=0;e=0;break e}}}while(0)}else{n=1;e=1}}while(0);s[t>>2]=e;s[i>>2]=n;h=r;return}function Wi(e){e=e|0;e=s[e+16>>2]|0;if(!e)e=0;else e=s[e>>2]|0;return e|0}function Yi(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;r=h;do{if(e){i=un(3396)|0;if(i){n=i+8|0;if(!(Pi(n,t)|0)){s[i>>2]=1;s[i+4>>2]=0;s[e>>2]=i;i=0;break}else{Oi(n);cn(i);i=-4;break}}else i=-4}else i=-1}while(0);h=r;return i|0}function $i(e,t){e=e|0;t=t|0;var i=0,n=0;n=h;if((e|0)==0|(t|0)==0){e=-1;h=n;return e|0}i=e+8|0;if(!(s[e+24>>2]|0)){e=-6;h=n;return e|0}if(!(s[e+20>>2]|0)){e=-6;h=n;return e|0}s[t+4>>2]=(Ni(i)|0)<<4;s[t+8>>2]=(ji(i)|0)<<4;s[t+12>>2]=Vi(i)|0;s[t+16>>2]=qi(i)|0;Gi(i,t+28|0,t+32|0,t+36|0,t+40|0,t+44|0);Ki(i,t+20|0,t+24|0);s[t>>2]=Wi(i)|0;e=0;h=n;return e|0}function Xi(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0;l=h;h=h+16|0;u=l;e:do{if((!((t|0)==0|(i|0)==0)?(r=s[t>>2]|0,(r|0)!=0):0)?(o=s[t+4>>2]|0,(o|0)!=0):0)if((e|0)!=0?(n=s[e>>2]|0,(n|0)!=0):0){s[i>>2]=0;s[u>>2]=0;c=e+8|0;s[e+3392>>2]=s[t+12>>2];a=t+8|0;t=1;while(1){if((n|0)==2){f=8;break}n=Fi(c,r,o,s[a>>2]|0,u)|0;d=s[u>>2]|0;r=r+d|0;o=o-d|0;o=(o|0)<0?0:o;s[i>>2]=r;if((n|0)==4){n=(Hi(c)|0|o|0)==0;t=n?-2:t}else if((n|0)==5){t=-4;break e}else if((n|0)==2)break;else if((n|0)==1){f=13;break}if(!o)break e;n=s[e>>2]|0}if((f|0)==8){s[e>>2]=1;s[i>>2]=r+(s[u>>2]|0)}else if((f|0)==13){t=e+4|0;s[t>>2]=(s[t>>2]|0)+1;t=(o|0)==0?2:3;break}t=e+1288|0;if((s[t>>2]|0)!=0?(s[e+1244>>2]|0)!=(s[e+1248>>2]|0):0){s[t>>2]=0;s[e>>2]=2;t=3}else t=4}else t=-3;else t=-1}while(0);h=l;return t|0}function Qi(e){e=e|0;s[e>>2]=2;s[e+4>>2]=3;return}function Ji(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,o=0,a=0;a=h;h=h+16|0;r=a+8|0;n=a+4|0;o=a;if((e|0)==0|(t|0)==0){e=-1;h=a;return e|0}e=e+8|0;if(i)zi(e);e=Li(e,o,n,r)|0;if(!e){e=0;h=a;return e|0}s[t>>2]=e;s[t+4>>2]=s[o>>2];s[t+8>>2]=s[n>>2];s[t+12>>2]=s[r>>2];e=2;h=a;return e|0}function Zi(e){e=e|0;var t=0,i=0;i=h;t=ln(e)|0;s[1792]=t;s[1791]=t;s[1790]=e;s[1793]=t+e;h=i;return t|0}function en(e){e=e|0;s[1790]=e;return}function tn(){var e=0;e=h;s[1786]=s[1791];s[1787]=s[1790];do{rn()|0}while((s[1787]|0)!=0);h=e;return}function nn(){var e=0,t=0;t=h;if(Yi(7176,0)|0){oe(7280)|0;e=s[1784]|0;if(e)dn(e)}else{s[1796]=1;s[1798]=1}h=t;return-1}function rn(){var e=0,t=0,i=0;t=h;s[1788]=s[1798];e=Xi(s[1794]|0,7144,7200)|0;switch(e|0){case 4:{if($i(s[1794]|0,7208)|0){e=-1;h=t;return e|0}s[1814]=(ee((s[1803]|0)*3|0,s[1804]|0)|0)>>>1;_e();e=s[1800]|0;s[1787]=(s[1786]|0)-e+(s[1787]|0);s[1786]=e;e=0;h=t;return e|0}case 2:{s[1787]=0;break}case 1:case-2:{s[1787]=0;h=t;return e|0}case 3:{i=s[1800]|0;s[1787]=(s[1786]|0)-i+(s[1787]|0);s[1786]=i;break}default:{h=t;return e|0}}s[1798]=(s[1798]|0)+1;if((Ji(s[1794]|0,7264,0)|0)!=2){h=t;return e|0}do{s[1796]=(s[1796]|0)+1;se(s[1816]|0,s[1803]|0,s[1804]|0)}while((Ji(s[1794]|0,7264,0)|0)==2);h=t;return e|0}function sn(){var e=0,t=0;t=h;e=s[1784]|0;if(e)dn(e);h=t;return}function on(){var e=0,t=0;t=h;h=h+16|0;e=t;Qi(e);h=t;return s[e>>2]|0}function an(){var e=0,t=0;t=h;h=h+16|0;e=t;Qi(e);h=t;return s[e+4>>2]|0}function un(e){e=e|0;var t=0;t=h;e=ln(e)|0;h=t;return e|0}function cn(e){e=e|0;var t=0;t=h;dn(e);h=t;return}function fn(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=h;vn(e|0,t|0,i|0)|0;h=n;return}function hn(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=h;bn(e|0,t&255|0,i|0)|0;h=n;return}function ln(e){e=e|0;var t=0,i=0,n=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0,E=0,x=0,k=0,A=0,T=0,C=0,R=0,D=0,B=0,M=0,I=0,U=0,P=0,F=0,O=0;O=h;do{if(e>>>0<245){if(e>>>0<11)m=16;else m=e+11&-8;e=m>>>3;f=s[1828]|0;c=f>>>e;if(c&3){o=(c&1^1)+e|0;t=o<<1;a=7352+(t<<2)|0;t=7352+(t+2<<2)|0;n=s[t>>2]|0;u=n+8|0;r=s[u>>2]|0;do{if((a|0)!=(r|0)){if(r>>>0<(s[1832]|0)>>>0)de();i=r+12|0;if((s[i>>2]|0)==(n|0)){s[i>>2]=a;s[t>>2]=r;break}else de()}else s[1828]=f&~(1<<o)}while(0);E=o<<3;s[n+4>>2]=E|3;E=n+(E|4)|0;s[E>>2]=s[E>>2]|1;E=u;h=O;return E|0}u=s[1830]|0;if(m>>>0>u>>>0){if(c){o=2<<e;o=c<<e&(o|0-o);o=(o&0-o)+-1|0;e=o>>>12&16;o=o>>>e;a=o>>>5&8;o=o>>>a;i=o>>>2&4;o=o>>>i;n=o>>>1&2;o=o>>>n;r=o>>>1&1;r=(a|e|i|n|r)+(o>>>r)|0;o=r<<1;n=7352+(o<<2)|0;o=7352+(o+2<<2)|0;i=s[o>>2]|0;e=i+8|0;a=s[e>>2]|0;do{if((n|0)!=(a|0)){if(a>>>0<(s[1832]|0)>>>0)de();u=a+12|0;if((s[u>>2]|0)==(i|0)){s[u>>2]=n;s[o>>2]=a;l=s[1830]|0;break}else de()}else{s[1828]=f&~(1<<r);l=u}}while(0);E=r<<3;c=E-m|0;s[i+4>>2]=m|3;t=i+m|0;s[i+(m|4)>>2]=c|1;s[i+E>>2]=c;if(l){n=s[1833]|0;o=l>>>3;a=o<<1;r=7352+(a<<2)|0;u=s[1828]|0;o=1<<o;if(u&o){u=7352+(a+2<<2)|0;a=s[u>>2]|0;if(a>>>0<(s[1832]|0)>>>0)de();else{d=u;p=a}}else{s[1828]=u|o;d=7352+(a+2<<2)|0;p=r}s[d>>2]=n;s[p+12>>2]=n;s[n+8>>2]=p;s[n+12>>2]=r}s[1830]=c;s[1833]=t;E=e;h=O;return E|0}c=s[1829]|0;if(c){f=(c&0-c)+-1|0;S=f>>>12&16;f=f>>>S;w=f>>>5&8;f=f>>>w;E=f>>>2&4;f=f>>>E;u=f>>>1&2;f=f>>>u;l=f>>>1&1;l=s[7616+((w|S|E|u|l)+(f>>>l)<<2)>>2]|0;f=(s[l+4>>2]&-8)-m|0;u=l;while(1){i=s[u+16>>2]|0;if(!i){i=s[u+20>>2]|0;if(!i)break}u=(s[i+4>>2]&-8)-m|0;E=u>>>0<f>>>0;f=E?u:f;u=i;l=E?i:l}c=s[1832]|0;if(l>>>0<c>>>0)de();t=l+m|0;if(l>>>0>=t>>>0)de();e=s[l+24>>2]|0;o=s[l+12>>2]|0;do{if((o|0)==(l|0)){a=l+20|0;u=s[a>>2]|0;if(!u){a=l+16|0;u=s[a>>2]|0;if(!u){n=0;break}}while(1){r=u+20|0;o=s[r>>2]|0;if(o){u=o;a=r;continue}r=u+16|0;o=s[r>>2]|0;if(!o)break;else{u=o;a=r}}if(a>>>0<c>>>0)de();else{s[a>>2]=0;n=u;break}}else{r=s[l+8>>2]|0;if(r>>>0<c>>>0)de();u=r+12|0;if((s[u>>2]|0)!=(l|0))de();a=o+8|0;if((s[a>>2]|0)==(l|0)){s[u>>2]=o;s[a>>2]=r;n=o;break}else de()}}while(0);do{if(e){u=s[l+28>>2]|0;a=7616+(u<<2)|0;if((l|0)==(s[a>>2]|0)){s[a>>2]=n;if(!n){s[1829]=s[1829]&~(1<<u);break}}else{if(e>>>0<(s[1832]|0)>>>0)de();u=e+16|0;if((s[u>>2]|0)==(l|0))s[u>>2]=n;else s[e+20>>2]=n;if(!n)break}a=s[1832]|0;if(n>>>0<a>>>0)de();s[n+24>>2]=e;u=s[l+16>>2]|0;do{if(u)if(u>>>0<a>>>0)de();else{s[n+16>>2]=u;s[u+24>>2]=n;break}}while(0);r=s[l+20>>2]|0;if(r)if(r>>>0<(s[1832]|0)>>>0)de();else{s[n+20>>2]=r;s[r+24>>2]=n;break}}}while(0);if(f>>>0<16){E=f+m|0;s[l+4>>2]=E|3;E=l+(E+4)|0;s[E>>2]=s[E>>2]|1}else{s[l+4>>2]=m|3;s[l+(m|4)>>2]=f|1;s[l+(f+m)>>2]=f;i=s[1830]|0;if(i){n=s[1833]|0;o=i>>>3;a=o<<1;r=7352+(a<<2)|0;u=s[1828]|0;o=1<<o;if(u&o){u=7352+(a+2<<2)|0;a=s[u>>2]|0;if(a>>>0<(s[1832]|0)>>>0)de();else{v=u;b=a}}else{s[1828]=u|o;v=7352+(a+2<<2)|0;b=r}s[v>>2]=n;s[b+12>>2]=n;s[n+8>>2]=b;s[n+12>>2]=r}s[1830]=f;s[1833]=t}E=l+8|0;h=O;return E|0}}}else if(e>>>0<=4294967231){e=e+11|0;m=e&-8;l=s[1829]|0;if(l){a=0-m|0;e=e>>>8;if(e)if(m>>>0>16777215)f=31;else{b=(e+1048320|0)>>>16&8;v=e<<b;p=(v+520192|0)>>>16&4;v=v<<p;f=(v+245760|0)>>>16&2;f=14-(p|b|f)+(v<<f>>>15)|0;f=m>>>(f+7|0)&1|f<<1}else f=0;u=s[7616+(f<<2)>>2]|0;e:do{if(!u){e=0;c=0}else{if((f|0)==31)c=0;else c=25-(f>>>1)|0;r=a;e=0;n=m<<c;c=0;while(1){o=s[u+4>>2]&-8;a=o-m|0;if(a>>>0<r>>>0)if((o|0)==(m|0)){e=u;c=u;break e}else c=u;else a=r;v=s[u+20>>2]|0;u=s[u+(n>>>31<<2)+16>>2]|0;e=(v|0)==0|(v|0)==(u|0)?e:v;if(!u)break;else{r=a;n=n<<1}}}}while(0);if((e|0)==0&(c|0)==0){e=2<<f;e=l&(e|0-e);if(!e)break;v=(e&0-e)+-1|0;d=v>>>12&16;v=v>>>d;l=v>>>5&8;v=v>>>l;p=v>>>2&4;v=v>>>p;b=v>>>1&2;v=v>>>b;e=v>>>1&1;e=s[7616+((l|d|p|b|e)+(v>>>e)<<2)>>2]|0}if(!e){d=a;l=c}else while(1){v=(s[e+4>>2]&-8)-m|0;u=v>>>0<a>>>0;a=u?v:a;c=u?e:c;u=s[e+16>>2]|0;if(u){e=u;continue}e=s[e+20>>2]|0;if(!e){d=a;l=c;break}}if((l|0)!=0?d>>>0<((s[1830]|0)-m|0)>>>0:0){c=s[1832]|0;if(l>>>0<c>>>0)de();p=l+m|0;if(l>>>0>=p>>>0)de();e=s[l+24>>2]|0;o=s[l+12>>2]|0;do{if((o|0)==(l|0)){a=l+20|0;u=s[a>>2]|0;if(!u){a=l+16|0;u=s[a>>2]|0;if(!u){t=0;break}}while(1){r=u+20|0;o=s[r>>2]|0;if(o){u=o;a=r;continue}r=u+16|0;o=s[r>>2]|0;if(!o)break;else{u=o;a=r}}if(a>>>0<c>>>0)de();else{s[a>>2]=0;t=u;break}}else{r=s[l+8>>2]|0;if(r>>>0<c>>>0)de();u=r+12|0;if((s[u>>2]|0)!=(l|0))de();a=o+8|0;if((s[a>>2]|0)==(l|0)){s[u>>2]=o;s[a>>2]=r;t=o;break}else de()}}while(0);do{if(e){u=s[l+28>>2]|0;a=7616+(u<<2)|0;if((l|0)==(s[a>>2]|0)){s[a>>2]=t;if(!t){s[1829]=s[1829]&~(1<<u);break}}else{if(e>>>0<(s[1832]|0)>>>0)de();u=e+16|0;if((s[u>>2]|0)==(l|0))s[u>>2]=t;else s[e+20>>2]=t;if(!t)break}a=s[1832]|0;if(t>>>0<a>>>0)de();s[t+24>>2]=e;u=s[l+16>>2]|0;do{if(u)if(u>>>0<a>>>0)de();else{s[t+16>>2]=u;s[u+24>>2]=t;break}}while(0);u=s[l+20>>2]|0;if(u)if(u>>>0<(s[1832]|0)>>>0)de();else{s[t+20>>2]=u;s[u+24>>2]=t;break}}}while(0);e:do{if(d>>>0>=16){s[l+4>>2]=m|3;s[l+(m|4)>>2]=d|1;s[l+(d+m)>>2]=d;u=d>>>3;if(d>>>0<256){o=u<<1;i=7352+(o<<2)|0;a=s[1828]|0;u=1<<u;do{if(!(a&u)){s[1828]=a|u;y=7352+(o+2<<2)|0;_=i}else{r=7352+(o+2<<2)|0;n=s[r>>2]|0;if(n>>>0>=(s[1832]|0)>>>0){y=r;_=n;break}de()}}while(0);s[y>>2]=p;s[_+12>>2]=p;s[l+(m+8)>>2]=_;s[l+(m+12)>>2]=i;break}i=d>>>8;if(i)if(d>>>0>16777215)r=31;else{S=(i+1048320|0)>>>16&8;E=i<<S;_=(E+520192|0)>>>16&4;E=E<<_;r=(E+245760|0)>>>16&2;r=14-(_|S|r)+(E<<r>>>15)|0;r=d>>>(r+7|0)&1|r<<1}else r=0;a=7616+(r<<2)|0;s[l+(m+28)>>2]=r;s[l+(m+20)>>2]=0;s[l+(m+16)>>2]=0;u=s[1829]|0;o=1<<r;if(!(u&o)){s[1829]=u|o;s[a>>2]=p;s[l+(m+24)>>2]=a;s[l+(m+12)>>2]=p;s[l+(m+8)>>2]=p;break}u=s[a>>2]|0;if((r|0)==31)i=0;else i=25-(r>>>1)|0;t:do{if((s[u+4>>2]&-8|0)!=(d|0)){r=d<<i;while(1){o=u+(r>>>31<<2)+16|0;a=s[o>>2]|0;if(!a)break;if((s[a+4>>2]&-8|0)==(d|0)){w=a;break t}else{r=r<<1;u=a}}if(o>>>0<(s[1832]|0)>>>0)de();else{s[o>>2]=p;s[l+(m+24)>>2]=u;s[l+(m+12)>>2]=p;s[l+(m+8)>>2]=p;break e}}else w=u}while(0);t=w+8|0;i=s[t>>2]|0;E=s[1832]|0;if(w>>>0>=E>>>0&i>>>0>=E>>>0){s[i+12>>2]=p;s[t>>2]=p;s[l+(m+8)>>2]=i;s[l+(m+12)>>2]=w;s[l+(m+24)>>2]=0;break}else de()}else{E=d+m|0;s[l+4>>2]=E|3;E=l+(E+4)|0;s[E>>2]=s[E>>2]|1}}while(0);E=l+8|0;h=O;return E|0}}}else m=-1}while(0);c=s[1830]|0;if(c>>>0>=m>>>0){i=c-m|0;t=s[1833]|0;if(i>>>0>15){s[1833]=t+m;s[1830]=i;s[t+(m+4)>>2]=i|1;s[t+c>>2]=i;s[t+4>>2]=m|3}else{s[1830]=0;s[1833]=0;s[t+4>>2]=c|3;E=t+(c+4)|0;s[E>>2]=s[E>>2]|1}E=t+8|0;h=O;return E|0}c=s[1831]|0;if(c>>>0>m>>>0){S=c-m|0;s[1831]=S;E=s[1834]|0;s[1834]=E+m;s[E+(m+4)>>2]=S|1;s[E+4>>2]=m|3;E=E+8|0;h=O;return E|0}do{if(!(s[1946]|0)){c=Ee(30)|0;if(!(c+-1&c)){s[1948]=c;s[1947]=c;s[1949]=-1;s[1950]=-1;s[1951]=0;s[1939]=0;s[1946]=(Se(0)|0)&-16^1431655768;break}else de()}}while(0);f=m+48|0;o=s[1948]|0;r=m+47|0;a=o+r|0;o=0-o|0;l=a&o;if(l>>>0<=m>>>0){E=0;h=O;return E|0}e=s[1938]|0;if((e|0)!=0?(_=s[1936]|0,w=_+l|0,w>>>0<=_>>>0|w>>>0>e>>>0):0){E=0;h=O;return E|0}e:do{if(!(s[1939]&4)){u=s[1834]|0;t:do{if(u){e=7760|0;while(1){c=s[e>>2]|0;if(c>>>0<=u>>>0?(g=e+4|0,(c+(s[g>>2]|0)|0)>>>0>u>>>0):0)break;e=s[e+8>>2]|0;if(!e){A=181;break t}}if(e){c=a-(s[1831]|0)&o;if(c>>>0<2147483647){u=me(c|0)|0;if((u|0)==((s[e>>2]|0)+(s[g>>2]|0)|0))A=190;else A=191}else c=0}else A=181}else A=181}while(0);do{if((A|0)==181){u=me(0)|0;if((u|0)!=(-1|0)){e=u;c=s[1947]|0;a=c+-1|0;if(!(a&e))c=l;else c=l-e+(a+e&0-c)|0;e=s[1936]|0;a=e+c|0;if(c>>>0>m>>>0&c>>>0<2147483647){w=s[1938]|0;if((w|0)!=0?a>>>0<=e>>>0|a>>>0>w>>>0:0){c=0;break}a=me(c|0)|0;if((a|0)==(u|0))A=190;else{u=a;A=191}}else c=0}else c=0}}while(0);t:do{if((A|0)==190){if((u|0)!=(-1|0)){S=u;g=c;A=201;break e}}else if((A|0)==191){e=0-c|0;do{if((u|0)!=(-1|0)&c>>>0<2147483647&f>>>0>c>>>0?(i=s[1948]|0,i=r-c+i&0-i,i>>>0<2147483647):0)if((me(i|0)|0)==(-1|0)){me(e|0)|0;c=0;break t}else{c=i+c|0;break}}while(0);if((u|0)==(-1|0))c=0;else{S=u;g=c;A=201;break e}}}while(0);s[1939]=s[1939]|4;A=198}else{c=0;A=198}}while(0);if((((A|0)==198?l>>>0<2147483647:0)?(S=me(l|0)|0,E=me(0)|0,(S|0)!=(-1|0)&(E|0)!=(-1|0)&S>>>0<E>>>0):0)?(k=E-S|0,x=k>>>0>(m+40|0)>>>0,x):0){g=x?k:c;A=201}if((A|0)==201){u=(s[1936]|0)+g|0;s[1936]=u;if(u>>>0>(s[1937]|0)>>>0)s[1937]=u;p=s[1834]|0;e:do{if(p){r=7760|0;while(1){c=s[r>>2]|0;o=r+4|0;u=s[o>>2]|0;if((S|0)==(c+u|0)){A=213;break}a=s[r+8>>2]|0;if(!a)break;else r=a}if(((A|0)==213?(s[r+12>>2]&8|0)==0:0)?p>>>0>=c>>>0&p>>>0<S>>>0:0){s[o>>2]=u+g;i=(s[1831]|0)+g|0;t=p+8|0;if(!(t&7))t=0;else t=0-t&7;E=i-t|0;s[1834]=p+t;s[1831]=E;s[p+(t+4)>>2]=E|1;s[p+(i+4)>>2]=40;s[1835]=s[1950];break}c=s[1832]|0;if(S>>>0<c>>>0){s[1832]=S;c=S}a=S+g|0;o=7760|0;while(1){if((s[o>>2]|0)==(a|0)){A=223;break}u=s[o+8>>2]|0;if(!u)break;else o=u}if((A|0)==223?(s[o+12>>2]&8|0)==0:0){s[o>>2]=S;u=o+4|0;s[u>>2]=(s[u>>2]|0)+g;u=S+8|0;if(!(u&7))v=0;else v=0-u&7;u=S+(g+8)|0;if(!(u&7))t=0;else t=0-u&7;u=S+(t+g)|0;b=v+m|0;d=S+b|0;i=u-(S+v)-m|0;s[S+(v+4)>>2]=m|3;t:do{if((u|0)!=(p|0)){if((u|0)==(s[1833]|0)){E=(s[1830]|0)+i|0;s[1830]=E;s[1833]=d;s[S+(b+4)>>2]=E|1;s[S+(E+b)>>2]=E;break}f=g+4|0;a=s[S+(f+t)>>2]|0;if((a&3|0)==1){l=a&-8;n=a>>>3;i:do{if(a>>>0>=256){e=s[S+((t|24)+g)>>2]|0;o=s[S+(g+12+t)>>2]|0;do{if((o|0)==(u|0)){o=t|16;r=S+(f+o)|0;a=s[r>>2]|0;if(!a){o=S+(o+g)|0;a=s[o>>2]|0;if(!a){I=0;break}}else o=r;while(1){n=a+20|0;r=s[n>>2]|0;if(r){a=r;o=n;continue}n=a+16|0;r=s[n>>2]|0;if(!r)break;else{a=r;o=n}}if(o>>>0<c>>>0)de();else{s[o>>2]=0;I=a;break}}else{r=s[S+((t|8)+g)>>2]|0;if(r>>>0<c>>>0)de();c=r+12|0;if((s[c>>2]|0)!=(u|0))de();a=o+8|0;if((s[a>>2]|0)==(u|0)){s[c>>2]=o;s[a>>2]=r;I=o;break}else de()}}while(0);if(!e)break;c=s[S+(g+28+t)>>2]|0;a=7616+(c<<2)|0;do{if((u|0)!=(s[a>>2]|0)){if(e>>>0<(s[1832]|0)>>>0)de();c=e+16|0;if((s[c>>2]|0)==(u|0))s[c>>2]=I;else s[e+20>>2]=I;if(!I)break i}else{s[a>>2]=I;if(I)break;s[1829]=s[1829]&~(1<<c);break i}}while(0);a=s[1832]|0;if(I>>>0<a>>>0)de();s[I+24>>2]=e;u=t|16;c=s[S+(u+g)>>2]|0;do{if(c)if(c>>>0<a>>>0)de();else{s[I+16>>2]=c;s[c+24>>2]=I;break}}while(0);u=s[S+(f+u)>>2]|0;if(!u)break;if(u>>>0<(s[1832]|0)>>>0)de();else{s[I+20>>2]=u;s[u+24>>2]=I;break}}else{o=s[S+((t|8)+g)>>2]|0;r=s[S+(g+12+t)>>2]|0;a=7352+(n<<1<<2)|0;do{if((o|0)!=(a|0)){if(o>>>0<c>>>0)de();if((s[o+12>>2]|0)==(u|0))break;de()}}while(0);if((r|0)==(o|0)){s[1828]=s[1828]&~(1<<n);break}do{if((r|0)==(a|0))R=r+8|0;else{if(r>>>0<c>>>0)de();c=r+8|0;if((s[c>>2]|0)==(u|0)){R=c;break}de()}}while(0);s[o+12>>2]=r;s[R>>2]=o}}while(0);u=S+((l|t)+g)|0;c=l+i|0}else c=i;u=u+4|0;s[u>>2]=s[u>>2]&-2;s[S+(b+4)>>2]=c|1;s[S+(c+b)>>2]=c;u=c>>>3;if(c>>>0<256){o=u<<1;r=7352+(o<<2)|0;a=s[1828]|0;u=1<<u;do{if(!(a&u)){s[1828]=a|u;U=7352+(o+2<<2)|0;P=r}else{u=7352+(o+2<<2)|0;a=s[u>>2]|0;if(a>>>0>=(s[1832]|0)>>>0){U=u;P=a;break}de()}}while(0);s[U>>2]=d;s[P+12>>2]=d;s[S+(b+8)>>2]=P;s[S+(b+12)>>2]=r;break}i=c>>>8;do{if(!i)r=0;else{if(c>>>0>16777215){r=31;break}w=(i+1048320|0)>>>16&8;E=i<<w;_=(E+520192|0)>>>16&4;E=E<<_;r=(E+245760|0)>>>16&2;r=14-(_|w|r)+(E<<r>>>15)|0;r=c>>>(r+7|0)&1|r<<1}}while(0);a=7616+(r<<2)|0;s[S+(b+28)>>2]=r;s[S+(b+20)>>2]=0;s[S+(b+16)>>2]=0;u=s[1829]|0;o=1<<r;if(!(u&o)){s[1829]=u|o;s[a>>2]=d;s[S+(b+24)>>2]=a;s[S+(b+12)>>2]=d;s[S+(b+8)>>2]=d;break}u=s[a>>2]|0;if((r|0)==31)a=0;else a=25-(r>>>1)|0;i:do{if((s[u+4>>2]&-8|0)!=(c|0)){r=c<<a;while(1){o=u+(r>>>31<<2)+16|0;a=s[o>>2]|0;if(!a)break;if((s[a+4>>2]&-8|0)==(c|0)){F=a;break i}else{r=r<<1;u=a}}if(o>>>0<(s[1832]|0)>>>0)de();else{s[o>>2]=d;s[S+(b+24)>>2]=u;s[S+(b+12)>>2]=d;s[S+(b+8)>>2]=d;break t}}else F=u}while(0);t=F+8|0;i=s[t>>2]|0;E=s[1832]|0;if(F>>>0>=E>>>0&i>>>0>=E>>>0){s[i+12>>2]=d;s[t>>2]=d;s[S+(b+8)>>2]=i;s[S+(b+12)>>2]=F;s[S+(b+24)>>2]=0;break}else de()}else{E=(s[1831]|0)+i|0;s[1831]=E;s[1834]=d;s[S+(b+4)>>2]=E|1}}while(0);E=S+(v|8)|0;h=O;return E|0}u=7760|0;while(1){a=s[u>>2]|0;if(a>>>0<=p>>>0?(T=s[u+4>>2]|0,C=a+T|0,C>>>0>p>>>0):0)break;u=s[u+8>>2]|0}u=a+(T+-39)|0;if(!(u&7))u=0;else u=0-u&7;o=a+(T+-47+u)|0;o=o>>>0<(p+16|0)>>>0?p:o;a=o+8|0;u=S+8|0;if(!(u&7))u=0;else u=0-u&7;r=g+-40-u|0;s[1834]=S+u;s[1831]=r;s[S+(u+4)>>2]=r|1;s[S+(g+-36)>>2]=40;s[1835]=s[1950];s[o+4>>2]=27;s[a+0>>2]=s[1940];s[a+4>>2]=s[1941];s[a+8>>2]=s[1942];s[a+12>>2]=s[1943];s[1940]=S;s[1941]=g;s[1943]=0;s[1942]=a;r=o+28|0;s[r>>2]=7;if((o+32|0)>>>0<C>>>0)do{E=r;r=r+4|0;s[r>>2]=7}while((E+8|0)>>>0<C>>>0);if((o|0)!=(p|0)){c=o-p|0;u=p+(c+4)|0;s[u>>2]=s[u>>2]&-2;s[p+4>>2]=c|1;s[p+c>>2]=c;u=c>>>3;if(c>>>0<256){o=u<<1;r=7352+(o<<2)|0;a=s[1828]|0;u=1<<u;do{if(!(a&u)){s[1828]=a|u;D=7352+(o+2<<2)|0;B=r}else{i=7352+(o+2<<2)|0;t=s[i>>2]|0;if(t>>>0>=(s[1832]|0)>>>0){D=i;B=t;break}de()}}while(0);s[D>>2]=p;s[B+12>>2]=p;s[p+8>>2]=B;s[p+12>>2]=r;break}i=c>>>8;if(i)if(c>>>0>16777215)o=31;else{S=(i+1048320|0)>>>16&8;E=i<<S;w=(E+520192|0)>>>16&4;E=E<<w;o=(E+245760|0)>>>16&2;o=14-(w|S|o)+(E<<o>>>15)|0;o=c>>>(o+7|0)&1|o<<1}else o=0;a=7616+(o<<2)|0;s[p+28>>2]=o;s[p+20>>2]=0;s[p+16>>2]=0;n=s[1829]|0;u=1<<o;if(!(n&u)){s[1829]=n|u;s[a>>2]=p;s[p+24>>2]=a;s[p+12>>2]=p;s[p+8>>2]=p;break}n=s[a>>2]|0;if((o|0)==31)i=0;else i=25-(o>>>1)|0;t:do{if((s[n+4>>2]&-8|0)!=(c|0)){u=c<<i;while(1){a=n+(u>>>31<<2)+16|0;i=s[a>>2]|0;if(!i)break;if((s[i+4>>2]&-8|0)==(c|0)){M=i;break t}else{u=u<<1;n=i}}if(a>>>0<(s[1832]|0)>>>0)de();else{s[a>>2]=p;s[p+24>>2]=n;s[p+12>>2]=p;s[p+8>>2]=p;break e}}else M=n}while(0);t=M+8|0;i=s[t>>2]|0;E=s[1832]|0;if(M>>>0>=E>>>0&i>>>0>=E>>>0){s[i+12>>2]=p;s[t>>2]=p;s[p+8>>2]=i;s[p+12>>2]=M;s[p+24>>2]=0;break}else de()}}else{E=s[1832]|0;if((E|0)==0|S>>>0<E>>>0)s[1832]=S;s[1940]=S;s[1941]=g;s[1943]=0;s[1837]=s[1946];s[1836]=-1;t=0;do{E=t<<1;w=7352+(E<<2)|0;s[7352+(E+3<<2)>>2]=w;s[7352+(E+2<<2)>>2]=w;t=t+1|0}while((t|0)!=32);t=S+8|0;if(!(t&7))t=0;else t=0-t&7;E=g+-40-t|0;s[1834]=S+t;s[1831]=E;s[S+(t+4)>>2]=E|1;s[S+(g+-36)>>2]=40;s[1835]=s[1950]}}while(0);t=s[1831]|0;if(t>>>0>m>>>0){S=t-m|0;s[1831]=S;E=s[1834]|0;s[1834]=E+m;s[E+(m+4)>>2]=S|1;s[E+4>>2]=m|3;E=E+8|0;h=O;return E|0}}s[(xe()|0)>>2]=12;E=0;h=O;return E|0}function dn(e){e=e|0;var t=0,i=0,n=0,r=0,o=0,a=0,u=0,c=0,f=0,l=0,d=0,p=0,m=0,b=0,v=0,g=0,y=0,_=0,w=0,S=0;S=h;if(!e){h=S;return}r=e+-8|0;a=s[1832]|0;if(r>>>0<a>>>0)de();o=s[e+-4>>2]|0;n=o&3;if((n|0)==1)de();b=o&-8;v=e+(b+-8)|0;do{if(!(o&1)){o=s[r>>2]|0;if(!n){h=S;return}u=-8-o|0;l=e+u|0;d=o+b|0;if(l>>>0<a>>>0)de();if((l|0)==(s[1833]|0)){r=e+(b+-4)|0;o=s[r>>2]|0;if((o&3|0)!=3){w=l;f=d;break}s[1830]=d;s[r>>2]=o&-2;s[e+(u+4)>>2]=d|1;s[v>>2]=d;h=S;return}i=o>>>3;if(o>>>0<256){n=s[e+(u+8)>>2]|0;r=s[e+(u+12)>>2]|0;o=7352+(i<<1<<2)|0;if((n|0)!=(o|0)){if(n>>>0<a>>>0)de();if((s[n+12>>2]|0)!=(l|0))de()}if((r|0)==(n|0)){s[1828]=s[1828]&~(1<<i);w=l;f=d;break}if((r|0)!=(o|0)){if(r>>>0<a>>>0)de();o=r+8|0;if((s[o>>2]|0)==(l|0))t=o;else de()}else t=r+8|0;s[n+12>>2]=r;s[t>>2]=n;w=l;f=d;break}t=s[e+(u+24)>>2]|0;n=s[e+(u+12)>>2]|0;do{if((n|0)==(l|0)){r=e+(u+20)|0;o=s[r>>2]|0;if(!o){r=e+(u+16)|0;o=s[r>>2]|0;if(!o){c=0;break}}while(1){i=o+20|0;n=s[i>>2]|0;if(n){o=n;r=i;continue}i=o+16|0;n=s[i>>2]|0;if(!n)break;else{o=n;r=i}}if(r>>>0<a>>>0)de();else{s[r>>2]=0;c=o;break}}else{i=s[e+(u+8)>>2]|0;if(i>>>0<a>>>0)de();o=i+12|0;if((s[o>>2]|0)!=(l|0))de();r=n+8|0;if((s[r>>2]|0)==(l|0)){s[o>>2]=n;s[r>>2]=i;c=n;break}else de()}}while(0);if(t){o=s[e+(u+28)>>2]|0;r=7616+(o<<2)|0;if((l|0)==(s[r>>2]|0)){s[r>>2]=c;if(!c){s[1829]=s[1829]&~(1<<o);w=l;f=d;break}}else{if(t>>>0<(s[1832]|0)>>>0)de();o=t+16|0;if((s[o>>2]|0)==(l|0))s[o>>2]=c;else s[t+20>>2]=c;if(!c){w=l;f=d;break}}r=s[1832]|0;if(c>>>0<r>>>0)de();s[c+24>>2]=t;o=s[e+(u+16)>>2]|0;do{if(o)if(o>>>0<r>>>0)de();else{s[c+16>>2]=o;s[o+24>>2]=c;break}}while(0);o=s[e+(u+20)>>2]|0;if(o)if(o>>>0<(s[1832]|0)>>>0)de();else{s[c+20>>2]=o;s[o+24>>2]=c;w=l;f=d;break}else{w=l;f=d}}else{w=l;f=d}}else{w=r;f=b}}while(0);if(w>>>0>=v>>>0)de();o=e+(b+-4)|0;r=s[o>>2]|0;if(!(r&1))de();if(!(r&2)){if((v|0)==(s[1834]|0)){l=(s[1831]|0)+f|0;s[1831]=l;s[1834]=w;s[w+4>>2]=l|1;if((w|0)!=(s[1833]|0)){h=S;return}s[1833]=0;s[1830]=0;h=S;return}if((v|0)==(s[1833]|0)){l=(s[1830]|0)+f|0;s[1830]=l;s[1833]=w;s[w+4>>2]=l|1;s[w+l>>2]=l;h=S;return}a=(r&-8)+f|0;i=r>>>3;do{if(r>>>0>=256){t=s[e+(b+16)>>2]|0;o=s[e+(b|4)>>2]|0;do{if((o|0)==(v|0)){r=e+(b+12)|0;o=s[r>>2]|0;if(!o){r=e+(b+8)|0;o=s[r>>2]|0;if(!o){m=0;break}}while(1){i=o+20|0;n=s[i>>2]|0;if(n){o=n;r=i;continue}i=o+16|0;n=s[i>>2]|0;if(!n)break;else{o=n;r=i}}if(r>>>0<(s[1832]|0)>>>0)de();else{s[r>>2]=0;m=o;break}}else{r=s[e+b>>2]|0;if(r>>>0<(s[1832]|0)>>>0)de();n=r+12|0;if((s[n>>2]|0)!=(v|0))de();i=o+8|0;if((s[i>>2]|0)==(v|0)){s[n>>2]=o;s[i>>2]=r;m=o;break}else de()}}while(0);if(t){o=s[e+(b+20)>>2]|0;r=7616+(o<<2)|0;if((v|0)==(s[r>>2]|0)){s[r>>2]=m;if(!m){s[1829]=s[1829]&~(1<<o);break}}else{if(t>>>0<(s[1832]|0)>>>0)de();o=t+16|0;if((s[o>>2]|0)==(v|0))s[o>>2]=m;else s[t+20>>2]=m;if(!m)break}o=s[1832]|0;if(m>>>0<o>>>0)de();s[m+24>>2]=t;r=s[e+(b+8)>>2]|0;do{if(r)if(r>>>0<o>>>0)de();else{s[m+16>>2]=r;s[r+24>>2]=m;break}}while(0);i=s[e+(b+12)>>2]|0;if(i)if(i>>>0<(s[1832]|0)>>>0)de();else{s[m+20>>2]=i;s[i+24>>2]=m;break}}}else{n=s[e+b>>2]|0;r=s[e+(b|4)>>2]|0;o=7352+(i<<1<<2)|0;if((n|0)!=(o|0)){if(n>>>0<(s[1832]|0)>>>0)de();if((s[n+12>>2]|0)!=(v|0))de()}if((r|0)==(n|0)){s[1828]=s[1828]&~(1<<i);break}if((r|0)!=(o|0)){if(r>>>0<(s[1832]|0)>>>0)de();o=r+8|0;if((s[o>>2]|0)==(v|0))p=o;else de()}else p=r+8|0;s[n+12>>2]=r;s[p>>2]=n}}while(0);s[w+4>>2]=a|1;s[w+a>>2]=a;if((w|0)==(s[1833]|0)){s[1830]=a;h=S;return}else o=a}else{s[o>>2]=r&-2;s[w+4>>2]=f|1;s[w+f>>2]=f;o=f}n=o>>>3;if(o>>>0<256){r=n<<1;o=7352+(r<<2)|0;i=s[1828]|0;n=1<<n;if(i&n){i=7352+(r+2<<2)|0;t=s[i>>2]|0;if(t>>>0<(s[1832]|0)>>>0)de();else{g=i;y=t}}else{s[1828]=i|n;g=7352+(r+2<<2)|0;y=o}s[g>>2]=w;s[y+12>>2]=w;s[w+8>>2]=y;s[w+12>>2]=o;h=S;return}i=o>>>8;if(i)if(o>>>0>16777215)r=31;else{f=(i+1048320|0)>>>16&8;l=i<<f;c=(l+520192|0)>>>16&4;l=l<<c;r=(l+245760|0)>>>16&2;r=14-(c|f|r)+(l<<r>>>15)|0;r=o>>>(r+7|0)&1|r<<1}else r=0;t=7616+(r<<2)|0;s[w+28>>2]=r;s[w+20>>2]=0;s[w+16>>2]=0;i=s[1829]|0;n=1<<r;e:do{if(i&n){t=s[t>>2]|0;if((r|0)==31)i=0;else i=25-(r>>>1)|0;t:do{if((s[t+4>>2]&-8|0)!=(o|0)){r=o<<i;while(1){n=t+(r>>>31<<2)+16|0;i=s[n>>2]|0;if(!i)break;if((s[i+4>>2]&-8|0)==(o|0)){_=i;break t}else{r=r<<1;t=i}}if(n>>>0<(s[1832]|0)>>>0)de();else{s[n>>2]=w;s[w+24>>2]=t;s[w+12>>2]=w;s[w+8>>2]=w;break e}}else _=t}while(0);i=_+8|0;t=s[i>>2]|0;l=s[1832]|0;if(_>>>0>=l>>>0&t>>>0>=l>>>0){s[t+12>>2]=w;s[i>>2]=w;s[w+8>>2]=t;s[w+12>>2]=_;s[w+24>>2]=0;break}else de()}else{s[1829]=i|n;s[t>>2]=w;s[w+24>>2]=t;s[w+12>>2]=w;s[w+8>>2]=w}}while(0);l=(s[1836]|0)+-1|0;s[1836]=l;if(!l)t=7768|0;else{h=S;return}while(1){t=s[t>>2]|0;if(!t)break;else t=t+8|0}s[1836]=-1;h=S;return}function pn(){}function mn(e){e=e|0;var t=0;t=e;while(n[t>>0]|0)t=t+1|0;return t-e|0}function bn(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,o=0,a=0,u=0;r=e+i|0;if((i|0)>=20){t=t&255;a=e&3;u=t|t<<8|t<<16|t<<24;o=r&~3;if(a){a=e+4-a|0;while((e|0)<(a|0)){n[e>>0]=t;e=e+1|0}}while((e|0)<(o|0)){s[e>>2]=u;e=e+4|0}}while((e|0)<(r|0)){n[e>>0]=t;e=e+1|0}return e-i|0}function vn(e,t,i){e=e|0;t=t|0;i=i|0;var r=0;if((i|0)>=4096)return ge(e|0,t|0,i|0)|0;r=e|0;if((e&3)==(t&3)){while(e&3){if(!i)return r|0;n[e>>0]=n[t>>0]|0;e=e+1|0;t=t+1|0;i=i-1|0}while((i|0)>=4){s[e>>2]=s[t>>2];e=e+4|0;t=t+4|0;i=i-4|0}}while((i|0)>0){n[e>>0]=n[t>>0]|0;e=e+1|0;t=t+1|0;i=i-1|0}return r|0}function gn(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;_n[e&3](t|0,i|0,n|0,r|0,s|0)}function yn(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;te(0)}var _n=[yn,ze,je,yn];return{_strlen:mn,_free:dn,_broadwayGetMajorVersion:on,_get_h264bsdClip:yi,_broadwayExit:sn,_memset:bn,_broadwayCreateStream:Zi,_malloc:ln,_memcpy:vn,_broadwayGetMinorVersion:an,_broadwayPlayStream:tn,_broadwaySetStreamLength:en,_broadwayInit:nn,runPostSets:pn,stackAlloc:ot,stackSave:at,stackRestore:ut,setThrew:ct,setTempRet0:lt,getTempRet0:dt,dynCall_viiiii:gn}}(p.Xc,p.Yc,Q),Bb=p._strlen=$._strlen,Ea=p._free=$._free;p._broadwayGetMajorVersion=$._broadwayGetMajorVersion,p._get_h264bsdClip=$._get_h264bsdClip,p._broadwayExit=$._broadwayExit;var Gb=p._memset=$._memset;p._broadwayCreateStream=$._broadwayCreateStream;var Ca=p._malloc=$._malloc,gc=p._memcpy=$._memcpy;if(p._broadwayGetMinorVersion=$._broadwayGetMinorVersion,p._broadwayPlayStream=$._broadwayPlayStream,p._broadwaySetStreamLength=$._broadwaySetStreamLength,p._broadwayInit=$._broadwayInit,p.runPostSets=$.runPostSets,p.dynCall_viiiii=$.dynCall_viiiii,z.pb=$.stackAlloc,z.Tb=$.stackSave,z.Sb=$.stackRestore,z.Yd=$.setTempRet0,z.xd=$.getTempRet0,T)if("function"===typeof p.locateFile?T=p.locateFile(T):p.memoryInitializerPrefixURL&&(T=p.memoryInitializerPrefixURL+T),t||da){var hc=p.readBinary(T);N.set(hc,Ia)}else Ya(),yb(T,(function(e){N.set(e,Ia),Za()}),(function(){d("could not load memory initializer "+T)}));function ia(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}ia.prototype=Error();var ic,jc=k,Xa=function e(){!p.calledRun&&lc&&mc(),p.calledRun||(Xa=e)};function mc(e){function t(){if(!p.calledRun&&(p.calledRun=i,!H)){if(Sa||(Sa=i,Na(R)),Na(Pa),ba&&jc!==k&&p.fa("pre-main prep time: "+(Date.now()-jc)+" ms"),p.onRuntimeInitialized&&p.onRuntimeInitialized(),p._main&&lc&&p.callMain(e),p.postRun)for("function"==typeof p.postRun&&(p.postRun=[p.postRun]);p.postRun.length;)Ua(p.postRun.shift());Na(Ra)}}if(e=e||p.arguments,jc===k&&(jc=Date.now()),!(0<S)){if(p.preRun)for("function"==typeof p.preRun&&(p.preRun=[p.preRun]);p.preRun.length;)Ta(p.preRun.shift());Na(Oa),!(0<S)&&!p.calledRun&&(p.setStatus?(p.setStatus("Running..."),setTimeout((function(){setTimeout((function(){p.setStatus("")}),1),t()}),1)):t())}}function nc(e){p.noExitRuntime||(H=i,y=ic,Na(Qa),t?(process.stdout.once("drain",(function(){process.exit(e)})),console.log(" "),setTimeout((function(){process.exit(e)}),500)):da&&"function"===typeof quit&&quit(e),d(new ia(e)))}function A(e){e&&(p.print(e),p.fa(e)),H=i,d("abort() at "+Fa()+"\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.")}if(p.callMain=p.ag=function(e){function t(){for(var e=0;3>e;e++)r.push(0)}w(0==S,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),w(0==Oa.length,"cannot call main when preRun functions remain to be called"),e=e||[],Sa||(Sa=i,Na(R));var n=e.length+1,r=[M(Va(p.thisProgram),"i8",0)];t();for(var s=0;s<n-1;s+=1)r.push(M(Va(e[s]),"i8",0)),t();r.push(0),r=M(r,"i32",0),ic=y;try{var o=p._main(n,r,0);nc(o)}catch(a){a instanceof ia||("SimulateInfiniteLoop"==a?p.noExitRuntime=i:(a&&"object"===typeof a&&a.stack&&p.fa("exception thrown: "+[a,a.stack]),d(a)))}},p.run=p.Ng=mc,p.exit=p.hg=nc,p.abort=p.abort=A,p.preInit)for("function"==typeof p.preInit&&(p.preInit=[p.preInit]);0<p.preInit.length;)p.preInit.pop()();var lc=m;p.noInitialRun&&(lc=m),mc();var resultModule=window.Module||this.Module;return resultModule},nowValue=function(){return(new Date).getTime()};"undefined"!=typeof performance&&performance.now&&(nowValue=function(){return performance.now()});var Broadway=function(e){var t;this.options=e||{},this.now=nowValue;var i=getModule((function(){}),function(e,i,n){var r=this.pictureBuffers[e];if(r||(r=this.pictureBuffers[e]=s(e,i*n*3/2)),this.options.rgb){t||(t=getAsm(i,n)),t.inp.set(r),t.doit();var o=new Uint8Array(t.outSize);return o.set(t.out),void this.onPictureDecoded(o,i,n,this._getEndTime(),this._startedTime)}this.onPictureDecoded(r,i,n,this._getEndTime(),this._startedTime)}.bind(this)),n=(i.HEAP8,i.HEAPU8),r=(i.HEAP16,i.HEAP32,i._get_h264bsdClip(),1048576);function s(e,t){return n.subarray(e,e+t)}i._broadwayInit(),this.streamBuffer=s(i._broadwayCreateStream(r),r),this.pictureBuffers={},this.onPictureDecoded=function(e,t,i,n,r){},this._takeStartTime=function(e){this._started||(this._started=!0,this._startedTime=e||nowValue())},this._getTime=function(){return nowValue()-this._startedTime},this._getEndTime=function(){return this._started=!1,this._getTime()},this.decode=function(e,t){this._takeStartTime(t),this.streamBuffer.set(e),i._broadwaySetStreamLength(e.length),i._broadwayPlayStream()}};Broadway.prototype={configure:function(e){console.info("Broadway Configured: "+JSON.stringify(e))}};var asmInstances={},getAsm=function(e,t){var i=e+"x"+t;if(asmInstances[i])return asmInstances[i];var n=e*t,r=(0|n)>>2,s=n+r+r,o=e*t*4,a=4*Math.pow(2,24),u=s+o+a,c=Math.pow(2,24),f=c;while(f<u)f+=c;var h=new ArrayBuffer(f),l=asmFactory(global,{},h);return l.init(e,t),asmInstances[i]=l,l.heap=h,l.out=new Uint8Array(h,0,o),l.inp=new Uint8Array(h,o,s),l.outSize=o,l};function asmFactory(e,t,i){"use asm";var n=e.Math.imul;var r=e.Math.min;var s=e.Math.max;var o=e.Math.pow;var a=new e.Uint8Array(i);var u=new e.Uint32Array(i);var c=new e.Uint8Array(i);var f=new e.Uint8Array(i);var h=new e.Uint32Array(i);var l=0;var d=0;var p=0;var m=0;var b=0;var v=0;var g=0;var y=0;var _=0;var w=0;function S(e,t){e=e|0;t=t|0;var i=0;var r=0;l=e;_=n(e,4)|0;d=t;p=n(l|0,d|0)|0;m=(p|0)>>2;v=n(n(l,d)|0,4)|0;b=p+m|0+m|0;y=0;g=y+v|0;w=g+b|0;r=~~+o(+2,+24);r=n(r,4)|0;for(i=0|0;(i|0)<(r|0)|0;i=i+4|0){h[(w+i|0)>>2]=0}}function E(){var e=0;var t=0;var i=0;var n=0;var r=0;var s=0;var o=0;var a=0;var u=0;var f=0;var b=0;var v=0;var S=0;var E=0;S=y|0;e=g|0;t=e+p|0|0;i=t+m|0;for(u=0;(u|0)<(d|0);u=u+2|0){b=t;v=i;for(f=0;(f|0)<(l|0);f=f+2|0){n=c[e>>0]|0;r=c[(e+l|0)>>0]|0;s=c[t>>0]|0;o=c[i>>0]|0;E=((n<<16|0)+(s<<8|0)|0)+o|0;a=h[(w+E|0)>>2]|0;if(a){}else{a=x(n,s,o)|0;h[(w+E|0)>>2]=a|0}h[S>>2]=a;E=((r<<16|0)+(s<<8|0)|0)+o|0;a=h[(w+E|0)>>2]|0;if(a){}else{a=x(r,s,o)|0;h[(w+E|0)>>2]=a|0}h[(S+_|0)>>2]=a;S=S+4|0;e=e+1|0;n=c[e>>0]|0;r=c[(e+l|0)>>0]|0;E=((n<<16|0)+(s<<8|0)|0)+o|0;a=h[(w+E|0)>>2]|0;if(a){}else{a=x(n,s,o)|0;h[(w+E|0)>>2]=a|0}h[S>>2]=a;E=((r<<16|0)+(s<<8|0)|0)+o|0;a=h[(w+E|0)>>2]|0;if(a){}else{a=x(r,s,o)|0;h[(w+E|0)>>2]=a|0}h[(S+_|0)>>2]=a;S=S+4|0;e=e+1|0;t=t+1|0;i=i+1|0}S=S+_|0;e=e+l|0}}function x(e,t,i){e=e|0;t=t|0;i=i|0;var o=0;var a=0;var u=0;var c=0;var f=0;var h=0;var l=0;var d=0;var p=0;f=n(1192,e-16|0)|0;h=n(1634,i-128|0)|0;l=n(832,i-128|0)|0;d=n(400,t-128|0)|0;p=n(2066,t-128|0)|0;o=(f+h|0)>>10|0;a=((f-l|0)-d|0)>>10|0;u=(f+p|0)>>10|0;if((o&255|0)!=(o|0)|0){o=r(255,s(0,o|0)|0)|0}if((a&255|0)!=(a|0)|0){a=r(255,s(0,a|0)|0)|0}if((u&255|0)!=(u|0)|0){u=r(255,s(0,u|0)|0)|0}c=255;c=c<<8|0;c=c+u|0;c=c<<8|0;c=c+a|0;c=c<<8|0;c=c+o|0;return c|0}return{init:S,doit:E}}if("undefined"!=typeof self){var isWorker=!1,decoder;self.addEventListener("message",(function(e){isWorker?decoder.decode(new Uint8Array(e.data.buf),e.data.time):e.data&&"Broadway.js - Worker init"===e.data.type&&(isWorker=!0,decoder=new Broadway(e.data.options),decoder.onPictureDecoded=function(e,t,i,n,r){e&&(e=new Uint8Array(e));var s=new Uint8Array(e.length);s.set(e,0,e.length),postMessage({buf:s.buffer,width:t,height:i,time:n,timeStarted:r},[s.buffer])},postMessage({consoleLog:"initialized"}))}),!1)}return Broadway.nowValue=nowValue,Broadway})),"undefined"!==typeof _require&&(require=_require)}).call(this,__webpack_require__("f28c"),"/")},5165:function(e,t,i){(function(e){var n=i("8c8a");function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,i){while(t._cache.length<i.length)t._cache=e.concat([t._cache,r(t)]);var s=t._cache.slice(0,i.length);return t._cache=t._cache.slice(i.length),n(i,s)}}).call(this,i("b639").Buffer)},"51df":function(e,t,i){var n=i("100a"),r=n.DataStream,s=n.BoxParser,o=(n.ISOFile,n.MP4Box);function a(){}a.MIN_FRAMES_PER_SEGMENT=200,a.dashify=function(e,t,i){var n,o=a._getTrack(e.inputIsoFile.moov,t),u=o.mdia.minf.stbl.stsd.entries[0],c=e.getTrackSamplesInfo(t);if(u.isVideo())n=!0;else{if(!u.isAudio())return void i.warn("unknown track type",u);n=!1}var f=o.mdia.minf.stbl.stts,h=o.mdia.minf.stbl.stsz,l=o.mdia.minf.stbl.stss,d=o.mdia.minf.stbl.stsd,p=o.mdia.mdhd.timescale,m=o.mdia.mdhd.duration,b=f.sample_deltas[0],v=1==f.sample_counts.length;v||i.info("Variable frame rate detected");var g=h.sample_sizes.length,y=h.sample_sizes,_=!l;if(!_)var w=a.getSampleFlags(g,l.sample_numbers),S=l.sample_numbers;var E=new s.ftypBox;E.major_brand="dash",E.minor_version=0,E.compatible_brands=["iso6","mp41"];var x=new s.moovBox,k=[65536,0,0,0,65536,0,0,0,1073741824],A=new s.mvhdBox;A.timescale=p,A.duration=0,A.rate=65536,A.volume=1,A.matrix=k,A.next_track_id=2,x.boxes.push(A);var T=new s.mvexBox,C=new s.mehdBox;C.fragment_duration=m,T.boxes.push(C);var R=new s.trexBox;R.track_id=1,R.default_sample_description_index=1,R.default_sample_duration=b,R.default_sample_flags=_?33554432:65536,T.boxes.push(R),x.boxes.push(T);var D=new s.trakBox,B=new s.tkhdBox;B.track_id=1,B.flags=s.TKHD_FLAG_ENABLED|s.TKHD_FLAG_IN_MOVIE|s.TKHD_FLAG_IN_PREVIEW|s.TKHD_FLAG_IN_POSTER,B.matrix=k,B.width=o.tkhd.width,B.height=o.tkhd.height,D.boxes.push(B);var M=new s.mdiaBox,I=new s.mdhdBox;I.timescale=p,M.boxes.push(I);var U=new s.hdlrBox;U.componentType="mhlr",U.componentSubType=n?"vide":"soun",U.name="",M.boxes.push(U);var P=new s.minfBox,F=new s.dinfBox,O=new s.drefBox,L=new s["url Box"];if(O.entries=[L],F.boxes.push(O),P.boxes.push(F),n){var N=new s.vmhdBox;N.graphicsmode=0,N.opcolor=[0,0,0],P.boxes.push(N)}else{var j=new s.smhdBox;j.data=[0,0,0,0],P.boxes.push(j)}var z=new s.hdlrBox;z.componentType="dhlr",z.componentSubType="url ",z.name="",P.boxes.push(z);var H=new s.stblBox,V=d;if(!n){V=new s.stsdBox,V.entries=[];for(var q=0;q<d.entries.length;q++){var G=d.entries[q];if("mp4a"==G.type){var K=new s.AudioSampleEntry("mp4a");K.data_reference_index=G.data_reference_index,K.version=0,K.revision=0,K.vendor=0,K.channel_count=G.channel_count,K.samplesize=G.samplesize,K.samplerate=G.samplerate,K.esds=G.esds||(G.wave||{}).esds,K.boxes=[K.esds],V.entries.push(K)}else V.entries.push(G)}}H.boxes.push(V);var W=new s.stszBox;W.sample_sizes=[],H.boxes.push(W);var Y=new s.sttsBox;Y.sample_counts=[],H.boxes.push(Y);var $=new s.stcoBox;$.chunk_offsets=[],H.boxes.push($);var X=new s.stscBox;X.first_chunk=[],H.boxes.push(X),P.boxes.push(H),M.boxes.push(P),D.boxes.push(M),x.boxes.push(D);for(var Q=[],J=[],Z=0,ee=0,te=1;ee<g;te++){var ie=Math.min(a.MIN_FRAMES_PER_SEGMENT,g-ee);if(!_){var ne=ee+ie;while(Z<S.length&&S[Z]-1<ne)Z++;ne=Z<S.length?S[Z]-1:g,ie=ne-ee}var re=new s.moofBox,se=new s.mfhdBox;se.sequence_number=te,re.boxes.push(se);var oe=new s.trafBox,ae=new s.tfhdBox;ae.track_id=1,ae.flags|=s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF,ae.flags|=s.TFHD_FLAG_SAMPLE_DUR,ae.default_sample_duration=b,n||(ae.flags|=s.TFHD_FLAG_SAMPLE_FLAGS,ae.default_sample_flags=33554432),oe.boxes.push(ae);var ue=new s.tfdtBox;ue.baseMediaDecodeTime=c[ee].dts,oe.tfdt=ue,oe.boxes.push(ue);var ce=new s.trunBox;ce.sample_count=ie,ce.flags|=s.TRUN_FLAGS_DATA_OFFSET,ce.flags|=s.TRUN_FLAGS_SIZE,ce.data_offset=-42;var fe=y.subarray(ee,ee+ie);if(ce.sample_size=fe,w&&(ce.flags|=s.TRUN_FLAGS_FLAGS,ce.sample_flags=w.subarray(ee,ee+ie)),!v){for(var he=[],le=ee;le<ee+ie;le++)he.push(c[le].duration);ce.flags|=s.TRUN_FLAGS_DURATION,ce.sample_duration=he}oe.trun=ce,oe.boxes.push(ce),re.traf=oe,re.boxes.push(oe),Q.push(re);var de=function(e,t){if(0==e.length)e.push({chunk:t.chunk_index,dataFrom:t.offset,dataTo:t.offset+t.size});else{var i=e[e.length-1];i.chunk!=t.chunk_index?e.push({chunk:t.chunk_index,dataFrom:t.offset,dataTo:t.offset+t.size}):i.dataTo+=t.size}},pe=[];for(le=ee;le<ee+ie;le++){var me=c[le];de(pe,me)}J.push(pe),ee+=ie}var be=[];for(q=0;q<Q.length;q++)be[q]=Q[q].traf.tfdt.baseMediaDecodeTime;var ve=[];for(q=0;q<Q.length;q++){re=Q[q],ce=re.traf.trun;for(var ge=0,ye=0;ye<ce.sample_size.length;ye++)ge+=ce.sample_size[ye];var _e=new s.mdatBox;_e.data=new Uint8Array(0);var we=new r(void 0,0,r.BIG_ENDIAN);re.write(we),_e.write(we);var Se=we.getPosition();we.adjustUint32(ce.data_offset_position,Se),we.adjustUint32(_e.sizePosition,ge+8),ve[q]={dataIntervals:J[q],header:we.buffer}}we=new r(void 0,0,r.BIG_ENDIAN),E.write(we),x.write(we);var Ee={};Ee.moovbuf=we.buffer,Ee.segments=ve,Ee.timescale=p,Ee.segmentStartTv=be,Ee.duration=m,Ee.sampleDuration=b,Ee.mimeType=n?"video/mp4":"audio/mp4",Ee.codecs=u.getCodec(),Ee.startTimecodeOffset=-1,Ee.dropFrame=!1,n||(Ee.channelConfig=a.parseEsdsChannelConfig(u.esds,i)||u.channel_count);var xe=e.inputIsoFile.moov.traks[1];return xe&&"tmcd"==xe.samples[0].description.type&&(Ee.startTimecodeOffset=xe.samples[0].offset),Ee},a._getTrack=function(e,t){for(var i=0;i<e.traks.length;i++){var n=e.traks[i];if(t==n.tkhd.track_id)return n}return null},a.parseEsdsChannelConfig=function(e,t){if(null==e||null==e.esd)return null;var i=e.esd.findDescriptor(4);if(!i)return null;var n=i.findDescriptor(5);return n&&n.data?2==n.data.length?n.data[1]>>3&15:(t.warn("unsupported Decoder Specific Info",n.data),null):null},a.loadMov=function(e,t,i){var n=!1,r=new o(!1);function s(t,o){e.fetch(t,o,(function(e){e.fileStart=t,e.fileStart!==t&&(e=e.slice(0),e.fileStart=t);var i=r.appendBuffer(e);n||s(i,i+1048576)}),i)}r.onReady=function(){n=!0,r.flush(),t(r)},s(0,1e4)},a.getSampleFlags=function(e,t){for(var i=new Uint32Array(e),n=0;n<e;n++)i[n]=65536;for(n=0;n<t.length;n++){var r=t[n]-1;i[r]=33554432}return i},a.rescale=function(e,t,i){return e/t*i},a.mediaToEdited=function(e,t,i){if(!(e&&e.edts&&e.edts.elst&&e.edts.elst.entries&&e.edts.elst.entries.length))return t;for(var n=0,r=0;r<e.edts.elst.entries.length;r++){var s=e.edts.elst.entries[r];if(t<s.media_time)return n;var o=a.rescale(s.segment_duration,i,e.mdia.mdhd.timescale);if(-1!=s.media_time&&(0==o||t>=s.media_time&&t<s.media_time+o)){n+=t-s.media_time;break}n+=o}return n},a.parseTimePackets=function(e,t,i,n){var r=e.inputIsoFile.moov;window["MOOV"]=r,r||n("moov not found");var s=r.traks.filter((function(e){return"vide"==e.mdia.hdlr.componentSubType})),o=r.traks.filter((function(e){return"soun"==e.mdia.hdlr.componentSubType}));if(s&&s.length||o&&o.length){for(var u=s[0]||o[0],c=r.mvhd.timescale,f=u.mdia.minf.stbl.stsz,h=u.mdia.minf.stbl.stts,l=u.mdia.minf.stbl.stss,d=u.mdia.minf.stbl.ctts,p=u.mdia.mdhd.timescale,m=0,b=0,v=0,g=0,y=0,_=0,w=[],S=0;S<f.sample_sizes.length;S++){var E=S,x=h.sample_deltas[m],k=!l;l&&b<l.sample_numbers.length&&E+1==l.sample_numbers[b]&&(k=!0,b++);var A=v;d&&(A=v+d.sample_offsets[y],g++,y<d.sample_offsets.length-1&&g==d.sample_counts[y]&&(y++,g=0));var T=a.mediaToEdited(u,A,c),C={pts:T,mediaPts:A,timescale:p,duration:x,frame:E,sync:k,timecode:0};w.push(C),v-=_*h.sample_deltas[m],_+=1;while(m<h.sample_deltas.length-1&&_>=h.sample_counts[m])v+=h.sample_counts[m]*h.sample_deltas[m],_-=h.sample_counts[m],m++;v+=_*h.sample_deltas[m]}var R=r.traks.filter((function(e){return"tmcd"==e.mdia.hdlr.componentSubType}));if(R&&R.length){var D=R[0],B=D.samples[0].offset;t.fetch(B,B+4,(function(e){for(var t=new DataView(e),n=t.getUint32(0,!1),r=0;r<w.length;r++)w[r].timecode=r+n;i(w)}))}else i(w)}else n("neither video nor audio track found")},a.parseTimePacketsInM4s=function(e,t){for(var i=e.inputIsoFile.moov,n=i.traks.filter((function(e){return"vide"==e.mdia.hdlr.componentSubType})),r=n[0],o=t.inputIsoFile.moofs[0],u=o.trafs[0].truns[0],c=i.mvhd.timescale,f=u.sample_count,h=r.mdia.mdhd.timescale,l=o.trafs[0].tfdt.baseMediaDecodeTime,d=[],p=0;p<f;p++){var m=u.sample_duration[p]||o.trafs[0].tfhd.default_sample_duration,b=l;u.flags&s.TRUN_FLAGS_CTS_OFFSET&&(b=l+u.sample_composition_time_offset[p]);var v=a.mediaToEdited(r,b,c),g={pts:v,mediaPts:b,timescale:h,duration:m,frame:-1,sync:!1,timecode:0};d.push(g),l+=m}return d},a.wrapMp3Segment=function(e,t,i,n,o){var a=new s.moofBox,u=new s.mfhdBox;u.sequence_number=e+1,a.boxes.push(u);var c=new s.trafBox,f=new s.tfhdBox;f.track_id=1,f.flags|=s.TFHD_FLAG_SAMPLE_DUR,f.flags|=s.TFHD_FLAG_SAMPLE_FLAGS,f.flags|=s.TFHD_FLAG_SAMPLE_SIZE,f.default_sample_duration=1152,f.default_sample_flags=0,f.default_sample_size=n,c.boxes.push(f);var h=new s.tfdtBox,l=e*t;h.baseMediaDecodeTime=1152*l,c.boxes.push(h);var d=new s.trunBox;d.sample_count=o.length/n,d.flags|=s.TRUN_FLAGS_DATA_OFFSET,d.data_offset=-42,c.boxes.push(d),a.boxes.push(c);var p=new s.mdatBox;p.data=o;var m=new r(void 0,0,r.BIG_ENDIAN);a.write(m);var b=m.byteLength+8;return m.adjustUint32(d.data_offset_position,b),p.write(m),m.buffer},a.mp3InitSegment=function(e,t,i,n){var o=new s.ftypBox;o.major_brand="dash",o.minor_version=0,o.compatible_brands=["iso6","mp41"];var a=new s.moovBox,u=[65536,0,0,0,65536,0,0,0,1073741824],c=new s.mvhdBox;c.timescale=e,c.duration=0,c.rate=65536,c.volume=1,c.matrix=u,c.next_track_id=2,a.boxes.push(c);var f=new s.mvexBox,h=new s.mehdBox;h.fragment_duration=t,f.boxes.push(h);var l=new s.trexBox;l.track_id=1,l.default_sample_description_index=1,l.default_sample_duration=1152,l.default_sample_size=i,l.default_sample_flags=0,f.boxes.push(l),a.boxes.push(f);var d=new s.trakBox,p=new s.tkhdBox;p.track_id=1,p.matrix=u,d.boxes.push(p);var m=new s.mdiaBox,b=new s.mdhdBox;b.timescale=e,m.boxes.push(b);var v=new s.hdlrBox;v.componentType="mhlr",v.componentSubType="soun",v.name="",m.boxes.push(v);var g=new s.minfBox,y=new s.dinfBox,_=new s.drefBox,w=new s["url Box"];_.entries=[w],y.boxes.push(_),g.boxes.push(y);var S=new s.smhdBox;S.data=[0,0,0,0],g.boxes.push(S);var E=new s.hdlrBox;E.componentType="dhlr",E.componentSubType="url ",E.name="",g.boxes.push(E);var x=new s.stblBox,k=new s.stsdBox,A=new s.AudioSampleEntry(".mp3");A.data_reference_index=1,A.version=1,A.revision=0,A.vendor=0,A.channel_count=2,A.samplerate=e,A.samplesize=16,A.compressionId=-2,A.packetSize=0,A.samplesPerPacket=1152,A.bytesPerPacket=i,A.bytesPerFrame=i,A.bytesPerSample=2,k.entries.push(A),x.boxes.push(k);var T=new s.stszBox;T.sample_sizes=[],x.boxes.push(T);var C=new s.sttsBox;C.sample_counts=[],x.boxes.push(C);var R=new s.stcoBox;R.chunk_offsets=[],x.boxes.push(R);var D=new s.stscBox;D.first_chunk=[],x.boxes.push(D),g.boxes.push(x),m.boxes.push(g),d.boxes.push(m),a.boxes.push(d);var B=new r(void 0,0,r.BIG_ENDIAN);o.write(B),a.write(B),n(B.buffer)},a.getTrunSamplesInfo=function(e){for(var t=e.inputIsoFile.moofs[0],i=t.trafs[0].truns[0],n=[],r=0,s=t.start+i.data_offset;r<i.sample_count;r++){var o={offset:s,size:i.sample_size[r]};n.push(o),s+=o.size}return n},a.getAvcC=function(e){var t=e.inputIsoFile.moov.traks[0];return t.mdia.minf.stbl.stsd.entries[0].avcC},a.createSilenceMoof=function(e,t,i,n,o){var c=1024;if(n%c!=0)throw new RuntimeException("silence segment duration "+n+" is not a multiple of sample duration "+c);var f=new s.moofBox,h=new s.mfhdBox;h.sequence_number=t+1,f.boxes.push(h);var l=new s.trafBox,d=new s.tfhdBox;d.track_id=1,d.flags|=s.TFHD_FLAG_SAMPLE_DUR,d.flags|=s.TFHD_FLAG_SAMPLE_FLAGS,d.flags|=s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF,d.default_sample_duration=c,d.default_sample_flags=33554432,l.boxes.push(d);var p=new s.tfdtBox;p.baseMediaDecodeTime=i,l.boxes.push(p);var m=[],b=new r(void 0,0,r.BIG_ENDIAN),v=n/c,g=e.inputIsoFile.moov.traks[0].mdia.minf.stbl.stsd.entries[0],y=a.parseEsdsChannelConfig(g.esds,o)||g.channel_count,_=u[y];_||(_=u[2]);for(var w=0;w<v;w++)m.push(_.length),b.writeUint8Array(_);var S=new s.trunBox;S.flags|=s.TRUN_FLAGS_DATA_OFFSET,S.flags|=s.TRUN_FLAGS_SIZE,S.data_offset=-42,S.sample_count=v,S.sample_size=m,l.boxes.push(S),f.boxes.push(l);var E=new s.mdatBox;E.data=new Uint8Array(b.buffer);var x=new r(void 0,0,r.BIG_ENDIAN);f.write(x);var k=x.byteLength+8;return x.adjustUint32(S.data_offset_position,k),E.write(x),x.buffer},a.conformMoof=function(e,t,i){var n=new o(!1);e.fileStart=0,n.appendBuffer(e),delete n.inputIsoFile.styp,delete n.inputIsoFile.sidx,n.inputIsoFile.boxes=n.inputIsoFile.boxes.filter((function(e){return"styp"!=e.type&&"sidx"!=e.type}));var a=n.inputIsoFile.moofs[0],u=a.trafs[0];a.mfhd.sequence_number=t+1,u.tfdt.baseMediaDecodeTime=i,u.tfhd.flags|=s.TFHD_FLAG_DEFAULT_BASE_IS_MOOF;var c=n.inputIsoFile.mdats[0];c.data=new Uint8Array(e.slice(c.start+8,c.start+c.size));var f=new r(void 0,0,r.BIG_ENDIAN);a.write(f);var h=f.byteLength+8;return f.adjustUint32(u.truns[0].data_offset_position,h),c.write(f),f.buffer};var u={1:[0,200,0,128,35,128],2:[33,0,73,144,2,25,0,35,128],6:[0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,24,50,0,32,8,224]};a.hasBFrames=function(e,t){var i=a._getTrack(e.inputIsoFile.moov,t);return null!=i.mdia.minf.stbl.ctts},e.exports=a},5239:function(e,t,i){var n=i("8707").Buffer;function r(e,t,i){var n,r,o,a=-1,u=8,c=0;while(++a<u)n=e._cipher.encryptBlock(e._prev),r=t&1<<7-a?128:0,o=n[0]^r,c+=(128&o)>>a%8,e._prev=s(e._prev,i?r:o);return c}function s(e,t){var i=e.length,r=-1,s=n.allocUnsafe(e.length);e=n.concat([e,n.from([t])]);while(++r<i)s[r]=e[r]<<1|e[r+1]>>7;return s}t.encrypt=function(e,t,i){var s=t.length,o=n.allocUnsafe(s),a=-1;while(++a<s)o[a]=r(e,t[a],i);return o}},5291:function(e,t,i){var n=i("399f"),r=i("8707").Buffer;function s(e,t){return r.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}e.exports=s},"52a7":function(e,t){t.f={}.propertyIsEnumerable},"551c":function(e,t,i){"use strict";var n,r,s,o,a=i("2d00"),u=i("7726"),c=i("9b43"),f=i("23c6"),h=i("5ca1"),l=i("d3f4"),d=i("d8e8"),p=i("f605"),m=i("4a59"),b=i("ebd6"),v=i("1991").set,g=i("8079")(),y=i("a5b8"),_=i("9c80"),w=i("a25f"),S=i("bcaa"),E="Promise",x=u.TypeError,k=u.process,A=k&&k.versions,T=A&&A.v8||"",C=u[E],R="process"==f(k),D=function(){},B=r=y.f,M=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[i("2b4c")("species")]=function(e){e(D,D)};return(R||"function"==typeof PromiseRejectionEvent)&&e.then(D)instanceof t&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(n){}}(),I=function(e){var t;return!(!l(e)||"function"!=typeof(t=e.then))&&t},U=function(e,t){if(!e._n){e._n=!0;var i=e._c;g((function(){var n=e._v,r=1==e._s,s=0,o=function(t){var i,s,o,a=r?t.ok:t.fail,u=t.resolve,c=t.reject,f=t.domain;try{a?(r||(2==e._h&&O(e),e._h=1),!0===a?i=n:(f&&f.enter(),i=a(n),f&&(f.exit(),o=!0)),i===t.promise?c(x("Promise-chain cycle")):(s=I(i))?s.call(i,u,c):u(i)):c(n)}catch(h){f&&!o&&f.exit(),c(h)}};while(i.length>s)o(i[s++]);e._c=[],e._n=!1,t&&!e._h&&P(e)}))}},P=function(e){v.call(u,(function(){var t,i,n,r=e._v,s=F(e);if(s&&(t=_((function(){R?k.emit("unhandledRejection",r,e):(i=u.onunhandledrejection)?i({promise:e,reason:r}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",r)})),e._h=R||F(e)?2:1),e._a=void 0,s&&t.e)throw t.v}))},F=function(e){return 1!==e._h&&0===(e._a||e._c).length},O=function(e){v.call(u,(function(){var t;R?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},L=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),U(t,!0))},N=function(e){var t,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw x("Promise can't be resolved itself");(t=I(e))?g((function(){var n={_w:i,_d:!1};try{t.call(e,c(N,n,1),c(L,n,1))}catch(r){L.call(n,r)}})):(i._v=e,i._s=1,U(i,!1))}catch(n){L.call({_w:i,_d:!1},n)}}};M||(C=function(e){p(this,C,E,"_h"),d(e),n.call(this);try{e(c(N,this,1),c(L,this,1))}catch(t){L.call(this,t)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i("dcbc")(C.prototype,{then:function(e,t){var i=B(b(this,C));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=R?k.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&U(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new n;this.promise=e,this.resolve=c(N,e,1),this.reject=c(L,e,1)},y.f=B=function(e){return e===C||e===o?new s(e):r(e)}),h(h.G+h.W+h.F*!M,{Promise:C}),i("7f20")(C,E),i("7a56")(E),o=i("8378")[E],h(h.S+h.F*!M,E,{reject:function(e){var t=B(this),i=t.reject;return i(e),t.promise}}),h(h.S+h.F*(a||!M),E,{resolve:function(e){return S(a&&this===o?C:this,e)}}),h(h.S+h.F*!(M&&i("5cc5")((function(e){C.all(e)["catch"](D)}))),E,{all:function(e){var t=this,i=B(t),n=i.resolve,r=i.reject,s=_((function(){var i=[],s=0,o=1;m(e,!1,(function(e){var a=s++,u=!1;i.push(void 0),o++,t.resolve(e).then((function(e){u||(u=!0,i[a]=e,--o||n(i))}),r)})),--o||n(i)}));return s.e&&r(s.v),i.promise},race:function(e){var t=this,i=B(t),n=i.reject,r=_((function(){m(e,!1,(function(e){t.resolve(e).then(i.resolve,n)}))}));return r.e&&n(r.v),i.promise}})},5537:function(e,t,i){var n=i("8378"),r=i("7726"),s="__core-js_shared__",o=r[s]||(r[s]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"561d":function(e,t,i){(function(t){var n=i("399f"),r=i("7a10"),s=new r,o=new n(24),a=new n(11),u=new n(10),c=new n(3),f=new n(7),h=i("58a2"),l=i("11dc");function d(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this._pub=new n(e),this}function p(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this._priv=new n(e),this}e.exports=v;var m={};function b(e,t){var i=t.toString("hex"),n=[i,e.toString(16)].join("_");if(n in m)return m[n];var r,l=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!s.test(e))return l+=1,l+="02"===i||"05"===i?8:4,m[n]=l,l;switch(s.test(e.shrn(1))||(l+=2),i){case"02":e.mod(o).cmp(a)&&(l+=8);break;case"05":r=e.mod(u),r.cmp(c)&&r.cmp(f)&&(l+=8);break;default:l+=4}return m[n]=l,l}function v(e,t,i){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=d,this.setPrivateKey=p):this._primeCode=8}function g(e,i){var n=new t(e.toArray());return i?n.toString(i):n}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=b(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new n(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(e){e=new n(e),e=e.toRed(this._prime);var i=e.redPow(this._priv).fromRed(),r=new t(i.toArray()),s=this.getPrime();if(r.length<s.length){var o=new t(s.length-r.length);o.fill(0),r=t.concat([o,r])}return r},v.prototype.getPublicKey=function(e){return g(this._pub,e)},v.prototype.getPrivateKey=function(e){return g(this._priv,e)},v.prototype.getPrime=function(e){return g(this.__prime,e)},v.prototype.getGenerator=function(e){return g(this._gen,e)},v.prototype.setGenerator=function(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this.__gen=e,this._gen=new n(e),this}}).call(this,i("b639").Buffer)},"56b5":function(e,t,i){"use strict";var n=i("7f7a"),r=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),s=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),o=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())})),u=n.define("RelativeDistinguishedName",(function(){this.setof(s)})),c=n.define("RDNSequence",(function(){this.seqof(u)})),f=n.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),h=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(r),this.key("notAfter").use(r))})),l=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(f),this.key("validity").use(h),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())}));e.exports=p},"58a2":function(e,t,i){var n=i("11dc");e.exports=y,y.simpleSieve=v,y.fermatTest=g;var r=i("399f"),s=new r(24),o=i("7a10"),a=new o,u=new r(1),c=new r(2),f=new r(5),h=(new r(16),new r(8),new r(10)),l=new r(3),d=(new r(7),new r(11)),p=new r(4),m=(new r(12),null);function b(){if(null!==m)return m;var e=1048576,t=[];t[0]=2;for(var i=1,n=3;n<e;n+=2){for(var r=Math.ceil(Math.sqrt(n)),s=0;s<i&&t[s]<=r;s++)if(n%t[s]===0)break;i!==s&&t[s]<=r||(t[i++]=n)}return m=t,t}function v(e){for(var t=b(),i=0;i<t.length;i++)if(0===e.modn(t[i]))return 0===e.cmpn(t[i]);return!0}function g(e){var t=r.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function y(e,t){if(e<16)return new r(2===t||5===t?[140,123]:[140,39]);var i,o;t=new r(t);while(1){i=new r(n(Math.ceil(e/8)));while(i.bitLength()>e)i.ishrn(1);if(i.isEven()&&i.iadd(u),i.testn(1)||i.iadd(c),t.cmp(c)){if(!t.cmp(f))while(i.mod(h).cmp(l))i.iadd(p)}else while(i.mod(s).cmp(d))i.iadd(p);if(o=i.shrn(1),v(o)&&v(i)&&g(o)&&g(i)&&a.test(o)&&a.test(i))return i}}},5919:function(e,t,i){"use strict";t.sha1=i("13e2"),t.sha224=i("07f2"),t.sha256=i("6eed"),t.sha384=i("8b95"),t.sha512=i("b525")},"5a76":function(e,t,i){var n=i("f576");e.exports=function(e){return(new n).update(e).digest()}},"5ca1":function(e,t,i){var n=i("7726"),r=i("8378"),s=i("32e9"),o=i("2aba"),a=i("9b43"),u="prototype",c=function(e,t,i){var f,h,l,d,p=e&c.F,m=e&c.G,b=e&c.S,v=e&c.P,g=e&c.B,y=m?n:b?n[t]||(n[t]={}):(n[t]||{})[u],_=m?r:r[t]||(r[t]={}),w=_[u]||(_[u]={});for(f in m&&(i=t),i)h=!p&&y&&void 0!==y[f],l=(h?y:i)[f],d=g&&h?a(l,n):v&&"function"==typeof l?a(Function.call,l):l,y&&o(y,f,l,e&c.U),_[f]!=l&&s(_,f,d),v&&w[f]!=l&&(w[f]=l)};n.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},"5cc5":function(e,t,i){var n=i("2b4c")("iterator"),r=!1;try{var s=[7][n]();s["return"]=function(){r=!0},Array.from(s,(function(){throw 2}))}catch(o){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var s=[7],a=s[n]();a.next=function(){return{done:i=!0}},s[n]=function(){return a},e(s)}catch(o){}return i}},"5e1a":function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=i("8707").Buffer,s=i(2);function o(e,t,i){e.copy(t,i)}e.exports=function(){function e(){n(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";var t=this.head,i=""+t.data;while(t=t.next)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;var t=r.allocUnsafe(e>>>0),i=this.head,n=0;while(i)o(i.data,t,n),n+=i.data.length,i=i.next;return t},e}(),s&&s.inspect&&s.inspect.custom&&(e.exports.prototype[s.inspect.custom]=function(){var e=s.inspect({length:this.length});return this.constructor.name+" "+e})},"5ee7":function(e,t,i){"use strict";t.readUInt32BE=function(e,t){var i=e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t];return i>>>0},t.writeUInt32BE=function(e,t,i){e[0+i]=t>>>24,e[1+i]=t>>>16&255,e[2+i]=t>>>8&255,e[3+i]=255&t},t.ip=function(e,t,i,n){for(var r=0,s=0,o=6;o>=0;o-=2){for(var a=0;a<=24;a+=8)r<<=1,r|=t>>>a+o&1;for(a=0;a<=24;a+=8)r<<=1,r|=e>>>a+o&1}for(o=6;o>=0;o-=2){for(a=1;a<=25;a+=8)s<<=1,s|=t>>>a+o&1;for(a=1;a<=25;a+=8)s<<=1,s|=e>>>a+o&1}i[n+0]=r>>>0,i[n+1]=s>>>0},t.rip=function(e,t,i,n){for(var r=0,s=0,o=0;o<4;o++)for(var a=24;a>=0;a-=8)r<<=1,r|=t>>>a+o&1,r<<=1,r|=e>>>a+o&1;for(o=4;o<8;o++)for(a=24;a>=0;a-=8)s<<=1,s|=t>>>a+o&1,s<<=1,s|=e>>>a+o&1;i[n+0]=r>>>0,i[n+1]=s>>>0},t.pc1=function(e,t,i,n){for(var r=0,s=0,o=7;o>=5;o--){for(var a=0;a<=24;a+=8)r<<=1,r|=t>>a+o&1;for(a=0;a<=24;a+=8)r<<=1,r|=e>>a+o&1}for(a=0;a<=24;a+=8)r<<=1,r|=t>>a+o&1;for(o=1;o<=3;o++){for(a=0;a<=24;a+=8)s<<=1,s|=t>>a+o&1;for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1}for(a=0;a<=24;a+=8)s<<=1,s|=e>>a+o&1;i[n+0]=r>>>0,i[n+1]=s>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,i,r){for(var s=0,o=0,a=n.length>>>1,u=0;u<a;u++)s<<=1,s|=e>>>n[u]&1;for(u=a;u<n.length;u++)o<<=1,o|=t>>>n[u]&1;i[r+0]=s>>>0,i[r+1]=o>>>0},t.expand=function(e,t,i){var n=0,r=0;n=(1&e)<<5|e>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=e>>>s&63;for(s=11;s>=3;s-=4)r|=e>>>s&63,r<<=6;r|=(31&e)<<1|e>>>31,t[i+0]=n>>>0,t[i+1]=r>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var i=0,n=0;n<4;n++){var s=e>>>18-6*n&63,o=r[64*n+s];i<<=4,i|=o}for(n=0;n<4;n++){s=t>>>18-6*n&63,o=r[256+64*n+s];i<<=4,i|=o}return i>>>0};var s=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,i=0;i<s.length;i++)t<<=1,t|=e>>>s[i]&1;return t>>>0},t.padSplit=function(e,t,i){var n=e.toString(2);while(n.length<t)n="0"+n;for(var r=[],s=0;s<t;s+=i)r.push(n.slice(s,s+i));return r.join(" ")}},"613b":function(e,t,i){var n=i("5537")("keys"),r=i("ca5a");e.exports=function(e){return n[e]||(n[e]=r(e))}},"626a":function(e,t,i){var n=i("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},6283:function(e,t,i){var n=i("3fb5"),r=i("41df").Reporter,s=i("b639").Buffer;function o(e,t){r.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return e instanceof a||(e=new a(e,t)),this.length+=e.length,e}),this);else if("number"===typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"===typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(o,r),t.DecoderBuffer=o,o.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},o.prototype.restore=function(e){var t=new o(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,r.prototype.restore.call(this,e.reporter),t},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},o.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var i=new o(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i},o.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=a,a.prototype.join=function(e,t){return e||(e=new s(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach((function(i){i.join(e,t),t+=i.length})):("number"===typeof this.value?e[t]=this.value:"string"===typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},"62c9":function(e,t,i){var n=i("8707").Buffer;function r(e,t,i){var r=e._cipher.encryptBlock(e._prev),s=r[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([i?t:s])]),s}t.encrypt=function(e,t,i){var s=t.length,o=n.allocUnsafe(s),a=-1;while(++a<s)o[a]=r(e,t[a],i);return o}},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},6430:function(e,t,i){var n=i("8707").Buffer,r=i("d485").Transform,s=i("7d72").StringDecoder,o=i("3fb5");function a(e){r.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}o(a,r),a.prototype.update=function(e,t,i){"string"===typeof e&&(e=n.from(e,t));var r=this._update(e);return this.hashMode?this:(i&&(r=this._toString(r,i)),r)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,i){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(r){n=r}finally{i(n)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(i){t=i}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,i){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return i&&(n+=this._decoder.end()),n},e.exports=a},6442:function(e,t,i){t.publicEncrypt=i("ad25"),t.privateDecrypt=i("0f2c"),t.privateEncrypt=function(e,i){return t.publicEncrypt(e,i,!0)},t.publicDecrypt=function(e,i){return t.privateDecrypt(e,i,!0)}},"676f":function(e,t,i){"use strict";var n=i("399f"),r=i("3fb5"),s=i("ea53"),o=i("f3a3");function a(e){s.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,i){s.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(a,s),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),n=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t),r=n.redSqrt();return 0===r.redSqr().cmp(n)},r(u,s.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(o.toArray(e,t),1)},a.prototype.point=function(e,t){return new u(this,e,t)},a.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),r=t.redSub(n),s=t.redMul(n),o=r.redMul(n.redAdd(this.curve.a24.redMul(r)));return this.curve.point(s,o)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),r=e.x.redAdd(e.z),s=e.x.redSub(e.z),o=s.redMul(i),a=r.redMul(n),u=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(u,c)},u.prototype.mul=function(e){for(var t=e.clone(),i=this,n=this.curve.point(null,null),r=this,s=[];0!==t.cmpn(0);t.iushrn(1))s.push(t.andln(1));for(var o=s.length-1;o>=0;o--)0===s[o]?(i=i.diffAdd(n,r),n=n.dbl()):(n=i.diffAdd(n,r),i=i.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6821:function(e,t,i){var n=i("626a"),r=i("be13");e.exports=function(e){return n(r(e))}},"69a8":function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},"69f2":function(e,t,i){t=e.exports=function(e){e=e.toLowerCase();var i=t[e];if(!i)throw new Error(e+" is not supported (we accept pull requests)");return new i};t.sha=i("087f"),t.sha1=i("7e78"),t.sha224=i("72aa"),t.sha256=i("a255"),t.sha384=i("b837"),t.sha512=i("4fd1")},"6a99":function(e,t,i){var n=i("d3f4");e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},"6aa2":function(e,t,i){"use strict";var n=i("7d92"),r=i("7658"),s=i("da3e");function o(e){if(!(this instanceof o))return new o(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=r.toArray(e.entropy,e.entropyEnc||"hex"),i=r.toArray(e.nonce,e.nonceEnc||"hex"),n=r.toArray(e.pers,e.persEnc||"hex");s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,n)}e.exports=o,o.prototype._init=function(e,t,i){var n=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var r=0;r<this.V.length;r++)this.K[r]=0,this.V[r]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},o.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(e,t,i,n){"string"!==typeof t&&(n=i,i=t,t=null),e=r.toArray(e,t),i=r.toArray(i,n),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},o.prototype.generate=function(e,t,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=i,i=t,t=null),i&&(i=r.toArray(i,n||"hex"),this._update(i));var s=[];while(s.length<e)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(i),this._reseed++,r.encode(o,t)}},"6ade":function(e,t,i){var n=i("8c8a"),r=i("8707").Buffer,s=i("bd9d");function o(e){var t=e._cipher.encryptBlockRaw(e._prev);return s(e._prev),t}var a=16;t.encrypt=function(e,t){var i=Math.ceil(t.length/a),s=e._cache.length;e._cache=r.concat([e._cache,r.allocUnsafe(i*a)]);for(var u=0;u<i;u++){var c=o(e),f=s+u*a;e._cache.writeUInt32BE(c[0],f+0),e._cache.writeUInt32BE(c[1],f+4),e._cache.writeUInt32BE(c[2],f+8),e._cache.writeUInt32BE(c[3],f+12)}var h=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,h)}},"6eed":function(e,t,i){"use strict";var n=i("c3c0"),r=i("edc9"),s=i("aa56"),o=i("da3e"),a=n.sum32,u=n.sum32_4,c=n.sum32_5,f=s.ch32,h=s.maj32,l=s.s0_256,d=s.s1_256,p=s.g0_256,m=s.g1_256,b=r.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}n.inherits(g,b),e.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(e,t){for(var i=this.W,n=0;n<16;n++)i[n]=e[t+n];for(;n<i.length;n++)i[n]=u(m(i[n-2]),i[n-7],p(i[n-15]),i[n-16]);var r=this.h[0],s=this.h[1],b=this.h[2],v=this.h[3],g=this.h[4],y=this.h[5],_=this.h[6],w=this.h[7];for(o(this.k.length===i.length),n=0;n<i.length;n++){var S=c(w,d(g),f(g,y,_),this.k[n],i[n]),E=a(l(r),h(r,s,b));w=_,_=y,y=g,g=a(v,S),v=b,b=s,s=r,r=a(S,E)}this.h[0]=a(this.h[0],r),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],b),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],g),this.h[5]=a(this.h[5],y),this.h[6]=a(this.h[6],_),this.h[7]=a(this.h[7],w)},g.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},"6fe7":function(e,t,i){(function(t){var n=i("1a2a"),r=i("a958"),s=i("3337").ec,o=i("399f"),a=i("2aee"),u=i("cd91");function c(e,i,n,s,o){var u=a(i);if(u.curve){if("ecdsa"!==s&&"ecdsa/rsa"!==s)throw new Error("wrong private key type");return f(e,u)}if("dsa"===u.type){if("dsa"!==s)throw new Error("wrong private key type");return h(e,u,n)}if("rsa"!==s&&"ecdsa/rsa"!==s)throw new Error("wrong private key type");e=t.concat([o,e]);var c=u.modulus.byteLength(),l=[0,1];while(e.length+l.length+1<c)l.push(255);l.push(0);var d=-1;while(++d<e.length)l.push(e[d]);var p=r(l,u);return p}function f(e,i){var n=u[i.curve.join(".")];if(!n)throw new Error("unknown curve "+i.curve.join("."));var r=new s(n),o=r.keyFromPrivate(i.privateKey),a=o.sign(e);return new t(a.toDER())}function h(e,t,i){var n,r=t.params.priv_key,s=t.params.p,a=t.params.q,u=t.params.g,c=new o(0),f=p(e,a).mod(a),h=!1,m=d(r,a,e,i);while(!1===h)n=b(a,m,i),c=v(u,n,s,a),h=n.invm(a).imul(f.add(r.mul(c))).mod(a),0===h.cmpn(0)&&(h=!1,c=new o(0));return l(c,h)}function l(e,i){e=e.toArray(),i=i.toArray(),128&e[0]&&(e=[0].concat(e)),128&i[0]&&(i=[0].concat(i));var n=e.length+i.length+4,r=[48,n,2,e.length];return r=r.concat(e,[2,i.length],i),new t(r)}function d(e,i,r,s){if(e=new t(e.toArray()),e.length<i.byteLength()){var o=new t(i.byteLength()-e.length);o.fill(0),e=t.concat([o,e])}var a=r.length,u=m(r,i),c=new t(a);c.fill(1);var f=new t(a);return f.fill(0),f=n(s,f).update(c).update(new t([0])).update(e).update(u).digest(),c=n(s,f).update(c).digest(),f=n(s,f).update(c).update(new t([1])).update(e).update(u).digest(),c=n(s,f).update(c).digest(),{k:f,v:c}}function p(e,t){var i=new o(e),n=(e.length<<3)-t.bitLength();return n>0&&i.ishrn(n),i}function m(e,i){e=p(e,i),e=e.mod(i);var n=new t(e.toArray());if(n.length<i.byteLength()){var r=new t(i.byteLength()-n.length);r.fill(0),n=t.concat([r,n])}return n}function b(e,i,r){var s,o;do{s=new t(0);while(8*s.length<e.bitLength())i.v=n(r,i.k).update(i.v).digest(),s=t.concat([s,i.v]);o=p(s,e),i.k=n(r,i.k).update(i.v).update(new t([0])).digest(),i.v=n(r,i.k).update(i.v).digest()}while(-1!==o.cmp(e));return o}function v(e,t,i,n){return e.toRed(o.mont(i)).redPow(t).fromRed().mod(n)}e.exports=c,e.exports.getKey=d,e.exports.makeKey=b}).call(this,i("b639").Buffer)},"72aa":function(e,t,i){var n=i("3fb5"),r=i("a255"),s=i("b672"),o=i("8707").Buffer,a=new Array(64);function u(){this.init(),this._w=a,s.call(this,64,56)}n(u,r),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=o.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},7333:function(e,t,i){"use strict";var n=i("9e1e"),r=i("0d58"),s=i("2621"),o=i("52a7"),a=i("4bf8"),u=i("626a"),c=Object.assign;e.exports=!c||i("79e5")((function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach((function(e){t[e]=e})),7!=c({},e)[i]||Object.keys(c({},t)).join("")!=n}))?function(e,t){var i=a(e),c=arguments.length,f=1,h=s.f,l=o.f;while(c>f){var d,p=u(arguments[f++]),m=h?r(p).concat(h(p)):r(p),b=m.length,v=0;while(b>v)d=m[v++],n&&!l.call(p,d)||(i[d]=p[d])}return i}:c},"75cc":function(e,t,i){"use strict";(function(e,n){function r(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var s=i("8707"),o=i("11dc"),a=s.Buffer,u=s.kMaxLength,c=e.crypto||e.msCrypto,f=Math.pow(2,32)-1;function h(e,t){if("number"!==typeof e||e!==e)throw new TypeError("offset must be a number");if(e>f||e<0)throw new TypeError("offset must be a uint32");if(e>u||e>t)throw new RangeError("offset out of range")}function l(e,t,i){if("number"!==typeof e||e!==e)throw new TypeError("size must be a number");if(e>f||e<0)throw new TypeError("size must be a uint32");if(e+t>i||e>u)throw new RangeError("buffer too small")}function d(t,i,n,r){if(!a.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof i)r=i,i=0,n=t.length;else if("function"===typeof n)r=n,n=t.length-i;else if("function"!==typeof r)throw new TypeError('"cb" argument must be a function');return h(i,t.length),l(n,i,t.length),p(t,i,n,r)}function p(e,t,i,r){if(n.browser){var s=e.buffer,a=new Uint8Array(s,t,i);return c.getRandomValues(a),r?void n.nextTick((function(){r(null,e)})):e}if(!r){var u=o(i);return u.copy(e,t),e}o(i,(function(i,n){if(i)return r(i);n.copy(e,t),r(null,e)}))}function m(t,i,n){if("undefined"===typeof i&&(i=0),!a.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return h(i,t.length),void 0===n&&(n=t.length-i),l(n,i,t.length),p(t,i,n)}c&&c.getRandomValues||!n.browser?(t.randomFill=d,t.randomFillSync=m):(t.randomFill=r,t.randomFillSync=r)}).call(this,i("c8ba"),i("f28c"))},7658:function(e,t,i){"use strict";var n=t;function r(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)i[n]=0|e[n];return i}if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)i.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var r=e.charCodeAt(n),s=r>>8,o=255&r;s?i.push(s,o):i.push(o)}return i}function s(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",i=0;i<e.length;i++)t+=s(e[i].toString(16));return t}n.toArray=r,n.zero2=s,n.toHex=o,n.encode=function(e,t){return"hex"===t?o(e):e}},7726:function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"77f1":function(e,t,i){var n=i("4588"),r=Math.max,s=Math.min;e.exports=function(e,t){return e=n(e),e<0?r(e+t,0):s(e,t)}},"780f":function(e,t,i){"use strict";e.exports=s;var n=i("27bf"),r=i("3a7c");function s(e){if(!(this instanceof s))return new s(e);n.call(this,e)}r.inherits=i("3fb5"),r.inherits(s,n),s.prototype._transform=function(e,t,i){i(null,e)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7a10":function(e,t,i){var n=i("399f"),r=i("fdac");function s(e){this.rand=e||new r.Rand}e.exports=s,s.create=function(e){return new s(e)},s.prototype._randbelow=function(e){var t=e.bitLength(),i=Math.ceil(t/8);do{var r=new n(this.rand.generate(i))}while(r.cmp(e)>=0);return r},s.prototype._randrange=function(e,t){var i=t.sub(e);return e.add(this._randbelow(i))},s.prototype.test=function(e,t,i){var r=e.bitLength(),s=n.mont(e),o=new n(1).toRed(s);t||(t=Math.max(1,r/48|0));for(var a=e.subn(1),u=0;!a.testn(u);u++);for(var c=e.shrn(u),f=a.toRed(s),h=!0;t>0;t--){var l=this._randrange(new n(2),a);i&&i(l);var d=l.toRed(s).redPow(c);if(0!==d.cmp(o)&&0!==d.cmp(f)){for(var p=1;p<u;p++){if(d=d.redSqr(),0===d.cmp(o))return!1;if(0===d.cmp(f))break}if(p===u)return!1}}return h},s.prototype.getDivisor=function(e,t){var i=e.bitLength(),r=n.mont(e),s=new n(1).toRed(r);t||(t=Math.max(1,i/48|0));for(var o=e.subn(1),a=0;!o.testn(a);a++);for(var u=e.shrn(a),c=o.toRed(r);t>0;t--){var f=this._randrange(new n(2),o),h=e.gcd(f);if(0!==h.cmpn(1))return h;var l=f.toRed(r).redPow(u);if(0!==l.cmp(s)&&0!==l.cmp(c)){for(var d=1;d<a;d++){if(l=l.redSqr(),0===l.cmp(s))return l.fromRed().subn(1).gcd(e);if(0===l.cmp(c))break}if(d===a)return l=l.redSqr(),l.fromRed().subn(1).gcd(e)}}return!1}},"7a56":function(e,t,i){"use strict";var n=i("7726"),r=i("86cc"),s=i("9e1e"),o=i("2b4c")("species");e.exports=function(e){var t=n[e];s&&t&&!t[o]&&r.f(t,o,{configurable:!0,get:function(){return this}})}},"7d2a":function(e,t,i){(function(t){var i=Math.pow(2,30)-1;function n(e,i){if("string"!==typeof e&&!t.isBuffer(e))throw new TypeError(i+" must be a buffer or string")}e.exports=function(e,t,r,s){if(n(e,"Password"),n(t,"Salt"),"number"!==typeof r)throw new TypeError("Iterations not a number");if(r<0)throw new TypeError("Bad iterations");if("number"!==typeof s)throw new TypeError("Key length not a number");if(s<0||s>i||s!==s)throw new TypeError("Bad key length")}}).call(this,i("b639").Buffer)},"7d72":function(e,t,i){"use strict";var n=i("8707").Buffer,r=n.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){if(!e)return"utf8";var t;while(1)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=s(e);if("string"!==typeof t&&(n.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}function a(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=p,this.end=m,t=4;break;case"utf8":this.fillLast=h,t=4;break;case"base64":this.text=b,this.end=v,t=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function u(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function c(e,t,i){var n=t.length-1;if(n<i)return 0;var r=u(t[n]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--n<i||-2===r?0:(r=u(t[n]),r>=0?(r>0&&(e.lastNeed=r-2),r):--n<i||-2===r?0:(r=u(t[n]),r>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0))}function f(e,t,i){if(128!==(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"�"}}function h(e){var t=this.lastTotal-this.lastNeed,i=f(this,e,t);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){var i=c(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var n=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function p(e,t){if((e.length-t)%2===0){var i=e.toString("utf16le",t);if(i){var n=i.charCodeAt(i.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function b(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function v(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function y(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},a.prototype.end=d,a.prototype.text=l,a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},"7d92":function(e,t,i){var n=t;n.utils=i("c3c0"),n.common=i("edc9"),n.sha=i("5919"),n.ripemd=i("bb44"),n.hmac=i("2137"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},"7e78":function(e,t,i){var n=i("3fb5"),r=i("b672"),s=i("8707").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,r.call(this,64,56)}function c(e){return e<<1|e>>>31}function f(e){return e<<5|e>>>27}function h(e){return e<<30|e>>>2}function l(e,t,i,n){return 0===e?t&i|~t&n:2===e?t&i|t&n|i&n:t^i^n}n(u,r),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t=this._w,i=0|this._a,n=0|this._b,r=0|this._c,s=0|this._d,a=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=c(t[u-3]^t[u-8]^t[u-14]^t[u-16]);for(var d=0;d<80;++d){var p=~~(d/20),m=f(i)+l(p,n,r,s)+a+t[d]+o[p]|0;a=s,s=r,r=h(n),n=i,i=m}this._a=i+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},u.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},"7f20":function(e,t,i){var n=i("86cc").f,r=i("69a8"),s=i("2b4c")("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},"7f73":function(e,t,i){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},"7f7a":function(e,t,i){var n=t;n.bignum=i("399f"),n.define=i("ef3a").define,n.base=i("41df"),n.constants=i("0211"),n.decoders=i("20f6"),n.encoders=i("343e")},8079:function(e,t,i){var n=i("7726"),r=i("1991").set,s=n.MutationObserver||n.WebKitMutationObserver,o=n.process,a=n.Promise,u="process"==i("2d95")(o);e.exports=function(){var e,t,i,c=function(){var n,r;u&&(n=o.domain)&&n.exit();while(e){r=e.fn,e=e.next;try{r()}catch(s){throw e?i():t=void 0,s}}t=void 0,n&&n.enter()};if(u)i=function(){o.nextTick(c)};else if(!s||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var f=a.resolve(void 0);i=function(){f.then(c)}}else i=function(){r.call(n,c)};else{var h=!0,l=document.createTextNode("");new s(c).observe(l,{characterData:!0}),i=function(){l.data=h=!h}}return function(n){var r={fn:n,next:void 0};t&&(t.next=r),e||(e=r,i()),t=r}}},"82f0":function(e,t,i){var n=i("39f5"),r=i("8707").Buffer,s=i("6430"),o=i("3fb5"),a=i("3f62"),u=i("8c8a"),c=i("bd9d");function f(e,t){var i=0;e.length!==t.length&&i++;for(var n=Math.min(e.length,t.length),r=0;r<n;++r)i+=e[r]^t[r];return i}function h(e,t,i){if(12===t.length)return e._finID=r.concat([t,r.from([0,0,0,1])]),r.concat([t,r.from([0,0,0,2])]);var n=new a(i),s=t.length,o=s%16;n.update(t),o&&(o=16-o,n.update(r.alloc(o,0))),n.update(r.alloc(8,0));var u=8*s,f=r.alloc(8);f.writeUIntBE(u,0,8),n.update(f),e._finID=n.state;var h=r.from(e._finID);return c(h),h}function l(e,t,i,o){s.call(this);var u=r.alloc(4,0);this._cipher=new n.AES(t);var c=this._cipher.encryptBlock(u);this._ghash=new a(c),i=h(this,i,c),this._prev=r.from(i),this._cache=r.allocUnsafe(0),this._secCache=r.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}o(l,s),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=r.alloc(t,0),this._ghash.update(t))}this._called=!0;var i=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(i),this._len+=e.length,i},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&f(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!r.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l},8360:function(e,t,i){var n=i("41df").Reporter,r=i("41df").EncoderBuffer,s=i("41df").DecoderBuffer,o=i("da3e"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a),c=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function f(e,t){var i={};this._baseState=i,i.enc=e,i.parent=t||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i["default"]=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}e.exports=f;var h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){var e=this._baseState,t={};h.forEach((function(i){t[i]=e[i]}));var i=new this.constructor(t.parent);return i._baseState=t,i},f.prototype._wrap=function(){var e=this._baseState;u.forEach((function(t){this[t]=function(){var i=new this.constructor(this);return e.children.push(i),i[t].apply(i,arguments)}}),this)},f.prototype._init=function(e){var t=this._baseState;o(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),o.equal(t.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(e){var t=this._baseState,i=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==i.length&&(o(null===t.children),t.children=i,i.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(o(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!==typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(i){i==(0|i)&&(i|=0);var n=e[i];t[n]=i})),t})))},c.forEach((function(e){f.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),a.forEach((function(e){f.prototype[e]=function(){var t=this._baseState,i=Array.prototype.slice.call(arguments);return o(null===t.tag),t.tag=e,this._useArgs(i),this}})),f.prototype.use=function(e){o(e);var t=this._baseState;return o(null===t.use),t.use=e,this},f.prototype.optional=function(){var e=this._baseState;return e.optional=!0,this},f.prototype.def=function(e){var t=this._baseState;return o(null===t["default"]),t["default"]=e,t.optional=!0,this},f.prototype.explicit=function(e){var t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.explicit=e,this},f.prototype.implicit=function(e){var t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.implicit=e,this},f.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},f.prototype.key=function(e){var t=this._baseState;return o(null===t.key),t.key=e,this},f.prototype.any=function(){var e=this._baseState;return e.any=!0,this},f.prototype.choice=function(e){var t=this._baseState;return o(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},f.prototype.contains=function(e){var t=this._baseState;return o(null===t.use),t.contains=e,this},f.prototype._decode=function(e,t){var i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));var n,r=i["default"],o=!0,a=null;if(null!==i.key&&(a=e.enterKey(i.key)),i.optional){var u=null;if(null!==i.explicit?u=i.explicit:null!==i.implicit?u=i.implicit:null!==i.tag&&(u=i.tag),null!==u||i.any){if(o=this._peekTag(e,u,i.any),e.isError(o))return o}else{var c=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),o=!0}catch(p){o=!1}e.restore(c)}}if(i.obj&&o&&(n=e.enterObject()),o){if(null!==i.explicit){var f=this._decodeTag(e,i.explicit);if(e.isError(f))return f;e=f}var h=e.offset;if(null===i.use&&null===i.choice){if(i.any)c=e.save();var l=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(l))return l;i.any?r=e.raw(c):e=l}if(t&&t.track&&null!==i.tag&&t.track(e.path(),h,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),r=i.any?r:null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),e.isError(r))return r;if(i.any||null!==i.choice||null===i.children||i.children.forEach((function(i){i._decode(e,t)})),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){var d=new s(r);r=this._getUse(i.contains,e._reporterState.obj)._decode(d,t)}}return i.obj&&o&&(r=e.leaveObject(n)),null===i.key||null===r&&!0!==o?null!==a&&e.exitKey(a):e.leaveKey(a,i.key,r),r},f.prototype._decodeGeneric=function(e,t,i){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],i):/str$/.test(e)?this._decodeStr(t,e,i):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],i):"objid"===e?this._decodeObjid(t,null,null,i):"gentime"===e||"utctime"===e?this._decodeTime(t,e,i):"null_"===e?this._decodeNull(t,i):"bool"===e?this._decodeBool(t,i):"objDesc"===e?this._decodeStr(t,e,i):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],i):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,i):t.error("unknown tag: "+e)},f.prototype._getUse=function(e,t){var i=this._baseState;return i.useDecoder=this._use(e,t),o(null===i.useDecoder._baseState.parent),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder},f.prototype._decodeChoice=function(e,t){var i=this._baseState,n=null,r=!1;return Object.keys(i.choice).some((function(s){var o=e.save(),a=i.choice[s];try{var u=a._decode(e,t);if(e.isError(u))return!1;n={type:s,value:u},r=!0}catch(c){return e.restore(o),!1}return!0}),this),r?n:e.error("Choice not matched")},f.prototype._createEncoderBuffer=function(e){return new r(e,this.reporter)},f.prototype._encode=function(e,t,i){var n=this._baseState;if(null===n["default"]||n["default"]!==e){var r=this._encodeValue(e,t,i);if(void 0!==r&&!this._skipDefault(r,t,i))return r}},f.prototype._encodeValue=function(e,t,i){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(e,t||new n);var s=null;if(this.reporter=t,r.optional&&void 0===e){if(null===r["default"])return;e=r["default"]}var o=null,a=!1;if(r.any)s=this._createEncoderBuffer(e);else if(r.choice)s=this._encodeChoice(e,t);else if(r.contains)o=this._getUse(r.contains,i)._encode(e,t),a=!0;else if(r.children)o=r.children.map((function(i){if("null_"===i._baseState.tag)return i._encode(null,t,e);if(null===i._baseState.key)return t.error("Child should have a key");var n=t.enterKey(i._baseState.key);if("object"!==typeof e)return t.error("Child expected, but input is not object");var r=i._encode(e[i._baseState.key],t,e);return t.leaveKey(n),r}),this).filter((function(e){return e})),o=this._createEncoderBuffer(o);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return t.error("Too many args for : "+r.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,o=this._createEncoderBuffer(e.map((function(i){var n=this._baseState;return this._getUse(n.args[0],e)._encode(i,t)}),u))}else null!==r.use?s=this._getUse(r.use,i)._encode(e,t):(o=this._encodePrimitive(r.tag,e),a=!0);if(!r.any&&null===r.choice){var c=null!==r.implicit?r.implicit:r.tag,f=null===r.implicit?"universal":"context";null===c?null===r.use&&t.error("Tag could be omitted only for .use()"):null===r.use&&(s=this._encodeComposite(c,a,f,o))}return null!==r.explicit&&(s=this._encodeComposite(r.explicit,!1,"context",s)),s},f.prototype._encodeChoice=function(e,t){var i=this._baseState,n=i.choice[e.type];return n||o(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(e.value,t)},f.prototype._encodePrimitive=function(e,t){var i=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&i.args)return this._encodeObjid(t,i.reverseArgs[0],i.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,i.args&&i.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},f.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},f.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},8378:function(e,t){var i=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=i)},"83d5":function(e,t){e.exports=function(e,t){var i=e.length,n=-1;while(++n<i)e[n]^=t[n];return e}},"84f2":function(e,t){e.exports={}},"85b3":function(e,t,i){var n=i("3fb5"),r=i("3768");function s(e){r.call(this,e),this.enc="pem"}n(s,r),e.exports=s,s.prototype.encode=function(e,t){for(var i=r.prototype.encode.call(this,e),n=i.toString("base64"),s=["-----BEGIN "+t.label+"-----"],o=0;o<n.length;o+=64)s.push(n.slice(o,o+64));return s.push("-----END "+t.label+"-----"),s.join("\n")}},"86cc":function(e,t,i){var n=i("cb7c"),r=i("c69a"),s=i("6a99"),o=Object.defineProperty;t.f=i("9e1e")?Object.defineProperty:function(e,t,i){if(n(e),t=s(t,!0),n(i),r)try{return o(e,t,i)}catch(a){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},8707:function(e,t,i){var n=i("b639"),r=n.Buffer;function s(e,t){for(var i in e)t[i]=e[i]}function o(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o),s(r,o),o.from=function(e,t,i){if("number"===typeof e)throw new TypeError("Argument must not be a number");return r(e,t,i)},o.alloc=function(e,t,i){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=r(e);return void 0!==t?"string"===typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},8947:function(e,t,i){var n=i("bac2"),r=i("82f0"),s=i("8707").Buffer,o=i("09f5"),a=i("6430"),u=i("39f5"),c=i("ae84"),f=i("3fb5");function h(e,t,i){a.call(this),this._cache=new d,this._cipher=new u.AES(t),this._prev=s.from(i),this._mode=e,this._autopadding=!0}f(h,a),h.prototype._update=function(e){var t,i;this._cache.add(e);var n=[];while(t=this._cache.get())i=this._mode.encrypt(this,t),n.push(i);return s.concat(n)};var l=s.alloc(16,16);function d(){this.cache=s.allocUnsafe(0)}function p(e,t,i){var a=n[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"===typeof t&&(t=s.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);if("string"===typeof i&&(i=s.from(i)),"GCM"!==a.mode&&i.length!==a.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===a.type?new o(a.module,t,i):"auth"===a.type?new r(a.module,t,i):new h(a.module,t,i)}function m(e,t){var i=n[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var r=c(t,!1,i.key,i.iv);return p(e,r.key,r.iv)}h.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(l))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=s.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){var e=16-this.cache.length,t=s.allocUnsafe(e),i=-1;while(++i<e)t.writeUInt8(e,i);return s.concat([this.cache,t])},t.createCipheriv=p,t.createCipher=m},"8b71":function(e,t,i){var n=i("0211");t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=n._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=n._reverse(t.tag)},"8b95":function(e,t,i){"use strict";var n=i("c3c0"),r=i("b525");function s(){if(!(this instanceof s))return new s;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,r),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},"8c8a":function(e,t,i){(function(t){e.exports=function(e,i){for(var n=Math.min(e.length,i.length),r=new t(n),s=0;s<n;++s)r[s]=e[s]^i[s];return r}}).call(this,i("b639").Buffer)},"8df7":function(e,t,i){var n=i("3fb5"),r=i("b639").Buffer,s=i("cfbd");function o(e){s.call(this,e),this.enc="pem"}n(o,s),e.exports=o,o.prototype.decode=function(e,t){for(var i=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),o=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,u=-1,c=0;c<i.length;c++){var f=i[c].match(o);if(null!==f&&f[2]===n){if(-1!==a){if("END"!==f[1])break;u=c;break}if("BEGIN"!==f[1])break;a=c}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+n);var h=i.slice(a+1,u).join("");h.replace(/[^a-z0-9\+\/=]+/gi,"");var l=new r(h,"base64");return s.prototype.decode.call(this,l,t)}},9152:function(e,t){t.read=function(e,t,i,n,r){var s,o,a=8*r-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=i?r-1:0,l=i?-1:1,d=e[t+h];for(h+=l,s=d&(1<<-f)-1,d>>=-f,f+=a;f>0;s=256*s+e[t+h],h+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=256*o+e[t+h],h+=l,f-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=c}return(d?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,i,n,r,s){var o,a,u,c=8*s-r-1,f=(1<<c)-1,h=f>>1,l=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+h>=1?l/u:l*Math.pow(2,1-h),t*u>=2&&(o++,u/=2),o+h>=f?(a=0,o=f):o+h>=1?(a=(t*u-1)*Math.pow(2,r),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;e[i+d]=255&a,d+=p,a/=256,r-=8);for(o=o<<r|a,c+=r;c>0;e[i+d]=255&o,d+=p,o/=256,c-=8);e[i+d-p]|=128*m}},"93e6":function(e,t,i){"use strict";var n=i("8707").Buffer,r=i("d485").Transform,s=i("3fb5");function o(e,t){if(!n.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}function a(e){r.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}s(a,r),a.prototype._transform=function(e,t,i){var n=null;try{this.update(e,t)}catch(r){n=r}i(n)},a.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(i){t=i}e(t)},a.prototype.update=function(e,t){if(o(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));var i=this._block,r=0;while(this._blockOffset+e.length-r>=this._blockSize){for(var s=this._blockOffset;s<this._blockSize;)i[s++]=e[r++];this._update(),this._blockOffset=0}while(r<e.length)i[this._blockOffset++]=e[r++];for(var a=0,u=8*e.length;u>0;++a)this._length[a]+=u,u=this._length[a]/4294967296|0,u>0&&(this._length[a]-=4294967296*u);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return t},a.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=a},"945d":function(e,t,i){"use strict";var n=i("7d92"),r=i("0cbb"),s=i("f3a3"),o=s.assert,a=s.parseBytes,u=i("380f"),c=i("44a3");function f(e){if(o("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=r[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=a(e);var i=this.keyFromSecret(t),n=this.hashInt(i.messagePrefix(),e),r=this.g.mul(n),s=this.encodePoint(r),o=this.hashInt(s,i.pubBytes(),e).mul(i.priv()),u=n.add(o).umod(this.curve.n);return this.makeSignature({R:r,S:u,Rencoded:s})},f.prototype.verify=function(e,t,i){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(i),r=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S()),o=t.R().add(n.pub().mul(r));return o.eq(s)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){e=s.parseBytes(e);var t=e.length-1,i=e.slice(0,t).concat(-129&e[t]),n=0!==(128&e[t]),r=s.intFromLE(i);return this.curve.pointFromY(r,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return s.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},"956a":function(e,t,i){var n=i("1e3c"),r=i("fda6"),s=i("bac2"),o=i("0be8"),a=i("ae84");function u(e,t){var i,n;if(e=e.toLowerCase(),s[e])i=s[e].key,n=s[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");i=8*o[e].key,n=o[e].iv}var r=a(t,!1,i,n);return f(e,r.key,r.iv)}function c(e,t){var i,n;if(e=e.toLowerCase(),s[e])i=s[e].key,n=s[e].iv;else{if(!o[e])throw new TypeError("invalid suite type");i=8*o[e].key,n=o[e].iv}var r=a(t,!1,i,n);return h(e,r.key,r.iv)}function f(e,t,i){if(e=e.toLowerCase(),s[e])return r.createCipheriv(e,t,i);if(o[e])return new n({key:t,iv:i,mode:e});throw new TypeError("invalid suite type")}function h(e,t,i){if(e=e.toLowerCase(),s[e])return r.createDecipheriv(e,t,i);if(o[e])return new n({key:t,iv:i,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function l(){return Object.keys(o).concat(r.getCiphers())}t.createCipher=t.Cipher=u,t.createCipheriv=t.Cipheriv=f,t.createDecipher=t.Decipher=c,t.createDecipheriv=t.Decipheriv=h,t.listCiphers=t.getCiphers=l},"966d":function(e,t,i){"use strict";(function(t){function i(e,i,n,r){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,i)}));case 3:return t.nextTick((function(){e.call(null,i,n)}));case 4:return t.nextTick((function(){e.call(null,i,n,r)}));default:s=new Array(a-1),o=0;while(o<s.length)s[o++]=arguments[o];return t.nextTick((function(){e.apply(null,s)}))}}"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:i}:e.exports=t}).call(this,i("f28c"))},"980c":function(e,t,i){(function(t){var n=i("399f"),r=i("3337").ec,s=i("2aee"),o=i("cd91");function a(e,i,r,o,a){var f=s(r);if("ec"===f.type){if("ecdsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong public key type");return u(e,i,f)}if("dsa"===f.type){if("dsa"!==o)throw new Error("wrong public key type");return c(e,i,f)}if("rsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong public key type");i=t.concat([a,i]);var h=f.modulus.byteLength(),l=[1],d=0;while(i.length+l.length+2<h)l.push(255),d++;l.push(0);var p=-1;while(++p<i.length)l.push(i[p]);l=new t(l);var m=n.mont(f.modulus);e=new n(e).toRed(m),e=e.redPow(new n(f.publicExponent)),e=new t(e.fromRed().toArray());var b=d<8?1:0;h=Math.min(e.length,l.length),e.length!==l.length&&(b=1),p=-1;while(++p<h)b|=e[p]^l[p];return 0===b}function u(e,t,i){var n=o[i.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+i.data.algorithm.curve.join("."));var s=new r(n),a=i.data.subjectPrivateKey.data;return s.verify(t,e,a)}function c(e,t,i){var r=i.data.p,o=i.data.q,a=i.data.g,u=i.data.pub_key,c=s.signature.decode(e,"der"),h=c.s,l=c.r;f(h,o),f(l,o);var d=n.mont(r),p=h.invm(o),m=a.toRed(d).redPow(new n(t).mul(p).mod(o)).fromRed().mul(u.toRed(d).redPow(l.mul(p).mod(o)).fromRed()).mod(r).mod(o);return 0===m.cmp(l)}function f(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=a}).call(this,i("b639").Buffer)},"98e6":function(e,t,i){"use strict";var n=i("3fb5"),r=i("f576"),s=i("b5ca"),o=i("69f2"),a=i("6430");function u(e){a.call(this,"digest"),this._hash=e}n(u,a),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return e=e.toLowerCase(),"md5"===e?new r:"rmd160"===e||"ripemd160"===e?new s:new u(o(e))}},"9b43":function(e,t,i){var n=i("d8e8");e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,i){var n=i("2b4c")("unscopables"),r=Array.prototype;void 0==r[n]&&i("32e9")(r,n,{}),e.exports=function(e){r[n][e]=!0}},"9c80":function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},"9def":function(e,t,i){var n=i("4588"),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},"9e1e":function(e,t,i){e.exports=!i("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"9f9d":function(e,t,i){(function(t){var i;if(t.browser)i="utf-8";else{var n=parseInt(t.version.split(".")[0].slice(1),10);i=n>=6?"utf-8":"binary"}e.exports=i}).call(this,i("f28c"))},a099:function(e,t,i){t.pbkdf2=i("206d"),t.pbkdf2Sync=i("e07b")},a255:function(e,t,i){var n=i("3fb5"),r=i("b672"),s=i("8707").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,r.call(this,64,56)}function c(e,t,i){return i^e&(t^i)}function f(e,t,i){return e&t|i&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function l(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function p(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}n(u,r),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t=this._w,i=0|this._a,n=0|this._b,r=0|this._c,s=0|this._d,a=0|this._e,u=0|this._f,m=0|this._g,b=0|this._h,v=0;v<16;++v)t[v]=e.readInt32BE(4*v);for(;v<64;++v)t[v]=p(t[v-2])+t[v-7]+d(t[v-15])+t[v-16]|0;for(var g=0;g<64;++g){var y=b+l(a)+c(a,u,m)+o[g]+t[g]|0,_=h(i)+f(i,n,r)|0;b=m,m=u,u=a,a=s+y|0,s=r,r=n,n=i,i=y+_|0}this._a=i+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=u+this._f|0,this._g=m+this._g|0,this._h=b+this._h|0},u.prototype._hash=function(){var e=s.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},a25f:function(e,t,i){var n=i("7726"),r=n.navigator;e.exports=r&&r.userAgent||""},a5b8:function(e,t,i){"use strict";var n=i("d8e8");function r(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n})),this.resolve=n(t),this.reject=n(i)}e.exports.f=function(e){return new r(e)}},a958:function(e,t,i){(function(t){var n=i("399f"),r=i("11dc");function s(e){var t=a(e),i=t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed();return{blinder:i,unblinder:t.invm(e.modulus)}}function o(e,i){var r=s(i),o=i.modulus.byteLength(),a=(n.mont(i.modulus),new n(e).mul(r.blinder).umod(i.modulus)),u=a.toRed(n.mont(i.prime1)),c=a.toRed(n.mont(i.prime2)),f=i.coefficient,h=i.prime1,l=i.prime2,d=u.redPow(i.exponent1),p=c.redPow(i.exponent2);d=d.fromRed(),p=p.fromRed();var m=d.isub(p).imul(f).umod(h);return m.imul(l),p.iadd(m),new t(p.imul(r.unblinder).umod(i.modulus).toArray(!1,o))}function a(e){var t=e.modulus.byteLength(),i=new n(r(t));while(i.cmp(e.modulus)>=0||!i.umod(e.prime1)||!i.umod(e.prime2))i=new n(r(t));return i}e.exports=o,o.getr=a}).call(this,i("b639").Buffer)},aa56:function(e,t,i){"use strict";var n=i("c3c0"),r=n.rotr32;function s(e,t,i,n){return 0===e?o(t,i,n):1===e||3===e?u(t,i,n):2===e?a(t,i,n):void 0}function o(e,t,i){return e&t^~e&i}function a(e,t,i){return e&t^e&i^t&i}function u(e,t,i){return e^t^i}function c(e){return r(e,2)^r(e,13)^r(e,22)}function f(e){return r(e,6)^r(e,11)^r(e,25)}function h(e){return r(e,7)^r(e,18)^e>>>3}function l(e){return r(e,17)^r(e,19)^e>>>10}t.ft_1=s,t.ch32=o,t.maj32=a,t.p32=u,t.s0_256=c,t.s1_256=f,t.g0_256=h,t.g1_256=l},ad25:function(e,t,i){var n=i("2aee"),r=i("11dc"),s=i("98e6"),o=i("f460"),a=i("83d5"),u=i("399f"),c=i("5291"),f=i("a958"),h=i("8707").Buffer;function l(e,t){var i=e.modulus.byteLength(),n=t.length,c=s("sha1").update(h.alloc(0)).digest(),f=c.length,l=2*f;if(n>i-l-2)throw new Error("message too long");var d=h.alloc(i-n-l-2),p=i-f-1,m=r(f),b=a(h.concat([c,d,h.alloc(1,1),t],p),o(m,p)),v=a(m,o(b,f));return new u(h.concat([h.alloc(1),v,b],i))}function d(e,t,i){var n,r=t.length,s=e.modulus.byteLength();if(r>s-11)throw new Error("message too long");return n=i?h.alloc(s-r-3,255):p(s-r-3),new u(h.concat([h.from([0,i?1:2]),n,h.alloc(1),t],s))}function p(e){var t,i=h.allocUnsafe(e),n=0,s=r(2*e),o=0;while(n<e)o===s.length&&(s=r(2*e),o=0),t=s[o++],t&&(i[n++]=t);return i}e.exports=function(e,t,i){var r;r=e.padding?e.padding:i?1:4;var s,o=n(e);if(4===r)s=l(o,t);else if(1===r)s=d(o,t,i);else{if(3!==r)throw new Error("unknown padding");if(s=new u(t),s.cmp(o.modulus)>=0)throw new Error("data too long for modulus")}return i?f(s,o):c(s,o)}},ad71:function(e,t,i){"use strict";(function(t,n){var r=i("966d");e.exports=S;var s,o=i("e3db");S.ReadableState=w;i("faa1").EventEmitter;var a=function(e,t){return e.listeners(t).length},u=i("429b"),c=i("8707").Buffer,f=t.Uint8Array||function(){};function h(e){return c.from(e)}function l(e){return c.isBuffer(e)||e instanceof f}var d=i("3a7c");d.inherits=i("3fb5");var p=i(1),m=void 0;m=p&&p.debuglog?p.debuglog("stream"):function(){};var b,v=i("5e1a"),g=i("4681");d.inherits(S,u);var y=["error","close","destroy","pause","resume"];function _(e,t,i){if("function"===typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}function w(e,t){s=s||i("b19a"),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(b||(b=i("7d72").StringDecoder),this.decoder=new b(e.encoding),this.encoding=e.encoding)}function S(e){if(s=s||i("b19a"),!(this instanceof S))return new S(e);this._readableState=new w(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function E(e,t,i,n,r){var s,o=e._readableState;null===t?(o.reading=!1,D(e,o)):(r||(s=k(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=h(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):x(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!i?(t=o.decoder.write(t),o.objectMode||0!==t.length?x(e,o,t,!1):I(e,o)):x(e,o,t,!1))):n||(o.reading=!1));return A(o)}function x(e,t,i,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,n?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&B(e)),I(e,t)}function k(e,t){var i;return l(t)||"string"===typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}function A(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=g.destroy,S.prototype._undestroy=g.undestroy,S.prototype._destroy=function(e,t){this.push(null),t(e)},S.prototype.push=function(e,t){var i,n=this._readableState;return n.objectMode?i=!0:"string"===typeof e&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=c.from(e,t),t=""),i=!0),E(this,e,t,!1,i)},S.prototype.unshift=function(e){return E(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){return b||(b=i("7d72").StringDecoder),this._readableState.decoder=new b(e),this._readableState.encoding=e,this};var T=8388608;function C(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function R(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=C(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function D(e,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,B(e)}}function B(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(m("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(M,e):M(e))}function M(e){m("emit readable"),e.emit("readable"),N(e)}function I(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(U,e,t))}function U(e,t){var i=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){if(m("maybeReadMore read 0"),e.read(0),i===t.length)break;i=t.length}t.readingMore=!1}function P(e){return function(){var t=e._readableState;m("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,N(e))}}function F(e){m("readable nexttick read 0"),e.read(0)}function O(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}function L(e,t){t.reading||(m("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;m("flow",t.flowing);while(t.flowing&&null!==e.read());}function j(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=z(e,t.buffer,t.decoder),i);var i}function z(e,t,i){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():i?H(e,t):V(e,t),n}function H(e,t){var i=t.head,n=1,r=i.data;e-=r.length;while(i=i.next){var s=i.data,o=e>s.length?s.length:e;if(o===s.length?r+=s:r+=s.slice(0,e),e-=o,0===e){o===s.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=s.slice(o));break}++n}return t.length-=n,r}function V(e,t){var i=c.allocUnsafe(e),n=t.head,r=1;n.data.copy(i),e-=n.data.length;while(n=n.next){var s=n.data,o=e>s.length?s.length:e;if(s.copy(i,i.length-e,0,o),e-=o,0===e){o===s.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++r}return t.length-=r,i}function q(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function K(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}S.prototype.read=function(e){m("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return m("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?q(this):B(this),null;if(e=R(e,t),0===e&&t.ended)return 0===t.length&&q(this),null;var n,r=t.needReadable;return m("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,m("length less than watermark",r)),t.ended||t.reading?(r=!1,m("reading or ended",r)):r&&(m("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=R(i,t))),n=e>0?j(e,t):null,null===n?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&q(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(e,t){var i=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e);break}s.pipesCount+=1,m("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr,u=o?f:w;function c(e,t){m("onunpipe"),e===i&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function f(){m("onend"),e.end()}s.endEmitted?r.nextTick(u):i.once("end",u),e.on("unpipe",c);var h=P(i);e.on("drain",h);var l=!1;function d(){m("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",h),e.removeListener("error",v),e.removeListener("unpipe",c),i.removeListener("end",f),i.removeListener("end",w),i.removeListener("data",b),l=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||h()}var p=!1;function b(t){m("ondata"),p=!1;var n=e.write(t);!1!==n||p||((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==K(s.pipes,e))&&!l&&(m("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,p=!0),i.pause())}function v(t){m("onerror",t),w(),e.removeListener("error",v),0===a(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),w()}function y(){m("onfinish"),e.removeListener("close",g),w()}function w(){m("unpipe"),i.unpipe(e)}return i.on("data",b),_(e,"error",v),e.once("close",g),e.once("finish",y),e.emit("pipe",i),s.flowing||(m("pipe resume"),i.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<r;s++)n[s].emit("unpipe",this,i);return this}var o=K(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},S.prototype.on=function(e,t){var i=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&B(this):r.nextTick(F,this))}return i},S.prototype.addListener=S.prototype.on,S.prototype.resume=function(){var e=this._readableState;return e.flowing||(m("resume"),e.flowing=!0,O(this,e)),this},S.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},S.prototype.wrap=function(e){var t=this,i=this._readableState,n=!1;for(var r in e.on("end",(function(){if(m("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){if(m("wrapped data"),i.decoder&&(r=i.decoder.write(r)),(!i.objectMode||null!==r&&void 0!==r)&&(i.objectMode||r&&r.length)){var s=t.push(r);s||(n=!0,e.pause())}})),e)void 0===this[r]&&"function"===typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var s=0;s<y.length;s++)e.on(y[s],this.emit.bind(this,y[s]));return this._read=function(t){m("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),S._fromList=j}).call(this,i("c8ba"),i("f28c"))},ae84:function(e,t,i){var n=i("8707").Buffer,r=i("f576");function s(e,t,i,s){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");var o=i/8,a=n.alloc(o),u=n.alloc(s||0),c=n.alloc(0);while(o>0||s>0){var f=new r;f.update(c),f.update(e),t&&f.update(t),c=f.digest();var h=0;if(o>0){var l=a.length-o;h=Math.min(o,c.length),c.copy(a,l,0,h),o-=h}if(h<c.length&&s>0){var d=u.length-s,p=Math.min(s,c.length-h);c.copy(u,d,h,h+p),s-=p}}return c.fill(0),{key:a,iv:u}}e.exports=s},b19a:function(e,t,i){"use strict";var n=i("966d"),r=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=h;var s=i("3a7c");s.inherits=i("3fb5");var o=i("ad71"),a=i("dc14");s.inherits(h,o);for(var u=r(a.prototype),c=0;c<u.length;c++){var f=u[c];h.prototype[f]||(h.prototype[f]=a.prototype[f])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},b4e8:function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},b525:function(e,t,i){"use strict";var n=i("c3c0"),r=i("edc9"),s=i("da3e"),o=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,f=n.sum64,h=n.sum64_hi,l=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,m=n.sum64_5_hi,b=n.sum64_5_lo,v=r.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function y(){if(!(this instanceof y))return new y;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function _(e,t,i,n,r){var s=e&i^~e&r;return s<0&&(s+=4294967296),s}function w(e,t,i,n,r,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function S(e,t,i,n,r){var s=e&i^e&r^i&r;return s<0&&(s+=4294967296),s}function E(e,t,i,n,r,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function x(e,t){var i=o(e,t,28),n=o(t,e,2),r=o(t,e,7),s=i^n^r;return s<0&&(s+=4294967296),s}function k(e,t){var i=a(e,t,28),n=a(t,e,2),r=a(t,e,7),s=i^n^r;return s<0&&(s+=4294967296),s}function A(e,t){var i=o(e,t,14),n=o(e,t,18),r=o(t,e,9),s=i^n^r;return s<0&&(s+=4294967296),s}function T(e,t){var i=a(e,t,14),n=a(e,t,18),r=a(t,e,9),s=i^n^r;return s<0&&(s+=4294967296),s}function C(e,t){var i=o(e,t,1),n=o(e,t,8),r=u(e,t,7),s=i^n^r;return s<0&&(s+=4294967296),s}function R(e,t){var i=a(e,t,1),n=a(e,t,8),r=c(e,t,7),s=i^n^r;return s<0&&(s+=4294967296),s}function D(e,t){var i=o(e,t,19),n=o(t,e,29),r=u(e,t,6),s=i^n^r;return s<0&&(s+=4294967296),s}function B(e,t){var i=a(e,t,19),n=a(t,e,29),r=c(e,t,6),s=i^n^r;return s<0&&(s+=4294967296),s}n.inherits(y,v),e.exports=y,y.blockSize=1024,y.outSize=512,y.hmacStrength=192,y.padLength=128,y.prototype._prepareBlock=function(e,t){for(var i=this.W,n=0;n<32;n++)i[n]=e[t+n];for(;n<i.length;n+=2){var r=D(i[n-4],i[n-3]),s=B(i[n-4],i[n-3]),o=i[n-14],a=i[n-13],u=C(i[n-30],i[n-29]),c=R(i[n-30],i[n-29]),f=i[n-32],h=i[n-31];i[n]=d(r,s,o,a,u,c,f,h),i[n+1]=p(r,s,o,a,u,c,f,h)}},y.prototype._update=function(e,t){this._prepareBlock(e,t);var i=this.W,n=this.h[0],r=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],d=this.h[6],p=this.h[7],v=this.h[8],g=this.h[9],y=this.h[10],C=this.h[11],R=this.h[12],D=this.h[13],B=this.h[14],M=this.h[15];s(this.k.length===i.length);for(var I=0;I<i.length;I+=2){var U=B,P=M,F=A(v,g),O=T(v,g),L=_(v,g,y,C,R,D),N=w(v,g,y,C,R,D),j=this.k[I],z=this.k[I+1],H=i[I],V=i[I+1],q=m(U,P,F,O,L,N,j,z,H,V),G=b(U,P,F,O,L,N,j,z,H,V);U=x(n,r),P=k(n,r),F=S(n,r,o,a,u,c),O=E(n,r,o,a,u,c);var K=h(U,P,F,O),W=l(U,P,F,O);B=R,M=D,R=y,D=C,y=v,C=g,v=h(d,p,q,G),g=l(p,p,q,G),d=u,p=c,u=o,c=a,o=n,a=r,n=h(q,G,K,W),r=l(q,G,K,W)}f(this.h,0,n,r),f(this.h,2,o,a),f(this.h,4,u,c),f(this.h,6,d,p),f(this.h,8,v,g),f(this.h,10,y,C),f(this.h,12,R,D),f(this.h,14,B,M)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},b5ca:function(e,t,i){"use strict";var n=i("b639").Buffer,r=i("3fb5"),s=i("93e6"),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function d(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,i,n,r,s,o,a){return p(e+(t^i^n)+s+o|0,a)+r|0}function b(e,t,i,n,r,s,o,a){return p(e+(t&i|~t&n)+s+o|0,a)+r|0}function v(e,t,i,n,r,s,o,a){return p(e+((t|~i)^n)+s+o|0,a)+r|0}function g(e,t,i,n,r,s,o,a){return p(e+(t&n|i&~n)+s+o|0,a)+r|0}function y(e,t,i,n,r,s,o,a){return p(e+(t^(i|~n))+s+o|0,a)+r|0}r(d,s),d.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var i=0|this._a,n=0|this._b,r=0|this._c,s=0|this._d,d=0|this._e,_=0|this._a,w=0|this._b,S=0|this._c,E=0|this._d,x=0|this._e,k=0;k<80;k+=1){var A,T;k<16?(A=m(i,n,r,s,d,e[a[k]],h[0],c[k]),T=y(_,w,S,E,x,e[u[k]],l[0],f[k])):k<32?(A=b(i,n,r,s,d,e[a[k]],h[1],c[k]),T=g(_,w,S,E,x,e[u[k]],l[1],f[k])):k<48?(A=v(i,n,r,s,d,e[a[k]],h[2],c[k]),T=v(_,w,S,E,x,e[u[k]],l[2],f[k])):k<64?(A=g(i,n,r,s,d,e[a[k]],h[3],c[k]),T=b(_,w,S,E,x,e[u[k]],l[3],f[k])):(A=y(i,n,r,s,d,e[a[k]],h[4],c[k]),T=m(_,w,S,E,x,e[u[k]],l[4],f[k])),i=d,d=s,s=p(r,10),r=n,n=A,_=x,x=E,E=p(S,10),S=w,w=T}var C=this._b+r+E|0;this._b=this._c+s+x|0,this._c=this._d+d+_|0,this._d=this._e+i+w|0,this._e=this._a+n+S|0,this._a=C},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},b639:function(e,t,i){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=i("1fb5"),r=i("9152"),s=i("e3db");function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=c.prototype):(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,i){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,i);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return f(this,e,t,i)}function f(e,t,i,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?b(e,t,i,n):"string"===typeof t?p(e,t,i):v(e,t)}function h(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,i,n){return h(t),t<=0?u(e,t):void 0!==i?"string"===typeof n?u(e,t).fill(i,n):u(e,t).fill(i):u(e,t)}function d(e,t){if(h(t),e=u(e,t<0?0:0|g(t)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function p(e,t,i){if("string"===typeof i&&""!==i||(i="utf8"),!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|_(t,i);e=u(e,n);var r=e.write(t,i);return r!==n&&(e=e.slice(0,r)),e}function m(e,t){var i=t.length<0?0:0|g(t.length);e=u(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function b(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n),c.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=c.prototype):e=m(e,t),e}function v(e,t){if(c.isBuffer(t)){var i=0|g(t.length);return e=u(e,i),0===e.length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?u(e,0):m(e,t);if("Buffer"===t.type&&s(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),c.alloc(+e)}function _(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Z(e).length;default:if(n)return X(e).length;t=(""+t).toLowerCase(),n=!0}}function w(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,t>>>=0,i<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return O(this,t,i);case"utf8":case"utf-8":return M(this,t,i);case"ascii":return P(this,t,i);case"latin1":case"binary":return F(this,t,i);case"base64":return B(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function S(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function E(e,t,i,n,r){if(0===e.length)return-1;if("string"===typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:x(e,t,i,n,r);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):x(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function x(e,t,i,n,r){var s,o=1,a=e.length,u=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,i/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r){var f=-1;for(s=i;s<a;s++)if(c(e,s)===c(t,-1===f?0:s-f)){if(-1===f&&(f=s),s-f+1===u)return f*o}else-1!==f&&(s-=s-f),f=-1}else for(i+u>a&&(i=a-u),s=i;s>=0;s--){for(var h=!0,l=0;l<u;l++)if(c(e,s+l)!==c(t,l)){h=!1;break}if(h)return s}return-1}function k(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;var s=t.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))return o;e[i+o]=a}return o}function A(e,t,i,n){return ee(X(t,e.length-i),e,i,n)}function T(e,t,i,n){return ee(Q(t),e,i,n)}function C(e,t,i,n){return T(e,t,i,n)}function R(e,t,i,n){return ee(Z(t),e,i,n)}function D(e,t,i,n){return ee(J(t,e.length-i),e,i,n)}function B(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function M(e,t,i){i=Math.min(e.length,i);var n=[],r=t;while(r<i){var s,o,a,u,c=e[r],f=null,h=c>239?4:c>223?3:c>191?2:1;if(r+h<=i)switch(h){case 1:c<128&&(f=c);break;case 2:s=e[r+1],128===(192&s)&&(u=(31&c)<<6|63&s,u>127&&(f=u));break;case 3:s=e[r+1],o=e[r+2],128===(192&s)&&128===(192&o)&&(u=(15&c)<<12|(63&s)<<6|63&o,u>2047&&(u<55296||u>57343)&&(f=u));break;case 4:s=e[r+1],o=e[r+2],a=e[r+3],128===(192&s)&&128===(192&o)&&128===(192&a)&&(u=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a,u>65535&&u<1114112&&(f=u))}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),r+=h}return U(n)}t.Buffer=c,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:o(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,i){return f(null,e,t,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,i){return l(null,e,t,i)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,s=Math.min(i,n);r<s;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=c.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var o=e[i];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)S(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)S(this,t,t+3),S(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)S(this,t,t+7),S(this,t+1,t+6),S(this,t+2,t+5),S(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?M(this,0,e):w.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,i,n,r){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var s=r-n,o=i-t,a=Math.min(s,o),u=this.slice(n,r),f=e.slice(t,i),h=0;h<a;++h)if(u[h]!==f[h]){s=u[h],o=f[h];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},c.prototype.indexOf=function(e,t,i){return E(this,e,t,i,!0)},c.prototype.lastIndexOf=function(e,t,i){return E(this,e,t,i,!1)},c.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"===typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return k(this,e,t,i);case"utf8":case"utf-8":return A(this,e,t,i);case"ascii":return T(this,e,t,i);case"latin1":case"binary":return C(this,e,t,i);case"base64":return R(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function U(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);var i="",n=0;while(n<t)i+=String.fromCharCode.apply(String,e.slice(n,n+=I));return i}function P(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function F(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function O(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=t;s<i;++s)r+=$(e[s]);return r}function L(e,t,i){for(var n=e.slice(t,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function N(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,i,n,r,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<s)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function z(e,t,i,n){t<0&&(t=65535+t+1);for(var r=0,s=Math.min(e.length-i,2);r<s;++r)e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function H(e,t,i,n){t<0&&(t=4294967295+t+1);for(var r=0,s=Math.min(e.length-i,4);r<s;++r)e[i+r]=t>>>8*(n?r:3-r)&255}function V(e,t,i,n,r,s){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function q(e,t,i,n,s){return s||V(e,t,i,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,i,n,23,4),i+4}function G(e,t,i,n,s){return s||V(e,t,i,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,i,n,52,8),i+8}c.prototype.slice=function(e,t){var i,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)i=this.subarray(e,t),i.__proto__=c.prototype;else{var r=t-e;i=new c(r,void 0);for(var s=0;s<r;++s)i[s]=this[s+e]}return i},c.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||N(e,t,this.length);var n=this[e],r=1,s=0;while(++s<t&&(r*=256))n+=this[e+s]*r;return n},c.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||N(e,t,this.length);var n=this[e+--t],r=1;while(t>0&&(r*=256))n+=this[e+--t]*r;return n},c.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||N(e,t,this.length);var n=this[e],r=1,s=0;while(++s<t&&(r*=256))n+=this[e+s]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||N(e,t,this.length);var n=t,r=1,s=this[e+--n];while(n>0&&(r*=256))s+=this[e+--n]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),r.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),r.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),r.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),r.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;j(this,e,t,i,r,0)}var s=1,o=0;this[t]=255&e;while(++o<i&&(s*=256))this[t+o]=e/s&255;return t+i},c.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;j(this,e,t,i,r,0)}var s=i-1,o=1;this[t+s]=255&e;while(--s>=0&&(o*=256))this[t+s]=e/o&255;return t+i},c.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):H(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):H(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);j(this,e,t,i,r-1,-r)}var s=0,o=1,a=0;this[t]=255&e;while(++s<i&&(o*=256))e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i},c.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);j(this,e,t,i,r-1,-r)}var s=i-1,o=1,a=0;this[t+s]=255&e;while(--s>=0&&(o*=256))e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i},c.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):z(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):z(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):H(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):H(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,i){return q(this,e,t,!0,i)},c.prototype.writeFloatBE=function(e,t,i){return q(this,e,t,!1,i)},c.prototype.writeDoubleLE=function(e,t,i){return G(this,e,t,!0,i)},c.prototype.writeDoubleBE=function(e,t,i){return G(this,e,t,!1,i)},c.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,s=n-i;if(this===e&&i<t&&t<n)for(r=s-1;r>=0;--r)e[r+t]=this[r+i];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+s),t);return s},c.prototype.fill=function(e,t,i,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,i=this.length):"string"===typeof i&&(n=i,i=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var s;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"===typeof e)for(s=t;s<i;++s)this[s]=e;else{var o=c.isBuffer(e)?e:X(new c(e,n).toString()),a=o.length;for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var K=/[^+\/0-9A-Za-z-_]/g;function W(e){if(e=Y(e).replace(K,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function Y(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function $(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var i;t=t||1/0;for(var n=e.length,r=null,s=[],o=0;o<n;++o){if(i=e.charCodeAt(o),i>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;s.push(i)}else if(i<2048){if((t-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function Q(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function J(e,t){for(var i,n,r,s=[],o=0;o<e.length;++o){if((t-=2)<0)break;i=e.charCodeAt(o),n=i>>8,r=i%256,s.push(r),s.push(n)}return s}function Z(e){return n.toByteArray(W(e))}function ee(e,t,i,n){for(var r=0;r<n;++r){if(r+i>=t.length||r>=e.length)break;t[r+i]=e[r]}return r}function te(e){return e!==e}}).call(this,i("c8ba"))},b672:function(e,t,i){var n=i("8707").Buffer;function r(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}r.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=n.from(e,t));for(var i=this._block,r=this._blockSize,s=e.length,o=this._len,a=0;a<s;){for(var u=o%r,c=Math.min(s-a,r-u),f=0;f<c;f++)i[u+f]=e[a+f];o+=c,a+=c,o%r===0&&this._update(i)}return this._len+=s,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var n=(4294967295&i)>>>0,r=(i-n)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},b692:function(e,t,i){(function(t){var n=i("98e6"),r=i("d485"),s=i("3fb5"),o=i("6fe7"),a=i("980c"),u=i("b4e8");function c(e){r.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){r.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){return new c(e)}function l(e){return new f(e)}Object.keys(u).forEach((function(e){u[e].id=new t(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),s(c,r.Writable),c.prototype._write=function(e,t,i){this._hash.update(e),i()},c.prototype.update=function(e,i){return"string"===typeof e&&(e=new t(e,i)),this._hash.update(e),this},c.prototype.sign=function(e,t){this.end();var i=this._hash.digest(),n=o(i,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},s(f,r.Writable),f.prototype._write=function(e,t,i){this._hash.update(e),i()},f.prototype.update=function(e,i){return"string"===typeof e&&(e=new t(e,i)),this._hash.update(e),this},f.prototype.verify=function(e,i,n){"string"===typeof i&&(i=new t(i,n)),this.end();var r=this._hash.digest();return a(i,r,e,this._signType,this._tag)},e.exports={Sign:h,Verify:l,createSign:h,createVerify:l}}).call(this,i("b639").Buffer)},b73f:function(e,t,i){"use strict";var n=i("399f"),r=i("f3a3"),s=r.assert;function o(e,t){if(e instanceof o)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function u(e,t){var i=e[t.place++];if(!(128&i))return i;for(var n=15&i,r=0,s=0,o=t.place;s<n;s++,o++)r<<=8,r|=e[o];return t.place=o,r}function c(e){var t=0,i=e.length-1;while(!e[t]&&!(128&e[t+1])&&t<i)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var i=1+(Math.log(t)/Math.LN2>>>3);e.push(128|i);while(--i)e.push(t>>>(i<<3)&255);e.push(t)}}e.exports=o,o.prototype._importDER=function(e,t){e=r.toArray(e,t);var i=new a;if(48!==e[i.place++])return!1;var s=u(e,i);if(s+i.place!==e.length)return!1;if(2!==e[i.place++])return!1;var o=u(e,i),c=e.slice(i.place,o+i.place);if(i.place+=o,2!==e[i.place++])return!1;var f=u(e,i);if(e.length!==f+i.place)return!1;var h=e.slice(i.place,f+i.place);return 0===c[0]&&128&c[1]&&(c=c.slice(1)),0===h[0]&&128&h[1]&&(h=h.slice(1)),this.r=new n(c),this.s=new n(h),this.recoveryParam=null,!0},o.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();128&t[0]&&(t=[0].concat(t)),128&i[0]&&(i=[0].concat(i)),t=c(t),i=c(i);while(!i[0]&&!(128&i[1]))i=i.slice(1);var n=[2];f(n,t.length),n=n.concat(t),n.push(2),f(n,i.length);var s=n.concat(i),o=[48];return f(o,s.length),o=o.concat(s),r.encode(o,e)}},b7d1:function(e,t,i){(function(t){function i(e,t){if(n("noDeprecation"))return e;var i=!1;function r(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}return r}function n(e){try{if(!t.localStorage)return!1}catch(n){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=i}).call(this,i("c8ba"))},b837:function(e,t,i){var n=i("3fb5"),r=i("4fd1"),s=i("b672"),o=i("8707").Buffer,a=new Array(160);function u(){this.init(),this._w=a,s.call(this,128,112)}n(u,r),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=o.allocUnsafe(48);function t(t,i,n){e.writeInt32BE(t,n),e.writeInt32BE(i,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},b9a8:function(e,t,i){"use strict";var n=i("399f"),r=i("6aa2"),s=i("f3a3"),o=i("0cbb"),a=i("fdac"),u=s.assert,c=i("bb34"),f=i("b73f");function h(e){if(!(this instanceof h))return new h(e);"string"===typeof e&&(u(o.hasOwnProperty(e),"Unknown curve "+e),e=o[e]),e instanceof o.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new c(this,e)},h.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});var t=new r({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),s=this.n.sub(new n(2));do{var o=new n(t.generate(i));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}while(1)},h.prototype._truncateToN=function(e,t){var i=8*e.byteLength()-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,i,s){"object"===typeof i&&(s=i,i=null),s||(s={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new n(e,16));for(var o=this.n.byteLength(),a=t.getPrivate().toArray("be",o),u=e.toArray("be",o),c=new r({hash:this.hash,entropy:a,nonce:u,pers:s.pers,persEnc:s.persEnc||"utf8"}),h=this.n.sub(new n(1)),l=0;1;l++){var d=s.k?s.k(l):new n(c.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(h)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var m=p.getX(),b=m.umod(this.n);if(0!==b.cmpn(0)){var v=d.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(v=v.umod(this.n),0!==v.cmpn(0)){var g=(p.getY().isOdd()?1:0)|(0!==m.cmp(b)?2:0);return s.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),g^=1),new f({r:b,s:v,recoveryParam:g})}}}}}},h.prototype.verify=function(e,t,i,r){e=this._truncateToN(new n(e,16)),i=this.keyFromPublic(i,r),t=new f(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),u=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n);if(!this.curve._maxwellTrick){var h=this.g.mulAdd(u,i.getPublic(),c);return!h.isInfinity()&&0===h.getX().umod(this.n).cmp(s)}h=this.g.jmulAdd(u,i.getPublic(),c);return!h.isInfinity()&&h.eqXToP(s)},h.prototype.recoverPubKey=function(e,t,i,r){u((3&i)===i,"The recovery param is more than two bits"),t=new f(t,r);var s=this.n,o=new n(e),a=t.r,c=t.s,h=1&i,l=i>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=l?this.curve.pointFromX(a.add(this.curve.n),h):this.curve.pointFromX(a,h);var d=t.r.invm(s),p=s.sub(o).mul(d).umod(s),m=c.mul(d).umod(s);return this.g.mulAdd(p,a,m)},h.prototype.getKeyRecoveryParam=function(e,t,i,n){if(t=new f(t,n),null!==t.recoveryParam)return t.recoveryParam;for(var r=0;r<4;r++){var s;try{s=this.recoverPubKey(e,t,r)}catch(e){continue}if(s.eq(i))return r}throw new Error("Unable to find valid recovery factor")}},bac2:function(e,t,i){var n={ECB:i("0145"),CBC:i("c119"),CFB:i("3505"),CFB8:i("62c9"),CFB1:i("5239"),OFB:i("5165"),CTR:i("6ade"),GCM:i("6ade")},r=i("e85f");for(var s in r)r[s].module=n[r[s].mode];e.exports=r},bb34:function(e,t,i){"use strict";var n=i("399f"),r=i("f3a3"),s=r.assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,i){return t instanceof o?t:new o(e,{pub:t,pubEnc:i})},o.fromPrivate=function(e,t,i){return t instanceof o?t:new o(e,{priv:t,privEnc:i})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?s(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||s(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},bb44:function(e,t,i){"use strict";var n=i("c3c0"),r=i("edc9"),s=n.rotl32,o=n.sum32,a=n.sum32_3,u=n.sum32_4,c=r.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,i,n){return e<=15?t^i^n:e<=31?t&i|~t&n:e<=47?(t|~i)^n:e<=63?t&n|i&~n:t^(i|~n)}function l(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(f,c),t.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var i=this.h[0],n=this.h[1],r=this.h[2],c=this.h[3],f=this.h[4],g=i,y=n,_=r,w=c,S=f,E=0;E<80;E++){var x=o(s(u(i,h(E,n,r,c),e[p[E]+t],l(E)),b[E]),f);i=f,f=c,c=s(r,10),r=n,n=x,x=o(s(u(g,h(79-E,y,_,w),e[m[E]+t],d(E)),v[E]),S),g=S,S=w,w=s(_,10),_=y,y=x}x=a(this.h[1],r,w),this.h[1]=a(this.h[2],c,S),this.h[2]=a(this.h[3],f,g),this.h[3]=a(this.h[4],i,y),this.h[4]=a(this.h[0],n,_),this.h[0]=x},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},bcaa:function(e,t,i){var n=i("cb7c"),r=i("d3f4"),s=i("a5b8");e.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var i=s.f(e),o=i.resolve;return o(t),i.promise}},bd9d:function(e,t){function i(e){var t,i=e.length;while(i--){if(t=e.readUInt8(i),255!==t){t++,e.writeUInt8(t,i);break}e.writeUInt8(0,i)}}e.exports=i},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c119:function(e,t,i){var n=i("8c8a");t.encrypt=function(e,t){var i=n(t,e._prev);return e._prev=e._cipher.encryptBlock(i),e._prev},t.decrypt=function(e,t){var i=e._prev;e._prev=t;var r=e._cipher.decryptBlock(t);return n(r,i)}},c24d:function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},c2ae:function(e,t,i){e.exports=i("e372").PassThrough},c366:function(e,t,i){var n=i("6821"),r=i("9def"),s=i("77f1");e.exports=function(e){return function(t,i,o){var a,u=n(t),c=r(u.length),f=s(o,c);if(e&&i!=i){while(c>f)if(a=u[f++],a!=a)return!0}else for(;c>f;f++)if((e||f in u)&&u[f]===i)return e||f||0;return!e&&-1}}},c3c0:function(e,t,i){"use strict";var n=i("da3e"),r=i("3fb5");function s(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function o(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"===typeof e)if(t){if("hex"===t)for(e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e),r=0;r<e.length;r+=2)i.push(parseInt(e[r]+e[r+1],16))}else for(var n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?i[n++]=o:o<2048?(i[n++]=o>>6|192,i[n++]=63&o|128):s(e,r)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),i[n++]=o>>18|240,i[n++]=o>>12&63|128,i[n++]=o>>6&63|128,i[n++]=63&o|128):(i[n++]=o>>12|224,i[n++]=o>>6&63|128,i[n++]=63&o|128)}else for(r=0;r<e.length;r++)i[r]=0|e[r];return i}function a(e){for(var t="",i=0;i<e.length;i++)t+=f(e[i].toString(16));return t}function u(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24;return t>>>0}function c(e,t){for(var i="",n=0;n<e.length;n++){var r=e[n];"little"===t&&(r=u(r)),i+=h(r.toString(16))}return i}function f(e){return 1===e.length?"0"+e:e}function h(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function l(e,t,i,r){var s=i-t;n(s%4===0);for(var o=new Array(s/4),a=0,u=t;a<o.length;a++,u+=4){var c;c="big"===r?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],o[a]=c>>>0}return o}function d(e,t){for(var i=new Array(4*e.length),n=0,r=0;n<e.length;n++,r+=4){var s=e[n];"big"===t?(i[r]=s>>>24,i[r+1]=s>>>16&255,i[r+2]=s>>>8&255,i[r+3]=255&s):(i[r+3]=s>>>24,i[r+2]=s>>>16&255,i[r+1]=s>>>8&255,i[r]=255&s)}return i}function p(e,t){return e>>>t|e<<32-t}function m(e,t){return e<<t|e>>>32-t}function b(e,t){return e+t>>>0}function v(e,t,i){return e+t+i>>>0}function g(e,t,i,n){return e+t+i+n>>>0}function y(e,t,i,n,r){return e+t+i+n+r>>>0}function _(e,t,i,n){var r=e[t],s=e[t+1],o=n+s>>>0,a=(o<n?1:0)+i+r;e[t]=a>>>0,e[t+1]=o}function w(e,t,i,n){var r=t+n>>>0,s=(r<t?1:0)+e+i;return s>>>0}function S(e,t,i,n){var r=t+n;return r>>>0}function E(e,t,i,n,r,s,o,a){var u=0,c=t;c=c+n>>>0,u+=c<t?1:0,c=c+s>>>0,u+=c<s?1:0,c=c+a>>>0,u+=c<a?1:0;var f=e+i+r+o+u;return f>>>0}function x(e,t,i,n,r,s,o,a){var u=t+n+s+a;return u>>>0}function k(e,t,i,n,r,s,o,a,u,c){var f=0,h=t;h=h+n>>>0,f+=h<t?1:0,h=h+s>>>0,f+=h<s?1:0,h=h+a>>>0,f+=h<a?1:0,h=h+c>>>0,f+=h<c?1:0;var l=e+i+r+o+u+f;return l>>>0}function A(e,t,i,n,r,s,o,a,u,c){var f=t+n+s+a+c;return f>>>0}function T(e,t,i){var n=t<<32-i|e>>>i;return n>>>0}function C(e,t,i){var n=e<<32-i|t>>>i;return n>>>0}function R(e,t,i){return e>>>i}function D(e,t,i){var n=e<<32-i|t>>>i;return n>>>0}t.inherits=r,t.toArray=o,t.toHex=a,t.htonl=u,t.toHex32=c,t.zero2=f,t.zero8=h,t.join32=l,t.split32=d,t.rotr32=p,t.rotl32=m,t.sum32=b,t.sum32_3=v,t.sum32_4=g,t.sum32_5=y,t.sum64=_,t.sum64_hi=w,t.sum64_lo=S,t.sum64_4_hi=E,t.sum64_4_lo=x,t.sum64_5_hi=k,t.sum64_5_lo=A,t.rotr64_hi=T,t.rotr64_lo=C,t.shr64_hi=R,t.shr64_lo=D},c5a3:function(module,exports,__webpack_require__){var stjs={NOT_IMPLEMENTED:function(){throw"This method is not implemented in Javascript."},JavalikeEquals:function(e){return null!=e&&(e.valueOf?this.valueOf()===e.valueOf():this===e)},JavalikeGetClass:function(){return this.constructor}};String.prototype.equals||(String.prototype.equals=stjs.JavalikeEquals),String.prototype.getBytes||(String.prototype.getBytes=stjs.NOT_IMPLEMENTED),String.prototype.getChars||(String.prototype.getChars=stjs.NOT_IMPLEMENTED),String.prototype.contentEquals||(String.prototype.contentEquals=stjs.NOT_IMPLEMENTED),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){var i=null!=t?t:0;return this.substring(i,i+e.length)==e}),String.prototype.endsWith||(String.prototype.endsWith=function(e){return null!=e&&(!(this.length<e.length)&&this.substring(this.length-e.length,this.length)==e)}),String.prototype.trim||(stjs.trimLeftRegExp=/^\s+/,stjs.trimRightRegExp=/\s+$/,String.prototype.trim=function(){return this.replace(stjs.trimLeftRegExp,"").replace(stjs.trimRightRegExp,"")}),String.prototype.matches||(String.prototype.matches=function(e){return null!=this.match("^"+e+"$")}),String.prototype.compareTo||(String.prototype.compareTo=function(e){return null==e?1:this<e?-1:this==e?0:1}),String.prototype.compareToIgnoreCase||(String.prototype.compareToIgnoreCase=function(e){return null==e?1:this.toLowerCase().compareTo(e.toLowerCase())}),String.prototype.equalsIgnoreCase||(String.prototype.equalsIgnoreCase=function(e){return null!=e&&this.toLowerCase()===e.toLowerCase()}),String.prototype.codePointAt||(String.prototype.codePointAt=String.prototype.charCodeAt),String.prototype.codePointBefore||(String.prototype.codePointBefore=stjs.NOT_IMPLEMENTED),String.prototype.codePointCount||(String.prototype.codePointCount=stjs.NOT_IMPLEMENTED),String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)}),String.prototype.replaceFirst||(String.prototype.replaceFirst=function(e,t){return this.replace(new RegExp(e),t)}),String.prototype.regionMatches||(String.prototype.regionMatches=function(e,t,i,n,r){if(4==arguments.length&&(r=arguments[3],n=arguments[2],i=arguments[1],t=arguments[0],e=!1),t<0||n<0||null==i||t+r>this.length||n+r>i.length)return!1;var s=this.substring(t,t+r),o=i.substring(n,n+r);return e?s.equalsIgnoreCase(o):s===o}),String.prototype.contains||(String.prototype.contains=function(e){return this.indexOf(e)>=0}),String.prototype.getClass||(String.prototype.getClass=stjs.JavalikeGetClass),String.valueOf=function(e){return new String(e)};var Byte=Number,Double=Number,Float=Number,Integer=Number,Long=Number,Short=Number;function exception(e){return e}function isEnum(e){return null!=e&&e.constructor==stjs.enumEntry}Number.prototype.intValue||(Number.prototype.intValue=function(){return parseInt(this)}),Number.prototype.shortValue||(Number.prototype.shortValue=function(){return parseInt(this)}),Number.prototype.longValue||(Number.prototype.longValue=function(){return parseInt(this)}),Number.prototype.byteValue||(Number.prototype.byteValue=function(){return parseInt(this)}),Number.prototype.floatValue||(Number.prototype.floatValue=function(){return parseFloat(this)}),Number.prototype.doubleValue||(Number.prototype.doubleValue=function(){return parseFloat(this)}),Number.parseInt||(Number.parseInt=parseInt),Number.parseShort||(Number.parseShort=parseInt),Number.parseLong||(Number.parseLong=parseInt),Number.parseByte||(Number.parseByte=parseInt),Number.parseDouble||(Number.parseDouble=parseFloat),Number.parseFloat||(Number.parseFloat=parseFloat),Number.isNaN||(Number.isNaN=isNaN),Number.prototype.isNaN||(Number.prototype.isNaN=function(){return isNaN(this)}),Number.prototype.equals||(Number.prototype.equals=stjs.JavalikeEquals),Number.prototype.getClass||(Number.prototype.getClass=stjs.JavalikeGetClass),Number.valueOf=function(e){return new Number(e).valueOf()},Boolean.prototype.equals||(Boolean.prototype.equals=stjs.JavalikeEquals),Boolean.prototype.getClass||(Boolean.prototype.getClass=stjs.JavalikeGetClass),Boolean.valueOf=function(e){return new Boolean(e).valueOf()},stjs.global=this,stjs.skipCopy={prototype:!0,constructor:!0,$typeDescription:!0,$inherit:!0},stjs.ns=function(e){for(var t=e.split("."),i=stjs.global,n=0;n<t.length;++n){var r=t[n];i=i[r]=i[r]||{}}return i},stjs.copyProps=function(e,t){for(var i in e)stjs.skipCopy[i]||(t[i]=e[i]);return t},stjs.copyInexistentProps=function(e,t){for(var i in e)stjs.skipCopy[i]||t[i]||(t[i]=e[i]);return t},stjs.extend=function(e,t,i,n,r,s){if("object"!==typeof r)return stjs.extend12.apply(this,arguments);if(e.$inherit=[],null!=t){var o=function(){};o.prototype=t.prototype,e.prototype=new o,stjs.copyProps(t,e),stjs.copyProps(t.$typeDescription,r),stjs.copyProps(t.$annotations,s),e.$inherit.push(t)}for(var a=0;a<i.length;++a)i[a]&&(stjs.copyProps(i[a],e),stjs.copyInexistentProps(i[a].prototype,e.prototype),e.$inherit.push(i[a]));return e.prototype.constructor=e,null!=n&&n(e,e.prototype),e.$typeDescription=r,e.$annotations=s,null==t&&(e.prototype.equals||(e.prototype.equals=stjs.JavalikeEquals),e.prototype.getClass||(e.prototype.getClass=stjs.JavalikeGetClass)),e},stjs.extend12=function(e,t,i){var n=function(){};n.prototype=t.prototype,e.prototype=new n;for(var r=1;r<arguments.length;++r)stjs.copyProps(arguments[r],e);return e.prototype.constructor=e,null==t&&(e.prototype.equals=stjs.JavalikeEquals,e.prototype.getClass=stjs.JavalikeGetClass),e},stjs.getAnnotations=function(e){return e.$annotations},stjs.getTypeAnnotation=function(e,t){var i=e.$annotations._;return i?i[t]:null},stjs.getMemberAnnotation=function(e,t,i){var n=e.$annotations.memberName;return n?n[i]:null},stjs.getParameterAnnotation=function(e,t,i,n){var r=e.$annotations[t+"$"+i];return r?r[n]:null},stjs.isInstanceOf=function(e,t){if(null==e)return!1;if(e===t)return!0;if(!e.$inherit)return!1;for(var i=0;i<e.$inherit.length;++i)if(stjs.isInstanceOf(e.$inherit[i],t))return!0;return!1},stjs.enumEntry=function(e,t){this._name=t,this._ordinal=e},stjs.enumEntry.prototype.name=function(){return this._name},stjs.enumEntry.prototype.ordinal=function(){return this._ordinal},stjs.enumEntry.prototype.toString=function(){return this._name},stjs.enumEntry.prototype.equals=stjs.JavalikeEquals,stjs.enumeration=function(){var e,t={_values:[]};for(e=0;e<arguments.length;++e)t[arguments[e]]=new stjs.enumEntry(e,arguments[e]),t._values[e]=t[arguments[e]];return t.values=function(){return this._values},t.valueOf=function(e){return this[e]},t},stjs.mainCallDisabled=!1,stjs.exception=function(e){return e},stjs.isEnum=function(e){return null!=e&&e.constructor==stjs.enumEntry},"function"===typeof Math.trunc?stjs.trunc=Math.trunc:stjs.trunc=function(e){return null==e?null:e>=0?Math.floor(e):Math.ceil(e)},stjs.converters={Date:function(e,t){var i=/^(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)$/.exec(e);return i?new Date(+i[1],+i[2]-1,+i[3],+i[4],+i[5],+i[6]):null},Enum:function(s,type){return eval(type.arguments[0])[s]}},stjs.serializers={Date:function(e,t){function i(e){return e<10?"0"+e:""+e}return e?e.getFullYear()+"-"+i(e.getMonth()+1)+"-"+i(e.getDate())+" "+i(e.getHours())+":"+i(e.getMinutes())+":"+i(e.getSeconds()):null},Enum:function(e,t){return null!=e?e.toString():null}},stjs.bind=function(e,t,i){var n=!1;null==t&&(t=e,e=null,n=!0);var r=null!=i,s=function(){var s=arguments;return r&&Array.prototype.splice.call(s,i,0,this),n&&(e=Array.prototype.shift.call(s)),"string"===typeof t?e[t].apply(e,s):t.apply(e,s)};return s},stjs.parseJSON=function(){var number="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)",oneChar='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))',string='(?:"'+oneChar+'*")',jsonToken=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+number+"|"+string+")","g"),escapeSequence=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),escapes={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function unescapeOne(e,t,i){return t?escapes[t]:String.fromCharCode(parseInt(i,16))}var constructors={};function constr(name,param){var c=constructors[name];return c||(constructors[name]=c=eval(name)),new c(param)}function convert(e,t){if(!e)return t;var i=stjs.converters[e.name||e];return i?i(t,e):constr(e,t)}function builder(e){return e?"function"==typeof e?new e:e.name?"Map"==e.name?{}:"Array"==e.name?[]:constr(e.name):constr(e):{}}var EMPTY_STRING=new String(""),SLASH="\\",firstTokenCtors={"{":Object,"[":Array},hop=Object.hasOwnProperty;function nextMatch(e){var t=jsonToken.exec(e);return null!=t?t[0]:null}return function(e,t){var i,n,r=nextMatch(e),s=!1;"{"===r?i=builder(t,null):"["===r?i=[]:(i=[],s=!0);var o=[i],a=[t];for(r=nextMatch(e);null!=r;r=nextMatch(e)){var u;switch(r.charCodeAt(0)){default:u=o[0],u[n||u.length]=+r,n=void 0;break;case 34:if(r=r.substring(1,r.length-1),-1!==r.indexOf(SLASH)&&(r=r.replace(escapeSequence,unescapeOne)),u=o[0],!n){if(!(u instanceof Array)){n=r||EMPTY_STRING,a[0]=u.constructor.$typeDescription?u.constructor.$typeDescription[n]:a[1].arguments[1];break}n=u.length}u[n]=convert(a[0],r),n=void 0;break;case 91:u=o[0],o.unshift(u[n||u.length]=[]),a.unshift(a[0].arguments[0]),n=void 0;break;case 93:o.shift(),a.shift();break;case 102:u=o[0],u[n||u.length]=!1,n=void 0;break;case 110:u=o[0],u[n||u.length]=null,n=void 0;break;case 116:u=o[0],u[n||u.length]=!0,n=void 0;break;case 123:u=o[0],o.unshift(u[n||u.length]=builder(a[0])),a.unshift(null),n=void 0;break;case 125:o.shift(),a.shift();break}}if(s){if(1!==o.length)throw new Error;i=i[0]}else if(o.length)throw new Error;return i}}(),stjs.isArray=function(e){return"[object Array]"===stjs.toString.call(e)},stjs.typefy=function(obj,cls){if(stjs.isArray(obj)){for(var result=[],idx=0;idx<obj.length;idx++)result.push(stjs.typefy(obj[idx],elementType(cls)));return result}var constructors={};function constr(name,param){var c=constructors[name];return c||(constructors[name]=c=eval(name)),new c(param)}function elementType(type){return"function"==typeof type?type:type.arguments?eval(type.arguments[0]):"string"==typeof type?eval(type):Object}function convert(e,t){if(!e)return t;var i=stjs.converters[e.name||e];return i?i(t,e):constr(e,t)}function builder(e){return e?"function"==typeof e?new e:e.name?"Map"==e.name?{}:"Array"==e.name?[]:constr(e.name):constr(e):{}}if(null==obj)return null;var ret=new cls;for(var key in obj){var prop=obj[key];if(null!=prop){var td=cls.$typeDescription[key];td?"string"==typeof prop?ret[key]=convert(td,prop):"object"==typeof prop&&("string"==typeof td&&(td=eval(td)),ret[key]=stjs.typefy(prop,td)):ret[key]=prop}}return ret},stjs.hydrate=stjs.typefy,stjs.stringify=function(e,t){if(null==e)return null;var i={};for(var n in e){var r=t.$typeDescription[n],s=e[n],o=null!=r?stjs.serializers[r.name||r]:null;"function"!=typeof s&&(r&&o?"string"!=typeof s&&(i[n]=o?o(s,r):stjs.typefy(s,r)):i[n]=s)}return i},stjs.assertHandler=function(e,t,i){throw i+" at "+e},stjs.STJSAssert={},stjs.STJSAssert.setAssertHandler=function(e){stjs.assertHandler=e},stjs.STJSAssert.assertArgEquals=function(e,t,i,n){i!=n&&stjs.assertHandler&&stjs.assertHandler(e,t,"Wrong argument. Expected: "+i+", got:"+n)},stjs.STJSAssert.assertArgNotNull=function(e,t,i){null==i&&stjs.assertHandler&&stjs.assertHandler(e,t,"Wrong argument. Null value")},stjs.STJSAssert.assertArgTrue=function(e,t,i){!i&&stjs.assertHandler&&stjs.assertHandler(e,t,"Wrong argument. Condition is false")},stjs.STJSAssert.assertStateEquals=function(e,t,i,n){i!=n&&stjs.assertHandler&&stjs.assertHandler(e,t,"Wrong state. Expected: "+i+", got:"+n)},stjs.STJSAssert.assertStateNotNull=function(e,t,i){null==i&&stjs.assertHandler&&stjs.assertHandler(e,t,"Wrong state. Null value")},stjs.STJSAssert.assertStateTrue=function(e,t,i){!i&&stjs.assertHandler&&stjs.assertHandler(e,t,"Wrong state. Condition is false")};var Throwable=function(e,t){if(Error.call(this),"function"===typeof Error.captureStackTrace)Error.captureStackTrace(this,arguments.callee);else try{throw new Error}catch(i){this.stack=i.stack}"string"===typeof e?(this.detailMessage=e,this.message=e,this.cause=t):this.cause=e};stjs.extend(Throwable,Error,[],(function(e,t){t.detailMessage=null,t.cause=null,t.getMessage=function(){return this.detailMessage},t.getLocalizedMessage=function(){return this.getMessage()},t.getCause=function(){return this.cause==this?null:this.cause},t.toString=function(){var e="Exception",t=this.getLocalizedMessage();return null!=t?e+": "+t:e},t.getStackTrace=function(){return this.stack},t.printStackTrace=function(){console.error(this.getStackTrace())}}),{});var Exception=function(e,t){Throwable.call(this,e,t)};stjs.extend(Exception,Throwable,[],(function(e,t){}),{});var RuntimeException=function(e,t){Exception.call(this,e,t)};stjs.extend(RuntimeException,Exception,[],(function(e,t){}),{});var Iterator=function(){};Iterator=stjs.extend(Iterator,null,[],(function(e,t){t.hasNext=function(){},t.next=function(){},t.remove=function(){}}),{},{});var Iterable=function(){};Iterable=stjs.extend(Iterable,null,[],(function(e,t){t.iterator=function(){}}),{},{}),stjs.setField=function(e,t,i,n){if(stjs.setFieldHandler)return stjs.setFieldHandler(e,t,i,n);var r=n?e[t]:i;return e[t]=i,r},stjs.getField=function(e,t){return stjs.getFieldHandler?stjs.getFieldHandler(e,t):e[t]};var Decoder=__webpack_require__("50c4"),MovDasher=__webpack_require__("51df"),Rx=__webpack_require__("f406"),_mp4box=__webpack_require__("100a"),DataStream=_mp4box.DataStream,BoxParser=_mp4box.BoxParser,ISOFile=_mp4box.ISOFile,MP4Box=_mp4box.MP4Box,Extend={extend:function(e,t){var i=function(){e.apply(this,arguments),t.apply(this,arguments)};return i.prototype=Object.create(e.prototype),i.prototype.constructor=t,i}},FrameExtractor=function(e,t,i){this.url=e||"",this.http=t,this.log=i};function Downloader(){this.isActive=!1,this.realtime=!1,this.chunkStart=0,this.chunkSize=0,this.totalLength=0,this.chunkTimeout=1e3,this.url=null,this.callback=null,this.eof=!1,this.setDownloadTimeoutCallback=null,this.withCredentials=!1}FrameExtractor.prototype.init=function(e){this.mp4box=new MP4Box(!1),this.downloader=new Downloader,this.samples=[],this.chunkSize=1048576,this.maintrack=1,this.nextStart=0;var t=this;this.moovLoaded=!1,this.mp4box.onReady=function(){t.log.debug("moov processed"),t.moovLoaded=!0,t.mp4box.flush(),t.maintrack=t.mp4box.getInfo().tracks[0].id,t.samples=t.mp4box.getTrackSamplesInfo(t.maintrack);var i=t.mp4box.inputIsoFile.moov.traks[0].mdia.minf.stbl.stss;if(i){t.iframes=new Array(i.sample_numbers.length);for(var n=0;n<i.sample_numbers.length;n++)t.iframes[n]=i.sample_numbers[n]-1}t.downloader.stop(),e&&e(t.getInfo())},this.frameData=[],this.downloader.setCallback((function(e,i,n){if(e){var r=t.mp4box.appendBuffer(e);t.nextStart=r,t.downloader.setChunkSize(t.chunkSize)}t.downloader.setChunkStart(t.nextStart)})),this.downloader.setInterval(10),this.downloader.setChunkSize(131072),this.downloader.setUrl(Utils.addQueryParams(this.url,this.http.queryParams)),this.downloader.setWithCredentials(this.http.withCredentials),this.downloader.start()},FrameExtractor.prototype.getRange=function(e,t){return this.http.getArrayBufferRange(this.url,e,e+t+1).map((function(t){return t.fileStart=e,t.fileStart||(t=t.slice(0),t.fileStart=e),t}))},FrameExtractor.prototype.getPrevIframe=function(e){for(var t=0;t<this.iframes.length;t++)if(this.iframes[t]<=e&&e<this.iframes[t+1])return this.iframes[t];return this.iframes[this.iframes.length-1]},FrameExtractor.prototype.saveNALUnits=function(e,t){var i=0,n=this.getFrameSize(t),r=[];while(n-i>0){var s=new DataView(e.buffer,i+e.byteOffset).getUint32(0);r.push(e.subarray(i+4,i+s+4)),i=i+s+4}this.frameData[t]=r},FrameExtractor.prototype.loadFrameData=function(e){if(this.moovLoaded){var t=this;if(e>=this.samples.length)return Rx.Observable.just(e);if(this.iframes){for(var i=this.getPrevIframe(e),n=[],r=0,s=!0,o=this.getFrameOffset(i),a=i;a<=e;a++){var u=this.getFrameSize(a);n.push({rangeFrameOffset:this.getFrameOffset(a)-o,size:u,id:a}),r+=u,this.frameData[a]||(s=!1)}return s?Rx.Observable.just(e):this.getRange(o,r).doOnNext((function(e){for(var i=new Uint8Array(e),r=0;r<n.length;r++)t.saveNALUnits(i.subarray(n[r].rangeFrameOffset,n[r].rangeFrameOffset+n[r].size),n[r].id)})).map((function(t){return e}))}return this.frameData[e]?Rx.Observable.just(e):this.getRange(this.getFrameOffset(e),this.getFrameSize(e)).doOnNext((function(i){t.saveNALUnits(new Uint8Array(i),e)})).map((function(t){return e}))}return this.log.error("moov is not loaded"),Rx.Observable.throw("moov is not loaded")},FrameExtractor.prototype.getFrameOffset=function(e){return this.samples[e].offset},FrameExtractor.prototype.getFrameSize=function(e){return this.samples[e].size},FrameExtractor.prototype.getInfo=function(){var e=this.mp4box.inputIsoFile.moov.traks[0];return{width:e.tkhd.width>>16,height:e.tkhd.height>>16,framesTotal:this.samples.length}},FrameExtractor.prototype.getAvcC=function(){return MovDasher.getAvcC(this.mp4box)},Downloader.prototype.setDownloadTimeoutCallback=function(e){return this.setDownloadTimeoutCallback=e,this},Downloader.prototype.reset=function(){return this.chunkStart=0,this.totalLength=0,this.eof=!1,this},Downloader.prototype.setRealTime=function(e){return this.realtime=e,this},Downloader.prototype.setChunkSize=function(e){return this.chunkSize=e,this},Downloader.prototype.setChunkStart=function(e){return this.chunkStart=e,this.eof=!1,this},Downloader.prototype.setInterval=function(e){return this.chunkTimeout=e,this},Downloader.prototype.setUrl=function(e){return this.url=e,this},Downloader.prototype.setWithCredentials=function(e){return this.withCredentials=!!e,this},Downloader.prototype.setCallback=function(e){return this.callback=e,this},Downloader.prototype.isStopped=function(){return!this.isActive},Downloader.prototype.getFileLength=function(){return this.totalLength},Downloader.prototype.getFile=function(){var e=this;if(e.totalLength&&this.chunkStart>=e.totalLength&&(e.eof=!0),!0!==e.eof){var t=new XMLHttpRequest;t.open("GET",this.url,!0),t.responseType="arraybuffer";var i,n=null;t.start=this.chunkStart,this.chunkStart+this.chunkSize<1/0&&(n="bytes="+this.chunkStart+"-",i=this.chunkStart+this.chunkSize-1,n+=i,t.setRequestHeader("Range",n)),t.onerror=function(t){e.callback(null,!1,!0)},t.onreadystatechange=function(i){if((200==t.status||206==t.status||304==t.status||416==t.status)&&t.readyState==this.DONE){var n,r=t.getResponseHeader("Content-Range");if(!e.totalLength&&r)n=r.indexOf("/"),n>-1&&(e.totalLength=+r.slice(n+1));e.eof=t.response.byteLength!==e.chunkSize||t.response.byteLength===e.totalLength;var s=t.response;if(s.fileStart=t.start,s.fileStart||(s=s.slice(0),s.fileStart=t.start),e.callback(s,e.eof),!0===e.isActive&&!1===e.eof){var o=0;o=e.realtime?computeWaitingTimeFromBuffer(video):e.chunkTimeout,e.setDownloadTimeoutCallback&&e.setDownloadTimeoutCallback(o),e.timeoutID=window.setTimeout(e.getFile.bind(e),o)}else e.isActive=!1}},e.isActive&&t.send()}else this.callback(null,!0)},Downloader.prototype.start=function(){return this.chunkStart=0,this.resume(),this},Downloader.prototype.resume=function(){return this.isActive=!0,0===this.chunkSize&&(this.chunkSize=1/0),this.getFile(),this},Downloader.prototype.stop=function(){return this.isActive=!1,this.timeoutID&&(window.clearTimeout(this.timeoutID),delete this.timeoutID),this},function(e){e.closest=e.closest||function e(t){return this.parentNode?this.matches(t)?this:e.call(this.parentNode,t):null}}(Element.prototype),Array.prototype.fill||(Array.prototype.fill=function(e){if(null==this)throw new TypeError("this is null or not defined");var t=Object(this),i=t.length>>>0,n=arguments[1],r=n>>0,s=r<0?Math.max(i+r,0):Math.min(r,i),o=arguments[2],a=void 0===o?i:o>>0,u=a<0?Math.max(i+a,0):Math.min(a,i);while(s<u)t[s]=e,s++;return t}),Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],s=0;s<n;s++)if(t=i[s],e.call(r,t,s,i))return t}),Array.prototype.reduce||(Array.prototype.reduce=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof e)throw new TypeError(e+" is not a function");var t,i=Object(this),n=i.length>>>0,r=0;if(2==arguments.length)t=arguments[1];else{while(r<n&&!(r in i))r++;if(r>=n)throw new TypeError("Reduce of empty array with no initial value");t=i[r++]}for(;r<n;r++)r in i&&(t=e(t,i[r],r,i));return t});var FrameDrawer=function(e){this.frameExtractor=e,this.iframes=e.iframes,this.canvas=window.document.createElement("canvas"),this.canvas.height=this.align16(e.getInfo().height),this.canvas.width=this.align16(e.getInfo().width),this.ctx=this.canvas.getContext("2d",null),this.imgData=this.ctx.createImageData(this.canvas.width,this.canvas.height),this.decoder=new Decoder({rgb:!0}),this.lastDecodedFn=-1;var t=e.getAvcC();this.sps=t.SPS[0],this.pps=t.PPS[0]};FrameDrawer=stjs.extend(FrameDrawer,null,[],(function(e,t){t.frameExtractor=null,t.iframes=null,t.canvas=null,t.ctx=null,t.imgData=null,t.decoder=null,t.lastDecodedFn=0,t.sps=null,t.pps=null,t.align16=function(e){var t=e%16;return t>0?e+(16-t):e},t.resetDecoder=function(){this.decoder.decode(this.sps),this.decoder.decode(this.pps)},t.renderFromPrevIframe=function(e){var t;if(e==this.lastDecodedFn)return Rx.Observable.just(this.canvas);if(null!=this.iframes){var i=this.frameExtractor.getPrevIframe(e);-1!=this.lastDecodedFn&&this.lastDecodedFn<e&&this.frameExtractor.getPrevIframe(this.lastDecodedFn)==i?t=this.lastDecodedFn+1:(t=i,this.resetDecoder())}else t=e,this.resetDecoder();return Rx.Observable.create(stjs.bind(this,(function(i){this.decoder.onPictureDecoded=function(e){};for(var n=t;n<=e;n++){var r=this.frameExtractor.frameData[n];if(null==r){i.onNext(null),i.onCompleted();break}this.lastDecodedFn=n;for(var s=0;s<r.length;s++)n==e&&s==r.length-1&&(this.decoder.onPictureDecoded=stjs.bind(this,(function(e){this.imgData.data.set(e,0),this.ctx.putImageData(this.imgData,0,0),i.onNext(this.canvas),i.onCompleted()}))),this.decoder.decode(r[s])}})))},t.decodeFrame=function(e){return e>=0&&e<this.frameExtractor.getInfo().framesTotal?this.renderFromPrevIframe(e):Rx.Observable.just(null)}}),{frameExtractor:"AbstractFrameExtractor",iframes:{name:"Array",arguments:[null]},canvas:"Canvas",ctx:"CanvasRenderingContext2D",imgData:"CanvasImageData",decoder:"Decoder",sps:"Uint8Array",pps:"Uint8Array"},{});var AbstractFrameExtractor=function(){};AbstractFrameExtractor=stjs.extend(AbstractFrameExtractor,null,[],(function(e,t){t.mp4box=null,t.iframes=null,t.frameData=null,t.init=function(e){},t.getInfo=function(){},t.getPrevIframe=function(e){},t.loadFrameData=function(e){},t.getAvcC=function(){return MovDasher.getAvcC(this.mp4box)}}),{mp4box:"MP4Box",iframes:{name:"Array",arguments:[null]},frameData:{name:"Array",arguments:[{name:"Array",arguments:["Uint8Array"]}]}},{});var ChannelMute=function(e,t){this.mute=e,this.channel=t};ChannelMute=stjs.extend(ChannelMute,null,[],(function(e,t){t.mute=!1,t.channel=0}),{},{});var MutableBoolean=function(e){this.value=e};MutableBoolean=stjs.extend(MutableBoolean,null,[],(function(e,t){t.value=!1}),{},{});var Utils=function(){};Utils=stjs.extend(Utils,null,[],(function(e,t){e.match=function(e,t){var i=e.match(new RegExp(t,"i"));return null!=i&&i.length>0},e.timestampToHHmmSS=function(e){var t=stjs.trunc(e.getUTCHours()),i=stjs.trunc(e.getUTCMinutes()),n=stjs.trunc(e.getUTCSeconds());return Utils.zeroPad2(t)+":"+Utils.zeroPad2(i)+":"+Utils.zeroPad2(n)},e.timestampToHHmmSSmsec=function(e){var t=Utils.zeroPad(stjs.trunc(e.getUTCMilliseconds()),3);return Utils.timestampToHHmmSS(e)+"."+t},e.isString=function(e){return"string".equals(typeof e)},e.isNumber=function(e){return"number".equals(typeof e)},e.isNormalNumber=function(e){return Utils.isNumber(e)&&isFinite(e)},e.isSomething=function(e){return Boolean(e)},e.isObject=function(e){return"object".equals(typeof e)},e.findWhere=function(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(t(n))return n}return null},e.toInt=function(e){return Utils.isString(e)?Integer.parseInt(Utils.defaultString(e,"0")):parseInt(e)},e.toDouble=function(e){return Utils.isString(e)?parseFloat(Utils.defaultString(e,"0")):parseFloat(e)},e.isPropertyDefined=function(e,t){return!"undefined".equals(typeof e[t])},e.removeFromList=function(e,t){var i=e.indexOf(t);return i>=0&&(e.splice(i,1),!0)},e.userAgentContains=function(e){return null!=window&&Utils.match(window.navigator.userAgent,e)},e.isChrome=Utils.userAgentContains("chrome"),e.isFirefox=Utils.userAgentContains("firefox"),e.isSafari=Utils.userAgentContains("safari")&&!Utils.userAgentContains("chrome"),e.isMobileSafari=Utils.isSafari&&Utils.userAgentContains("mobile"),e.constructorName=function(e){return e.constructor["name"]},e.defaultObject=function(e,t){return e||t},e.convertTv=function(e,t,i){return stjs.trunc(e*i/t)},e.binarySearch0=function(e,t){var i=0,n=e.length-1;while(i<=n){var r=i+n>>>1,s=e[r];if(s<t)i=r+1;else{if(!(s>t))return r;n=r-1}}return-(i+1)},e.binarySearch1=function(e,t){var i=Utils.binarySearch0(e,t);return i>=0?i:(i+=1,i=-i,0==i?0:i>=e.length?e.length-1:i-1)},e.min=function(e){for(var t=Integer.MAX_VALUE,i=0;i<e.length;i++)t=Math.min(t,e[i]);return stjs.trunc(t)},e.hms=function(e){return Utils.hhmmss(stjs.trunc(1e3*e))},e.hhmmss=function(e){var t=new Date(e);return Utils.timestampToHHmmSS(t)},e.hhmmssms=function(e){var t=new Date(e);return Utils.timestampToHHmmSSmsec(t)},e.toDuration=function(e){var t=Math.abs(e);return t<1e3?Math.round(e)+" msec":t<6e4?Math.round(stjs.trunc(e/1e3))+" sec":Math.round(stjs.trunc(stjs.trunc(e/1e3)/60))+" mins"},e.zeroPad=function(e,t){var i="0",n=e+"";return n.length>=t?n:new Array(t-n.length+1).join(i)+n},e.zeroPad2=function(e){var t=e+"";return t.length<2?"0"+t:t},e.hmsf=function(e,t,i,n){return Utils.zeroPad2(e)+":"+Utils.zeroPad2(t)+":"+Utils.zeroPad2(i)+":"+Utils.zeroPad2(n)},e.currentTimeMillis=function(){return stjs.trunc((new Date).getTime())},e.defaultString=function(e,t){return null!=e&&Utils.isString(e)&&!"".equals(e)?e:t},e.isEmpty=function(e){return null==e||"".equals(e)},e.isNotEmpty=function(e){return null!=e&&!"".equals(e)},e.isBlank=function(e){return null==e||"".equals(e)||e.matches("\\s+")},e.isNotBlank=function(e){return null!=e&&!"".equals(e)&&!e.matches("\\s+")},e.contains=function(e,t){return e.indexOf(t)>-1},e.includes=function(e,t){return Utils.defaultString(e,"").indexOf(t)>=0},e.filter=function(e,t){for(var i=new Array,n=0;n<e.length;n++){var r=e[n],s=t(r);s&&i.push(r)}return i},e.isDigit=function(e){return!isNaN(parseFloat(e))},e.replaceAt=function(e,t,i){return e.substring(0,t)+i+e.substring(t+i.length)},e.addMethod=function(e,t,i){e[t]=i},e.addField=function(e,t,i){e[t]=i},e.callMethod=function(e,t){var i=e[t];return i()},e.toBoolean=function(e){return Boolean(e)},e.binarySearch=function(e,t){var i=0,n=e.length-1;while(i<=n){var r=i+n>>>1,s=e[r],o=t(s);if(o<0)i=r+1;else{if(!(o>0))return r;n=r-1}}var a=i-1;return-a-1},e.binarySearchFloor=function(e,t){var i=Utils.binarySearch(e,t);return i<0&&(i+=1,i=-i),i},e.isFullScreen=function(){return null!=window.document.fullscreenElement||null!=window.document.webkitFullscreenElement||null!=window.document.mozFullscreenElement||window.document.mozFullScreen||window.document.webkitIsFullScreen||Utils.isPropertyDefined(window.document,"msFullscreenElement")},e.fullScreenElement=function(e){return e["msFullscreenElement"]||e["webkitFullscreenElement"]||e["mozFullScreenElement"]||e["fullscreenElement"]},e.map=function(e,t){var i=[];for(var n in e){var r=e[n];i.push(t(n,r))}return i},e.mapValues=function(e){var t=[];for(var i in e){var n=e[i];t.push(n)}return t},e.filterMapValues=function(e,t){var i=[];for(var n in e){var r=e[n];t(r,n)&&i.push(r)}return i},e.filterMap=function(e,t){var i={};for(var n in e){var r=e[n];t(r,n)&&(i[n]=r)}return i},e.jdb=function(){},e.newUUIDString=function(){var e=stjs.trunc(1e4*Math.abs(Math.random())),t=stjs.trunc(1e4*Math.abs(Math.random())),i=stjs.trunc(1e4*Math.abs(Math.random())),n=stjs.trunc(1e4*Math.abs(Math.random()));return t+"-"+e+"-"+i+"-"+n},e.cast=function(e,t){var i=Object.create(e.prototype),n=Object.assign(i,t);return n},e.isDashBrowser=function(){return null!=window["MediaSource"]},e.querySelectorNotNull=function(e,t){if(null==t)throw new RuntimeException("query is null");var i=e.querySelector(t);if(null==i)throw new RuntimeException("query selector returned Great Emptiness but should not: "+t);return i},e.readCookie=function(e){for(var t=e+"=",i=window.document.cookie.split(";"),n=i,r=0;r<n.length;r++){var s=n[r];while(" "==s.charAt(0))s=s.substring(1,s.length);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return null},e.jsonClone=function(e){return JSON.parse(JSON.stringify(e))},e.jsonToString=function(e){return JSON.stringify(e)},e.toAbsoluteUri=function(e,t){var i=t.startsWith("http://")||t.startsWith("https://")||t.startsWith("/");if(!i){var n=e.lastIndexOf("/");n>=0&&(t=e.substring(0,n)+"/"+t)}return t},e.dataURLtoBlob=function(e){var t="^data:((.*?)(;charset=.*?)?)(;base64)?,",i=new RegExp(t),n=i.exec(e);if(null==n||0==n.length)throw new RuntimeException("invalid data URI");var r,s=Utils.isNotBlank(n[2])?n[1]:"text/plain"+Utils.defaultString(n[3],";charset=US-ASCII"),o=Utils.isNotBlank(n[4]),a=e.substring(n[0].length);r=o?window.atob(a):decodeURIComponent(a);for(var u=new Uint8Array(r.length),c=0;c<r.length;c+=1)u[c]=r.codePointAt(c);return new Blob([u],{type:s})},e.canvasToBlob=function(e){return Utils.dataURLtoBlob(e.toDataURL("image/jpeg"))},e.forEach=function(e,t){null!=e&&Object.keys(e).forEach((function(i){t(e[i],i)}))},e.sumBy=function(e,t){for(var i=0,n=0;n<e.length;n++){var r=t(e[n]);i+=r}return i},e.defaults=function(e,t){return Utils.forEach(t,(function(t,i){void 0==e[i]&&(e[i]=t)})),e},e.forEachElement=function(e,t){if(null!=e)for(var i=0;i<e.length;i++)t(e[i])},e.findElement=function(e,t){for(var i=0;i<e.length;i++){var n=t(e[i]);if(n)return e[i]}return null},e.find=function(e,t){for(var i=0;i<e.length;i++){var n=t(e[i]);if(n)return e[i]}return null},e.defaultArray=function(e){return null==e?[]:e},e.base64ToArrayBuffer=function(e){for(var t=window.atob(e),i=t.length,n=new Uint8Array(i),r=0;r<i;r++)n[r]=t.charCodeAt(r);return n.buffer},e.secondsToTv=function(e,t){return stjs.trunc(e*t+1e-6)},e.keys=function(e){return null==e?[]:Object.keys(e)},e.HHmmSSmsecToTimestamp=function(e){var t=e.split(":",3);if(3!=t.length)return-1;var i=t[2].split(".",2);if(2!=i.length)return-1;var n=Integer.parseInt(i[1]),r=Integer.parseInt(i[0]),s=Integer.parseInt(t[1]),o=Integer.parseInt(t[0]);return n+1e3*r+60*s*1e3+60*o*60*1e3},e.XS_DURATION_PATTERN="^(-)?P(([0-9]*)Y)?(([0-9]*)M)?(([0-9]*)D)?(T(([0-9]*)H)?(([0-9]*)M)?(([0-9.]*)S)?)?$",e.parseXsDuration=function(e){var t=e.match(new RegExp(Utils.XS_DURATION_PATTERN));if(null!=t){var i=Utils.isNotEmpty(t[1]),n=t[3],r=null!=n?31556908*Double.parseDouble(n):0,s=t[5];r+=null!=s?2629739*Double.parseDouble(s):0;var o=t[7];r+=null!=o?86400*Double.parseDouble(o):0;var a=t[10];r+=null!=a?3600*Double.parseDouble(a):0;var u=t[12];r+=null!=u?60*Double.parseDouble(u):0;var c=t[14];r+=null!=c?Double.parseDouble(c):0;var f=stjs.trunc(1e3*r);return i?-f:f}return stjs.trunc(3600*Double.parseDouble(e)*1e3)},e.arrayFrom=function(e){return Array.from(e)},e.addQueryParams=function(e,t){if(null==t)return e;for(var i=e.replaceAll("^[^?]*",""),n=Utils.keys(t),r=0;r<n.length;r++){var s=encodeURIComponent(n[r]),o=encodeURIComponent(t[n[r]]),a=s+"="+o,u=new RegExp("(&|\\?)"+s+"=[^&]*");null!=i.match(u)?i=i.replace(u,"$1"+a):(i+=0==i.length?"?":"&",i+=a)}return e.replaceAll("\\?.*","")+i},e.fromCharCodes=function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},e.stringToArray=function(e){for(var t=new Uint16Array(e.length),i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t},e.buffersEqual=function(e,t){var i=new Uint8Array(e),n=new Uint8Array(t);if(i.length!=n.length)return!1;for(var r=0;r<i.length;r++)if(i[r]!=n[r])return!1;return!0}}),{},{});var Timeline=function(){};Timeline=stjs.extend(Timeline,null,[],(function(e,t){e.UNKNOWN=null,t.getTimeScale=function(){},t.getFrameCount=function(){},t.getTvBySec=function(e){},t.getLastFrame=function(){},t.getLastTv=function(){},t.getTvByTimecode=function(e){},t.getTvByFrame=function(e){},t.getFrameByTv=function(e){},t.getFrameBySec=function(e){},t.getFrameByTimecode=function(e){},t.getFrameByMillis=function(e){},t.floorTv=function(e){},t.boundsFn=function(e){},t.getSecByFrame=function(e){},t.getSecByTv=function(e){},t.getMillisByTv=function(e){},t.getTapeByTv=function(e){},t.getTapeByFrame=function(e){},t.getTapeBySec=function(e){},t.getTapeTimecode=function(){},t.getDurationSec=function(){},t.getSeekableDurationSec=function(){},t.setSeekableDurationSec=function(e){},t.getUpdateRx=function(){},t.getStartUTCTimestamp=function(){},t.setStartUTCTimestamp=function(e){},t.getUTCTimestampBySec=function(e){}}),{UNKNOWN:"Timeline"},{});var PacketCache=function(){};PacketCache=stjs.extend(PacketCache,null,[],(function(e,t){t.updateTimePackets=function(e,t){},t.getFrameByTv=function(e){},t.getTvByFrame=function(e){},t.floorTv=function(e){},t.getFrameCount=function(e){},e.longCompare=function(e,t){return e<t?-1:e==t?0:1},t.getAverageFrameDuration=function(){},t.updateStartSegments=function(e,t){}}),{},{});var TimeSample=function(e,t,i){this.tv=e,this.frame=t,this.sec=i};TimeSample=stjs.extend(TimeSample,null,[],(function(e,t){t.tv=0,t.frame=0,t.sec=0}),{},{});var ProxyType=stjs.enumeration("HLS","DASH","GENERIC","VG","MP4"),VideoSrc=function(){};VideoSrc=stjs.extend(VideoSrc,null,[],(function(e,t){e.VIDEO_ONLY=0,e.VIDEO_AUDIO=1,t.detach=function(){},t.attach=function(e){},t.canSetAudioWithoutReattach=function(e){},t.setAudio=function(e){},t.clearAudioBuffer=function(){}}),{},{});var SegmentedStream=function(){this.updateRx=new Rx.Subject};SegmentedStream=stjs.extend(SegmentedStream,null,[],(function(e,t){t.id=null,t.mimeType=null,t.codecs=null,t.url=null,t.updateRx=null,t.getDashInit=function(e,t){},t.loadSegment=function(e,t,i){},t.getDashDescriptor=function(){},t.getSegmentIdxByTime=function(e){return this.getDashDescriptor().getSegmentIdxByTime(e)},t.getSegmentStartTime=function(e){return this.getDashDescriptor().getSegmentStartTime(e)},t.getSegmentStartTv=function(e){return this.getDashDescriptor().getSegmentStartTv(e)},t.getSegmentTimestampOffset=function(e){return 0},t.getSegmentDuration=function(e){return this.getDashDescriptor().getSegmentDuration(e)},t.getSegmentCount=function(){return this.getDashDescriptor().getSegmentCount()},t.getDurationSec=function(){var e=this.getDashDescriptor();return e.duration/e.timescale},t.getUpdateRx=function(){return this.updateRx},t.isDynamic=function(){return this.getDashDescriptor().dynamic}}),{updateRx:{name:"Rx.Subject",arguments:["SegmentedStream"]}},{});var AudioInfo=function(){};AudioInfo=stjs.extend(AudioInfo,null,[],(function(e,t){e.AAC_CHANNEL_CONFIGS=[null,["FrontCenter"],["FrontLeft","FrontRight"],["FrontCenter","FrontLeft","FrontRight"],["FrontCenter","FrontLeft","FrontRight","BackCenter"],["FrontCenter","FrontLeft","FrontRight","BackLeft","BackRight"],["FrontCenter","FrontLeft","FrontRight","BackLeft","BackRight","LFE"],["FrontCenter","FrontLeft","FrontRight","SideLeft","SideRight","BackLeft","BackRight","LFE"]],t.audioType=null,t.channelCount=0,t.channelLabels=null,t.sampleRate=0,t.totalSamples=0,t.waveformPreviews=null}),{AAC_CHANNEL_CONFIGS:{name:"Array",arguments:[{name:"Array",arguments:[null]}]},channelLabels:{name:"Array",arguments:[null]},waveformPreviews:{name:"Array",arguments:[null]}},{});var DashSegmentUrls=function(e,t){this.urls=t,this.init=e};DashSegmentUrls=stjs.extend(DashSegmentUrls,null,[],(function(e,t){t.urls=null,t.init=null,t.getInitUrl=function(){return this.init},t.getSegmentUrl=function(e){return this.urls[e]},t.getCount=function(){return this.urls.length}}),{urls:{name:"Array",arguments:[null]}},{});var Proxy=function(){};Proxy=stjs.extend(Proxy,null,[],(function(e,t){t.audioInfo=null,t.proxyId=null,t.video=null,t.audio=null,t.thumbshq=null}),{audioInfo:"AudioInfo",video:"SegmentedVideoStream",audio:"SegmentedAudioStream",thumbshq:"SegmentedVideoStream"},{});var SubtitleEntry=function(){};SubtitleEntry=stjs.extend(SubtitleEntry,null,[],(function(e,t){t.startMsec=0,t.endMsec=0,t.startTv=0,t.endTv=0,t.timeCodeIn=null,t.timeCodeOut=null,t.notes=null,t.red=!1}),{},{});var Subtitles=function(){};Subtitles=stjs.extend(Subtitles,null,[],(function(e,t){t.id=null,t.rows=null,t.title=null}),{rows:{name:"Array",arguments:["SubtitleEntry"]}},{});var SubsUtils=function(){};SubsUtils=stjs.extend(SubsUtils,null,[],(function(e,t){e.parseTimestamp=function(e){var t=e.split(new RegExp("[:,.]")),i=Integer.parseInt(t.pop()),n=Integer.parseInt(t.pop()),r=Integer.parseInt(t.pop()),s=t.length>0?Integer.parseInt(t.pop()):0;return 36e5*s+6e4*r+1e3*n+i}}),{},{});var DRMInfo=function(e,t,i,n){this.streamId=e,this.keySystem=t,this.initData=i,this.contentType=n};DRMInfo=stjs.extend(DRMInfo,null,[],(function(e,t){t.streamId=null,t.keySystem=null,t.initData=null,t.contentType=null}),{},{});var PlayerOptions=function(){};PlayerOptions=stjs.extend(PlayerOptions,null,[],(function(e,t){e.PLUGINS=stjs.enumeration("filmstrip","waveform","videolog"),t.logLevel=null,t.enableCORS=!1,t.staticVideoSrc=!1,t.hotkeys=!1,t.serverUrl=null,t.playlist=!1,t.search=!1,t.streaming=null,t.plugins=null,t.theme=null,t.preservePlaybackRate=!1,t.allowCrossSiteCredentials=!1,t.drm=null,t.queryParams=null,e.STREAMING_CUTLIST="cutlist",e.STREAMING_VFILE="vfile",e.STREAMING_FILE="file",e.DRMOptions=function(){},e.DRMOptions=stjs.extend(e.DRMOptions,null,[],(function(e,t){t.widevine=null,t.playready=null,t.fairplay=null}),{widevine:"PlayerOptions.DRMWidevineOptions",playready:"PlayerOptions.DRMPlayreadyOptions",fairplay:"PlayerOptions.DRMFairplayOptions"},{}),e.DRMWidevineOptions=function(){},e.DRMWidevineOptions=stjs.extend(e.DRMWidevineOptions,null,[],(function(e,t){t.laUrl=null,t.headers=null}),{headers:{name:"Map",arguments:[null,null]}},{}),e.DRMPlayreadyOptions=function(){},e.DRMPlayreadyOptions=stjs.extend(e.DRMPlayreadyOptions,null,[],(function(e,t){t.laUrl=null,t.headers=null}),{headers:{name:"Map",arguments:[null,null]}},{}),e.DRMFairplayOptions=function(){},e.DRMFairplayOptions=stjs.extend(e.DRMFairplayOptions,null,[],(function(e,t){t.laUrl=null,t.certUrl=null}),{},{})}),{logLevel:{name:"Enum",arguments:["LogLevel"]},plugins:{name:"Array",arguments:[null]},drm:"PlayerOptions.DRMOptions",queryParams:{name:"Map",arguments:[null,null]}},{});var FilmstripInfo=function(e,t,i){this.width=e,this.height=t,this.framesTotal=i};FilmstripInfo=stjs.extend(FilmstripInfo,null,[],(function(e,t){t.width=0,t.height=0,t.framesTotal=0}),{},{});var LogLevel=stjs.enumeration("DEBUG","INFO","WARN","ERROR","OFF"),RingBuffer=function(e){this.capacity=e,this.elements=new Array(e)};RingBuffer=stjs.extend(RingBuffer,null,[],(function(e,t){t.elements=null,t.capacity=0,t.writePos=0,t.available=0,t.add=function(e){this.elements[this.writePos]=e,this.writePos++,this.writePos>=this.capacity&&(this.writePos=0),this.available<this.capacity&&this.available++},t.getAll=function(){var e=new Array,t=this.writePos-this.available;t<0&&(t+=this.capacity);for(var i=0;i<this.available;i++)e.push(this.elements[t]),t++,t>=this.capacity&&(t=0);return e}}),{elements:{name:"Array",arguments:["T"]}},{});var Pair=function(e,t){this.k=e,this.v=t};Pair=stjs.extend(Pair,null,[],(function(e,t){t.k=null,t.v=null,e.of=function(e,t){return new Pair(e,t)},t.getKey=function(){return this.k},t.getValue=function(){return this.v}}),{},{});var KeyOptions=function(){};KeyOptions=stjs.extend(KeyOptions,null,[],(function(e,t){t.group=null,t.description=null,t.allowInputs=!1,t.scope=null,t.ignoreSummary=!1,t.onKeyUp=!1,e.gd=function(e,t,i){var n=new KeyOptions;return n.group=e,n.description=t,n.allowInputs=i,n}}),{},{});var MutableInt=function(e){this.value=e};MutableInt=stjs.extend(MutableInt,null,[],(function(e,t){t.value=0,t.decrementAndGet=function(){return--this.value},t.incrementAndGet=function(){return++this.value}}),{},{});var CloseableView=function(){};CloseableView=stjs.extend(CloseableView,null,[],(function(e,t){t.children=null,t.addChild=function(e){null==this.children&&(this.children=new Array),this.children.push(e)},t.close=function(){if(null!=this.children){for(var e=0;e<this.children.length;e++)this.children[e].close();this.children=null}}}),{children:{name:"Array",arguments:["CloseableView"]}},{});var DashStreamUtils=function(){};DashStreamUtils=stjs.extend(DashStreamUtils,null,[],(function(e,t){e.createDownloadLink=function(e){console.log("creating downloadable mp4");var t=Rx.Observable.create((function(t){e.getDashInit((function(e){t.onNext(e),t.onCompleted()}),stjs.bind(t,"onError"))})),i=Rx.Observable.range(0,e.getSegmentCount()).concatMap((function(t){return Rx.Observable.create((function(i){console.log("segment "+t+"/"+e.getSegmentCount()),e.loadSegment(t,(function(e){i.onNext(e),i.onCompleted()}),(function(e){return i.onError(e)}))}))}));t.concat(i).reduce((function(e,t,i,n){return e.push(t),e}),[]).subscribe((function(e){console.log("finished creating downloadable mp4");var t=new Blob(e,{type:"video/mp4"}),i=window.document.createElement("a");i.href=URL.createObjectURL(t),i.target="_blank",i.download="generated.mp4",i.innerHTML="download mp4",window.document.body.appendChild(i)}))},e.segmentSize=function(e){for(var t=0,i=0;i<e.dataIntervals.length;i++){var n=e.dataIntervals[i];t+=n.dataTo-n.dataFrom}return t}}),{},{});var DashSegmentDataInterval=function(){};DashSegmentDataInterval=stjs.extend(DashSegmentDataInterval,null,[],(function(e,t){t.dataFrom=0,t.dataTo=0}),{},{});var PlayerAudioChannel=function(){};PlayerAudioChannel=stjs.extend(PlayerAudioChannel,null,[],(function(e,t){t.muted=!1,t.label=null,t.waveformPngUrl=null}),{},{});var CutInfo=function(e,t,i,n,r,s,o){this.start=e,this.end=t,this.proxyId=i,this.cutListFrameStart=n,this.cutListFrameEnd=r,this.audioDashFile=s,this.audioInfo=o};CutInfo=stjs.extend(CutInfo,null,[],(function(e,t){t.start=0,t.end=0,t.proxyId=null,t.cutListFrameStart=0,t.cutListFrameEnd=0,t.audioDashFile=null,t.audioInfo=null,t.frameCount=0,t.cutListFrameCount=0,t.cutId=0}),{audioDashFile:"SegmentedAudioStream",audioInfo:"AudioInfo"},{});var PublicApi=function(){};PublicApi=stjs.extend(PublicApi,null,[],null,{},{});var PriorityQueue=function(e){this.comparator=e,this.arr=new Array};PriorityQueue=stjs.extend(PriorityQueue,null,[],(function(e,t){t.arr=null,t.comparator=null,t.isEmpty=function(){return 0==this.arr.length},t.add=function(e){this.arr.push(e),this.arr.sort(this.comparator)},t.poll=function(){return this.arr.shift()}}),{arr:{name:"Array",arguments:["T"]},comparator:{name:"SortFunction",arguments:["T"]}},{});var DataSrc=function(){};DataSrc=stjs.extend(DataSrc,null,[],(function(e,t){t.fetch=function(e,t,i,n){}}),{},{});var TimeRange=function(e,t){this.start=e,this.end=t};TimeRange=stjs.extend(TimeRange,null,[],(function(e,t){t.start=0,t.end=0}),{},{});var DashSegment=function(){};DashSegment=stjs.extend(DashSegment,null,[],(function(e,t){t.dataIntervals=null,t.header=null}),{dataIntervals:{name:"Array",arguments:["DashSegmentDataInterval"]},header:"ArrayBuffer"},{});var Mp4Streams=function(){};Mp4Streams=stjs.extend(Mp4Streams,null,[],(function(e,t){t.video=null,t.audio=null,t.timeline=null}),{video:"SegmentedStream",audio:{name:"Array",arguments:["SegmentedAudioStream"]},timeline:"Timeline"},{});var MPDStreams=function(){};MPDStreams=stjs.extend(MPDStreams,null,[],(function(e,t){t.video=null,t.audio=null,t.thumbshq=null,t.thumbs=null,t.drmInfo=null}),{video:"MPDSegmentedVideoStream",audio:"MPDSegmentedAudioStream",thumbshq:"MPDSegmentedVideoStream",thumbs:"MPDSegmentedVideoStream",drmInfo:{name:"Array",arguments:["DRMInfo"]}},{});var VGPlayerPublicApi=function(){};VGPlayerPublicApi=stjs.extend(VGPlayerPublicApi,null,[],(function(e,t){t.close=function(){},t.addCaptionsHandler=function(e){},t.audioAddHandler=function(e){},t.addCaptions=function(e){},t.load=function(e,t){},t.loadUrl=function(e,t){},t.loadAudioTrack=function(e,t,i){},t.setAudioTrackUrl=function(e,t,i){},t.conformAudioTrack=function(e,t){},t.getAudioTrack=function(e){},t.setCurrentAudioTrack=function(e){},t.addAudioTrack=function(e,t){},t.addAudioTrackWithId=function(e,t,i){},t.muteAudioTrack=function(e){},t.togglePlay=function(){},t.play=function(){},t.pause=function(){},t.getTimeline=function(){},t.getCurrentTapeTimecode=function(){},t.getCurrentStandardTimecode=function(){},t.getCurrentFrame=function(){},t.getCurrentTime=function(){},t.getCurrentTimeValue=function(){},t.getCurrentUTCTimestamp=function(){},t.seekSec=function(e){},t.seekUTCTimestamp=function(e){},t.seek=function(e){},t.seekFrame=function(e){},t.nextFrame=function(e){},t.previousFrame=function(e){},t.nextSec=function(e){},t.previousSec=function(e){},t.enterFullscreen=function(){},t.exitFullscreen=function(){},t.setRange=function(e,t){},t.cancelRange=function(){},t.hasRange=function(){},t.playAtRate=function(e){},t.playFasterBackwards=function(){},t.playFaster=function(){},t.setLoop=function(e){},t.setPauseOnLoop=function(e){},t.getPlaybackRate=function(){},t.isPlaying=function(){},t.getCurrentAudioTrack=function(){},t.isAudioMutable=function(){},t.setVolume=function(e){},t.getVolume=function(){},t.getSeekableDurationSec=function(){},t.getDurationSec=function(){},t.getTimeSample=function(){},t.setVideoQuality=function(e){},t.setStartTapeTimecode=function(e){},t.getStartTapeTimecode=function(){},t.getCaptionsList=function(){},t.getAudioTracks=function(){},t.disableHotKeys=function(){},t.enableHotKeys=function(){},t.addEventListener=function(e,t){},t.removeEventListener=function(e,t){},t.getFilmStripDrawer=function(e){},t.registerPlugin=function(e){},t.getBuffered=function(){},t.setLogLevel=function(e){},t.isLive=function(){},t.setStartUTCTimestamp=function(e){},t.getStartUTCTimestamp=function(){}}),{},{});var VideoElement=function(){};VideoElement=stjs.extend(VideoElement,null,[],(function(e,t){e.SEEKING="seeking",e.SEEKED="seeked",e.VG_PLAYER_OPACITY_0="vg_player_opacity_0",e.PAUSE="pause",e.PLAYING="playing",e.LOADEDMETADATA="loadedmetadata",e.VOLUMECHANGE="volumechange",e.mediaErrors=["lalala","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],e.networkStates=["NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE"],e.readyStates=["HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA"],e.TIMEUPDATE="timeupdate",e.CANPLAY="canplay",e.PROGRESS="progress",t.seek=function(e){},t.getBusyRx=function(){},t.playAtRate=function(e){},t.close=function(){},t.pause=function(){},t.isPlaying=function(){},t.getFrame=function(){},t.getVolume=function(){},t.setVolume=function(e){},t.getTimeSec=function(){},t.getVideoWidth=function(){},t.getVideoHeight=function(){},t.getTimeline=function(){},t.getVideoShownRx=function(){},t.getTimeUpdateRx=function(){},t.forwardSec=function(e){},t.forward1=function(e){},t.backward1=function(e){},t.seekFrame=function(e){},t.backwardSec=function(e){},t.getPlayRate=function(){},t.getTimeValue=function(){},t.playFaster=function(){},t.playFasterBackwards=function(){},t.getDuration=function(){},t.getSeekableDuration=function(){},t.endQuickSeek=function(){},t.startQuickSeek=function(){},t.setInitialTime=function(e){},t.setLoop=function(e){},t.setPauseOnLoop=function(e){},t.hasRange=function(){},t.inRange=function(e){},t.setRange=function(e,t){},t.cancelRange=function(){},t.getPlayRx=function(){},t.getVolumeChangeRx=function(){},t.setCrossOrigin=function(e){},t.setResetPlayRateOnSeek=function(e){},t.getBuffered=function(){},t.getProgressRx=function(){}}),{mediaErrors:{name:"Array",arguments:[null]},networkStates:{name:"Array",arguments:[null]},readyStates:{name:"Array",arguments:[null]}},{});var VGPlugins=function(e){this.player=e};VGPlugins=stjs.extend(VGPlugins,null,[],(function(e,t){t.player=null,t.type=null,t.view=null}),{player:"PlayerImpl",view:"VGView"},{});var Platform=function(){};Platform=stjs.extend(Platform,null,[],(function(e,t){e.isJava="9007199254740993".equals("9007199254740992"),e.regexSplit=function(e,t){return Platform.isJava?e.split(t):e.split(new RegExp(t))},e.fromCharCode=function(e){return Platform.isJava?String.valueOf(stjs.trunc(e)):String.fromCharCode(e)},e.ascii=function(e,t,i){for(var n="",r=t;r<t+i;r++){var s=e.getUint8(r);n+=Platform.fromCharCode(s)}return n}}),{},{});var PlayerEvents=function(){};PlayerEvents=stjs.extend(PlayerEvents,null,[],(function(e,t){e.PLAY_EVENT="play",e.LOAD_EVENT="load",e.TIMEUPDATE_EVENT="timeupdate",e.FULLSCREEN_EVENT="fullscreen",e.INIT_EVENT="init",e.TIMELINE_EVENT="timeline",e.ERROR_EVENT="error",e.VOLUME_CHANGED="volumechange",e.PROGRESS="progress"}),{},{});var Mutable=function(e){this.value=e};Mutable=stjs.extend(Mutable,null,[],(function(e,t){t.value=null}),{},{});var PlayerCut=function(e,t,i){null!=e&&(this.proxyId=e.proxyId,this.videoDashFile=e.video,this.audioDashFile=e.audio,this.audioInfo=e.audioInfo),this.startFrame=t,this.endFrame=i};PlayerCut=stjs.extend(PlayerCut,null,[],(function(e,t){t.audioDashFile=null,t.audioInfo=null,t.endFrame=0,t.startFrame=0,t.videoDashFile=null,t.proxyId=null,t.start=0,t.end=0,e.fromProxyId=function(e){var t=new PlayerCut(null,0,0);return t.proxyId=e,t},e.LowRes=function(e,t,i){var n=new PlayerCut(e,t,i);return n.videoDashFile=e.thumbshq,n},t.setAudio=function(e){this.audioDashFile=e,this.audioInfo=e.audioInfo}}),{audioDashFile:"SegmentedAudioStream",audioInfo:"AudioInfo",videoDashFile:"SegmentedVideoStream"},{});var ObjectEvents=function(){this.events={},this.mandatoryEvents={},this.listenAlls=[]};ObjectEvents=stjs.extend(ObjectEvents,null,[],(function(e,t){t.events=null,t.listenAlls=null,t.mandatoryEvents=null,t.addEventListener=function(e,t){this.addEvent(e,t)},t.addEvent=function(e,t){if(null==this.events[e]&&(this.events[e]=[]),this.events[e].push(t),null!=this.mandatoryEvents[e])for(var i=0;i<this.mandatoryEvents[e].length;i++){var n=this.mandatoryEvents[e][i];t(n)}},t.fireEvent=function(e,t){var i=this.events[e];if(null!=i)for(var n=0;n<i.length;n++){var r=i[n];r(t)}for(var s=0;s<this.listenAlls.length;s++){r=this.listenAlls[s];r(e,t)}},t.fireMandatoryEvent=function(e,t){this.fireEvent(e,t),null==this.mandatoryEvents[e]&&(this.mandatoryEvents[e]=[]),this.mandatoryEvents[e].push(t)},t.removeEvent=function(e,t){if(null!=this.events[e])for(var i=this.events[e],n=0;n<i.length;n++){var r=i[n];if(t==r)return i.splice(n,1),void this.removeEvent(e,t)}},t.removeEvents=function(e){null!=this.events[e]&&(this.events[e]=[])},t.listenAll=function(e){this.listenAlls.push(e)}}),{events:{name:"Map",arguments:[null,{name:"Array",arguments:[{name:"Callback1",arguments:["Object"]}]}]},listenAlls:{name:"Array",arguments:[{name:"Callback2",arguments:[null,"Object"]}]},mandatoryEvents:{name:"Map",arguments:[null,{name:"Array",arguments:["Object"]}]}},{});var VGPlugin=function(){};VGPlugin=stjs.extend(VGPlugin,null,[],(function(e,t){t.setAPI=function(e){},t.getId=function(){},t.renderInto=function(e,t,i){}}),{},{});var InternalApi=function(){};InternalApi=stjs.extend(InternalApi,null,[],null,{},{});var Mp4Loader=function(e,t,i){this.dataSrc=e,this.onDone=t,this.onError=i};Mp4Loader=stjs.extend(Mp4Loader,null,[],(function(e,t){t.moovParsed=!1,t.dataSrc=null,t.onDone=null,t.onError=null,t.inputMp4Box=null,t.load=function(){this.inputMp4Box=new MP4Box(!1),this.inputMp4Box.onReady=stjs.bind(this,(function(){this.moovParsed=!0,this.inputMp4Box.flush(),this.onDone(this.inputMp4Box)})),this.loadChunk(0,1e4)},t.loadChunk=function(e,t){this.dataSrc.fetch(e,t,stjs.bind(this,(function(t){var i=t;i.fileStart=e,i.fileStart!=e&&(i=i.slice(0),i.fileStart=e);var n=this.inputMp4Box.appendBuffer(i);this.moovParsed||(n!=e?this.loadChunk(n,n+1048576):this.onError("mp4 parser went into a deadlock"))})),this.onError)},e.loadMp4=function(e,t,i){new Mp4Loader(e,t,i).load()},e.parseMoov=function(e){var t=new MP4Box(!1),i=new MutableBoolean(!1);t.onReady=function(){i.value=!0,t.flush()};var n=e;return n.fileStart=0,t.appendBuffer(n),i.value?t:null},e.parseMoof=function(e){var t=new MP4Box(!1),i=e;return i.fileStart=0,t.appendBuffer(i),t}}),{dataSrc:"DataSrc",onDone:{name:"Callback1",arguments:["MP4Box"]},onError:{name:"Callback1",arguments:["Object"]},inputMp4Box:"MP4Box"},{});var TapeTimecode=function(e,t,i){this.dropFrame=e,this.startTimecode=t,this.tapeFps=i};TapeTimecode=stjs.extend(TapeTimecode,null,[],(function(e,t){t.startTimecode=0,t.dropFrame=!1,t.tapeFps=0,e.timecodeFromString=function(e,t){var i=TapeTimecode.isDropFrameString(e);return new TapeTimecode(i,TapeTimecode.parseTimecode(e,t,i),t)},t.setStartTimecode=function(e){this.startTimecode=e},t.getTapeFps=function(){return this.tapeFps},t.setTapeFps=function(e){this.tapeFps=e},t.isDropFrame=function(){return this.dropFrame},e.parseTimecode=function(e,t,i){var n=e.replace(";",":").split(":",4),r=parseInt(n[0],10),s=parseInt(n[1],10),o=parseInt(n[2],10),a=parseInt(n[3],10),u=(3600*r+60*s+o)*t+a;if(i){var c=stjs.trunc(stjs.trunc(u/17982)),f=u%17982;u-=18*c+2*parseInt(stjs.trunc((f-2)/1798))}return u},e.timecodeToString=function(e,t,i){if(t){var n=stjs.trunc(stjs.trunc(e/17982)),r=e%17982;e+=18*n+2*stjs.trunc(stjs.trunc((r-2)/1798))}var s=e%i;e=parseInt(stjs.trunc(e/i));var o=e%60;e=parseInt(stjs.trunc(e/60));var a=e%60;e=parseInt(stjs.trunc(e/60));var u=e%24,c="";return c+=Utils.zeroPad2(u)+":",c+=Utils.zeroPad2(a)+":",c+=Utils.zeroPad2(o),c+=t?";":":",c+=Utils.zeroPad2(s),c},e.isDropFrameString=function(e){return 8==e.indexOf(";")},t.getTimecodedDuration=function(e){return TapeTimecode.timecodeToString(parseInt(e),this.dropFrame,this.tapeFps)},t.getTimecodeAtFrame=function(e){return TapeTimecode.timecodeToString(this.startTimecode+e,this.dropFrame,this.tapeFps)},t.getFrameByTimecode=function(e){return TapeTimecode.parseTimecode(e,this.tapeFps,this.dropFrame)-this.startTimecode},e.TIMECODE_REGEX=new RegExp("^\\d\\d[:;]\\d\\d[:;]\\d\\d[:;]\\d\\d$"),e.isTimecode=function(e){return TapeTimecode.TIMECODE_REGEX.test(e)}}),{TIMECODE_REGEX:"RegExp"},{});var PlayerError=function(e){this.message=arguments[0],this.severity=stjs.trunc(arguments[1]),this.data=Utils.arrayFrom(arguments).slice(2)};PlayerError=stjs.extend(PlayerError,null,[],(function(e,t){t.message=null,t.severity=0,t.data=null,e.FATAL=0,e.NONFATAL=1}),{data:{name:"Array",arguments:["Object"]}},{});var PlayerUtils=function(){};PlayerUtils=stjs.extend(PlayerUtils,null,[],(function(e,t){e.MAX_INT=2147483648,e.randomString=function(){var e=Utils.currentTimeMillis().toString(36),t=stjs.trunc(Math.random()*PlayerUtils.MAX_INT).toString(36);return e+"-"+t}}),{},{});var DashDescriptor=function(){};DashDescriptor=stjs.extend(DashDescriptor,null,[],(function(e,t){t.timecode=null,t.timescale=0,t.avgFrameDuration=0,t.segmentStartTv=null,t.segmentStartFrame=null,t.duration=0,t.mimeType=null,t.codecs=null,t.dynamic=!1,t.width=0,t.height=0,t.channelConfig=0,t.baseTv=0,t.availabilityStartTime=null,t.getSegmentCount=function(){return this.segmentStartTv.length-1},t.getSegmentDuration=function(e){var t=this.segmentStartTv[e],i=this.segmentStartTv[e+1];return(i-t)/this.timescale},t.frameDataAvailable=function(){return null!=this.segmentStartFrame},t.getSegmentFrameCount=function(e){return this.frameDataAvailable()?this.segmentStartFrame[e+1]-this.segmentStartFrame[e]:-1},t.getSegmentIdxByFrame=function(e){return this.frameDataAvailable()?Utils.binarySearchFloor(this.segmentStartFrame,(function(t){return t-e})):-1},t.getSegmentIdxByTime=function(e){var t=Utils.secondsToTv(e,this.timescale),i=Utils.binarySearchFloor(this.segmentStartTv,(function(e){return stjs.trunc(e-t)}));return i},t.getSegmentStartTime=function(e){return this.segmentStartTv[e]/this.timescale},t.getSegmentStartTv=function(e){return this.segmentStartTv[e]},t.update=function(e){this.segmentStartTv=e.segmentStartTv,this.duration=e.duration}}),{segmentStartTv:{name:"Array",arguments:[null]},segmentStartFrame:{name:"Array",arguments:[null]}},{});var OptimizedPacketCache=function(e,t,i){this.segmentStartFrames=e,this.segmentStartTv=t,this.log=i,this.knownPkts=[],this.framesByTv={}};OptimizedPacketCache=stjs.extend(OptimizedPacketCache,null,[PacketCache],(function(e,t){t.knownPkts=null,t.framesByTv=null,t.segmentStartFrames=null,t.segmentStartTv=null,t.log=null,t.segmentCached=function(e){var t=this.segmentStartFrames[e];return null!=this.knownPkts[t]},t.updateTimePackets=function(e,t){if(this.segmentCached(e))this.log.debug("Segment "+e+" is already cached, skiping");else for(var i=this.segmentStartFrames[e],n=0;n<t.length;n++){var r=t[n],s=i+n;r.frame=s,this.knownPkts[s]=r,this.framesByTv[""+r.pts]=s}},t.segmentIndexByFrame=function(e){return Utils.binarySearchFloor(this.segmentStartFrames,(function(t){return PacketCache.longCompare(t,e)}))},t.segmentIndexByTv=function(e){return Utils.binarySearchFloor(this.segmentStartTv,(function(t){return PacketCache.longCompare(t,e)}))},t.averageFrameDuration=function(e){var t=this.segmentStartFrames[e],i=this.segmentStartTv[e],n=this.segmentStartTv[e+1]-i,r=this.segmentStartFrames[e+1]-t;return n/r},t.estimateFrameByTv=function(e){var t=this.segmentIndexByTv(e),i=this.segmentStartFrames[t],n=this.segmentStartTv[t];return i+stjs.trunc((e-n)/this.averageFrameDuration(t))},t.estimateTvByFrame=function(e){var t=this.segmentIndexByFrame(e),i=this.segmentStartFrames[t],n=this.segmentStartTv[t];return n+stjs.trunc((e-i)*this.averageFrameDuration(t))},t.getFrameByTv=function(e){if(e<this.getTotalDuration()){var t=this.framesByTv[""+this.floorTv(e)];return null!=t?t:this.estimateFrameByTv(e)}return this.getFrameCount(this.getTotalDuration())-1},t.getTvByFrame=function(e){var t=this.knownPkts[e];return null!=t?t.pts:this.estimateTvByFrame(e)},t.estimateFloorTv=function(e){var t=this.segmentIndexByTv(e),i=this.segmentStartTv[t],n=stjs.trunc(this.averageFrameDuration(t));return i+stjs.trunc((e-i)/n)*n},t.floorTv=function(e){var t=this.segmentIndexByTv(e);if(this.segmentCached(t)){var i=this.getSegmentPackets(t),n=Utils.binarySearchFloor(i,(function(t){return PacketCache.longCompare(t.pts,e)}));return i[n].pts}return this.estimateFloorTv(e)},t.getSegmentPackets=function(e){return this.knownPkts.slice(this.segmentStartFrames[e],this.segmentStartFrames[e+1])},t.getFrameCount=function(e){return this.segmentStartFrames[this.segmentStartFrames.length-1]},t.getTotalDuration=function(){return this.segmentStartTv[this.segmentStartTv.length-1]},t.getAverageFrameDuration=function(){var e=this.getTotalDuration(),t=this.getFrameCount(e);return e/t},t.updateStartSegments=function(e,t){this.segmentStartFrames=e,this.segmentStartTv=t}}),{knownPkts:{name:"Array",arguments:["MovDasher.TimePacket"]},framesByTv:{name:"Map",arguments:[null,null]},segmentStartFrames:{name:"Array",arguments:[null]},segmentStartTv:{name:"Array",arguments:[null]},log:"Log"},{});var DefaultPacketCache=function(e){this.avgFrameDuration=0!=e?e:DefaultPacketCache.DEFAULT_SAMPLE_DURATION,this.knownPkts=[]};DefaultPacketCache=stjs.extend(DefaultPacketCache,null,[PacketCache],(function(e,t){e.DEFAULT_SAMPLE_DURATION=1001,t.knownPkts=null,t.avgFrameDuration=0,t.contiguousDuration=0,t.contiguousFrames=0,t.packetIsKnown=function(e){if(0==this.knownPkts.length)return!1;var t=Utils.binarySearch(this.knownPkts,(function(t){return PacketCache.longCompare(t.pts,e.pts)}));return t>=0},t.updateTimePackets=function(e,t){for(var i=0,n=0;n<t.length;n++)this.packetIsKnown(t[n])||(i++,this.knownPkts.push(t[n]));if(0!=i){this.knownPkts.sort((function(e,t){return PacketCache.longCompare(e.pts,t.pts)}));var r=0,s=this.knownPkts.length,o=0,a=0,u=!0;for(n=0;n<s;n++){var c=this.knownPkts[n];r+=c.duration,u&&(c.pts==o?(c.frame=a,a++,o+=c.duration):u=!1)}this.contiguousDuration=o,this.contiguousFrames=a,this.avgFrameDuration=r/s}},t.estimateFrameByTv=function(e){return stjs.trunc(e/this.avgFrameDuration)},t.estimateTvByFrame=function(e){return stjs.trunc(e*this.avgFrameDuration)},t.getFrameByTv=function(e){if(e<0)return 0;if(e<this.contiguousDuration){var t=Utils.binarySearch(this.knownPkts,(function(t){return PacketCache.longCompare(t.pts,e)}));if(t>=0)return this.knownPkts[t].frame;var i=-(t+1),n=this.knownPkts[i];return n.frame}return this.estimateFrameByTv(e)},t.getTvByFrame=function(e){return e<0?0:e<this.contiguousFrames?this.knownPkts[e].pts:e==this.contiguousFrames&&e>0?this.knownPkts[e-1].pts+this.knownPkts[e-1].duration:this.estimateTvByFrame(e)},t.estimateFloorTv=function(e){return stjs.trunc(e/stjs.trunc(this.avgFrameDuration))*stjs.trunc(this.avgFrameDuration)},t.floorTv=function(e){if(0==this.knownPkts.length||this.knownPkts[0].pts>e)return this.estimateFloorTv(e);var t=Utils.binarySearch(this.knownPkts,(function(t){return PacketCache.longCompare(t.pts,e)}));if(t>=0)return this.knownPkts[t].pts;var i=-(t+1),n=this.knownPkts[i];return e>=n.pts&&e<n.pts+n.duration?n.pts:this.estimateFloorTv(e)},t.getFrameCount=function(e){return this.contiguousDuration==e?this.knownPkts.length:stjs.trunc(e/this.avgFrameDuration)},t.getAverageFrameDuration=function(){return this.avgFrameDuration},t.updateStartSegments=function(e,t){}}),{knownPkts:{name:"Array",arguments:["MovDasher.TimePacket"]}},{});var DashCutListStreaming=function(e,t,i,n){throw new RuntimeException("DashCutListStreaming TODO")};DashCutListStreaming=stjs.extend(DashCutListStreaming,null,[VideoSrc],(function(e,t){t.detach=function(){throw new RuntimeException("TODO")},t.attach=function(e){throw new RuntimeException("TODO")},t.canSetAudioWithoutReattach=function(e){return!1},t.setAudio=function(e){throw new RuntimeException("TODO")},t.clearAudioBuffer=function(){throw new RuntimeException("TODO")}}),{},{});var CutListStreaming=function(e,t,i){throw new RuntimeException("TODO")};CutListStreaming=stjs.extend(CutListStreaming,null,[VideoSrc],(function(e,t){t.detach=function(){throw new RuntimeException("TODO")},t.attach=function(e){throw new RuntimeException("TODO")},t.canSetAudioWithoutReattach=function(e){return!1},t.setAudio=function(e){throw new RuntimeException("TODO")},t.clearAudioBuffer=function(){throw new RuntimeException("TODO")}}),{},{});var FileStreaming=function(e,t,i,n){throw new RuntimeException("TODO")};FileStreaming=stjs.extend(FileStreaming,null,[VideoSrc],(function(e,t){t.detach=function(){throw new RuntimeException("TODO")},t.attach=function(e){throw new RuntimeException("TODO")},t.canSetAudioWithoutReattach=function(e){return!1},t.setAudio=function(e){throw new RuntimeException("TODO")},t.clearAudioBuffer=function(){throw new RuntimeException("TODO")}}),{},{});var SegmentedAudioStream=function(){SegmentedStream.call(this)};SegmentedAudioStream=stjs.extend(SegmentedAudioStream,SegmentedStream,[],(function(e,t){e.FRAMES_PER_SEGMENT=84,t.channelMuted=null,t.proxyId=null,t.sampleRate=0,t.totalSamples=0,t.serverUrl=null,t.audioInfo=null,t.BITRATE=0,t.getProxyId=function(){return this.proxyId},t.setAudioInfo=function(e){this.audioInfo=e},t.silenceAppended=function(){}}),{channelMuted:{name:"Array",arguments:[null]},audioInfo:"AudioInfo",updateRx:{name:"Rx.Subject",arguments:["SegmentedStream"]}},{});var DCSubs=function(){};DCSubs=stjs.extend(DCSubs,null,[],(function(e,t){e.probe=function(e){if(e.length<256)return-1;var t=0;e.startsWith("<?xml")&&(t=1),e.contains("<DCSubtitle")&&t++;var i=-1;while(-1!=(i=e.indexOf("<Subtitle",i+1)))t++;i=-1;while(-1!=(i=e.indexOf("<Text",i+1)))t++;return t},e.parse=function(e,t){var i=window.document.createElement("div");i.innerHTML=e;var n=i.querySelectorAll("Subtitle"),r=Rx.Observable.from(DCSubs.toArray(n)),s=r.map((function(e){var i=SubsUtils.parseTimestamp(e.getAttribute("timein")),n=SubsUtils.parseTimestamp(e.getAttribute("timeout")),r=new SubtitleEntry;return r.startMsec=i,r.endMsec=n,r.startTv=t.getTvBySec(i/1e3),r.endTv=t.getTvBySec(n/1e3),r.timeCodeIn=t.getTapeBySec(i/1e3),r.timeCodeOut=t.getTapeBySec(n/1e3),r.notes=e.innerText,r})),o=new Subtitles;o.rows=[];var a=s.reduce((function(e,t){return e.rows.push(t),e}),o);return a},e.toArray=function(e){if(null==e)return null;for(var t=[],i=0;i<e.length;i++)t.push(e[i]);return t}}),{},{});var Log=function(e){this.level=e,this.latestMessages=new RingBuffer(4200)};Log=stjs.extend(Log,null,[],(function(e,t){t.level=null,t.latestMessages=null,t.setLevel=function(e){this.level=e},t.getLevel=function(){return this.level},t.debug=function(e){this.save("D",arguments),this.level.ordinal()<=LogLevel.DEBUG.ordinal()&&this.log(arguments)},t.info=function(e){this.save("I",arguments),this.level.ordinal()<=LogLevel.INFO.ordinal()&&this.log(arguments)},t.warn=function(e){this.save("W",arguments),this.level.ordinal()<=LogLevel.WARN.ordinal()&&this.log(arguments)},t.error=function(e){this.save("E",arguments),this.level.ordinal()<=LogLevel.ERROR.ordinal()&&this.err(arguments)},t.log=function(e){console.log.apply(console,e)},t.err=function(e){console.error.apply(console,e)},t.save=function(e,t){var i=e+" "+Array.prototype.join.call(t," ");this.latestMessages.add(i)},t.print=function(){console.log("------------- printing last messages -------------"),this.latestMessages.getAll().forEach((function(e){return console.log(e)}))}}),{level:{name:"Enum",arguments:["LogLevel"]},latestMessages:{name:"RingBuffer",arguments:[null]}},{});var RetryWithDelay=function(){};RetryWithDelay=stjs.extend(RetryWithDelay,null,[],(function(e,t){e.create=function(e,t){var i=new MutableInt(0);return function(n){return n.flatMap((function(n){return++i.value<e?Rx.Observable.timer(t):Rx.Observable.throw(n)}))}}}),{},{});var Http=function(e){this.log=e};Http=stjs.extend(Http,null,[],(function(e,t){t.log=null,t.queryParams=null,t.withCredentials=!1,e.bandwidth=-1,t.setWithCredentials=function(e){this.withCredentials=e},t.loadTime=function(e){return stjs.trunc(e/(1024*Http.bandwidth/8)*1e3)},t.postAsJson=function(e,t){return this.request((function(){return e}),JSON.stringify(t),"POST",{"Content-type":"application/json"})},t.putAsJson=function(e,t){return this.request((function(){return e}),JSON.stringify(t),"PUT",{"Content-type":"application/json"})},t.get=function(e){return this.request((function(){return e}),null,"GET",null)},t.delete_=function(e){return this.request((function(){return e}),null,"DELETE",null)},t.getJson=function(e,t){return this.request((function(){return e}),null,"GET",null).map(stjs.bind(this,(function(i){try{return stjs.parseJSON(i,t)}catch(r){this.log.warn("error parsing json. using default json parser",e);var n=JSON.parse(i);return Utils.cast(t,n)}})))},t.request=function(e,t,i,n){return this.requestBinary(e,t,i,n,!1)},t.requestBinary=function(e,t,i,n,r){var s=Rx.Observable.create(stjs.bind(this,(function(s){var o=Utils.addQueryParams(e(),this.queryParams),a=new Http.RequestObserver(o,t,n,null,i,s,this.withCredentials,r,this.log).invoke(),u=a.getHttp();return stjs.bind(this,(function(){a.loaded||4!=u.readyState&&(this.log.debug("abort "+i+" "+a.url),u.abort())}))})));return s},t.getWithUrlFunc=function(e){return this.request(e,null,"GET",null)},t.getArrayBuffer=function(e){return this.getArrayBufferRange(e,0,0)},t.getArrayBufferRange=function(e,t,i){var n=Utils.addQueryParams(e,this.queryParams),r=Rx.Observable.create(stjs.bind(this,(function(e){var r=new XMLHttpRequest;return r.open("GET",n,!0),i>0&&r.setRequestHeader("Range","bytes="+t+"-"+(i-1)),r.withCredentials=this.withCredentials,r.responseType="arraybuffer",r.onreadystatechange=function(){4==r.readyState&&(200==r.status||206==r.status||304==r.status?(e.onNext(r.response),e.onCompleted()):e.onError(r))},r.send(null),stjs.bind(this,(function(){4!=r.readyState&&(this.log.debug("abort GET "+n),r.abort())}))})));return i>0&&(r=r.retryWhen(stjs.bind(this,(function(e){var t=new MutableInt(0);return e.flatMap((function(e){var i=e;return 4==i.readyState&&0==i.status&&t.incrementAndGet()<=3?Rx.Observable.just(e):Rx.Observable.throw(e)})).doOnNext(stjs.bind(this,(function(e){return this.log.debug("retrying",n)})))})))),-1!=Http.bandwidth&&(r=r.flatMap((function(e){return Http.slowdown(e)}))),r},e.slowdown=function(e){for(var t=1e5,i=new Array,n=0;n<stjs.trunc(e.byteLength/t);n++)i.push(t);return e.byteLength%t>0&&i.push(e.byteLength%t),Rx.Observable.from(i).concatMap((function(e){return Http.Slowdown.create(e)})).takeLast(1).map((function(t){return e}))},t.setQueryParams=function(e){this.queryParams=e},e.RequestObserver=function(e,t,i,n,r,s,o,a,u){this.url=e,this.data=t,this.withCredentials=o,this.binary=a,this.log=u,this.headers=null==i?{}:i,this.form=n,this.method=r,this.observer=s},e.RequestObserver=stjs.extend(e.RequestObserver,null,[],(function(e,t){t.url=null,t.data=null,t.withCredentials=!1,t.binary=!1,t.log=null,t.form=null,t.method=null,t.observer=null,t.http=null,t.loaded=!1,t.headers=null,t.getHttp=function(){return this.http},t.getLoaded=function(){return this.loaded},t.invoke=function(){return this.http=new XMLHttpRequest,this.http.open(this.method,this.url),this.http.withCredentials=this.withCredentials,this.binary&&(this.http.responseType="arraybuffer"),Utils.keys(this.headers).forEach(stjs.bind(this,(function(e){return this.http.setRequestHeader(e,this.headers[e])}))),this.log.debug(this.method,this.url),this.loaded=!1,this.http.onreadystatechange=stjs.bind(this,(function(){1==this.http.readyState&&Utils.keys(this.headers).forEach(stjs.bind(this,(function(e){return this.http.setRequestHeader(e,this.headers[e])})))})),this.http.onload=stjs.bind(this,(function(){this.loaded=!0,204==this.http.status&&(this.observer.onNext(null),this.observer.onCompleted()),this.http.status>=200&&this.http.status<400&&(this.observer.onNext(this.http.response),this.observer.onCompleted()),this.http.status>=400&&(this.log.debug("error "+this.http.status+" "+this.method+" "+this.url),this.observer.onError(this.http)),0==this.http.status&&(this.log.debug("error "+this.http.status+" "+this.method+" "+this.url),this.observer.onError(this.http))})),this.http.onerror=stjs.bind(this,(function(e){this.log.debug("error "+this.http.status+" "+this.method+" "+this.url),this.observer.onError(e)})),null==this.data?this.http.send(this.form):this.http.send(this.data),this}}),{data:"Object",log:"Log",form:"FormData",observer:{name:"Rx.Observer",arguments:["T"]},http:"XMLHttpRequest",headers:{name:"Map",arguments:[null,null]}},{}),e.Slowdown=function(){},e.Slowdown=stjs.extend(e.Slowdown,null,[],(function(e,t){t.tid=null,e.create=function(e){var t=new Http.Slowdown;return Rx.Observable.create((function(i){if(-1==Http.bandwidth)return i.onNext(!0),i.onCompleted(),function(){};var n=stjs.trunc(e/(1024*Http.bandwidth/8)*1e3);return t.tid=setTimeout((function(){i.onNext(!0),i.onCompleted()}),n),function(){return clearTimeout(t.tid)}}))}}),{tid:"TimeoutHandler"},{})}),{log:"Log",queryParams:{name:"Map",arguments:[null,null]}},{});var VGView=function(e,t,i){CloseableView.call(this),this.container=e,this.parent=t,this.el=window.document.createElement("div"),Utils.addMethod(this.el,"getView",stjs.bind(this,(function(){return this}))),this.parent.addChild(this),Utils.isNotBlank(i)&&(this.el.className=i)};VGView=stjs.extend(VGView,CloseableView,[],(function(e,t){t.el=null,t.container=null,t.parent=null,t.render=function(e){var t=window.document.createComment(Utils.constructorName(this));this.el.innerHTML=e,this.container.appendChild(t),this.container.appendChild(this.el)},t.toggleActive=function(e){var t=!1;return null!=e&&(t=e.classList.toggle("active")),t},e.findIndex=function(e,t){for(var i=0;i<e.length;i++)if(e[i].isEqualNode(t))return i;return-1},e.offsetLeft=function(e){return e.getBoundingClientRect().left},e.offsetX=function(e,t){return e-VGView.offsetLeft(t)},e.offsetTop=function(e){return e.getBoundingClientRect().top},e.offsetY=function(e,t){return e-VGView.offsetTop(t)},e.toggleCollectionClass=function(e,t){for(var i=e.length-1;i>=0;i--)e[i].classList.toggle(t)},e.toggleListClass=function(e,t){for(var i=e.length-1;i>=0;i--)e[i].classList.toggle(t)},e.removeAll=function(e){Utils.forEachElement(e,(function(e){e.outerHTML=""}))},t.addHandlers=function(e){Utils.forEach(e,stjs.bind(this,(function(e,t){var i=t.split(" "),n=i[0],r=this.el.querySelector(i[1]),s=Boolean(i[2]);null!=r&&null!=n&&null!=e&&r.addEventListener(n,e,s)})))}}),{el:"Element",container:"Element",parent:"CloseableView",children:{name:"Array",arguments:["CloseableView"]}},{});var DashifiedMp4SegmentedVideoStream=function(e,t,i,n,r){SegmentedStream.call(this),this.desc=n,this.moovbuf=e,this.segments=t,this.dataSrc=i,this.sampleDuration=r,this.timecode=n.timecode,this.timescale=n.timescale,this.mimeType=this.getDashDescriptor().mimeType,this.codecs=this.getDashDescriptor().codecs};DashifiedMp4SegmentedVideoStream=stjs.extend(DashifiedMp4SegmentedVideoStream,SegmentedStream,[],(function(e,t){t.desc=null,t.segments=null,t.moovbuf=null,t.dataSrc=null,t.sampleDuration=0,t.timecode=null,t.timescale=0,t.getFrameCount=function(){return stjs.trunc(stjs.trunc(this.desc.duration/this.sampleDuration))},t.getDashDescriptor=function(){return this.desc},t.getDashInit=function(e,t){e(this.moovbuf)},t.loadSegment=function(e,t,i){var n=this.segments[e],r=new Int8Array(n.header.byteLength+DashStreamUtils.segmentSize(n));r.set(new Int8Array(n.header),0);var s=new DashSegmentDataInterval;s.dataFrom=n.dataIntervals[0].dataFrom,s.dataTo=n.dataIntervals[n.dataIntervals.length-1].dataTo;var o=this.fetchSingle(s).doOnCompleted((function(){return t(r.buffer)})).subscribe((function(e){for(var t=stjs.trunc(n.header.byteLength),i=0;i<n.dataIntervals.length;i++){var o=n.dataIntervals[i],a=e.slice(stjs.trunc(o.dataFrom-s.dataFrom),stjs.trunc(o.dataTo-s.dataFrom));r.set(a,t),t+=o.dataTo-o.dataFrom}}),(function(e){return i(e)}));return stjs.bind(o,"dispose")},t.fetchSingle=function(e){return Rx.Observable.create(stjs.bind(this,(function(t){return this.dataSrc.fetch(e.dataFrom,e.dataTo,(function(e){t.onNext(new Int8Array(e)),t.onCompleted()}),stjs.bind(t,"onError"))})))}}),{desc:"DashDescriptor",segments:{name:"Array",arguments:["DashSegment"]},moovbuf:"ArrayBuffer",dataSrc:"DataSrc",updateRx:{name:"Rx.Subject",arguments:["SegmentedStream"]}},{});var PlayerAudioTrack=function(e,t){this.proxyId=e,this.log=t,this.channelMuted=[],this.channelMuteRx=new Rx.ReplaySubject(1)};PlayerAudioTrack=stjs.extend(PlayerAudioTrack,null,[],(function(e,t){t.dashStream=null,t.channelCount=0,t.channelLabels=null,t.channelMuted=null,t.filename=null,t.proxyId=null,t.log=null,t.sampleRate=0,t.serverUrl=null,t.totalSamples=0,t.waveformPreviews=null,t.channelMuteRx=null,t.channelOffset=0,t.offset=0,t.movieId=null,t.targetSampleRate=0,e.DEFAULT_LABELS=["Stereo-Left","Stereo-Right","Stereo-Left","Stereo-Right","Left","Right","Center","LFE","Left Surround","Right Surround","Mono","MOS"],t.id=function(){return this.proxyId},e.fromChannelLabels=function(e,t,i,n){var r=new PlayerAudioTrack(e,n);return r.filename=t,r.channelCount=i.length,r.channelLabels=i.slice(0),r.channelMuted=new Array(r.channelCount),r},e.fromDashStream=function(e,t,i){var n=new PlayerAudioTrack(e,i);return n.update(t),n},t.setChannelMuted=function(e,t){this.channelMuted[e]=t,this.channelMuteRx.onNext(new ChannelMute(t,e))},t.setChannelsMuted=function(e){this.log.debug("setChannelsMuted",e,this.proxyId);for(var t=0;t<this.channelMuted.length;t++)this.setChannelMuted(t,e)},t.getChannelMuted=function(e){return this.channelMuted[e]},t.getChannels=function(){for(var e=[],t=0;t<this.channelCount;t++){var i=new PlayerAudioChannel;i.label=this.channelLabels[t],i.muted=this.channelMuted[t],i.waveformPngUrl=this.serverUrl+"/"+this.proxyId+"/tw"+Utils.zeroPad2(t)+".png",e.push(i)}return e},t.update=function(e){this.dashStream=e;var t=null==e?null:e.audioInfo;this.log.debug("update audio stream",e),null!=t&&(this.totalSamples=t.totalSamples,this.sampleRate=t.sampleRate,this.waveformPreviews=t.waveformPreviews||new Array,this.channelCount=t.channelCount,this.channelMuted=new Array(t.channelCount),this.dashStream.channelMuted=this.channelMuted,this.channelLabels=t.channelLabels||PlayerAudioTrack.DEFAULT_LABELS.slice(0,this.channelCount)),null!=e&&(this.serverUrl=e.serverUrl)},t.initWithChannelNames=function(e){this.channelCount=e.length,this.channelLabels=e.slice(0),this.channelMuted=new Array(this.channelCount)},e.fromAudioInfo=function(e,t,i,n){var r=new PlayerAudioTrack(e,n);return r},t.isMuted=function(){return this.channelMuted.every((function(e,t,i){return e}))}}),{dashStream:"SegmentedAudioStream",channelLabels:{name:"Array",arguments:[null]},channelMuted:{name:"Array",arguments:[null]},log:"Log",waveformPreviews:{name:"Array",arguments:[null]},channelMuteRx:{name:"Rx.ReplaySubject",arguments:["ChannelMute"]},DEFAULT_LABELS:{name:"Array",arguments:[null]}},{});var RxUtil=function(){};RxUtil=stjs.extend(RxUtil,null,[],(function(e,t){e.split=function(e,t){var i=e.scan((function(e,i){return 0!=e.length&&t(e,i)&&(e=new Array),e.push(i),e}),new Array),n=i.bufferWithCount(2,1).flatMap((function(e){return 1==e.length||e[0]!=e[1]?Rx.Observable.just(e[0]):Rx.Observable.empty()}));return n},e.doOnFirst=function(e,t){var i=new MutableBoolean(!0);return e.doOnNext((function(e){i.value&&(i.value=!1,t(e))}))},e.sequential=function(e,t,i){var n=new MutableInt(0),r=new PriorityQueue((function(e,i){return t(e)-t(i)})),s=e.flatMap((function(e){var s=e,o=new Array;do{var a=t(s);if(a!=i[n.value]){r.add(s);break}n.value++,o.push(s)}while(null!=(s=r.poll()));return Rx.Observable.from(o)}));return s},e.takeWhileWithFinalValue=function(e,t){return Rx.Observable.create((function(i){return e.subscribe((function(e){i.onNext(e),t(e)||i.onCompleted()}),(function(e){i.onError(e)}),(function(){i.onCompleted()}))}))},e.firstOutIgnoreNext=function(e){return Rx.Observable.create((function(t){var i=new MutableBoolean(!1);return e.subscribe((function(e){i.value||(i.value=!0,t.onNext(e))}),(function(e){t.onError(e)}),(function(){t.onCompleted()}))}))}}),{},{});var HttpDataSrc=function(e,t){this.http=e,this.url=t};HttpDataSrc=stjs.extend(HttpDataSrc,null,[DataSrc],(function(e,t){t.http=null,t.url=null,t.fetch=function(e,t,i,n){var r=this.http.getArrayBufferRange(this.url,e,t).subscribe(i,(function(e){return n(""+e.status)}));return stjs.bind(r,"dispose")}}),{http:"Http"},{});var VGPlayerPluginApi=function(){};VGPlayerPluginApi=stjs.extend(VGPlayerPluginApi,null,[VGPlayerPublicApi],(function(e,t){t.getCaptionListChangeRx=function(){},t.getTimeUpdateRx=function(){},t.getTimeline=function(){},t.seekSec=function(e){},t.getCaptionHandlerRx=function(){},t.getOptions=function(){},t.getHttp=function(){},t.getLog=function(){},t.getErrorRx=function(){}}),{},{});var EbuSubs=function(){};EbuSubs=stjs.extend(EbuSubs,null,[],(function(e,t){e.HEADER_SIZE=1024,e.TTI_SIZE=128,e.TEXT_FIELD_CRLF=138,e.TEXT_FIELD_TERMINATOR=143,e.MODE_SYMBOLS_RANGE_FROM=128,e.MODE_SYMBOLS_RANGE_TO=133,e.fromEbuSubs=function(e,t){var i=function(e,i,n){var r=new SubtitleEntry,s=e.getTimecodeIn(),o=e.getTimecodeOut(),a=t.getFrameByTimecode(s),u=t.getFrameByTimecode(o);return r.startMsec=stjs.trunc(1e3*t.getSecByFrame(a)),r.endMsec=stjs.trunc(1e3*t.getSecByFrame(u)),r.startTv=t.getTvByFrame(a),r.endTv=t.getTvByFrame(u),r.notes=e.text,r.timeCodeIn=s,r.timeCodeOut=o,r},n=e.map(i),r=new Subtitles;return r.rows=n,r},e.parse=function(e,t,i){var n=EbuSubs.parseFile(e,i),r=EbuSubs.fromEbuSubs(n,t);return r},e.probe=function(e,t){var i=EbuSubs.parseFile(e,t);if(null==i)return-1;for(var n=0,r=0;r<i.length;r++){var s=i[r],o=3600*s.timeCodeInHours+60*s.timeCodeInMinutes+s.timeCodeInSeconds,a=3600*s.timeCodeOutHours+60*s.timeCodeOutMinutes+s.timeCodeOutSeconds;a>o&&n++,a<o&&n--}return n},e.parseFile=function(e,t){var i=new DataView(e);if(i.byteLength>EbuSubs.HEADER_SIZE){var n=EbuSubs.parseHeader(i);if(EbuSubs.isHeaderValid(n)){var r=EbuSubs.parseTTI(i,n,t);return r}}return null},e.VALID_CODEPAGES_SORTED=[437,850,860,863,865],e.isHeaderValid=function(e){var t;try{t=Integer.parseInt(e.codePageNumber)}catch(i){return!1}return-1!=Utils.binarySearch0(EbuSubs.VALID_CODEPAGES_SORTED,t)},e.parseHeader=function(e){var t=new EbuSubs.EbuHeader;return t.codePageNumber=Platform.ascii(e,0,3),t.diskFormatCode=Platform.ascii(e,3,8),t.displayStandardCode=Platform.ascii(e,11,1),t.characterCodeTableNumber=Platform.ascii(e,12,2),t.languageCode=Platform.ascii(e,14,2),t.originalProgrammeTitle=Platform.ascii(e,16,32),t.originalEpisodeTitle=Platform.ascii(e,48,32),t.translatedProgrammeTitle=Platform.ascii(e,80,32),t.translatedEpisodeTitle=Platform.ascii(e,112,32),t.translatorsName=Platform.ascii(e,144,32),t.translatorsContactDetails=Platform.ascii(e,176,32),t.subtitleListReferenceCode=Platform.ascii(e,208,16),t.creationDate=Platform.ascii(e,224,6),t.revisionDate=Platform.ascii(e,230,6),t.revisionNumber=Platform.ascii(e,236,2),t.totalNumberOfTextAndTimingInformationBlocks=Platform.ascii(e,238,5),t.totalNumberOfSubtitles=Platform.ascii(e,243,5),t.totalNumberOfSubtitleGroups=Platform.ascii(e,248,3),t.maximumNumberOfDisplayableCharactersInAnyTextRow=Platform.ascii(e,251,2),t.maximumNumberOfDisplayableRows=Platform.ascii(e,253,2),t.timeCodeStatus=Platform.ascii(e,255,1),t.timeCodeStartOfProgramme=Platform.ascii(e,256,8),t},e.parseTTI=function(e,t,i){var n=new Array,r=EbuSubs.HEADER_SIZE;t.diskFormatCode.startsWith("STL24.01")||t.diskFormatCode.startsWith("STL25.01")||t.diskFormatCode.startsWith("STL30.01")||i.warn("Unknown disk format code: "+t.diskFormatCode+", was set to defult value: 24");var s="00".equals(t.characterCodeTableNumber);while(r+EbuSubs.TTI_SIZE<e.byteLength){var o=new EbuSubs.EbuTextTimeInfo;o.offset=r,o.subtitleGroupNumber=e.getUint8(r),o.subtitleNumber=256*e.getUint8(r+2)+e.getUint8(r+1),o.extensionBlockNumber=e.getUint8(r+3),o.cumulativeStatus=e.getUint8(r+4),o.timeCodeInHours=e.getUint8(r+5+0),o.timeCodeInMinutes=e.getUint8(r+5+1),o.timeCodeInSeconds=e.getUint8(r+5+2),o.timeCodeInFrames=e.getUint8(r+5+3),o.timeCodeOutHours=e.getUint8(r+9+0),o.timeCodeOutMinutes=e.getUint8(r+9+1),o.timeCodeOutSeconds=e.getUint8(r+9+2),o.timeCodeOutFrames=e.getUint8(r+9+3),o.verticalPosition=e.getUint8(r+13),o.justificationCode=e.getUint8(r+14),o.commentFlag=e.getUint8(r+15);for(var a="",u=16;u<EbuSubs.TTI_SIZE;u++){var c=e.getUint8(r+u);if(c==EbuSubs.TEXT_FIELD_TERMINATOR)break;if(!EbuSubs.isTextModeChange(c)&&!EbuSubs.isColorSymbol(c))if(c==EbuSubs.TEXT_FIELD_CRLF)a+="\n";else if(s&&EbuSubs.isCombining(c)){if(u<EbuSubs.TTI_SIZE-1){var f=e.getUint8(r+u+1);if(EbuSubs.isCharacter(255&f)){var h=EbuSubs.combineChars(c,255&f);a+=h,u++}}}else if(EbuSubs.isCharacter(c)){h=Platform.fromCharCode(c);a+=h}}o.text=a,n.push(o),r+=EbuSubs.TTI_SIZE}return n},e.CombinedChars=function(e,t,i){this.prefix=e,this.fromChars=i,this.toChars=t},e.CombinedChars=stjs.extend(e.CombinedChars,null,[],(function(e,t){t.prefix=0,t.fromChars=null,t.toChars=null}),{},{}),e.combinedChars=new Array,e.combineChars=function(e,t){for(var i=String.fromCharCode(t),n=0;n<EbuSubs.combinedChars.length;n++){var r=EbuSubs.combinedChars[n];if(r.prefix==e){var s=r.fromChars.indexOf(i);if(-1!=s)return r.toChars.substring(s,s+1)}}return i},e.CODE_TABLE=["US-ASCII","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8"],e.isColorSymbol=function(e){return e>=0&&e<=23},e.isCharacter=function(e){return e>=32&&e<=127||e>=161},e.isCombining=function(e){return e>=193&&e<=207},e.isTextModeChange=function(e){return e>=EbuSubs.MODE_SYMBOLS_RANGE_FROM&&e<=EbuSubs.MODE_SYMBOLS_RANGE_TO},e.EbuHeader=function(){},e.EbuHeader=stjs.extend(e.EbuHeader,null,[],(function(e,t){t.codePageNumber=null,t.diskFormatCode=null,t.displayStandardCode=null,t.characterCodeTableNumber=null,t.languageCode=null,t.originalProgrammeTitle=null,t.originalEpisodeTitle=null,t.translatedProgrammeTitle=null,t.translatedEpisodeTitle=null,t.translatorsName=null,t.translatorsContactDetails=null,t.subtitleListReferenceCode=null,t.creationDate=null,t.revisionDate=null,t.revisionNumber=null,t.totalNumberOfTextAndTimingInformationBlocks=null,t.totalNumberOfSubtitles=null,t.totalNumberOfSubtitleGroups=null,t.maximumNumberOfDisplayableCharactersInAnyTextRow=null,t.maximumNumberOfDisplayableRows=null,t.timeCodeStatus=null,t.timeCodeStartOfProgramme=null,t.toString=function(){return Utils.jsonToString(this)}}),{},{}),e.EbuTextTimeInfo=function(){},e.EbuTextTimeInfo=stjs.extend(e.EbuTextTimeInfo,null,[],(function(e,t){t.offset=0,t.subtitleGroupNumber=0,t.subtitleNumber=0,t.extensionBlockNumber=0,t.cumulativeStatus=0,t.timeCodeInHours=0,t.timeCodeInMinutes=0,t.timeCodeInSeconds=0,t.timeCodeInFrames=0,t.timeCodeOutHours=0,t.timeCodeOutMinutes=0,t.timeCodeOutSeconds=0,t.timeCodeOutFrames=0,t.verticalPosition=0,t.justificationCode=0,t.commentFlag=0,t.text=null,t.getTimecodeIn=function(){return Utils.hmsf(this.timeCodeInHours,this.timeCodeInMinutes,this.timeCodeInSeconds,this.timeCodeInFrames)},t.getTimecodeOut=function(){return Utils.hmsf(this.timeCodeOutHours,this.timeCodeOutMinutes,this.timeCodeOutSeconds,this.timeCodeOutFrames)}}),{},{})}),{VALID_CODEPAGES_SORTED:{name:"Array",arguments:[null]},combinedChars:{name:"Array",arguments:["EbuSubs.CombinedChars"]},CODE_TABLE:{name:"Array",arguments:[null]}},{}),function(){EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(193,"ÀÈÌÒÙàèìòù","AEIOUaeiou")),EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(194,"ÁĆÉÍĹŃÓŔŚÚÝŹáćéģíĺńóŕśúýź","ACEILNORSUYZacegilnorsuyz")),EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(195,"ÂĈÊĜĤÎĴÔŜÛŴŶâĉêĝĥîĵôŝûŵŷ","ACEGHIJOSUWYaceghijosuwy")),EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(196,"ÃĨÑÕŨãĩñõũ","AINOUainou")),EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(197,"ĀĒĪŌŪāēīōū","AEIOUaeiou")),EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(198,"ĂĞŬăğŭ","AGUagu")),EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(199,"ĊĖĠİŻċėġıż","CEGIZcegiz")),EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(200,"ÄËÏÖÜŸäëïöüÿ","AEIOUYaeiouy")),EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(202,"ÅŮåů","AUau")),EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(203,"ÇĢĶĻŅŖŞŢçķļņŗşţ","CGKLNRSTcklnrst")),EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(205,"ŐŰőű","OUou")),EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(206,"ĄĘĮŲąęįų","AEIUaeiu")),EbuSubs.combinedChars.push(new EbuSubs.CombinedChars(207,"ČĎĚĽŇŘŠŤŽčďěľňřšťž","CDELNRSTZcdelnrstz"))}();var Cavena890=function(){};Cavena890=stjs.extend(Cavena890,null,[],(function(e,t){e.LanguageIdDanish=7,e.LanguageIdEnglish=9,e.LanguageIdRussian=86,e.LanguageIdArabic=128,e.LanguageIdHebrew=143,e.LanguageIdChineseTraditional=144,e.LanguageIdChineseSimplified=145,e.hebrew=null,e.russian=null,e.noencoding=null,e.encodings=[],e.textLength=51,e.LANGID1_OFFSET=146,e.LANGID2_OFFSET=147,e.FONTNAME1_OFFSET=187,e.FONTNAME2_OFFSET=246,e.FONTNAME_SIZE=6,e.TEXTSTART_OFFSET=455,e.probe=function(e){if(e.byteLength<Cavena890.TEXTSTART_OFFSET)return-1;var t=new DataView(e),i=t.getUint8(Cavena890.LANGID1_OFFSET),n=(t.getUint8(Cavena890.LANGID2_OFFSET),Cavena890.isAsciiString(t,Cavena890.FONTNAME1_OFFSET,Cavena890.FONTNAME_SIZE)),r=Cavena890.isAsciiString(t,Cavena890.FONTNAME2_OFFSET,Cavena890.FONTNAME_SIZE),s=0;if(!n||!r)return s;s=1,i==Cavena890.LanguageIdEnglish&&s++;var o=Cavena890.TEXTSTART_OFFSET,a=-1;while(o<t.byteLength-20){var u=o-Cavena890.textLength,c=t.getUint16(u-16);a<c?s++:s--;var f=Cavena890.uint24(t,u-14),h=Cavena890.uint24(t,u-11);f<h?s++:s--,a=c,o+=128}return s},e.parse=function(e,t,i){var n=new DataView(e),r=n.getUint8(Cavena890.LANGID1_OFFSET),s=n.getUint8(Cavena890.LANGID2_OFFSET),o=Platform.ascii(n,Cavena890.FONTNAME1_OFFSET,Cavena890.FONTNAME_SIZE),a=Platform.ascii(n,Cavena890.FONTNAME2_OFFSET,Cavena890.FONTNAME_SIZE),u=s;(r==Cavena890.LanguageIdRussian||o.startsWith("KYRIL")||a.startsWith("KYRIL"))&&(u=Cavena890.LanguageIdRussian),(r==Cavena890.LanguageIdHebrew||o.startsWith("HEBNOA")||a.startsWith("HEBNOA"))&&(u=Cavena890.LanguageIdHebrew);var c=Cavena890.encodings[u];null==c&&(r!=Cavena890.LanguageIdEnglish&&i.warn("unknown encoding "+r+"/"+s+" "+o+"/"+a),c=Cavena890.noencoding);var f=new Subtitles;f.rows=[];var h=Cavena890.TEXTSTART_OFFSET;while(h<n.byteLength-20){var l=h-Cavena890.textLength,d=(n.getUint16(l-16),Cavena890.uint24(n,l-14)),p=Cavena890.uint24(n,l-11),m=new DataView(e,l,Cavena890.textLength),b=new DataView(e,l+Cavena890.textLength+6,Cavena890.textLength),v=Cavena890.makeString(m,c),g=Cavena890.makeString(b,c),y=new SubtitleEntry;y.timeCodeIn=t.getTapeByFrame(d),y.timeCodeOut=t.getTapeByFrame(p),y.startTv=t.getTvByFrame(d),y.endTv=t.getTvByFrame(p),y.startMsec=stjs.trunc(1e3*t.getSecByFrame(d)),y.endMsec=stjs.trunc(1e3*t.getSecByFrame(p)),y.notes=[v,g].join(" "),f.rows.push(y),h+=128}return f},e.makeString=function(e,t){for(var i="",n=0;n<e.byteLength;n++){var r=e.getInt8(n);if(127==r)break;var s=t[r];if(null==s){var o=String.fromCharCode(r);i+=o}else i+=s}return i},e.uint24=function(e,t){return e.getUint16(t)<<8|e.getUint8(t+2)},e.isAsciiString=function(e,t,i){for(var n=0;n<i;n++){var r=e.getUint8(t+n);if(r<32||r>127)return!1}return!0}}),{hebrew:{name:"Array",arguments:[null]},russian:{name:"Array",arguments:[null]},noencoding:{name:"Array",arguments:[null]},encodings:{name:"Array",arguments:[{name:"Array",arguments:[null]}]}},{}),function(){Cavena890.hebrew=new Array(256),Cavena890.russian=new Array(256),Cavena890.noencoding=new Array(256),Cavena890.encodings[Cavena890.LanguageIdRussian]=Cavena890.russian,Cavena890.encodings[Cavena890.LanguageIdHebrew]=Cavena890.hebrew,Cavena890.hebrew[64]="א",Cavena890.hebrew[65]="ב",Cavena890.hebrew[66]="ג",Cavena890.hebrew[67]="ד",Cavena890.hebrew[68]="ה",Cavena890.hebrew[69]="ו",Cavena890.hebrew[70]="ז",Cavena890.hebrew[71]="ח",Cavena890.hebrew[73]="י",Cavena890.hebrew[76]="ל",Cavena890.hebrew[77]="ם",Cavena890.hebrew[78]="מ",Cavena890.hebrew[79]="ן",Cavena890.hebrew[80]="נ",Cavena890.hebrew[81]="ס",Cavena890.hebrew[82]="ע",Cavena890.hebrew[84]="פ",Cavena890.hebrew[86]="צ",Cavena890.hebrew[87]="ק",Cavena890.hebrew[88]="ר",Cavena890.hebrew[89]="ש",Cavena890.hebrew[90]="ת",Cavena890.hebrew[75]="כ",Cavena890.hebrew[74]="ך",Cavena890.hebrew[72]="ט",Cavena890.hebrew[83]="ף",Cavena890.hebrew[85]="ץ",Cavena890.russian[66]="Б",Cavena890.russian[69]="Е",Cavena890.russian[90]="З",Cavena890.russian[86]="В",Cavena890.russian[73]="И",Cavena890.russian[78]="Н",Cavena890.russian[88]="Ы",Cavena890.russian[81]="Я",Cavena890.russian[86]="В",Cavena890.russian[83]="С",Cavena890.russian[114]="р",Cavena890.russian[105]="и",Cavena890.russian[113]="я",Cavena890.russian[110]="н",Cavena890.russian[116]="т",Cavena890.russian[92]="Э",Cavena890.russian[119]="ю",Cavena890.russian[70]="Ф",Cavena890.russian[94]="Ч",Cavena890.russian[68]="Д",Cavena890.russian[98]="б",Cavena890.russian[115]="с",Cavena890.russian[117]="у",Cavena890.russian[100]="д",Cavena890.russian[96]="ж",Cavena890.russian[106]="й",Cavena890.russian[108]="л",Cavena890.russian[71]="Г",Cavena890.russian[120]="ы",Cavena890.russian[122]="з",Cavena890.russian[126]="ч",Cavena890.russian[109]="м",Cavena890.russian[103]="г",Cavena890.russian[121]="ь",Cavena890.russian[112]="п",Cavena890.russian[118]="в",Cavena890.russian[85]="У",Cavena890.russian[125]="щ",Cavena890.russian[102]="ф",Cavena890.russian[124]="э",Cavena890.russian[123]="ш",Cavena890.russian[64]="Ж",Cavena890.russian[65]="А",Cavena890.russian[72]="Н",Cavena890.russian[74]="Й",Cavena890.russian[75]="К",Cavena890.russian[76]="Л",Cavena890.russian[77]="М",Cavena890.russian[79]="О",Cavena890.russian[80]="П",Cavena890.russian[82]="Р",Cavena890.russian[84]="Т",Cavena890.russian[89]="Ь",Cavena890.russian[97]="а",Cavena890.russian[99]="ц",Cavena890.russian[101]="е",Cavena890.russian[104]="х",Cavena890.russian[107]="к",Cavena890.russian[111]="о"}();var HotkeyManager=function(e){ObjectEvents.call(this),this.log=e,this._keyHistory="",this._keyUpHistory="",this._curShortcut=[],this.shortcuts={},this._groups={},this._descriptions={},this._summary={},this._allowInputs={},this._lastIsTriggered=!1,this.disable=!1,this.initKeyDown=stjs.bind(this,(function(e){return this._keyDown(e)})),this.initKeyUp=stjs.bind(this,(function(e){return this._keyUp(e)})),this.onFullScreenChange=stjs.bind(this,(function(e){return this._curShortcut=[]}))};HotkeyManager=stjs.extend(HotkeyManager,ObjectEvents,[],(function(e,t){e.KEYS={},e.HOTKEYS_OKAY="hotkeysenabled",t.log=null,t.initKeyUp=null,t.initKeyDown=null,t.onFullScreenChange=null,t._summary=null,t._allowInputs=null,t._lastIsTriggered=!1,t._descriptions=null,t._groups=null,t.shortcuts=null,t._curShortcut=null,t._keyUpHistory=null,t._keyHistory=null,t._lastEscTime=0,t.disable=!1,t.bindedElement=null,t.bindedDocument=null,t.bindedWindow=null,t.enableHotKeysForWindow=function(e){this.destruct(),this.bindedWindow=e,this.bindedWindow.addEventListener("keydown",this.initKeyDown),this.bindedWindow.addEventListener("keyup",this.initKeyUp),this.bindedWindow.document.body.addEventListener("webkitfullscreenchange",this.onFullScreenChange)},t.enableHotKeysForDocument=function(e){this.destruct(),this.bindedDocument=e,this.bindedDocument.addEventListener("keydown",this.initKeyDown),this.bindedDocument.addEventListener("keyup",this.initKeyUp),this.bindedDocument.body.addEventListener("webkitfullscreenchange",this.onFullScreenChange)},t.enableHotKeysForElement=function(e){this.destruct(),this.bindedElement=e,this.bindedElement.addEventListener("keydown",this.initKeyDown),this.bindedElement.addEventListener("keyup",this.initKeyUp),this.bindedElement.addEventListener("webkitfullscreenchange",this.onFullScreenChange)},t.setDisable=function(e){this.disable=e},e.enableHotkeysForInput=function(e){e.setAttribute(HotkeyManager.HOTKEYS_OKAY,"true")},e.isHotkeysEnabled=function(e){var t=["textarea","input"].indexOf(e.nodeName.toLowerCase())>=0||1==e.contentEditable,i=Utils.isNotBlank(e.getAttribute(HotkeyManager.HOTKEYS_OKAY));return!!i||!t},t.destruct=function(){null!=this.bindedWindow&&(this.bindedWindow.removeEventListener("keydown",this.initKeyDown),this.bindedWindow.removeEventListener("keyup",this.initKeyUp),this.bindedWindow.document.body.removeEventListener("webkitfullscreenchange",this.onFullScreenChange)),null!=this.bindedDocument&&(this.bindedDocument.removeEventListener("keydown",this.initKeyDown),this.bindedDocument.removeEventListener("keyup",this.initKeyUp),this.bindedDocument.body.removeEventListener("webkitfullscreenchange",this.onFullScreenChange)),null!=this.bindedElement&&(this.bindedElement.removeEventListener("keydown",this.initKeyDown),this.bindedElement.removeEventListener("keyup",this.initKeyUp),this.bindedElement.document.body.removeEventListener("webkitfullscreenchange",this.onFullScreenChange))},t._fireShortcut=function(e,t){e.keyCode;var i=t?this._keyHistory:this._keyUpHistory;for(var n in this.shortcuts){var r=Math.max(0,i.length-n.length-1),s=i.length;if(i.substring(r,s).equals(" "+n))for(var o=this.shortcuts[n],a=0;a<o.length;a++){var u=o[a],c=u.func;t&&u.options.onKeyUp||!t&&!u.options.onKeyUp||(null==this._allowInputs[c.toString()]&&this._lastIsTriggered||c.apply(void 0,[e,this._groups[n],this._descriptions[n]]))}}},e.notIn=function(e,t){return null==t[e]},t._keyDown=function(e){if(!this.disable&&HotkeyManager.isHotkeysEnabled(e.target)){var t=e.keyCode;if(this._lastIsTriggered!=HotkeyManager.isHotkeysEnabled(e.target)&&(this._keyHistory=""),this._lastIsTriggered=HotkeyManager.isHotkeysEnabled(e.target),27==t){if(0!=this._lastEscTime&&Utils.currentTimeMillis()-this._lastEscTime<200)return;this._lastEscTime=Utils.currentTimeMillis()}if(91==t||e.metaKey)return void(this._curShortcut=[]);if(!e.ctrlKey&&this._curShortcut.indexOf(HotkeyManager.getKeyCode("ctrl"))>=0&&this._curShortcut.splice(this._curShortcut.indexOf(HotkeyManager.getKeyCode("ctrl")),1),!e.shiftKey&&this._curShortcut.indexOf(HotkeyManager.getKeyCode("shift"))>=0&&this._curShortcut.splice(this._curShortcut.indexOf(HotkeyManager.getKeyCode("shift")),1),20==t)return;this._curShortcut.indexOf(t)<0&&this._curShortcut.push(t),this._keyHistory+=" "+this._curShortcut.join("+"),this._fireShortcut(e,!0)}},t._keyUp=function(e){if(!this.disable){var t=e.keyCode;if(91==t||e.metaKey)return;27==t&&(this._lastEscTime=0),this._curShortcut.splice(this._curShortcut.indexOf(t),1),this._keyUpHistory+=" "+t,this._fireShortcut(e,!1)}},t.addShortcut=function(e,t,i){var n=null;i.ignoreSummary||(i.group=Utils.defaultString(i.group,""),i.description=Utils.defaultString(i.description,""),HotkeyManager.notIn(i.group,this._summary)&&(this._summary[i.group]={}),n=Array.isArray(e)?e.constructor.join(", "):e,this._summary[i.group][n]=i.description);var r=HotkeyManager._parseKeyChain(e);this._groups[r]=i.group,this._descriptions[r]=i.description,this._allowInputs[t.toString()]=i.allowInputs,this.shortcuts[r]=[HotkeyManager.shortCutObj(t,i)],i.ignoreSummary||this.fireEvent("added",{shortcut:n,description:this._descriptions[r],groups:this._groups[r]})},e.ShortCut=function(){},e.ShortCut=stjs.extend(e.ShortCut,null,[],(function(e,t){t.func=null,t.options=null}),{func:{name:"Callback1",arguments:["DOMEvent"]},options:"KeyOptions"},{}),e.shortCutObj=function(e,t){var i=new HotkeyManager.ShortCut;return i.func=e,i.options=t,i},e._parseKeyChain=function(e){var t=e.split(" "),i=[];return t.forEach((function(e){for(var t=e.split("-"),n=[],r=0;r<t.length;r++){var s=t[r].toLowerCase();if(s.equals("")){if(!(r>0&&t[r-1].equals("")))continue;s="-"}n.push(HotkeyManager.getKeyCode(s))}i.push(n.join("+"))})),i.join(" ")},e.getKeyCode=function(e){return HotkeyManager.KEYS[e]}}),{KEYS:{name:"Map",arguments:[null,null]},log:"Log",initKeyUp:{name:"Callback1",arguments:["DOMEvent"]},initKeyDown:{name:"Callback1",arguments:["DOMEvent"]},onFullScreenChange:{name:"Callback1",arguments:["DOMEvent"]},_summary:{name:"Map",arguments:[null,{name:"Map",arguments:[null,"Object"]}]},_allowInputs:{name:"Map",arguments:[null,"Object"]},_descriptions:{name:"Map",arguments:[null,"Object"]},_groups:{name:"Map",arguments:[null,"Object"]},shortcuts:{name:"Map",arguments:[null,{name:"Array",arguments:["HotkeyManager.ShortCut"]}]},_curShortcut:{name:"Array",arguments:["Object"]},bindedElement:"Element",bindedDocument:"Document",bindedWindow:"Window",events:{name:"Map",arguments:[null,{name:"Array",arguments:[{name:"Callback1",arguments:["Object"]}]}]},listenAlls:{name:"Array",arguments:[{name:"Callback2",arguments:[null,"Object"]}]},mandatoryEvents:{name:"Map",arguments:[null,{name:"Array",arguments:["Object"]}]}},{}),function(){HotkeyManager.KEYS["backspace"]=8,HotkeyManager.KEYS["tab"]=9,HotkeyManager.KEYS["enter"]=13,HotkeyManager.KEYS["shift"]=16,HotkeyManager.KEYS["ctrl"]=17,HotkeyManager.KEYS["alt"]=18,HotkeyManager.KEYS["pause"]=19,HotkeyManager.KEYS["capslock"]=20,HotkeyManager.KEYS["escape"]=27,HotkeyManager.KEYS["pageup"]=33,HotkeyManager.KEYS["pagedown"]=34,HotkeyManager.KEYS["end"]=35,HotkeyManager.KEYS["home"]=36,HotkeyManager.KEYS["left"]=37,HotkeyManager.KEYS["up"]=38,HotkeyManager.KEYS["right"]=39,HotkeyManager.KEYS["down"]=40,HotkeyManager.KEYS["insert"]=45,HotkeyManager.KEYS["delete"]=46,HotkeyManager.KEYS["*"]=106,HotkeyManager.KEYS["+"]=107,HotkeyManager.KEYS["-"]=189,HotkeyManager.KEYS[";"]=186,HotkeyManager.KEYS["="]=187,HotkeyManager.KEYS[","]=188,HotkeyManager.KEYS["."]=190,HotkeyManager.KEYS["/"]=191,HotkeyManager.KEYS["`"]=192,HotkeyManager.KEYS["["]=219,HotkeyManager.KEYS["\\"]=220,HotkeyManager.KEYS["]"]=221,HotkeyManager.KEYS['"']=222,HotkeyManager.KEYS["space"]=32,HotkeyManager.KEYS["esc"]=27,HotkeyManager.KEYS["?"]=207,HotkeyManager.KEYS["del"]=46;for(var e=0;e<10;e++)HotkeyManager.KEYS["num-"+e]=e+95,HotkeyManager.KEYS[""+e]=e+48;for(e=1;e<25;e++)HotkeyManager.KEYS["f"+e]=e+111;for(e=65;e<91;e++){var t=Platform.fromCharCode(e).toLowerCase();HotkeyManager.KEYS[t]=e}}();var BoundedTimeline=function(e){this.timeline=e};BoundedTimeline=stjs.extend(BoundedTimeline,null,[Timeline],(function(e,t){t.timeline=null,t.assertFinite=function(e){if(!Utils.isNormalNumber(e))throw new RuntimeException(e+" is not a valid value")},t.checkTimecode=function(e){if(!TapeTimecode.isTimecode(e))throw new RuntimeException(e+" is not a valid timecode")},t.boundsTv=function(e){return Math.max(0,Math.min(e,this.timeline.getLastTv()))},t.getTimeScale=function(){return this.timeline.getTimeScale()},t.getFrameCount=function(){return this.timeline.getFrameCount()},t.getTvBySec=function(e){return this.assertFinite(e),this.boundsTv(this.timeline.getTvBySec(e))},t.getLastFrame=function(){return this.timeline.getLastFrame()},t.getLastTv=function(){return this.timeline.getLastTv()},t.getTvByTimecode=function(e){return this.checkTimecode(e),this.boundsTv(this.timeline.getTvByTimecode(e))},t.getTvByFrame=function(e){return this.assertFinite(e),this.timeline.getTvByFrame(this.boundsFn(e))},t.getFrameByTv=function(e){return this.assertFinite(e),this.timeline.getFrameByTv(this.boundsTv(e))},t.getFrameBySec=function(e){return this.assertFinite(e),this.boundsFn(this.timeline.getFrameBySec(e))},t.getFrameByTimecode=function(e){return this.checkTimecode(e),this.boundsFn(this.timeline.getFrameByTimecode(e))},t.getFrameByMillis=function(e){return this.assertFinite(e),this.boundsFn(this.timeline.getFrameByMillis(e))},t.floorTv=function(e){return this.assertFinite(e),this.timeline.floorTv(this.boundsTv(e))},t.boundsFn=function(e){return this.assertFinite(e),this.timeline.boundsFn(e)},t.getSecByFrame=function(e){return this.assertFinite(e),this.timeline.getSecByFrame(this.boundsFn(e))},t.getSecByTv=function(e){return this.assertFinite(e),this.timeline.getSecByTv(this.boundsTv(e))},t.getMillisByTv=function(e){return this.assertFinite(e),this.timeline.getMillisByTv(this.boundsTv(e))},t.getTapeByTv=function(e){return this.assertFinite(e),this.timeline.getTapeByTv(this.boundsTv(e))},t.getTapeByFrame=function(e){return this.assertFinite(e),this.timeline.getTapeByFrame(this.boundsFn(e))},t.getTapeBySec=function(e){return this.assertFinite(e),this.timeline.getTapeByFrame(this.getFrameBySec(e))},t.getTapeTimecode=function(){return this.timeline.getTapeTimecode()},t.getDurationSec=function(){return this.timeline.getDurationSec()},t.getSeekableDurationSec=function(){return this.timeline.getSeekableDurationSec()},t.setSeekableDurationSec=function(e){this.assertFinite(e),this.timeline.setSeekableDurationSec(e)},t.getUpdateRx=function(){return this.timeline.getUpdateRx()},t.originalTimeline=function(){return this.timeline},t.getStartUTCTimestamp=function(){return this.timeline.getStartUTCTimestamp()},t.setStartUTCTimestamp=function(e){this.timeline.setStartUTCTimestamp(e)},t.getUTCTimestampBySec=function(e){return this.timeline.getUTCTimestampBySec(e)}}),{UNKNOWN:"Timeline"},{});var GenericTimeline=function(e,t,i){this.timeScale=e,this.frameDurationTv=t,this.timecode=i,this.updateRx=new Rx.Subject};GenericTimeline=stjs.extend(GenericTimeline,null,[Timeline],(function(e,t){t.updateRx=null,t.timeScale=0,t.frameDurationTv=0,t.timecode=null,t.durationSec=0,t.seekableDurationSec=-1,e.newGenericTime=function(e,t){var i=stjs.trunc(Math.round(e/t)),n=new TapeTimecode(!1,0,i);return new GenericTimeline(e,t,n)},t.getTimeScale=function(){return this.timeScale},t.getFrameCount=function(){return stjs.trunc(this.durationSec*this.timeScale/this.frameDurationTv)},t.getTvBySec=function(e){return stjs.trunc(this.timeScale*e)},t.getLastFrame=function(){return this.getFrameCount()-1},t.getLastTv=function(){return this.getTvByFrame(this.getLastFrame())},t.getTvByTimecode=function(e){var t=this.getTapeTimecode().getFrameByTimecode(e);return this.getTvByFrame(t)},t.getTvByFrame=function(e){return e*this.frameDurationTv},t.getFrameByTv=function(e){var t=e%this.frameDurationTv;return 0==t?stjs.trunc(stjs.trunc(e/this.frameDurationTv)):stjs.trunc(stjs.trunc((e-t)/this.frameDurationTv))},t.getFrameBySec=function(e){return this.getFrameByTv(this.floorTv(stjs.trunc(e*this.timeScale+42e-5)))},t.getFrameByTimecode=function(e){return this.timecode.getFrameByTimecode(e)},t.getFrameByMillis=function(e){return this.getFrameBySec(e/1e3)},t.floorTv=function(e){var t=e%this.frameDurationTv;return 0==t?e:e-t},t.boundsFn=function(e){return Math.min(Math.max(e,0),this.getFrameCount()-1)},t.getSecByFrame=function(e){var t=this.boundsFn(e);return t*this.frameDurationTv/this.timeScale},t.getSecByTv=function(e){return e/this.timeScale},t.getMillisByTv=function(e){return stjs.trunc(1e3*e/this.timeScale)},t.getTapeByTv=function(e){return this.timecode.getTimecodeAtFrame(this.getFrameByTv(e))},t.getTapeByFrame=function(e){return this.timecode.getTimecodeAtFrame(e)},t.getTapeBySec=function(e){return this.timecode.getTimecodeAtFrame(this.getFrameBySec(e))},t.getTapeTimecode=function(){return this.timecode},t.getDurationSec=function(){return this.durationSec},t.getSeekableDurationSec=function(){return this.seekableDurationSec},t.setSeekableDurationSec=function(e){this.seekableDurationSec=e,this.updateRx.onNext(this)},t.setDurationSec=function(e){this.durationSec=e,-1==this.seekableDurationSec&&(this.seekableDurationSec=e),this.updateRx.onNext(this)},t.getUpdateRx=function(){return this.updateRx},t.getStartUTCTimestamp=function(){throw new RuntimeException("not supported")},t.setStartUTCTimestamp=function(e){throw new RuntimeException("not supported")},t.getUTCTimestampBySec=function(e){throw new RuntimeException("not supported")}}),{updateRx:{name:"Rx.Subject",arguments:["Timeline"]},timecode:"TapeTimecode",UNKNOWN:"Timeline"},{});var MP4Timeline=function(e){this.pkts=e,this.timeScale=e[0].timescale;var t=!1,i=stjs.trunc(e[0].timecode),n=stjs.trunc(Math.round(this.timeScale/e[0].duration));this.timecode=new TapeTimecode(t,i,n),this.pkts.sort((function(e,t){var i=e.pts,n=t.pts;return MP4Timeline.longCompare(i,n)})),this.seekableDurationSec=this.getDurationSec(),this.updateRx=new Rx.Subject};MP4Timeline=stjs.extend(MP4Timeline,null,[Timeline],(function(e,t){t.timeScale=0,t.timecode=null,t.pkts=null,t.seekableDurationSec=0,t.updateRx=null,e.longCompare=function(e,t){return e<t?-1:e==t?0:1},t.getTimeScale=function(){return this.timeScale},t.getFrameCount=function(){return this.pkts.length},t.getTvBySec=function(e){return stjs.trunc(this.timeScale*e)},t.getLastFrame=function(){return this.getFrameCount()-1},t.getLastTv=function(){return this.getTvByFrame(this.getLastFrame())},t.getTvByTimecode=function(e){var t=this.getTapeTimecode().getFrameByTimecode(e);return this.getTvByFrame(this.boundsFn(t))},t.getTvByFrame=function(e){if(e==this.pkts.length){var t=this.pkts[e-1];return t.pts+t.duration}return this.pkts[e].pts},t.getFrameByTv=function(e){var t=Utils.binarySearch(this.pkts,(function(t){return MP4Timeline.longCompare(t.pts,e)}));return t>=0?t:-(t+1)},t.getFrameBySec=function(e){return this.getFrameByTv(this.floorTv(stjs.trunc(e*this.timeScale+42e-5)))},t.getFrameByTimecode=function(e){return this.timecode.getFrameByTimecode(e)},t.getFrameByMillis=function(e){return this.getFrameBySec(e/1e3)},t.floorTv=function(e){var t=this.getFrameByTv(e),i=this.pkts[t];return i.pts},t.boundsFn=function(e){return Math.min(Math.max(e,0),this.getFrameCount()-1)},t.getSecByFrame=function(e){var t=this.boundsFn(e),i=this.pkts[t];return i.pts/i.timescale},t.getSecByTv=function(e){return e/this.timeScale},t.getMillisByTv=function(e){return stjs.trunc(1e3*e/this.timeScale)},t.getTapeByTv=function(e){return this.timecode.getTimecodeAtFrame(this.getFrameByTv(e))},t.getTapeByFrame=function(e){return this.timecode.getTimecodeAtFrame(e)},t.getTapeBySec=function(e){return this.timecode.getTimecodeAtFrame(this.getFrameBySec(e))},t.getTapeTimecode=function(){return this.timecode},t.getDurationSec=function(){var e=this.pkts[this.pkts.length-1],t=e.pts+e.duration;return t/e.timescale},t.getSeekableDurationSec=function(){return this.seekableDurationSec},t.setSeekableDurationSec=function(e){this.seekableDurationSec=e,this.updateRx.onNext(this)},t.getUpdateRx=function(){return this.updateRx},t.getStartUTCTimestamp=function(){throw new RuntimeException("not supported")},t.setStartUTCTimestamp=function(e){throw new RuntimeException("not supported")},t.getUTCTimestampBySec=function(e){throw new RuntimeException("not supported")}}),{timecode:"TapeTimecode",pkts:{name:"Array",arguments:["MovDasher.TimePacket"]},updateRx:{name:"Rx.Subject",arguments:["Timeline"]},UNKNOWN:"Timeline"},{});var StaticVideoSrc=function(e,t){this.url=e,this.errorRx=t};StaticVideoSrc=stjs.extend(StaticVideoSrc,null,[VideoSrc],(function(e,t){t.url=null,t.errorRx=null,t.video=null,t.autoDisposables=null,t.detach=function(){null!=this.video&&(this.video.src=""),null!=this.autoDisposables&&this.autoDisposables.dispose()},t.attach=function(e){this.autoDisposables=new Rx.CompositeDisposable,this.video=e,this.video.src=this.url,this.autoDisposables.add(Rx.Observable.fromEvent(e,"error").skipUntil(this.loadedMetadata()).subscribe(stjs.bind(this,(function(t){var i=new PlayerError("media element error code="+e.error.code,PlayerError.FATAL,e.error);this.errorRx.onNext(i)}))))},t.getLoadingErrors=function(){return Rx.Observable.fromEvent(this.video,"error").takeUntil(this.loadedMetadata()).map(stjs.bind(this,(function(e){return new PlayerError("can not load media. error code="+this.video.error.code,PlayerError.FATAL,this.video.error)})))},t.loadedMetadata=function(){return Rx.Observable.fromEvent(this.video,"loadedmetadata")},t.canSetAudioWithoutReattach=function(e){return!0},t.setAudio=function(e){},t.clearAudioBuffer=function(){}}),{errorRx:{name:"Rx.Subject",arguments:["PlayerError"]},video:"Video",autoDisposables:"Rx.CompositeDisposable"},{});var DashStreamFrameExtractor=function(e,t,i,n){AbstractFrameExtractor.call(this),this.segmentedStream=e,this.timeline=t,this.log=i,this.errorRx=n};DashStreamFrameExtractor=stjs.extend(DashStreamFrameExtractor,AbstractFrameExtractor,[],(function(e,t){t.segmentedStream=null,t.timeline=null,t.log=null,t.errorRx=null,t.init=function(e){this.frameData=new Array,this.iframes=new Array,this.addIFrames(),this.segmentedStream.getUpdateRx().subscribe(stjs.bind(this,(function(e){return this.addIFrames()}))),this.segmentedStream.getDashInit(stjs.bind(this,(function(t){this.mp4box=Mp4Loader.parseMoov(t),e(this.getInfo())})),stjs.bind(this,(function(e){return this.errorRx.onNext(new PlayerError("error loading dash init segment from thumb stream",PlayerError.NONFATAL))})))},t.addIFrames=function(){for(var e=0;e<this.segmentedStream.getSegmentCount();e++){var t=this.segmentedStream.getSegmentStartTime(e),i=this.timeline.getFrameBySec(t);this.addIFrame(i)}},t.addIFrame=function(e){var t=Utils.binarySearch1(this.iframes,e),i=this.iframes[t];e!=i&&this.iframes.splice(t+1,0,e)},t.getInfo=function(){var e=this.mp4box.getInfo().videoTracks[0].video;return new FilmstripInfo(e.width,e.height,this.timeline.getFrameCount())},t.getPrevIframe=function(e){return this.iframes[Utils.binarySearch1(this.iframes,e)]},t.loadFrameData=function(e){return Rx.Observable.create(stjs.bind(this,(function(t){if(null==this.frameData[e]&&e>=0&&e<this.getInfo().framesTotal){var i=this.timeline.getSecByFrame(e),n=this.segmentedStream.getSegmentIdxByTime(i);return this.segmentedStream.loadSegment(n,stjs.bind(this,(function(i){this.processSegment(n,i),t.onNext(e),t.onCompleted()})),stjs.bind(this,(function(e){this.errorRx.onNext(new PlayerError("error loading thumbs segment",PlayerError.NONFATAL,n,e)),t.onError(e)})))}return t.onNext(e),t.onCompleted(),function(){}})))},t.processSegment=function(e,t){for(var i=this.timeline.getFrameBySec(this.segmentedStream.getSegmentStartTime(e)),n=Mp4Loader.parseMoof(t),r=MovDasher.getTrunSamplesInfo(n),s=0;s<r.length;s++){var o=i+s,a=r[s],u=this.getNALUnits(t,stjs.trunc(a.offset),a.size);this.frameData[o]=u,this.isIFrame(u)&&this.addIFrame(o)}},t.isIFrame=function(e){for(var t=0;t<e.length;t++){var i=31&e[t][0];if(5==i)return!0}return!1},t.getNALLength=function(e,t,i){var n=new DataView(e,t,4).getInt32(0);if(1!=n)return n;var r=t+4;while(1!=new DataView(e,r,4).getInt32(0)){if(r==i-4)return i-t-4;r++}return r-t-4},t.getNALUnits=function(e,t,i){var n=t,r=[];while(n-t<i){var s=this.getNALLength(e,n,t+i);r.push(new Uint8Array(e,n+4,s)),n+=s+4}return r}}),{segmentedStream:"SegmentedStream",timeline:"Timeline",log:"Log",errorRx:{name:"Rx.Subject",arguments:["PlayerError"]},mp4box:"MP4Box",iframes:{name:"Array",arguments:[null]},frameData:{name:"Array",arguments:[{name:"Array",arguments:["Uint8Array"]}]}},{});var DynamicDash=function(e,t,i,n){if(this.videoSegmentedStream=e,this.audioDashStream=t,this.log=i,this.errorRx=n,this.hasAudio=null!=t,this.hasVideo=null!=e,!this.hasVideo&&!this.hasAudio)throw n.onNext(new PlayerError("no audio and no video streams!",PlayerError.FATAL)),new RuntimeException("no audio and no video streams!");this.hasAudio&&(this.rawAudioStream="audio/mpeg".equals(this.audioDashStream.mimeType)),this.audioToSet=[],this.autoDisposables=new Rx.CompositeDisposable,this.audioBufferIgnoreUpdates=new Rx.BehaviorSubject(!1),this.videoBufferIgnoreUpdates=new Rx.BehaviorSubject(!1)};DynamicDash=stjs.extend(DynamicDash,null,[VideoSrc],(function(e,t){t.log=null,t.errorRx=null,e.SOURCEOPEN="sourceopen",e.READYSTATE_CLOSED="closed",e.READYSTATE_OPEN="open",e.READYSTATE_ENDED="ended",e.BUFFER_ERROR="error",e.BUFFER_UPDATEEND="updateend",e.ABORT_IMPOSSIBLE=function(){},t.MIN_TIME=1e-4,t.VIDEO_END_THRESHOLD=.01,t.hasAudio=!1,t.hasVideo=!1,t.rawAudioStream=!1,t.mediaSource=null,t.video=null,t.videoBuffer=null,t.audioBuffer=null,t.audioBufferIgnoreUpdates=null,t.videoBufferIgnoreUpdates=null,t.videoQueriedQueue=null,t.videoLoadedQueue=null,t.audioQueriedQueue=null,t.audioLoadedQueue=null,t.audioDashStream=null,t.videoSegmentedStream=null,t.videoTimeupdateRx=null,t.videoSeekingRx=null,t.audioUpdateSubscription=null,t.audioToSet=null,t.audioInitInProgress=!1,t.audioInitialized=!1,t.lastAppendedVideoSegment=0,t.lastAppendedAudioSegment=0,t.lastAppendedResetterInterval=null,t.autoDisposables=null,e.VIDEO_PREBUFFER_TIME=15,e.AUDIO_PREBUFFER_TIME=15,t.reset=function(){this.video=null,this.mediaSource=null,this.videoBuffer=null,this.audioBuffer=null,this.videoQueriedQueue={},this.videoLoadedQueue={},this.audioQueriedQueue={},this.audioLoadedQueue={},clearInterval(this.lastAppendedResetterInterval),this.lastAppendedAudioSegment=-1,this.lastAppendedVideoSegment=-1},t.detach=function(){null!=this.video&&(this.autoDisposables.dispose(),this.autoDisposables=new Rx.CompositeDisposable,this.abortAllSegmentsLoading(this.videoQueriedQueue),this.abortAllSegmentsLoading(this.audioQueriedQueue),null!=this.video&&(this.video.src=""),this.reset())},t.attach=function(e){this.reset(),this.mediaSource=new MediaSource,this.autoDisposable(Rx.Observable.fromEvent(this.mediaSource,DynamicDash.SOURCEOPEN).doOnNext(stjs.bind(this,(function(e){return this.initMediaSource()}))).subscribe()),this.video=e,this.video.src=URL.createObjectURL(this.mediaSource)},t.canSetAudioWithoutReattach=function(e){return this.hasAudio&&this.audioDashStream.mimeType==e.mimeType},t.setAudio=function(e){if(this.log.debug("set audio"),this.audioInitInProgress&&(this.log.debug("postponed setting audio. another audio init is in progress"),this.audioToSet.push(e)),this.hasAudio=!0,this.rawAudioStream="audio/mpeg".equals(e.mimeType),null==this.mediaSource||this.mediaSource.readyState!=DynamicDash.READYSTATE_OPEN&&this.mediaSource.readyState!=DynamicDash.READYSTATE_ENDED)this.audioDashStream=e;else{if(this.audioInitialized=!1,this.audioInitInProgress=!0,null==this.audioBuffer){var t=e.mimeType+(null==e.codecs?"":'; codecs="'+e.codecs+'"');this.audioBuffer=this.mediaSource.addSourceBuffer(t),this.audioBuffer.addEventListener(DynamicDash.BUFFER_ERROR,stjs.bind(this,(function(t){this.errorRx.onNext(new PlayerError("audio source buffer error",PlayerError.FATAL,t,this.video.error,e.url))}))),this.audioBuffer.addEventListener("abort",stjs.bind(this,(function(e){return this.log.debug("audio buffer abort",e)}))),this.audioUpdateRx=Rx.Observable.fromEvent(this.audioBuffer,DynamicDash.BUFFER_UPDATEEND).filter(stjs.bind(this,(function(e){return!this.audioBuffer.updating}))),this.audioBufferIgnoreUpdates.onNext(!1)}null!=this.audioUpdateSubscription&&(this.audioUpdateSubscription.dispose(),this.audioUpdateSubscription=null);var i=this.clearAudioBufferRx(),n=i.flatMap(stjs.bind(this,(function(t){return this.log.debug("adding new audio"),this.audioDashStream=e,this.initAudio()}))).subscribe(stjs.bind(this,(function(e){this.autoDisposable(this.audioDashStream.getUpdateRx().subscribe(stjs.bind(this,(function(e){this.lastAppendedAudioSegment=-1,this.regularBuffersCheck()})))),this.audioUpdateSubscription=this.audioUpdateRx.subscribe(stjs.bind(this,(function(e){return this.audioUpdateEnd()}))),this.autoDisposable(this.audioUpdateSubscription),this.audioInitialized=!0,this.audioInitInProgress=!1;var t=this.audioToSet.shift();null!=t&&this.setAudio(t)})));this.autoDisposable(n)}},t.appendAudioBuffer=function(e){var t=Rx.Observable.create(stjs.bind(this,(function(t){this.audioBuffer.updating?t.onError("audio buffer updating"):(this.audioBuffer.appendBuffer(e),t.onNext(!0),t.onCompleted())})));return t.retryWhen(stjs.bind(this,(function(e){return e.flatMap(stjs.bind(this,(function(e){return this.audioUpdateRx.take(1)})))})))},t.trySetDuration=function(){if(null!=this.audioBuffer&&this.audioBuffer.updating||null!=this.videoBuffer&&this.videoBuffer.updating){var e=this.videoUpdateRx;null!=this.audioUpdateRx&&(e=Rx.Observable.merge(this.videoUpdateRx,this.audioUpdateRx)),this.autoDisposable(e.take(1).subscribe(stjs.bind(this,(function(e){return this.trySetDuration()}))))}else this.hasVideo?this.videoSegmentedStream.isDynamic()?this.mediaSource.duration=100500:this.mediaSource.duration=this.videoSegmentedStream.getDurationSec():this.audioDashStream.isDynamic()?this.mediaSource.duration=100500:this.mediaSource.duration=this.audioDashStream.getDurationSec(),this.log.debug("media source duration "+this.mediaSource.duration)},t.initAudio=function(){this.log.debug("adding audio init segment");var e=Rx.Observable.create(stjs.bind(this,(function(e){this.audioDashStream.getDashInit((function(t){e.onNext(t),e.onCompleted()}),stjs.bind(this,(function(t){var i=new PlayerError("can not load initialization segment",PlayerError.FATAL,this.audioDashStream.url);this.errorRx.onNext(i),e.onError(i)})))}))),t=e.flatMap(stjs.bind(this,(function(e){return null==e?(this.log.debug("special case for no init segment mp3 stream, triggering audio update end"),this.audioBuffer.appendBuffer(new ArrayBuffer(0)),Rx.Observable.just(!0)):this.appendAudioBuffer(e)})));return t.doOnNext(stjs.bind(this,(function(e){return this.log.debug("audio init done")})))},t.appendVideoInit=function(){this.log.debug("adding video init segment"),this.videoSegmentedStream.getDashInit(stjs.bind(this,(function(e){null!=e&&null!=this.videoBuffer&&this.videoBuffer.appendBuffer(e)})),stjs.bind(this,(function(e){this.errorRx.onNext(new PlayerError("can not load initialization segment",PlayerError.FATAL,this.videoSegmentedStream.url))})))},t.initMediaSource=function(){this.mediaSource.readyState!=DynamicDash.READYSTATE_OPEN||this.mediaSource.sourceBuffers.length>0||(this.log.debug("initializing media source"),this.hasVideo&&(this.videoBuffer=this.mediaSource.addSourceBuffer(this.videoSegmentedStream.mimeType+'; codecs="'+this.videoSegmentedStream.codecs+'"'),this.videoBuffer.addEventListener(DynamicDash.BUFFER_ERROR,stjs.bind(this,(function(e){this.errorRx.onNext(new PlayerError("video source buffer error",PlayerError.FATAL,e,this.video.error,this.videoSegmentedStream.url))}))),this.autoDisposable(this.videoSegmentedStream.getUpdateRx().subscribe(stjs.bind(this,(function(e){this.lastAppendedVideoSegment=-1,this.regularBuffersCheck()})))),this.videoUpdateRx=Rx.Observable.fromEvent(this.videoBuffer,DynamicDash.BUFFER_UPDATEEND),this.autoDisposable(this.videoUpdateRx.subscribe(stjs.bind(this,(function(e){return this.videoUpdateEnd()})))),this.videoBufferIgnoreUpdates.onNext(!1)),this.trySetDuration(),this.hasVideo&&this.appendVideoInit(),this.hasAudio&&this.setAudio(this.audioDashStream),this.videoTimeupdateRx=Rx.Observable.fromEvent(this.video,VideoElement.TIMEUPDATE),this.videoSeekingRx=Rx.Observable.fromEvent(this.video,VideoElement.SEEKING),this.autoDisposable(this.videoTimeupdateRx.subscribe(stjs.bind(this,(function(e){return this.regularBuffersCheck()})))),this.autoDisposable(this.videoSeekingRx.subscribe(stjs.bind(this,(function(e){this.controlSegmentsRequests(),this.regularBuffersCheck()})))),this.lastAppendedResetterInterval=setInterval(stjs.bind(this,(function(){this.lastAppendedVideoSegment=-1,this.lastAppendedAudioSegment=-1})),3e4))},t.videoUpdateEnd=function(){this.log.debug("videoUpdateEnd"),null!=this.videoBuffer?this.videoBufferIgnoreUpdates.getValue()?this.log.debug("videoBufferIgnoreUpdates == true, do nothing"):(this.processVideoLoadedQueue(),this.videoBufferUpdating()||(this.bufferedEnough(this.videoBuffer,DynamicDash.VIDEO_PREBUFFER_TIME)||this.queryVideoSegment(this.nextUnbufferedTime(this.videoBuffer)),this.mediaSource.readyState==DynamicDash.READYSTATE_ENDED||!this.bufferedEndOfStream()||this.videoBufferUpdating()||this.audioBufferUpdating()||(this.log.debug("end of stream"),this.mediaSource.endOfStream()))):this.log.debug("self.videoBuffer == null")},t.videoBufferUpdating=function(){return null==this.videoBuffer&&this.log.debug("self.videoBuffer == null"),null!=this.videoBuffer&&this.videoBuffer.updating},t.audioBufferUpdating=function(){return null!=this.audioBuffer&&this.audioBuffer.updating},t.audioUpdateEnd=function(){this.log.debug("audioUpdateEnd"),null!=this.audioBuffer?this.audioBufferIgnoreUpdates.getValue()?this.log.debug("audioBufferIgnoreUpdates == true, do nothing"):(this.processAudioLoadedQueue(),this.audioBufferUpdating()||(this.bufferedEnough(this.audioBuffer,DynamicDash.AUDIO_PREBUFFER_TIME)||this.queryAudioSegment(this.nextUnbufferedTime(this.audioBuffer)),this.mediaSource.readyState==DynamicDash.READYSTATE_ENDED||!this.bufferedEndOfStream()||this.videoBufferUpdating()||this.audioBufferUpdating()||(this.log.debug("end of stream"),this.mediaSource.endOfStream()))):this.log.debug("audioBuffer == null")},t.regularBuffersCheck=function(){this.hasVideo&&null!=this.videoBuffer&&!this.videoBuffer.updating&&(this.bufferedEnough(this.videoBuffer,DynamicDash.VIDEO_PREBUFFER_TIME)||this.queryVideoSegment(this.nextUnbufferedTime(this.videoBuffer))),this.hasAudio&&this.audioInitialized&&null!=this.audioBuffer&&!this.audioBuffer.updating&&(this.bufferedEnough(this.audioBuffer,DynamicDash.AUDIO_PREBUFFER_TIME)||this.queryAudioSegment(this.nextUnbufferedTime(this.audioBuffer)))},t.controlSegmentsRequests=function(){this.abortUnneededSegmentsLoading(this.videoQueriedQueue,DynamicDash.VIDEO_PREBUFFER_TIME),this.abortUnneededSegmentsLoading(this.audioQueriedQueue,DynamicDash.AUDIO_PREBUFFER_TIME)},t.bufferedEndOfStream=function(){if(this.hasVideo){if(this.videoSegmentedStream.isDynamic())return!1;if(null==this.videoBuffer)return!1;var e=this.videoBuffer.buffered,t=e.length>0&&e.end(e.length-1)>=this.getTimelineEnd()-this.VIDEO_END_THRESHOLD,i=this.lastAppendedVideoSegment==this.videoSegmentedStream.getSegmentCount()-1,n=t||i;return this.hasAudio&&this.audioInitialized?n&&this.bufferedAudioEnd():n}if(this.hasAudio)return this.bufferedAudioEnd();throw new RuntimeException("invalid state")},t.bufferedAudioEnd=function(){var e=this.audioBuffer.buffered,t=e.length>0&&e.end(e.length-1)>=this.getTimelineEnd()-this.MIN_TIME,i=this.lastAppendedAudioSegment==this.audioDashStream.getSegmentCount()-1;return t||i},e.Infinity=1/0,t.videoUpdateRx=null,t.audioUpdateRx=null,t.nextUnbufferedTime=function(e){for(var t=e.buffered,i=this.video.currentTime,n=i,r=0;r<t.length;r++)if(i>=t.start(r)&&i<=t.end(r)){n=t.end(r);break}return n<this.getTimelineEnd()?n+this.MIN_TIME:DynamicDash.Infinity},t.nextBufferedTime=function(e,t){for(var i=e.buffered,n=0;n<i.length;n++)if(i.start(n)>t)return i.start(n);return DynamicDash.Infinity},t.bufferedEnough=function(e,t){var i=this.nextUnbufferedTime(e);if(Math.abs(i-this.video.currentTime)<=this.MIN_TIME&&this.video.readyState==this.video.constructor.HAVE_ENOUGH_DATA)return 0!=e.buffered.length;var n=Math.min(this.video.currentTime+t,this.getTimelineEnd()-this.MIN_TIME);return i>=n},t.queryVideoSegment=function(e){var t=this.videoSegmentedStream.getSegmentIdxByTime(e);this.log.debug("querying video segment. time="+e+" nextBuf="+this.nextBufferedTime(this.videoBuffer,e)+" seg="+t),this.lastAppendedVideoSegment==t&&t+1<this.videoSegmentedStream.getSegmentCount()&&(t++,this.log.debug("seg==lastAppendedVideoSegment. trying next seg="+t)),this.lastAppendedVideoSegment!=t&&this.querySegment(this.videoSegmentedStream,t,this.videoQueriedQueue,this.videoLoadedQueue,stjs.bind(this,"processVideoLoadedQueue"))},t.queryAudioSegment=function(e){var t=this.audioDashStream.getSegmentIdxByTime(e);this.log.debug("querying audio segment. time="+e+" nextBuf="+this.nextBufferedTime(this.audioBuffer,e)+" seg="+t),this.lastAppendedAudioSegment==t&&t+1<this.audioDashStream.getSegmentCount()&&(t++,this.log.debug("seg==lastAppendedAudioSegment. trying next seg="+t)),this.lastAppendedAudioSegment!=t&&this.querySegment(this.audioDashStream,t,this.audioQueriedQueue,this.audioLoadedQueue,stjs.bind(this,"processAudioLoadedQueue"))},t.getTimelineEnd=function(){return this.hasAudio&&!this.hasVideo?this.audioDashStream.getDurationSec():this.hasAudio&&this.audioInitialized&&!this.audioDashStream.silenceAppended()?Math.min(this.videoSegmentedStream.getDurationSec(),this.audioDashStream.getDurationSec()):this.videoSegmentedStream.getDurationSec()},e.Key=function(){},e.Key=stjs.extend(e.Key,null,[],(function(e,t){t.segmentIdx=0,t.segStartTime=0,t.segEndTime=0,t.toString=function(){return DynamicDash.keyToString(this.segmentIdx,this.segStartTime,this.segEndTime)}}),{},{}),e.keyToString=function(e,t,i){return e+":"+t+":"+i},e.keyFromString=function(e){var t=e.split(":"),i=new DynamicDash.Key;return i.segmentIdx=Utils.toInt(t[0]),i.segStartTime=Utils.toDouble(t[1]),i.segEndTime=Utils.toDouble(t[2]),i},t.querySegment=function(e,t,i,n,r){var s=e.getSegmentStartTime(t),o=s+e.getSegmentDuration(t),a=DynamicDash.keyToString(t,s,o);if(null==i[a]&&null==n[a]){this.log.debug("requesting "+Utils.constructorName(e)+" seg="+t),i[a]=DynamicDash.ABORT_IMPOSSIBLE;var u=new MutableBoolean(!1),c=e.loadSegment(t,(function(e){null!=i[a]&&(u.value=!0,delete i[a],n[a]=e,r())}),stjs.bind(this,(function(t){delete i[a],this.errorRx.onNext(new PlayerError("can not load "+Utils.constructorName(e)+" segment "+a,PlayerError.NONFATAL))})));u.value||(i[a]=c)}},t.handleAppendBufferErrors=function(e,t,i,n,r){return e.concatMap(stjs.bind(this,(function(e){var s=e;return"QuotaExceededError".equals(s.name)?(this.log.debug("QuotaExceededError when appending "+t+" buffer"),r.onNext(!0),this.removeUnneededRanges(i,n).finally((function(){return r.onNext(!1)}))):"InvalidStateError".equals(s.name)&&i.updating?(this.log.debug(t+" buffer is updating. can not append"),n.take(1).map((function(e){return null}))):Rx.Observable.throw(s)}))).doOnError(stjs.bind(this,(function(e){this.errorRx.onNext(new PlayerError("can not append "+t+" buffer",PlayerError.FATAL,e))})))},t.appendVideoSegment=function(e,t){this.autoCleanupDisposable(stjs.bind(this,(function(i){return Rx.Observable.create(stjs.bind(this,(function(i){this.videoBuffer.timestampOffset=this.videoSegmentedStream.getSegmentTimestampOffset(e),this.videoBuffer.appendBuffer(t),i.onCompleted()}))).retryWhen(stjs.bind(this,(function(e){return this.handleAppendBufferErrors(e,"video",this.videoBuffer,this.videoUpdateRx,this.videoBufferIgnoreUpdates)}))).finally(i).subscribe((function(e){}),(function(e){}))})))},t.appendM4sAudioSegment=function(e,t){this.autoCleanupDisposable(stjs.bind(this,(function(i){return Rx.Observable.create(stjs.bind(this,(function(i){this.audioBuffer.timestampOffset=this.audioDashStream.getSegmentTimestampOffset(e),this.audioBuffer.appendBuffer(t),i.onCompleted()}))).retryWhen(stjs.bind(this,(function(e){return this.handleAppendBufferErrors(e,"audio",this.audioBuffer,this.audioUpdateRx,this.audioBufferIgnoreUpdates)}))).finally(i).subscribe((function(e){}),(function(e){}))})))},t.appendRawAudioSegment=function(e,t){this.autoCleanupDisposable(stjs.bind(this,(function(i){return Rx.Observable.create(stjs.bind(this,(function(i){var n=this.audioDashStream.getSegmentStartTime(e),r=this.audioDashStream.getSegmentDuration(e);this.audioBuffer.appendWindowStart=0,this.audioBuffer.appendWindowEnd=n+r,this.audioBuffer.appendWindowStart=n,this.audioBuffer.timestampOffset=n+this.audioDashStream.getSegmentTimestampOffset(e),this.audioBuffer.appendBuffer(t),i.onCompleted()}))).retryWhen(stjs.bind(this,(function(e){return this.handleAppendBufferErrors(e,"audio",this.audioBuffer,this.audioUpdateRx,this.audioBufferIgnoreUpdates)}))).finally(i).subscribe((function(e){}),(function(e){}))})))},t.processVideoLoadedQueue=function(){null!=this.videoBuffer&&(this.videoBuffer.updating||this.processLoadedQueue(this.videoLoadedQueue,stjs.bind(this,(function(e,t){this.lastAppendedVideoSegment=e,this.appendVideoSegment(e,t)}))))},t.processAudioLoadedQueue=function(){this.audioBuffer.updating||this.processLoadedQueue(this.audioLoadedQueue,stjs.bind(this,(function(e,t){this.lastAppendedAudioSegment=e,this.rawAudioStream?this.appendRawAudioSegment(e,t):this.appendM4sAudioSegment(e,t)})))},t.processLoadedQueue=function(e,t){var i=[];if(Utils.forEach(e,(function(e,t){i.push(DynamicDash.keyFromString(t))})),0!=i.length){i.sort((function(e,t){return stjs.trunc(e.segStartTime-t.segStartTime)}));var n=i[0],r=n.segmentIdx,s=e[n.toString()];delete e[n.toString()],t(r,s)}},t.clearAudioBufferRx=function(){var e=Rx.Observable.just(!0);return null!=this.audioBuffer&&(this.audioBufferIgnoreUpdates.onNext(!0),this.audioBuffer.updating&&(e=this.audioUpdateRx.take(1).doOnNext(stjs.bind(this,(function(e){return this.log.debug("abort() cought audioupdateend")}))).map((function(e){return!0}))),e=e.flatMap(stjs.bind(this,(function(e){return this.audioQueriedQueue={},this.audioLoadedQueue={},this.log.debug("abort++"),this.audioBuffer.updating&&this.log.debug("unexpected audio source buffer state: updating=true"),this.mediaSource.readyState!=DynamicDash.READYSTATE_CLOSED&&(this.mediaSource.readyState==DynamicDash.READYSTATE_OPEN&&this.audioBuffer.abort(),this.audioBuffer.buffered.length>0)?(this.log.debug("removing buffered audio"),this.audioBuffer.remove(0,this.audioBuffer.buffered.end(this.audioBuffer.buffered.length-1)),this.audioUpdateRx.take(1).map((function(e){return!0}))):Rx.Observable.just(!0)}))).doOnNext(stjs.bind(this,(function(e){this.lastAppendedAudioSegment=-1,this.audioBufferIgnoreUpdates.onNext(!1)})))),e},t.removeUnneededRanges=function(e,t){var i=this.video.currentTime-30,n=this.video.currentTime+30,r=30,s=e.buffered,o=new Array;if(s.length>0&&s.start(0)<i){var a=s.start(0),u=Math.min(s.start(0)+r,i);o.push([a,u])}var c=s.length-1;if(c>=0&&s.end(c)>n){a=Math.max(s.end(c)-r,n),u=s.end(c);o.push([a,u])}return Rx.Observable.from(o).concatMap(stjs.bind(this,(function(i){return Rx.Observable.create(stjs.bind(this,(function(t){this.log.debug("removing range "+i[0]+" to "+i[1]),e.remove(i[0],i[1]),t.onCompleted()}))).retryWhen((function(e){return t.take(1)}))}))).count()},t.clearAudioBuffer=function(){this.autoDisposable(this.clearAudioBufferRx().subscribe(stjs.bind(this,(function(e){return this.audioUpdateEnd()}))))},t.abortSegment=function(e,t){var i=e[t];delete e[t],i()},t.abortUnneededSegmentsLoading=function(e,t){var i=this.video.currentTime,n=i+t;Utils.forEach(e,stjs.bind(this,(function(t,r){var s=DynamicDash.keyFromString(r);(s.segStartTime>=n||s.segEndTime<=i)&&this.abortSegment(e,r)})))},t.abortAllSegmentsLoading=function(e){Utils.forEach(e,stjs.bind(this,(function(t,i){this.abortSegment(e,i)})))},t.autoDisposable=function(e){this.autoDisposables.add(e)},t.autoCleanupDisposable=function(e){var t=new Mutable(null),i=Rx.Disposable.create((function(){null!=t.value&&t.value.dispose()}));this.autoDisposables.add(i),t.value=e(stjs.bind(this,(function(){t.value=null,this.autoDisposables.remove(i)})))}}),{log:"Log",errorRx:{name:"Rx.Subject",arguments:["PlayerError"]},ABORT_IMPOSSIBLE:"Callback0",mediaSource:"MediaSource",video:"Video",videoBuffer:"SourceBuffer",audioBuffer:"SourceBuffer",audioBufferIgnoreUpdates:{name:"Rx.BehaviorSubject",arguments:[null]},videoBufferIgnoreUpdates:{name:"Rx.BehaviorSubject",arguments:[null]},videoQueriedQueue:{name:"Map",arguments:[null,"Callback0"]},videoLoadedQueue:{name:"Map",arguments:[null,"ArrayBuffer"]},audioQueriedQueue:{name:"Map",arguments:[null,"Callback0"]},audioLoadedQueue:{name:"Map",arguments:[null,"ArrayBuffer"]},audioDashStream:"SegmentedAudioStream",videoSegmentedStream:"SegmentedStream",videoTimeupdateRx:{name:"Rx.Observable",arguments:["DOMEvent"]},videoSeekingRx:{name:"Rx.Observable",arguments:["DOMEvent"]},audioUpdateSubscription:"Rx.Disposable",audioToSet:{name:"Array",arguments:["SegmentedAudioStream"]},lastAppendedResetterInterval:"TimeoutHandler",autoDisposables:"Rx.CompositeDisposable",videoUpdateRx:{name:"Rx.Observable",arguments:["DOMEvent"]},audioUpdateRx:{name:"Rx.Observable",arguments:["DOMEvent"]}},{});var DashTimeline=function(e,t,i,n,r,s){this.duration=i,this.seekableDurationSec=i/e,this.timeScale=e,this.dropFrame=!1;var o=0!=t?stjs.trunc(Math.round(e/t)):DashTimeline.DEFAULT_TAPE_FPS;this.tapeTimecode=new TapeTimecode(this.dropFrame,0,o),this.packetCache=null!=n?new OptimizedPacketCache(n,r,s):new DefaultPacketCache(t),this.updateRx=new Rx.Subject};DashTimeline=stjs.extend(DashTimeline,null,[Timeline],(function(e,t){e.DEFAULT_TAPE_FPS=24,t.duration=0,t.timeScale=0,t.dropFrame=!1,t.tapeTimecode=null,t.seekableDurationSec=0,t.packetCache=null,t.updateRx=null,t.startUTCTimestamp=null,t.getTimeScale=function(){return this.timeScale},t.getFrameCount=function(){return this.packetCache.getFrameCount(this.duration)},t.getTvBySec=function(e){return stjs.trunc(this.timeScale*e)},t.getLastFrame=function(){return this.getFrameCount()-1},t.getLastTv=function(){return this.getTvByFrame(this.getLastFrame())},t.getTvByTimecode=function(e){var t=this.getTapeTimecode().getFrameByTimecode(e);return this.getTvByFrame(t)},t.getTvByFrame=function(e){return this.packetCache.getTvByFrame(e)},t.getFrameByTv=function(e){return this.packetCache.getFrameByTv(e)},t.getFrameBySec=function(e){return this.getFrameByTv(this.floorTv(stjs.trunc(e*this.timeScale+42e-5)))},t.getFrameByTimecode=function(e){return this.getTapeTimecode().getFrameByTimecode(e)},t.getFrameByMillis=function(e){return this.getFrameBySec(e/1e3)},t.floorTv=function(e){return this.packetCache.floorTv(e)},t.boundsFn=function(e){return Math.min(Math.max(e,0),this.getFrameCount()-1)},t.getSecByFrame=function(e){var t=this.getTvByFrame(e);return t/this.timeScale},t.getSecByTv=function(e){return e/this.timeScale},t.getMillisByTv=function(e){return stjs.trunc(1e3*e/this.timeScale)},t.getTapeByTv=function(e){return this.getTapeTimecode().getTimecodeAtFrame(this.getFrameByTv(e))},t.getTapeByFrame=function(e){return this.getTapeTimecode().getTimecodeAtFrame(e)},t.getTapeBySec=function(e){return this.getTapeTimecode().getTimecodeAtFrame(this.getFrameBySec(e))},t.getTapeTimecode=function(){return this.tapeTimecode},t.getDurationSec=function(){return this.duration/this.timeScale},t.getSeekableDurationSec=function(){return this.seekableDurationSec},t.update=function(e,t,i){this.duration=e,this.packetCache.updateStartSegments(t,i),this.updateRx.onNext(this)},t.setSeekableDurationSec=function(e){this.seekableDurationSec=e,this.updateRx.onNext(this)},t.updateTimePackets=function(e,t){this.packetCache.updateTimePackets(e,t);var i=stjs.trunc(Math.round(this.timeScale/this.packetCache.getAverageFrameDuration()));this.tapeTimecode.setTapeFps(i),this.updateRx.onNext(this)},t.getUpdateRx=function(){return this.updateRx},t.getStartUTCTimestamp=function(){return this.startUTCTimestamp},t.setStartUTCTimestamp=function(e){this.startUTCTimestamp=e},t.getUTCTimestampBySec=function(e){var t=Date.parse(this.startUTCTimestamp)+1e3*e;return new Date(t).toISOString()}}),{tapeTimecode:"TapeTimecode",packetCache:"PacketCache",updateRx:{name:"Rx.Subject",arguments:["Timeline"]},UNKNOWN:"Timeline"},{});var M4ASegmentedStream=function(e){SegmentedAudioStream.call(this),this.segmentedStream=e,this.sampleRate=this.getDashDescriptor().timescale,this.totalSamples=this.getDashDescriptor().duration,this.mimeType=this.getDashDescriptor().mimeType,this.codecs=this.getDashDescriptor().codecs};M4ASegmentedStream=stjs.extend(M4ASegmentedStream,SegmentedAudioStream,[],(function(e,t){t.segmentedStream=null,t.silenceAppended=function(){return!1},t.getDashInit=function(e,t){this.segmentedStream.getDashInit(e,t)},t.loadSegment=function(e,t,i){return this.segmentedStream.loadSegment(e,t,i)},t.getDashDescriptor=function(){return this.segmentedStream.getDashDescriptor()},t.getChannelConfig=function(){return this.segmentedStream.getDashDescriptor().channelConfig}}),{segmentedStream:"SegmentedStream",channelMuted:{name:"Array",arguments:[null]},audioInfo:"AudioInfo",updateRx:{name:"Rx.Subject",arguments:["SegmentedStream"]}},{});var ConformedM4sAudioStream=function(e,t,i,n){SegmentedAudioStream.call(this),this.realStream=e,this.offsetPTS=t,this.log=n;var r=i-(t+e.totalSamples);this.tailSilenceDuration=1024*stjs.trunc(Math.ceil(r/1024)),this.totalSamples=t+e.totalSamples+this.tailSilenceDuration,this.sampleRate=e.sampleRate,this.offsetSec=t/e.sampleRate;var s=t%1024!=0;this.frameAlignTv=s?1024-t%1024:0,this.firstRealSegment=stjs.trunc(Math.ceil(t/ConformedM4sAudioStream.SILENCE_SEGMENT_DURATION)),this.lastRealSegment=this.firstRealSegment+this.realStream.getSegmentCount()-1,this.codecs=e.codecs,this.mimeType=e.mimeType};ConformedM4sAudioStream=stjs.extend(ConformedM4sAudioStream,SegmentedAudioStream,[],(function(e,t){t.realStream=null,t.offsetPTS=0,t.offsetSec=0,t.firstRealSegment=0,t.lastRealSegment=0,t.frameAlignTv=0,t.moovMp4Box=null,t.tailSilenceDuration=0,t.log=null,e.SILENCE_SEGMENT_DURATION=245760,e.ABORT_IMPOSSIBLE=function(){},t.getSegmentIdxByTime=function(e){var t=Utils.secondsToTv(e,this.sampleRate),i=this.offsetPTS+this.realStream.totalSamples;if(t<this.offsetPTS){var n=t+this.frameAlignTv;return stjs.trunc(stjs.trunc(n/ConformedM4sAudioStream.SILENCE_SEGMENT_DURATION))}return t<i?this.realStream.getSegmentIdxByTime(e-this.offsetSec)+this.firstRealSegment:stjs.trunc(stjs.trunc((t-i)/ConformedM4sAudioStream.SILENCE_SEGMENT_DURATION))+(this.lastRealSegment+1)},t.getSegmentStartTime=function(e){return this.getSegmentStartTv(e)/this.sampleRate},t.getSegmentStartTv=function(e){if(e<this.firstRealSegment){var t=e*ConformedM4sAudioStream.SILENCE_SEGMENT_DURATION,i=t-this.frameAlignTv;return i<0&&(i=0),i}if(e<=this.lastRealSegment)return this.realStream.getSegmentStartTv(e-this.firstRealSegment)+this.offsetPTS;var n=this.offsetPTS+this.realStream.totalSamples;return n+(e-(this.lastRealSegment+1))*ConformedM4sAudioStream.SILENCE_SEGMENT_DURATION},t.getSegmentDuration=function(e){if(e>=this.firstRealSegment&&e<=this.lastRealSegment)return this.realStream.getSegmentDuration(e-this.firstRealSegment);var t=this.getSilenceSegmentDurationInDTS(e);return 0==e&&(t-=this.frameAlignTv),t/this.sampleRate},t.getSilenceSegmentDurationInDTS=function(e){if(e>=this.firstRealSegment&&e<=this.lastRealSegment)throw new RuntimeException("not a silence segment "+e);if(e==this.firstRealSegment-1){var t=e*ConformedM4sAudioStream.SILENCE_SEGMENT_DURATION,i=this.offsetPTS+this.frameAlignTv;return i-t}if(e==this.getSegmentCount()-1){var n=this.tailSilenceDuration%ConformedM4sAudioStream.SILENCE_SEGMENT_DURATION;return n>0?n:ConformedM4sAudioStream.SILENCE_SEGMENT_DURATION}return ConformedM4sAudioStream.SILENCE_SEGMENT_DURATION},t.getSegmentCount=function(){var e=stjs.trunc(Math.ceil(this.tailSilenceDuration/ConformedM4sAudioStream.SILENCE_SEGMENT_DURATION));return this.firstRealSegment+this.realStream.getSegmentCount()+e},t.getDurationSec=function(){return this.totalSamples/this.sampleRate},t.getDashInit=function(e,t){this.realStream.getDashInit(stjs.bind(this,(function(t){this.moovMp4Box=Mp4Loader.parseMoov(t),e(t)})),t)},t.loadSegment=function(e,t,i){if(e<this.firstRealSegment){var n=e*ConformedM4sAudioStream.SILENCE_SEGMENT_DURATION,r=this.getSilenceSegmentDurationInDTS(e),s=MovDasher.createSilenceMoof(this.moovMp4Box,e,n,r,this.log);return t(s),ConformedM4sAudioStream.ABORT_IMPOSSIBLE}if(e<=this.lastRealSegment)return this.realStream.loadSegment(e-this.firstRealSegment,stjs.bind(this,(function(i){var n=this.realStream.getSegmentStartTv(e-this.firstRealSegment)+this.offsetPTS,r=n+this.frameAlignTv,s=MovDasher.conformMoof(i,e,r);t(s)})),i);var o=this.offsetPTS+this.realStream.totalSamples,a=o+this.frameAlignTv;n=a+(e-(this.lastRealSegment+1))*ConformedM4sAudioStream.SILENCE_SEGMENT_DURATION,r=this.getSilenceSegmentDurationInDTS(e),s=MovDasher.createSilenceMoof(this.moovMp4Box,e,n,r,this.log);return t(s),ConformedM4sAudioStream.ABORT_IMPOSSIBLE},t.silenceAppended=function(){return!0},t.getDashDescriptor=function(){throw new RuntimeException("not supported")},t.isDynamic=function(){return this.realStream.isDynamic()},t.getSegmentTimestampOffset=function(e){var t=-this.frameAlignTv/this.sampleRate;return this.realStream.getSegmentTimestampOffset(e)+t}}),{realStream:"SegmentedAudioStream",moovMp4Box:"MP4Box",log:"Log",ABORT_IMPOSSIBLE:"Callback0",channelMuted:{name:"Array",arguments:[null]},audioInfo:"AudioInfo",updateRx:{name:"Rx.Subject",arguments:["SegmentedStream"]}},{});var M4SMp3SegmentedStream=function(e){SegmentedAudioStream.call(this),this.mp3=e,this.proxyId=e.proxyId,this.sampleRate=e.sampleRate,this.channelMuted=new Array(e.audioInfo.channelCount),this.frameSize=stjs.trunc(Math.round(1e3*e.BITRATE*1152/(8*e.sampleRate))),this.mimeType="audio/mp4",this.serverUrl=e.serverUrl,this.audioInfo=e.audioInfo,this.url=e.url};M4SMp3SegmentedStream=stjs.extend(M4SMp3SegmentedStream,SegmentedAudioStream,[],(function(e,t){t.mp3=null,t.frameSize=0,t.loadSegment=function(e,t,i){var n=this;return this.mp3.channelMuted=this.channelMuted,this.mp3.loadSegment(e,stjs.bind(this,(function(i){var r,s=stjs.trunc(i.byteLength/n.frameSize);r=s>SegmentedAudioStream.FRAMES_PER_SEGMENT&&e<n.getSegmentCount()-1?new Uint8Array(i,0,SegmentedAudioStream.FRAMES_PER_SEGMENT*n.frameSize):new Uint8Array(i);var o=MovDasher.wrapMp3Segment(e,SegmentedAudioStream.FRAMES_PER_SEGMENT,this.totalSamples,this.frameSize,r);t(o)})),i)},t.getDurationSec=function(){return this.mp3.getDurationSec()},t.getDashDescriptor=function(){throw new RuntimeException("TODO")},t.getSegmentCount=function(){return this.mp3.getSegmentCount()},t.getSegmentDuration=function(e){return this.mp3.getSegmentDuration(e)},t.getSegmentIdxByTime=function(e){return this.mp3.getSegmentIdxByTime(e)},t.getSegmentStartTime=function(e){return this.mp3.getSegmentStartTime(e)},t.getDashInit=function(e,t){MovDasher.mp3InitSegment(this.sampleRate,this.totalSamples,this.frameSize,e)},t.silenceAppended=function(){return this.mp3.silenceAppended()}}),{mp3:"SegmentedAudioStream",channelMuted:{name:"Array",arguments:[null]},audioInfo:"AudioInfo",updateRx:{name:"Rx.Subject",arguments:["SegmentedStream"]}},{});var Mp3SegmentedAudioStream=function(e,t,i,n){throw SegmentedAudioStream.call(this),new RuntimeException("Mp3DashFile TODO")};Mp3SegmentedAudioStream=stjs.extend(Mp3SegmentedAudioStream,SegmentedAudioStream,[],(function(e,t){t.getSegmentCount=function(){throw new RuntimeException("TODO")},t.loadSegment=function(e,t,i){throw new RuntimeException("TODO")},t.getSegmentDuration=function(e){throw new RuntimeException("TODO")},t.getSegmentIdxByTime=function(e){throw new RuntimeException("TODO")},t.getSegmentStartTime=function(e){throw new RuntimeException("TODO")},t.getDashInit=function(e,t){throw new RuntimeException("TODO")},t.getDashDescriptor=function(){throw new RuntimeException("TODO")},t.silenceAppended=function(){throw new RuntimeException("TODO")}}),{channelMuted:{name:"Array",arguments:[null]},audioInfo:"AudioInfo",updateRx:{name:"Rx.Subject",arguments:["SegmentedStream"]}},{});var HLSPlaylist=function(){this.headers={},this.mediaList=[],this.variantList=[]};HLSPlaylist=stjs.extend(HLSPlaylist,null,[],(function(e,t){e.NO="NO",e.YES="YES",e.ENDLIST="#EXT-X-ENDLIST",e.EXTM3U="#EXTM3U",e.EXTINF="#EXTINF",e.ALLOW_CACHE="#EXT-X-ALLOW-CACHE",e.START="#EXT-X-START",e.MEDIA_SEQUENCE="#EXT-X-MEDIA-SEQUENCE",e.TARGETDURATION="#EXT-X-TARGETDURATION",e.PLAYLIST_TYPE="#EXT-X-PLAYLIST-TYPE",e.VERSION="#EXT-X-VERSION",e.BANDWIDTH="BANDWIDTH",e.RESOLUTION="RESOLUTION",e.URI="URI",e.AUTOSELECT="AUTOSELECT",e.DEFAULT="DEFAULT",e.GROUP_ID="GROUP-ID",e.TYPE="TYPE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.NAME="NAME",e.Related="#EXT-X-MEDIA",e._Variant="#EXT-X-STREAM-INF",e.EVENT="EVENT",e.VOD="VOD",e.RelatedPlaylist=function(e){this.attributes=e},e.RelatedPlaylist=stjs.extend(e.RelatedPlaylist,null,[],(function(e,t){t.attributes=null}),{attributes:{name:"Map",arguments:[null,null]}},{}),e.createVariant=function(e,t){var i=new HLSPlaylist.Variant;return i.uri=e,i.attributes=t,i},e.Variant=function(){},e.Variant=stjs.extend(e.Variant,null,[],(function(e,t){t.uri=null,t.attributes=null}),{attributes:{name:"Map",arguments:[null,null]}},{}),e.Media=function(e,t){this.url=e,this.durationSec=t},e.Media=stjs.extend(e.Media,null,[],(function(e,t){t.url=null,t.durationSec=0}),{},{}),t.uri=null,t.headers=null,t.mediaList=null,t.variantList=null,t.endList=!1,t.getRelatedPlaylists=function(){var e=this.headers[HLSPlaylist.Related],t=e.map((function(e,t,i){return new HLSPlaylist.RelatedPlaylist(HLSPlaylist.parseAttributeList(e))}));return t},t.getVariantList=function(){return this.copyOf(this.variantList)},t.copyOf=function(e){return e.slice(0)},t.getDurationSec=function(){for(var e=0,t=0;t<this.mediaList.length;t++)e+=this.mediaList[t].durationSec;return e},t.getMediaList=function(){return this.copyOf(this.mediaList)},t.setEndList=function(e){this.endList=e},t.hasEndList=function(){return this.endList},t.addMedia=function(e,t){this.mediaList.push(new HLSPlaylist.Media(e,t))},t.setVersion=function(e){this.setHeader(HLSPlaylist.VERSION,Integer.toString(e))},t.setHeader=function(e,t){this.headers[e]=[t]},t.getVersion=function(){return this.toInt(this.getHeader(HLSPlaylist.VERSION))},t.toInt=function(e){return parseInt(e)},t.setTargetDuration=function(e){this.setHeader(HLSPlaylist.TARGETDURATION,Integer.toString(e))},t.getTargetDuration=function(){return this.toInt(this.getHeader(HLSPlaylist.TARGETDURATION))},t.setPlaylistType=function(e){this.setHeader(HLSPlaylist.PLAYLIST_TYPE,e)},t.getPlaylistType=function(){return this.getHeader(HLSPlaylist.PLAYLIST_TYPE)},t.getHeader=function(e){return this.containsKey(e)?this.headers[e][0]:null},t.containsKey=function(e){return this.headers.hasOwnProperty(e)},t.setMediaSequence=function(e){this.setHeader(HLSPlaylist.MEDIA_SEQUENCE,Integer.toString(e))},t.getMediaSequence=function(){return this.toInt(this.getHeader(HLSPlaylist.MEDIA_SEQUENCE))},t.setAllowCache=function(e){this.setHeader(HLSPlaylist.ALLOW_CACHE,e?HLSPlaylist.YES:HLSPlaylist.NO)},t.getAllowCache=function(){return HLSPlaylist.toBooleanObject(this.getHeader(HLSPlaylist.ALLOW_CACHE))},e.toBooleanObject=function(e){return!!HLSPlaylist.YES.equals(e)||!HLSPlaylist.NO.equals(e)&&null},e.attrsToString=function(e){var t="";for(var i in e){""!=t&&(t+=",");var n=e[i];null!=n&&(t+="="+n)}return t},e.parseString=function(e,t){return HLSPlaylist.parseM3U8(e.replaceAll("\r\n","\n").split("\n"),t)},e.parseM3U8=function(e,t){var i=e.length>0?e.shift():null;if(!HLSPlaylist.EXTM3U.equals(i))return null;var n=new HLSPlaylist,r=!1,s=!1,o=-1;while(e.length>0)if(i=e.shift(),""!=i.trim())if(i.startsWith("#")){if(i.startsWith(HLSPlaylist.EXTINF)){var a=HLSPlaylist.split(i);o=Double.parseDouble(a[1].replaceAll(",$","")),r=!0}else if(i.startsWith(HLSPlaylist._Variant)){a=HLSPlaylist.split(i);var u=new HLSPlaylist.Variant;u.attributes=HLSPlaylist.parseAttributeList(a[1]),n.variantList.push(u),s=!0}else if(i.startsWith(HLSPlaylist.ENDLIST))n.endList=!0;else if(i.startsWith("#EXT-X")){a=HLSPlaylist.split(i);var c=a[0],f=a[1];n.addHeader(c,f)}}else if(r)n.addMedia(i,o);else{if(!s)throw new HLSPlaylist.HLSParseException("error parsing m3u8 line: "+i);n.variantList[n.variantList.length-1].uri=i}return n},e.split=function(e){var t=e.indexOf(":");return t<0?[e]:[e.substring(0,t),e.substring(t+1)]},t.setStart=function(e,t){this.setHeader(HLSPlaylist.START,String.format("TIME-OFFSET=%f,PRECISE=%s",e,t?HLSPlaylist.YES:HLSPlaylist.NO))},t.getStart=function(){var e=this.getHeader(HLSPlaylist.START);if(null==e)return null;var t=HLSPlaylist.parseAttributeList(e);return Pair.of(HLSPlaylist.toFloatObject(t["TIME-OFFSET"]),HLSPlaylist.toBooleanObject(t["PRECISE"]))},e.parseAttributeList=function(e){var t={},i=new RegExp('(([^,]+)=(".+?"|[^,]+)),?',"g"),n=[];while(null!=(n=i.exec(e)))t[n[2]]=n[3];return t},e.toFloatObject=function(e){try{return Float.parseFloat(e)}catch(t){return null}},t.addRelatedPlaylist=function(e){this.addHeader(HLSPlaylist.Related,HLSPlaylist.attrsToString(e))},t.addHeader=function(e,t){this.containsKey(e)||(this.headers[e]=[]),this.headers[e].push(t)},t.addVariantStream=function(e){this.variantList.push(e)},e.quote=function(e){return'"'+e+'"'},e.audio=function(e,t,i){var n={};return n[HLSPlaylist.TYPE]=HLSPlaylist.AUDIO,n[HLSPlaylist.GROUP_ID]=i,n[i]=HLSPlaylist.quote(e),n[HLSPlaylist.URI]=HLSPlaylist.quote(t),n[HLSPlaylist.TYPE]=HLSPlaylist.AUDIO,n},e.testParse4=function(){var e=["#EXTM3U","#EXT-X-VERSION:4",'#EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID="index_audio",NAME="eredeti",DEFAULT=NO,AUTOSELECT=YES,URI="AUD_MUL.m3u8"','#EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID="index_audio",NAME="magyar",DEFAULT=YES,AUTOSELECT=YES,LANGUAGE="hu",URI="AUD_HUN.m3u8"','#EXT-X-STREAM-INF:PROGRAM-ID=16,BANDWIDTH=2699680,RESOLUTION=1280x720,CODECS="avc1.4d401f,mp4a.40.2",AUDIO="index_audio"',"VID_1280x720.m3u8",'#EXT-X-STREAM-INF:PROGRAM-ID=16,BANDWIDTH=2185312,RESOLUTION=1024x576,CODECS="avc1.4d401f,mp4a.40.2",AUDIO="index_audio"',"VID_640x360_1.m3u8",'#EXT-X-STREAM-INF:PROGRAM-ID=16,BANDWIDTH=645216,RESOLUTION=384x216,CODECS="avc1.42e015,mp4a.40.2",AUDIO="index_audio"',"VID_384x216.m3u8"],t=new Log(LogLevel.DEBUG);t.debug(HLSPlaylist.parseM3U8(e,t));var i=["#EXTM3U","#EXT-X-PLAYLIST-TYPE:VOD","#EXT-X-TARGETDURATION:3","#EXT-X-VERSION:3","#EXTINF:2.13547,","0.ts","#EXTINF:2.13547,","1.ts","#EXTINF:2.13547,","2.ts","#EXT-X-ENDLIST"];t.debug(HLSPlaylist.parseM3U8(i,t))},e.HLSParseException=function(e){Exception.call(this,e)},e.HLSParseException=stjs.extend(e.HLSParseException,Exception,[],null,{},{})}),{headers:{name:"Map",arguments:[null,{name:"Array",arguments:[null]}]},mediaList:{name:"Array",arguments:["HLSPlaylist.Media"]},variantList:{name:"Array",arguments:["HLSPlaylist.Variant"]}},{});var SegmentedVideoStream=function(e,t,i,n){SegmentedStream.call(this),this.http=e,this.urls=t,this.desc=i,this.sampleDuration=n,this.timecode=i.timecode,this.timescale=i.timescale,this.sampleDuration=n,this.timecode=i.timecode,this.mimeType=i.mimeType,this.codecs=i.codecs};SegmentedVideoStream=stjs.extend(SegmentedVideoStream,SegmentedStream,[],(function(e,t){t.timecode=null,t.timescale=0,t.sampleDuration=0,t.http=null,t.urls=null,t.desc=null,t.getDashInit=function(e,t){this.http.getArrayBuffer(this.urls.getInitUrl()).subscribe(e,t)},t.getFrameCount=function(){return stjs.trunc(stjs.trunc(this.desc.duration/this.sampleDuration))},t.getDashDescriptor=function(){return this.desc},t.loadSegment=function(e,t,i){var n=this.http.getArrayBuffer(this.urls.getSegmentUrl(e)).retryWhen(RetryWithDelay.create(3,3e3)).subscribe(t,(function(e){return i(e.status)}));return stjs.bind(n,"dispose")},t.updateFrom=function(e){this.urls=e.urls,this.desc=e.desc,this.updateRx.onNext(this)}}),{http:"Http",urls:"DashSegmentUrls",desc:"DashDescriptor",updateRx:{name:"Rx.Subject",arguments:["SegmentedStream"]}},{});var DRM=function(e,t,i,n){this.drmOptions=e,this.drmInfo=t,this.log=i,this.errorRx=n,this.keySystemRx=new Rx.ReplaySubject(1),this.http=new Http(i),this.autoDisposables=new Rx.CompositeDisposable,this.sessions=new Array,this.activeSessions=new Array,this.autoDisposable(Rx.Observable.from(t).map((function(e){return e.keySystem})).distinct().flatMap(stjs.bind(this,(function(e){var t=this.getConfigForKeySystem(e);return Rx.Observable.fromPromise(window.navigator.requestMediaKeySystemAccess(e,[t])).flatMapObserver((function(e,t){return Rx.Observable.just(e)}),(function(e){return e.message.contains("Unsupported keySystem")||e.message.contains("NotSupportedError")||e.message.contains("Key system is unsupported")||n.onNext(new PlayerError(e.message,PlayerError.FATAL,e)),Rx.Observable.empty()}),Rx.Observable.empty)}))).take(1).doOnNext(stjs.bind(this,(function(e){i.info("using keysystem",e.keySystem),this.keySystemRx.onNext(e)}))).subscribe())};DRM=stjs.extend(DRM,null,[],(function(e,t){t.log=null,t.errorRx=null,t.drmOptions=null,t.drmInfo=null,t.autoDisposables=null,t.keySystemRx=null,t.http=null,t.sessions=null,t.activeSessions=null,e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready",t.setHttp=function(e){this.http=e},t.initVideo=function(e,t){var i=this.keySystemRx.flatMap(stjs.bind(this,(function(t){return Rx.Observable.fromPromise(t.createMediaKeys().catch(stjs.bind(this,(function(e){return this.errorRx.onNext(new PlayerError("Unable to create MediaKeys",PlayerError.FATAL,e))})))).flatMap(stjs.bind(this,(function(i){return Rx.Observable.fromPromise(e.setMediaKeys(i).catch(stjs.bind(this,(function(e){return this.errorRx.onNext(new PlayerError("Unable to set MediaKeys",PlayerError.FATAL,e))})))).map((function(e){return t.keySystem}))})))}))),n=new Rx.ReplaySubject;this.autoDisposable(Rx.Observable.fromEvent(e,"encrypted").map((function(e){var t=e;return new DRM.InitData(t.initDataType,t.initData)})).filter((function(e){return null!=e.initData})).doOnNext(stjs.bind(this,(function(e){return this.log.debug("initData from encrypted event",e)}))).doOnNext(stjs.bind(n,"onNext")).subscribe()),this.autoDisposable(i.flatMap(stjs.bind(this,(function(i){var r=Rx.Observable.from(t).map(stjs.bind(this,(function(e){var t=this.drmInfo.filter((function(t,n,r){return t.streamId==e&&t.keySystem==i}))[0];if(null==t)throw this.errorRx.onNext(new PlayerError("unknown stream/keysystem combination "+e+" "+i,PlayerError.FATAL)),new RuntimeException;return t}))).filter((function(e){return null!=e.initData})).map((function(e){var t=Utils.base64ToArrayBuffer(e.initData);return new DRM.InitData("cenc",t)})).doOnNext(stjs.bind(this,(function(e){return this.log.debug("initData from mpd",e)})));return Rx.Observable.merge(r,n).distinct((function(e){return e}),stjs.bind("equals")).flatMap(stjs.bind(this,(function(t){return this.createSession(e,i,t)})))}))).subscribe())},t.createSession=function(e,t,i){var n,r,s=e.mediaKeys,o=s.createSession();switch(this.sessions.push(o),this.activeSessions.push(o),this.log.debug("media key session created",o.sessionId),t){case DRM.WIDEVINE:n=this.drmOptions.widevine.laUrl,r=this.drmOptions.widevine.headers;break;case DRM.PLAYREADY:n=this.drmOptions.playready.laUrl,r=this.drmOptions.playready.headers;break;default:return Rx.Observable.throw("unsupported key system "+t)}return this.autoDisposable(Rx.Observable.fromEvent(o,"message").subscribe(stjs.bind(this,(function(e){var i=e;this.log.debug("media key session event",i.messageType);var s,a={};if(t==DRM.PLAYREADY){var u=Utils.fromCharCodes(new Uint16Array(i.message)),c=(new DOMParser).parseFromString(u,"application/xml"),f=c.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;s=window.atob(f);for(var h=c.getElementsByTagName("name"),l=c.getElementsByTagName("value"),d=0;d<h.length;d++)a[h[d].childNodes[0].nodeValue]=l[d].childNodes[0].nodeValue}else s=i.message;Utils.forEach(r,(function(e,t){return a[t]=e})),this.autoDisposable(this.http.requestBinary((function(){return n}),s,"POST",a,!0).subscribe(stjs.bind(this,(function(e){o.update(e).then(stjs.bind(this,(function(e){return this.log.debug("media key session updated",o.sessionId)}))).catch(stjs.bind(this,(function(e){return this.errorRx.onNext(new PlayerError("media key session update failed",PlayerError.FATAL,e))})))})),stjs.bind(this,(function(e){this.errorRx.onNext(new PlayerError("failed to acquire license",PlayerError.FATAL,e))}))))})))),this.autoDisposable(Rx.Observable.fromEvent(o,"keystatuseschange").subscribe(stjs.bind(this,(function(e){this.log.debug("media key statuses changed");for(var t=!1,i=o.keyStatuses.values(),n=i.next();!n.done;n=i.next())"expired"==n.value&&(t=!0,this.log.debug("media decryption key expired"));var r=o.expiration-Date.now();(r<0||t&&r<1e3)&&(this.log.warn("media key session has expired",o.sessionId),o.close().catch((function(e){})))})))),this.autoDisposable(Rx.Observable.fromPromise(o.closed).subscribe(stjs.bind(this,(function(e){this.log.debug("media key session closed",o.sessionId),Utils.removeFromList(this.activeSessions,o),0==this.activeSessions.length&&this.errorRx.onNext(new PlayerError("All media key sessions closed. Can not decrypt media.",PlayerError.FATAL))})))),Rx.Observable.fromPromise(o.generateRequest(i.initDataType,i.initData).catch(stjs.bind(this,(function(e){return this.errorRx.onNext(new PlayerError("cannot generate license request",PlayerError.FATAL,e))}))))},t.getConfigForKeySystem=function(e){return this.drmInfo.filter((function(t,i,n){return t.keySystem==e})).reduce((function(e,t,i,n){var r=t.contentType.startsWith("video"),s=r?e.videoCapabilities:e.audioCapabilities;if(null==s&&(s=[]),!s.some((function(e,i,n){return e.contentType==t.contentType}))){var o={};o.contentType=t.contentType,o.robustness="",s.push(o),r?e.videoCapabilities=s:e.audioCapabilities=s}return e}),{})},t.autoDisposable=function(e){this.autoDisposables.add(e)},t.close=function(){this.autoDisposables.dispose(),this.autoDisposables=null,this.sessions.forEach((function(e){return e.close().catch((function(e){}))}))},e.InitData=function(e,t){this.initDataType=e,this.initData=t},e.InitData=stjs.extend(e.InitData,null,[],(function(e,t){t.initDataType=null,t.initData=null,t.equals=function(e){if(!stjs.isInstanceOf(e.constructor,DRM.InitData))return!1;var t=e;return this.initDataType==t.initDataType&&Utils.buffersEqual(this.initData,t.initData)}}),{initData:"ArrayBuffer"},{})}),{log:"Log",errorRx:{name:"Rx.Subject",arguments:["PlayerError"]},drmOptions:"PlayerOptions.DRMOptions",drmInfo:{name:"Array",arguments:["DRMInfo"]},autoDisposables:"Rx.CompositeDisposable",keySystemRx:{name:"Rx.Subject",arguments:["MediaKeySystemAccess"]},http:"Http",sessions:{name:"Array",arguments:["MediaKeySession"]},activeSessions:{name:"Array",arguments:["MediaKeySession"]}},{});var Fairplay=function(e,t,i,n){this.video=e,this.options=t,this.log=i,this.errorRx=n,this.autoDisposables=new Rx.CompositeDisposable,this.autoDisposable(Rx.Observable.combineLatest(this.fetchCertificate(),Rx.Observable.fromEvent(e,"webkitneedkey"),stjs.bind(this,(function(e,t){return this.certificate=e,this.onVideoWebkitNeedKey(t),!0}))).subscribe())};Fairplay=stjs.extend(Fairplay,null,[],(function(e,t){t.video=null,t.options=null,t.log=null,t.errorRx=null,t.certificate=null,t.autoDisposables=null,t.onVideoWebkitNeedKey=function(e){this.log.debug("onVideoWebkitNeedKey()");var t=e,i="com.apple.fps.1_0",n=this.extractContentId(Utils.fromCharCodes(new Uint16Array(t.initData.buffer))),r=Utils.stringToArray(n).buffer,s=this.concatInitDataIdAndCertificate(t.initData.buffer,r,this.certificate),o=this.createKeySession(i,s);null!=o&&(o.contentId=n,this.autoDisposable(Rx.Observable.fromEvent(o,"webkitkeyadded").subscribe(stjs.bind(this,"onKeySessionWebkitKeyAdded"))),this.autoDisposable(Rx.Observable.fromEvent(o,"webkitkeyerror").subscribe(stjs.bind(this,"onKeySessionWebkitKeyError"))),this.autoDisposable(Rx.Observable.fromEvent(o,"webkitkeymessage").subscribe(stjs.bind(this,"onKeySessionWebkitKeyMessage"))))},t.extractContentId=function(e){var t=e.split("skd://")[1];return-1==t.indexOf(";")?t:t.split(";",2)[1]},t.onKeySessionWebkitKeyAdded=function(e){this.log.debug("onKeySessionWebkitKeyAdded()")},t.onKeySessionWebkitKeyError=function(e){this.log.debug("onKeySessionWebkitKeyError()"),this.errorRx.onNext(new PlayerError("onKeySessionWebkitKeyError",PlayerError.FATAL,e))},t.onKeySessionWebkitKeyMessage=function(e){this.log.debug("onKeySessionWebkitKeyMessage()");var t=e.message,i=e.target;this.fetchLicense(i,t)},t.concatInitDataIdAndCertificate=function(e,t,i){var n=e.byteLength+4+t.byteLength+4+i.byteLength,r=0,s=new Uint8Array(n),o=new DataView(s.buffer);return s.set(new Uint8Array(e),r),r+=e.byteLength,o.setUint32(r,t.byteLength,!0),r+=4,s.set(new Uint8Array(t),r),r+=t.byteLength,o.setUint32(r,i.byteLength,!0),r+=4,s.set(new Uint8Array(i),r),s},t.createKeySession=function(e,t){if(this.log.debug("createKeySession()"),null==this.video.webkitKeys){if(!WebKitMediaKeys.isTypeSupported(e,"video/mp4"))return this.errorRx.onNext(new PlayerError("Key System not supported "+e,PlayerError.FATAL)),null;this.video.webkitSetMediaKeys(new WebKitMediaKeys(e))}if(null==this.video.webkitKeys)return this.errorRx.onNext(new PlayerError("Could not create WebKitMediaKeys",PlayerError.FATAL)),null;var i=this.video.webkitKeys.createSession("video/mp4",t);return null==i?(this.errorRx.onNext(new PlayerError("Could not create key session",PlayerError.FATAL)),null):i},t.fetchCertificate=function(){return this.log.debug("fetchCertificate()"),new Http(this.log).requestBinary(stjs.bind(this,(function(){return this.options.certUrl})),"","GET",{},!0).doOnNext(stjs.bind(this,(function(e){return this.log.debug("cert len="+e.byteLength)}))).doOnError(stjs.bind(this,(function(e){return this.errorRx.onNext(new PlayerError("error fetching certificate",PlayerError.FATAL))})))},t.fetchLicense=function(e,t){this.log.debug("fetchLicense()");var i={"Content-Type":"application/octet-stream"};new Http(this.log).requestBinary(stjs.bind(this,(function(){return this.options.laUrl})),t,"POST",i,!0).subscribe(stjs.bind(this,(function(t){this.log.debug("license fetched"),e.update(new Uint8Array(t))})),stjs.bind(this,(function(e){this.errorRx.onNext(new PlayerError("error fetching license",PlayerError.FATAL))})))},t.autoDisposable=function(e){this.autoDisposables.add(e)},t.close=function(){this.autoDisposables.dispose(),this.autoDisposables=null}}),{video:"Video",options:"PlayerOptions.DRMFairplayOptions",log:"Log",errorRx:{name:"Rx.Subject",arguments:["PlayerError"]},certificate:"ArrayBuffer",autoDisposables:"Rx.CompositeDisposable"},{});var SRTParser=function(){};SRTParser=stjs.extend(SRTParser,null,[],(function(e,t){e.parse=function(e,t){var i=new Subtitles;i.rows=[];var n=e.replaceAll("\r\n","\n").split("\n"),r=RxUtil.split(Rx.Observable.from(n),(function(e,t){return"".equals(t)}));r=r.map((function(e){return"".equals(e[0])?e.slice(1):e})),r=r.filter((function(e){var t=e.length>=3,i=!isNaN(parseInt(e[0]));return t&&i}));var s=r.map((function(e){e.shift();var i=e.shift(),n=i.split(" "),r=n[0],s=n[2],o=SubsUtils.parseTimestamp(r),a=SubsUtils.parseTimestamp(s),u=new SubtitleEntry;u.startMsec=o,u.endMsec=a,u.startTv=t.getTvBySec(o/1e3),u.endTv=t.getTvBySec(a/1e3),u.timeCodeIn=t.getTapeBySec(o/1e3),u.timeCodeOut=t.getTapeBySec(a/1e3);var c=window.document.createElement("div");return c.innerHTML=e.join(),u.notes=c.innerText,u})),o=s.reduce((function(e,t){return e.rows.push(t),e}),i);return o}}),{},{});var Mp3MixSegmentedAudioStream=function(e,t,i,n){SegmentedAudioStream.call(this),this.http=e,this.serverUrl=t,this.proxyId=i,this.audioInfo=n,this.sampleRate=n.sampleRate,this.totalSamples=n.totalSamples,this.channelMuted=new Array(n.channelCount),this.mimeType="audio/mpeg",this.BITRATE=128};Mp3MixSegmentedAudioStream=stjs.extend(Mp3MixSegmentedAudioStream,SegmentedAudioStream,[],(function(e,t){t.BITRATE=0,t.http=null,t.getDurationSec=function(){return this.totalSamples/this.sampleRate},t.getSegmentCount=function(){var e=Math.ceil(stjs.trunc(this.totalSamples/1152));return stjs.trunc(Math.ceil(e/SegmentedAudioStream.FRAMES_PER_SEGMENT))},t.getSegmentDuration=function(e){return 1152*SegmentedAudioStream.FRAMES_PER_SEGMENT/this.sampleRate},t.getSegmentIdxByTime=function(e){var t=parseInt(e*this.sampleRate),i=parseInt(stjs.trunc(t/1152));return parseInt(stjs.trunc(i/SegmentedAudioStream.FRAMES_PER_SEGMENT))},t.getSegmentStartTime=function(e){var t=1152*SegmentedAudioStream.FRAMES_PER_SEGMENT;return e*t/this.sampleRate},t.loadSegment=function(e,t,i){for(var n="",r=!0,s=0;s<this.channelMuted.length;s++)r=r&&this.channelMuted[s],n+=this.channelMuted[s]?"0":"1";var o=Math.ceil(stjs.trunc(this.totalSamples/1152)),a=e*SegmentedAudioStream.FRAMES_PER_SEGMENT,u=(e+1)*SegmentedAudioStream.FRAMES_PER_SEGMENT;if(!r&&a<o){var c=new HttpDataSrc(this.http,this.serverUrl+"/"+this.proxyId+"/"+n+".mp3"),f=Math.round(stjs.trunc(1e3*this.BITRATE*1152/(8*this.sampleRate))),h=a*f,l=(u+1)*f,d=function(e){var i=stjs.trunc(stjs.trunc(e.byteLength/f));if(i>=SegmentedAudioStream.FRAMES_PER_SEGMENT)t(e);else{var n=new Int8Array(e),r=SegmentedAudioStream.FRAMES_PER_SEGMENT-i+1,s=new Int8Array(n.length+r*Mp3MixSegmentedAudioStream.SILENCE_FRAME_48_128kb.length);s.set(n,0);for(var o=0,a=n.length;o<r;o++)s.set(Mp3MixSegmentedAudioStream.SILENCE_FRAME_48_128kb,a+o*Mp3MixSegmentedAudioStream.SILENCE_FRAME_48_128kb.length);t(s.buffer)}};return c.fetch(h,l,d,i)}for(var p=u-a+2,m=new Int8Array(p*Mp3MixSegmentedAudioStream.SILENCE_FRAME_48_128kb.length),b=0;b<p;b++)m.set(Mp3MixSegmentedAudioStream.SILENCE_FRAME_48_128kb,b*Mp3MixSegmentedAudioStream.SILENCE_FRAME_48_128kb.length);var v=setTimeout((function(){return t(m.buffer)}),0),g=function(){return clearTimeout(v)};return g},e.SILENCE_FRAME_48_128kb=new Int8Array([-1,-5,-108,4,0,15,-16,0,0,105,0,0,0,8,0,0,13,32,0,0,1,0,0,1,-92,0,0,0,32,0,0,52,-128,0,0,4,76,65,77,69,51,46,57,57,46,53,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.getDashInit=function(e,t){e(null)},t.getDashDescriptor=function(){throw new RuntimeException("TODO")},t.isDynamic=function(){return!1},t.silenceAppended=function(){return!0}}),{http:"Http",SILENCE_FRAME_48_128kb:"Int8Array",channelMuted:{name:"Array",arguments:[null]},audioInfo:"AudioInfo",updateRx:{name:"Rx.Subject",arguments:["SegmentedStream"]}},{});var PlayerView=function(e,t){CloseableView.call(this),this.parentEl=e,this.log=t,this.autoDisposables=new Rx.CompositeDisposable,this.initPlayerContainer()};PlayerView=stjs.extend(PlayerView,CloseableView,[],(function(e,t){t.player=null,t.parentEl=null,t.log=null,t.container=null,t.video=null,t.trickVideo=null,t.hm=null,t.playerContainer=null,t.frozenCanvas=null,t.fullscreenRx=null,t.spinner=null,t.autoDisposables=null,t.stepInterval=0,e.DO_NOTHING=function(e){},e.PLAYER_TEMPLATE='<style type="text/css">\n   .vg_player { position: relative; }\n   .vg_player video { display: block; height: 100%; width: 100%; border: 0; }\n   .vg_player video + video { position: absolute; top: 0; left: 0; }\n   .vg_player_opacity_0 { opacity: 0; }\n</style>\n<div class="vg_embed-container">\n    <div class="vg_player vg_background">\n        <div class="vg_loading-spinner vg_invisible"></div>\n        <video class="vg_player_opacity_0" type="hires+audio"></video>\n        <video type="lowres"></video>\n    </div>\n    <div class="vg_allControls"></div>\n</div>\n<div class="vg_proPanel vg_background"></div>',t.initPlayerContainer=function(){this.container=window.document.createElement("div"),this.container.className="vg_playerContainer",this.container.classList.add("vg_noselect"),this.container.innerHTML=PlayerView.PLAYER_TEMPLATE,this.parentEl.appendChild(this.container),this.playerContainer=this.container.querySelector(".vg_player"),this.trickVideo=this.playerContainer.querySelector('video[type="lowres"]'),this.video=this.playerContainer.querySelector('video[type="hires+audio"]'),this.spinner=this.playerContainer.querySelector(".vg_loading-spinner"),this.fullscreenRx=this.createFullScreenRx(),this.showSpinner()},t.init=function(e){this.player=e,this.autoDisposable(e.getVideoElement().getBusyRx().subscribe(stjs.bind(this,(function(e){e?this.showSpinner():this.hideSpinner()})))),this.autoDisposable(this.fullscreenRx.subscribe(stjs.bind(this,(function(e){e?this.player.container.classList.add("vg_fullscreenMode"):this.player.container.classList.remove("vg_fullscreenMode")})))),this.initHotkeys(),e.options.hotkeys?e.enableHotKeys():e.disableHotKeys()},t.showSpinner=function(){this.spinner.classList.remove("vg_invisible")},t.hideSpinner=function(){this.spinner.classList.add("vg_invisible")},t.freezeVideo=function(){if(null==this.frozenCanvas){var e=window.document.createElement("div");e.classList.add("vg_frozen_container"),this.frozenCanvas=window.document.createElement("canvas"),e.appendChild(this.frozenCanvas),this.playerContainer.appendChild(e)}this.frozenCanvas.width=this.player.getVideoElement().getVideoWidth(),this.frozenCanvas.height=this.player.getVideoElement().getVideoHeight();var t=this.playerContainer.clientWidth/this.frozenCanvas.width,i=this.playerContainer.clientHeight/this.frozenCanvas.height,n=(Math.min(t,i),this.frozenCanvas.getContext("2d",null));return n.drawImage(this.video,0,0),this.frozenCanvas},t.unfreezeVideo=function(){if(null!=this.frozenCanvas){var e=this.frozenCanvas.parentNode;e.style.display="none"}},t.getFrozenCanvas=function(){return this.frozenCanvas},t.initHotkeys=function(){this.hm=new HotkeyManager(this.log),this.hm.enableHotKeysForWindow(window);var e=this.player;this.hm.addShortcut("space",stjs.bind(this,(function(e){this.player.togglePlay(),e.preventDefault()})),KeyOptions.gd("Player","Play/Pause",!0)),this.hm.addShortcut("shift-right",(function(t){e.playFaster()}),KeyOptions.gd("Player","Play faster",!1)),this.hm.addShortcut("shift-left",(function(t){e.playFasterBackwards()}),KeyOptions.gd("Player","Play faster backwards",!1)),this.hm.addShortcut("left",stjs.bind(this,(function(e){this.player.previousFrame(this.stepInterval)})),KeyOptions.gd("Player","Previous frame",!1)),this.hm.addShortcut("right",stjs.bind(this,(function(e){this.player.nextFrame(this.stepInterval)})),KeyOptions.gd("Player","Next frame",!1)),this.hm.addShortcut("esc",stjs.bind(this,(function(e){Utils.isFullScreen()&&this.exitFullscreen()})),KeyOptions.gd("Player","Exit fullscreen",!1)),this.hm.addShortcut("k",stjs.bind(this,(function(e){this.player.pause()})),KeyOptions.gd("Player","Pause",!1)),this.hm.addShortcut("j",stjs.bind(this,(function(e){this.player.playFasterBackwards()})),KeyOptions.gd("Player","Play backward, play backward faster",!1)),this.hm.addShortcut("l",stjs.bind(this,(function(e){this.player.playFaster()})),KeyOptions.gd("Player","Play forward, play forward faster",!1)),this.hm.addShortcut("k-j",stjs.bind(this,(function(e){this.player.previousFrame(1)})),KeyOptions.gd("Player","Previous frame",!1)),this.hm.addShortcut("k-l",stjs.bind(this,(function(e){this.player.nextFrame(1)})),KeyOptions.gd("Player","Next frame",!1));var t=this.container.querySelector(".vg_player"),i=new MutableInt(0);t.addEventListener("click",stjs.bind(this,(function(e){i.value++,2==i.value?(i.value=0,this.toggleFullscreen()):setTimeout(stjs.bind(this,(function(){1==i.value&&(this.container.classList.contains("noSource")||this.player.togglePlay(),i.value=0)})),300)})))},t.onFullScreen=function(e){Utils.isFullScreen()?Utils.fullScreenElement(this.parentEl.ownerDocument)==this.parentEl&&this.fullscreenRx.onNext(!0):this.fullscreenRx.onNext(!1)},t.createFullScreenRx=function(){return this.autoDisposable(Rx.Observable.fromEvent(window.document,"webkitfullscreenchange").subscribe(stjs.bind(this,"onFullScreen"))),this.autoDisposable(Rx.Observable.fromEvent(window.document,"mozfullscreenchange").subscribe(stjs.bind(this,"onFullScreen"))),this.autoDisposable(Rx.Observable.fromEvent(window.document,"fullscreenchange").subscribe(stjs.bind(this,"onFullScreen"))),this.autoDisposable(Rx.Observable.fromEvent(window.document,"MSFullscreenChange").subscribe(stjs.bind(this,"onFullScreen"))),new Rx.Subject},t.closeFullScreenRx=function(){this.fullscreenRx.onCompleted()},t.toggleFullscreen=function(){Utils.isFullScreen()?this.exitFullscreen():this.enterFullscreen(this.parentEl)},t.enterFullscreen=function(e){this.log.debug("enterFullscreen");var t=e||this.container;null!=t.requestFullScreen?t.requestFullScreen():null!=t.mozRequestFullScreen?t.mozRequestFullScreen():null!=t.webkitRequestFullScreen?(t.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT),window.document.isFullscreen||t.webkitRequestFullScreen(void 0)):null!=t.webkitEnterFullScreen?t.webkitEnterFullScreen():t!=this.video&&this.enterFullscreen(this.video)},t.exitFullscreen=function(){this.log.debug("exitFullscreen"),null!=window.document.cancelFullscreen?window.document.cancelFullscreen():null!=window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():null!=window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen()},t.seekFrameAndCheckRange=function(e){},t.getCaptionsContainer=function(){},t.hideTrickVideo=function(){this.trickVideo.classList.add(VideoElement.VG_PLAYER_OPACITY_0),this.video.classList.remove(VideoElement.VG_PLAYER_OPACITY_0)},t.renderFatalError=function(e){},t.renderRange=function(e,t){},t.renderWhole=function(){},t.showAsAudioPlayer=function(){},t.close=function(){CloseableView.prototype.close.call(this);var e=this.parentEl.querySelector(".vg_playerContainer");null!=e&&this.parentEl.removeChild(e),null!=this.hm&&this.hm.destruct(),this.closeFullScreenRx(),this.autoDisposables.dispose(),this.autoDisposables=new Rx.CompositeDisposable},t.autoDisposable=function(e){this.autoDisposables.add(e)}}),{player:"PlayerImpl",parentEl:"Element",log:"Log",container:"Element",video:"Video",trickVideo:"Video",hm:"HotkeyManager",playerContainer:"Element",frozenCanvas:"Canvas",fullscreenRx:{name:"Rx.Subject",arguments:[null]},spinner:"Element",autoDisposables:"Rx.CompositeDisposable",DO_NOTHING:{name:"Callback1",arguments:["DOMEvent"]},children:{name:"Array",arguments:["CloseableView"]}},{});var SimpleTimeline=function(e,t,i,n){GenericTimeline.call(this,e,i,n),this.frameCount=t,this.seekableDurationSec=this.getDurationSec()};SimpleTimeline=stjs.extend(SimpleTimeline,GenericTimeline,[],(function(e,t){t.frameCount=0,e.newEndlessTime=function(e){var t=stjs.trunc(e.getTvByFrame(1)-e.getTvByFrame(0)),i=Integer.MAX_VALUE;return SimpleTimeline.newSimpleTime(e.getTimeScale(),i,t,e.getTapeByFrame(0))},e.newSimpleTime=function(e,t,i,n){var r=TapeTimecode.timecodeFromString(n,stjs.trunc(Math.round(e/i)));return new BoundedTimeline(new SimpleTimeline(e,t,i,r))},t.getDurationSec=function(){return this.frameCount*this.frameDurationTv/this.timeScale},t.getFrameCount=function(){return stjs.trunc(this.frameCount)}}),{updateRx:{name:"Rx.Subject",arguments:["Timeline"]},timecode:"TapeTimecode",UNKNOWN:"Timeline"},{});var AbstractVideoElement=function(e,t,i,n){this.video=e,this.timeline=t,this.log=i,this.errorRx=n,this.animationRequestId=0,this.rangeFromFrame=-1,this.rangeToFrame=-1,this.loop=!1,this.quickSeek=!1,this.metadataLoaded=!1,this.initialTime=0,this.playRateBeforeQuickSeek=0,this.playRateCurrent=0,this.resetPlayRateOnSeek=!0,this.busyRx=new Rx.Subject,this.playBackwardsRx=new Rx.Subject,this.autoDisposables=new Rx.CompositeDisposable;var r=Rx.Observable.fromEvent(this.video,VideoElement.PLAYING),s=Rx.Observable.fromEvent(this.video,VideoElement.PAUSE),o=Rx.Observable.merge(r,s).map(stjs.bind(this,(function(e){return this.isPlaying()})));if(this.playRx=Rx.Observable.merge(this.playBackwardsRx,o),this.volumeChangeRx=Rx.Observable.fromEvent(this.video,VideoElement.VOLUMECHANGE,stjs.bind(this,(function(e){return this.getVolume()}))),this.timeUpdateSubject=new Rx.Subject,this.progressSubject=new Rx.Subject,this.autoDisposable(Rx.Observable.fromEvent(this.video,VideoElement.TIMEUPDATE).map((function(t){return e.currentTime})).subscribe(stjs.bind(this,(function(e){this.checkUnbufferedPlayback(),this.timeUpdateSubject.onNext(e)})))),this.autoDisposable(Rx.Observable.fromEvent(this.video,VideoElement.PROGRESS).subscribe(stjs.bind(this,(function(e){this.progressSubject.onNext(this.getBuffered())})))),this.autoDisposable(Rx.Observable.interval(1e3).subscribe(stjs.bind(this,(function(e){return this.checkUnbufferedPlayback()})))),t==Timeline.UNKNOWN){var a=GenericTimeline.newGenericTime(24e3,1001);this.timeline=new BoundedTimeline(a),Rx.Observable.fromEvent(this.video,VideoElement.LOADEDMETADATA).take(1).subscribe(stjs.bind(this,(function(t){i.debug(VideoElement.LOADEDMETADATA),e.currentTime=this.initialTime,a.setDurationSec(e.duration),this.timeUpdateSubject.onNext(e.currentTime)})))}this.timeline.getUpdateRx().subscribe(stjs.bind(this,(function(t){this.timeUpdateSubject.onNext(e.currentTime),null!=this.seekTarget&&this.timeToSeekByFrame(this.seekTarget.frame)!=this.seekTarget.time&&this.seekFrame(this.seekTarget.frame)}))),this.autoDisposable(Rx.Observable.fromEvent(this.video,VideoElement.SEEKED).subscribe(stjs.bind(this,(function(e){return this.seekTarget=null}))))};AbstractVideoElement=stjs.extend(AbstractVideoElement,null,[VideoElement],(function(e,t){e.progressLog=!1,e.allEventsLog=!1,t.log=null,t.errorRx=null,t.timeline=null,t.video=null,t.quickSeek=!1,t.wasPlayingBeforeQuickSeek=!1,t.metadataLoaded=!1,t.initialTime=0,t.loop=!1,t.pauseOnLoop=!1,t.rangeFromFrame=0,t.rangeToFrame=0,t.rangeFromTime=0,t.rangeToTime=0,t.animationRequestId=0,t.playRateCurrent=0,t.playRateBeforeQuickSeek=0,t.resetPlayRateOnSeek=!1,t.unbufferedPause=!1,t.playRx=null,t.playBackwardsRx=null,t.volumeChangeRx=null,t.timeUpdateSubject=null,t.progressSubject=null,t.busyRx=null,t.autoDisposables=null,t.__seekBackwardsInterval=null,t.seekTarget=null,t.backwardsPlaybackHackSeek=!1,e.HAVE_FUTURE_DATA=3,e.HAVE_ENOUGH_DATA=4,e.MIN_PREBUFFER_TIME=1,e.VIDEO_END_THRESHOLD=.5,e.SeekTarget=function(e,t){this.frame=e,this.time=t},e.SeekTarget=stjs.extend(e.SeekTarget,null,[],(function(e,t){t.frame=0,t.time=0}),{},{}),t.seek=function(e){},t.afterSeek=function(e){this.seekTarget=null,this.resetPlayRateOnSeek&&this.isPlaying()&&this.playRateCurrent!=this.direction(this.playRateCurrent)&&!this.backwardsPlaybackHackSeek&&this.playAtRate(this.direction(this.playRateCurrent)),this.checkUnbufferedPlayback()},t.playAtRate=function(e){if(this.stopBackwards(),e>16?e=16:e<-16&&(e=-16),e>0&&!this.isPlaying())if(this.hasRange()){var t=this.getTimeline().getFrameBySec(this.getTimeSec());(t>=this.rangeToFrame||this.getTimeSec()>this.getSeekableDuration()-AbstractVideoElement.VIDEO_END_THRESHOLD)&&this.seekFrame(this.rangeFromFrame)}else this.getTimeSec()>this.getSeekableDuration()-AbstractVideoElement.VIDEO_END_THRESHOLD&&this.seek(0);if(this.playRateCurrent>0&&e<0&&this.isPlaying()&&this.pause(),0==e)return this.pause(),void(this.playRateCurrent=0);this.playRateCurrent=e,this.implementationSpecificPlay()},t.implementationSpecificPlay=function(){},t.stopBackwards=function(){null!=this.__seekBackwardsInterval&&(clearInterval(this.__seekBackwardsInterval),this.playBackwardsRx.onNext(!1),this.__seekBackwardsInterval=null)},t.close=function(){this.playBackwardsRx.onCompleted(),this.stopBackwards(),0!=this.animationRequestId&&window.cancelAnimationFrame(this.animationRequestId),this.autoDisposables.dispose()},t.pause=function(){},t.isPlaying=function(){},t.getFrame=function(){},t.getVolume=function(){},t.setVolume=function(e){},t.getTimeSec=function(){},t.getVideoWidth=function(){},t.getVideoHeight=function(){},t.getTimeline=function(){return this.timeline},t.getVideoShownRx=function(){},t.getTimeUpdateRx=function(){return this.timeUpdateSubject},t.getProgressRx=function(){return this.progressSubject},t.forwardSec=function(e){e=Math.max(e,1);var t=this.getTimeSec()+e,i=Math.min(t,this.getSeekableDuration());this.seek(i)},t.forward1=function(e){var t=Math.max(e,1),i=this.getFrame(),n=this.getTimeline().boundsFn(i+t);this.seekFrame(n)},t.backward1=function(e){var t=Math.max(e,1),i=this.getFrame(),n=i-t;n<0&&(n=0),this.seekFrame(n)},t.timeToSeekByFrame=function(e){if(e<1)return 0;var t=this.getTimeline().getSecByFrame(e),i=this.getTimeline().getSecByFrame(e+1),n=(i-t)/10;return t+n},t.seekFrame=function(e){var t=this.timeToSeekByFrame(e);this.seek(t),this.seekTarget=new AbstractVideoElement.SeekTarget(e,t)},t.backwardSec=function(e){e=Math.max(e,1);var t=this.getTimeSec()-e,i=Math.max(0,Math.min(t,this.getSeekableDuration()));this.seek(i)},t.getPlayRate=function(){return this.playRateCurrent},t.getTimeValue=function(){return this.getTimeline().getTvByFrame(this.getFrame())},t.playFaster=function(){var e=this.playRateCurrent;e>=1?this.playAtRate(2*e):e<1&&this.playAtRate(1)},t.playFasterBackwards=function(){var e=this.playRateCurrent;e<=-1?this.playAtRate(2*e):e>-1&&this.playAtRate(-1)},t.getDuration=function(){return this.getTimeline().getDurationSec()},t.getSeekableDuration=function(){return this.getTimeline().getSeekableDurationSec()},t.endQuickSeek=function(){this.log.debug("quick seek ended"),this.quickSeek=!1,this.wasPlayingBeforeQuickSeek&&this.playAtRate(this.resetPlayRateOnSeek?this.direction(this.playRateBeforeQuickSeek):this.playRateBeforeQuickSeek)},t.startQuickSeek=function(){this.wasPlayingBeforeQuickSeek=this.isPlaying(),this.playRateBeforeQuickSeek=this.playRateCurrent,this.quickSeek=!0,this.pause(),this.log.debug("quick seek started")},t.setInitialTime=function(e){this.initialTime=e},t.setLoop=function(e){},t.setPauseOnLoop=function(e){this.pauseOnLoop=e},t.hasRange=function(){return-1!=this.rangeFromFrame},t.inRange=function(e){return e>=this.rangeFromFrame&&e<=this.rangeToFrame},t.setRange=function(e,t){0!=this.animationRequestId&&window.cancelAnimationFrame(this.animationRequestId),this.seekFrame(e),this.rangeFromFrame=e,this.rangeToFrame=t,this.rangeFromTime=this.getTimeline().getSecByFrame(e),this.rangeToTime=this.getTimeline().getSecByFrame(t+1),this.animationRequestId=window.requestAnimationFrame(stjs.bind(this,"timeRangeControl"))},t.timeRangeControl=function(){if(this.hasRange()){if(this.metadataLoaded){var e=this.getTimeSec();e>=this.rangeToTime&&(this.loop?(this.seekFrame(this.rangeFromFrame),this.pauseOnLoop&&this.pause()):(this.seekFrame(this.rangeToFrame),this.pause())),e<this.rangeFromTime&&(this.loop?(this.seekFrame(this.rangeToFrame),this.pauseOnLoop&&this.pause()):(this.seekFrame(this.rangeFromFrame),this.pause()))}this.animationRequestId=window.requestAnimationFrame(stjs.bind(this,"timeRangeControl"))}},t.cancelRange=function(){this.rangeFromFrame=-1,this.rangeToFrame=-1,this.loop=!1,0!=this.animationRequestId&&window.cancelAnimationFrame(this.animationRequestId)},t.addPrintEvents=function(e){if(null!=e){var t=stjs.bind(this,(function(t){if(AbstractVideoElement.allEventsLog){var i="";"error"==t.type&&(i="("+VideoElement.mediaErrors[e.error.code]+") ");for(var n="",r=0;r<e.seekable.length;r++)n+=" "+e.seekable.start(r)+".."+e.seekable.end(r);var s="";for(r=0;r<e.buffered.length;r++)s+=" "+e.buffered.start(r)+".."+e.buffered.end(r);var o=e.getAttribute("type"),a=o+" "+t.type+" "+i+VideoElement.networkStates[e.networkState]+" "+VideoElement.readyStates[e.readyState]+" "+n+" "+s+"\n";null!=e.id&&(a=e.id+" "+a),this.log.debug(a)}}));e.addEventListener("abort",t),e.addEventListener(VideoElement.CANPLAY,t),e.addEventListener("canplaythrough",t),e.addEventListener("durationchange",t),e.addEventListener("emptied",t),e.addEventListener("ended",t),e.addEventListener("error",t),e.addEventListener("loadeddata",t),e.addEventListener(VideoElement.LOADEDMETADATA,t),e.addEventListener("loadstart",t),e.addEventListener(VideoElement.PAUSE,t),e.addEventListener("play",t),e.addEventListener(VideoElement.PLAYING,t),AbstractVideoElement.progressLog&&e.addEventListener(VideoElement.PROGRESS,t),e.addEventListener("ratechange",t),e.addEventListener("readystatechange",t),e.addEventListener("seeked",t),e.addEventListener(VideoElement.SEEKING,t),e.addEventListener("stalled",t),e.addEventListener("suspend",t),e.addEventListener(VideoElement.TIMEUPDATE,t),e.addEventListener(VideoElement.VOLUMECHANGE,t),e.addEventListener("waiting",t)}},t.getPlayRx=function(){return this.playRx},t.getVolumeChangeRx=function(){return this.volumeChangeRx},t.getBusyRx=function(){return this.busyRx.distinctUntilChanged()},t.updateBusyStatus=function(e){e.ended?this.busyRx.onNext(!1):e.readyState<AbstractVideoElement.HAVE_FUTURE_DATA||!this.enoughBufferForPlayback(e)?Utils.isChrome&&this.chromeCanPlayTime0(e)?(this.log.debug("special case: chrome can play even if the beginning of the video is said to be unbuffered"),this.busyRx.onNext(!1)):this.busyRx.onNext(!0):this.busyRx.onNext(!1)},t.enoughBufferForPlayback=function(e){for(var t=e.currentTime,i=0;i<e.buffered.length;i++)if(t>=e.buffered.start(i)&&t<=e.buffered.end(i))return!0;return!1},t.isNotBuffered=function(){var e=this.video.currentTime;if(Utils.isChrome&&this.chromeCanPlayTime0(this.video))return!1;for(var t=0;t<this.video.buffered.length;t++){if(e>=this.video.buffered.start(t)&&e<=this.video.buffered.end(t))return!1;if(e<this.video.buffered.start(t))return!0}return!0},t.notInitialLoading=function(){return this.video.buffered.length>0},t.chromeCanPlayTime0=function(e){var t=.04;return e.readyState==AbstractVideoElement.HAVE_ENOUGH_DATA&&e.currentTime<t&&e.buffered.length>0&&e.buffered.start(0)<=t},t.setCrossOrigin=function(e){this.video.setAttribute("crossorigin",e)},t.autoDisposable=function(e){this.autoDisposables.add(e)},t.setResetPlayRateOnSeek=function(e){this.resetPlayRateOnSeek=e},t.getBuffered=function(){for(var e=new Array,t=0;t<this.video.buffered.length;t++)e.push(new TimeRange(this.video.buffered.start(t),this.video.buffered.end(t)));return e},t.direction=function(e){return e>=0?1:-1},t.allowUnbufferedPlayback=function(){return 0!=this.video.src.indexOf("blob:")||Utils.isMobileSafari},t.checkUnbufferedPlayback=function(){this.allowUnbufferedPlayback()||(!this.video.paused&&this.isNotBuffered()&&this.notInitialLoading()?this.pauseUnbufferedPlayback():this.unbufferedPause&&!this.isNotBuffered()&&(this.log.debug("temp pause cancelled"),this.unbufferedPause=!1,this.handlePlayPromise(this.video.play())))},t.pauseUnbufferedPlayback=function(){this.log.debug("temp pause. video is unbuffered"),this.video.pause(),this.unbufferedPause=!0},t.handlePlayPromise=function(e){void 0!=e&&e.catch(stjs.bind(this,(function(e){this.log.debug("play() promise rejected")})))}}),{log:"Log",errorRx:{name:"Rx.Subject",arguments:["PlayerError"]},timeline:"Timeline",video:"Video",playRx:{name:"Rx.Observable",arguments:[null]},playBackwardsRx:{name:"Rx.Subject",arguments:[null]},volumeChangeRx:{name:"Rx.Observable",arguments:[null]},timeUpdateSubject:{name:"Rx.Subject",arguments:[null]},progressSubject:{name:"Rx.Subject",arguments:[{name:"Array",arguments:["TimeRange"]}]},busyRx:{name:"Rx.Subject",arguments:[null]},autoDisposables:"Rx.CompositeDisposable",__seekBackwardsInterval:"TimeoutHandler",seekTarget:"AbstractVideoElement.SeekTarget",mediaErrors:{name:"Array",arguments:[null]},networkStates:{name:"Array",arguments:[null]},readyStates:{name:"Array",arguments:[null]}},{});var FilmStripDrawer=function(e,t,i){this.http=e,this.log=t,this.errorRx=i};FilmStripDrawer=stjs.extend(FilmStripDrawer,null,[],(function(e,t){t.frameExtractor=null,t.closed=!1,t.fd=null,t.queueRx=null,t.queueSubscription=null,t.http=null,t.log=null,t.errorRx=null,t.initWithUrl=function(e,t){this.frameExtractor=new FrameExtractor(e,this.http,this.log),this.frameExtractor.init(stjs.bind(this,(function(e){this.initPipeline(),null!=t&&t(e)})))},t.initWithDashStream=function(e,t,i){this.frameExtractor=new DashStreamFrameExtractor(e,t,this.log,this.errorRx),this.frameExtractor.init(stjs.bind(this,(function(e){this.initPipeline(),null!=i&&i(e)})))},t.initPipeline=function(){this.fd=new FrameDrawer(this.frameExtractor),this.queueRx=new Rx.Subject,this.queueSubscription=this.queueRx.concatMap(stjs.bind(this,"processRequest")).subscribe()},t.processRequest=function(e){return Rx.Observable.create(stjs.bind(this,(function(t){if(e.cancelled)return t.onCompleted(),function(){};var i=Rx.Observable.from(e.frameNumbers).flatMap(stjs.bind(this,(function(e){return this.frameExtractor.loadFrameData(e).flatMapObserver((function(t,i){return Rx.Observable.just(e)}),stjs.bind(this,(function(t){return this.log.error("can not load thumb frame "+e+". rendering black."),Rx.Observable.just(e)})),(function(){return Rx.Observable.empty()}))}))),n=RxUtil.sequential(i,(function(e){return e}),e.frameNumbers),r=this.drawThumbs(e.canvas,n);return e.disposable=r.finally((function(){return t.onCompleted()})).subscribe((function(t){return e.onDone()}),(function(t){return e.onError(t)})),function(){return e.disposable.dispose()}})))},t.getInfo=function(){return this.frameExtractor.getInfo()},t.drawThumbs=function(e,t){var i=this.getInfo(),n=i.width/i.height,r=e.height,s=stjs.trunc(r*n),o=e.getContext("2d",null);return t.concatMap(stjs.bind(this,(function(e){return this.fd.decodeFrame(e)}))).reduce((function(e,t,n,a){return null!=t?o.drawImage(t,0,0,i.width,i.height,n*s,0,s,r):o.fillRect(n*s,0,s,r),!0}),!0)},t.drawFilmstrip=function(e,t,i,n,r,s,o){if(this.closed)return null;if(n<1)return this.log.error("numberOfFrames < 1"),o("numberOfFrames < 1"),null;if(t>i)return this.log.error("startFrame > endFrame"),o("startFrame > endFrame"),null;var a=this.frameNumbers(t,i,n);if(!r&&null!=this.frameExtractor.iframes){var u=this.alignToIframes(a);this.hasDuplicates(u)||(a=u)}var c=new FilmStripDrawer.DrawRequest(e,a,s,o);return this.queueRx.onNext(c),stjs.bind(c,"abort")},t.frameNumbers=function(e,t,i){for(var n=(t-e)/(i-1),r=new Array(i),s=0;s<i-1;s++)r[s]=parseInt(Math.round(e+s*n));return r[i-1]=t,r[0]=e,r},t.alignToIframes=function(e){var t=new Array;t.push(e[0]);for(var i=this.frameExtractor.getInfo().framesTotal,n=1;n<e.length-1;n++){var r=e[n];if(r<i){var s=this.frameExtractor.getPrevIframe(r);t.push(Math.max(s,t[n-1]))}else t.push(r)}return t.push(e[e.length-1]),t},t.hasDuplicates=function(e){for(var t=1;t<e.length;t++)if(e[t-1]==e[t])return!0;return!1},t.close=function(){this.closed=!0,this.queueSubscription.dispose()},e.DrawRequest=function(e,t,i,n){this.canvas=e,this.frameNumbers=t,this.onDone=i,this.onError=n},e.DrawRequest=stjs.extend(e.DrawRequest,null,[],(function(e,t){t.canvas=null,t.frameNumbers=null,t.onDone=null,t.onError=null,t.disposable=null,t.cancelled=!1,t.abort=function(){this.cancelled=!0,null!=this.disposable&&this.disposable.dispose()}}),{canvas:"Canvas",frameNumbers:{name:"Array",arguments:[null]},onDone:"Callback0",onError:{name:"Callback1",arguments:["Object"]},disposable:"Rx.Disposable"},{})}),{frameExtractor:"AbstractFrameExtractor",fd:"FrameDrawer",queueRx:{name:"Rx.Subject",arguments:["FilmStripDrawer.DrawRequest"]},queueSubscription:"Rx.Disposable",http:"Http",log:"Log",errorRx:{name:"Rx.Subject",arguments:["PlayerError"]}},{});var MPDSegmentedAudioStream=function(e,t,i,n,r){SegmentedAudioStream.call(this),this.id=e,this.http=t,this.urls=i,this.desc=n,this.populateFromDesc(),this.timeline=new BoundedTimeline(new DashTimeline(this.sampleRate,n.avgFrameDuration,this.totalSamples,n.segmentStartFrame,n.segmentStartTv,r)),this.timeline.setStartUTCTimestamp(n.availabilityStartTime)};MPDSegmentedAudioStream=stjs.extend(MPDSegmentedAudioStream,SegmentedAudioStream,[],(function(e,t){t.http=null,t.desc=null,t.urls=null,t.timeline=null,t.populateFromDesc=function(){this.sampleRate=this.desc.timescale,this.totalSamples=this.desc.duration,this.mimeType=this.desc.mimeType,this.codecs=this.desc.codecs},t.getDashDescriptor=function(){return this.desc},t.getDashInit=function(e,t){this.http.getArrayBuffer(this.urls.getInitUrl()).subscribe(e,t)},t.loadSegment=function(e,t,i){var n=this.http.getArrayBuffer(this.urls.getSegmentUrl(e)).retryWhen(RetryWithDelay.create(3,3e3)).subscribe(t,i),r=function(){return n.dispose()};return r},t.updateFrom=function(e){this.urls=e.urls,this.desc=e.desc,this.populateFromDesc(),this.updateRx.onNext(this)},t.silenceAppended=function(){return!1},t.getTimeline=function(){return this.timeline},t.getSegmentTimestampOffset=function(e){if(0!=this.desc.baseTv){var t=this.getSegmentStartTv(e+1)-this.getSegmentStartTv(e);return-(this.desc.baseTv+t)/this.desc.timescale}return 0}}),{http:"Http",desc:"DashDescriptor",urls:"DashSegmentUrls",timeline:"Timeline",channelMuted:{name:"Array",arguments:[null]},audioInfo:"AudioInfo",updateRx:{name:"Rx.Subject",arguments:["SegmentedStream"]}},{});var HLSTimeline=function(e,t,i){GenericTimeline.call(this,e,t,i)};HLSTimeline=stjs.extend(HLSTimeline,GenericTimeline,[],(function(e,t){t.schedule=null,t.updateInterval=null,t.playlist=null,t.live=!1,e.liveUpdateHLSTime=function(e,t,i,n,r){var s=new HLSTimeline(24e3,1001,new TapeTimecode(!1,0,24));s.setDurationSec(i.getDurationSec()),s.live=!0;var o=2e3;return s.schedule=Rx.Observable.create((function(e){return function(){return clearInterval(s.updateInterval)}})),s.updateInterval=setInterval((function(){n.debug("liveUpdateHLSTime"),e.get(t).subscribe((function(e){var t,i=e.split("\n");try{t=HLSPlaylist.parseM3U8(i,n)}catch(o){return void r.onNext(new PlayerError(o.getMessage(),PlayerError.FATAL))}s.playlist=t,s.getDurationSec()!=t.getDurationSec()&&(n.debug("liveUpdateHLSTime new duration",t.getDurationSec()),s.setDurationSec(t.getDurationSec())),t.hasEndList()&&(clearInterval(s.updateInterval),s.updateInterval=null,s.live=!1)}),(function(e){r.onNext(new PlayerError("error loading hls playlist "+e.status,PlayerError.FATAL))}))}),o),s},t.isLive=function(){return this.live}}),{schedule:{name:"Rx.Observable",arguments:[null]},updateInterval:"TimeoutHandler",playlist:"HLSPlaylist",updateRx:{name:"Rx.Subject",arguments:["Timeline"]},timecode:"TapeTimecode",UNKNOWN:"Timeline"},{});var MPDSegmentedVideoStream=function(e,t,i,n,r,s){SegmentedVideoStream.call(this,t,i,n,-1),this.id=e,this.timeline=new BoundedTimeline(new DashTimeline(this.timescale,n.avgFrameDuration,r,n.segmentStartFrame,n.segmentStartTv,s)),this.timeline.setStartUTCTimestamp(n.availabilityStartTime)};MPDSegmentedVideoStream=stjs.extend(MPDSegmentedVideoStream,SegmentedVideoStream,[],(function(e,t){t.timeline=null,t.movieMp4Box=null,t.getFrameCount=function(){return this.timeline.getFrameCount()},t.getDashInit=function(e,t){SegmentedVideoStream.prototype.getDashInit.call(this,stjs.bind(this,(function(t){this.movieMp4Box=Mp4Loader.parseMoov(t),e(t)})),t)},t.loadSegment=function(e,t,i){return SegmentedVideoStream.prototype.loadSegment.call(this,e,stjs.bind(this,(function(i){var n=Mp4Loader.parseMoof(i),r=MovDasher.parseTimePacketsInM4s(this.movieMp4Box,n);this.timeline.originalTimeline().updateTimePackets(e,r),t(i)})),i)},t.getTimeline=function(){return this.timeline},t.updateFrom=function(e){SegmentedVideoStream.prototype.updateFrom.call(this,e),this.timeline.originalTimeline().update(this.desc.duration,this.desc.segmentStartFrame,this.desc.segmentStartTv),this.timeline.setSeekableDurationSec(stjs.trunc(this.desc.duration/this.desc.timescale))},t.getSegmentTimestampOffset=function(e){if(0!=this.desc.baseTv){var t=this.getSegmentStartTv(e+1)-this.getSegmentStartTv(e);return-(this.desc.baseTv+t)/this.desc.timescale}return 0}}),{timeline:{name:"BoundedTimeline",arguments:["DashTimeline"]},movieMp4Box:"MP4Box",http:"Http",urls:"DashSegmentUrls",desc:"DashDescriptor",updateRx:{name:"Rx.Subject",arguments:["SegmentedStream"]}},{});var MPDXml=function(e,t,i){this.xml=e,this.defaultBaseURL=t,this.log=i};MPDXml=stjs.extend(MPDXml,null,[],(function(e,t){t.xml=null,t.defaultBaseURL=null,t.log=null,t.getDashDescriptor=function(e){var t=this.xml.querySelector("Representation[id='"+e+"']"),i=this.getSegmentTemplateOrList(e),n=this.getSegmentStartTv(e),r=(n[0],new DashDescriptor);r.timecode="00:00:00:00",r.timescale=Integer.parseInt(i.getAttribute("timescale")),r.avgFrameDuration=this.getFrameDuration(e),r.segmentStartTv=n,r.baseTv=0,r.segmentStartFrame=this.getSegmentStartFrame(e),r.duration=this.getDurationTv(e),r.mimeType=this.getMimeType(t),r.codecs=t.getAttribute("codecs"),r.dynamic=this.isDynamic(),r.width=Integer.parseInt(t.getAttribute("width")),r.height=Integer.parseInt(t.getAttribute("height"));var s=this.mpdElement().getAttribute("availabilityStartTime");return r.availabilityStartTime=null!=s?s:(new Date).toISOString(),r},t.getSegmentTemplate=function(e){var t=this.xml.querySelector("Representation[id='"+e+"']");return t.querySelector("SegmentTemplate")||t.parentElement.querySelector("SegmentTemplate")},t.getSegmentTemplateOrList=function(e){var t=this.xml.querySelector("Representation[id='"+e+"']");return t.querySelector("SegmentTemplate")||t.parentElement.querySelector("SegmentTemplate")||t.querySelector("SegmentList")},t.getBaseURL=function(){var e=this.xml.querySelector("BaseURL");return null!=e&&Utils.isNotBlank(e.innerHTML)?e.innerHTML:this.defaultBaseURL},t.getSegmentUrls=function(e){var t=this.xml.querySelector("Representation[id='"+e+"'] SegmentList");if(null!=t){var i=this.xml.querySelector("Representation[id='"+e+"'] SegmentList Initialization").getAttribute("sourceURL");i=Utils.toAbsoluteUri(this.getBaseURL(),i);for(var n=this.xml.querySelectorAll("Representation[id='"+e+"'] SegmentList SegmentURL"),r=new Array,s=0;s<n.length;s++){var o=n[s].getAttribute("media");r.push(Utils.toAbsoluteUri(this.getBaseURL(),o))}return new DashSegmentUrls(i,r)}var a=this.getSegmentTemplate(e),u=(i=a.getAttribute("initialization").replace("$RepresentationID$",e),a.getAttribute("media").replace("$RepresentationID$",e)),c=Integer.parseInt(a.getAttribute("startNumber")),f=this.getSegmentTemplateOrList(e).querySelectorAll("S"),h=(r=new Array,0);if(f.length>0)for(s=0;s<f.length;s++){var l=f[s].getAttribute("r"),d=Utils.isNotEmpty(l)?Integer.parseInt(l):0;h+=1+d}else{var p=this.getDurationTv(e),m=Long.parseLong(a.getAttribute("duration"));h=stjs.trunc(Math.ceil(p/m))}var b=this.getSegmentStartTv(e);for(s=0;s<h;s++){var v=b[s];o=this.getBaseURL()+this.format(s+c,v,u);r.push(o)}return new DashSegmentUrls(this.getBaseURL()+i,r)},t.getSegmentStartTv=function(e){var t=this.getSegmentTemplateOrList(e).querySelectorAll("S"),i=new Array;if(t.length>0){for(var n=0,r=0;r<t.length;r++){var s=Long.parseLong(t[r].getAttribute("d")),o=t[r].getAttribute("r"),a=Utils.isNotEmpty(o)?Integer.parseInt(o)+1:1,u=t[r].getAttribute("t");Utils.isNotEmpty(u)&&(n=Long.parseLong(u));for(var c=0;c<a;c++)i.push(n),n+=s}i.push(n)}else{var f=this.getDurationTv(e),h=this.getSegmentTemplate(e),l=Long.parseLong(h.getAttribute("duration"));for(a=stjs.trunc(Math.ceil(f/l)),n=0,r=0;r<a;r++)i.push(n),n+=l;i.push(f)}return i},t.getSegmentStartFrame=function(e){var t=this.getSegmentTemplateOrList(e).querySelectorAll("S");if(0==t.length)return null;for(var i=new Array,n=0,r=0;r<t.length;r++){var s=t[r].getAttribute("f");if(Utils.isEmpty(s)||"0".equals(s))return null;for(var o=Integer.parseInt(s),a=t[r].getAttribute("r"),u=Utils.isNotEmpty(a)?Integer.parseInt(a)+1:1,c=0;c<u;c++)i.push(n),n+=o}return i.push(n),i},t.getTimeScale=function(e){var t=this.getSegmentTemplateOrList(e);return null!=t?Integer.parseInt(t.getAttribute("timescale")):-1},t.getDurationTv=function(e){var t=this.getSegmentTemplateOrList(e).querySelectorAll("S");if(t.length>0){for(var i=0,n=0;n<t.length;n++){var r=Long.parseLong(t[n].getAttribute("d")),s=t[n].getAttribute("r"),o=Utils.isNotEmpty(s)?Integer.parseInt(s)+1:1;i+=r*o}return i}var a=this.xml.querySelector("MPD").getAttribute("mediaPresentationDuration"),u=Utils.parseXsDuration(a);return Utils.convertTv(u,1e3,this.getTimeScale(e))},t.isDynamic=function(){return"dynamic".equals(this.mpdElement().getAttribute("type"))},t.mpdElement=function(){return this.xml.querySelector("MPD")},t.getChannelConfiguration=function(e){var t=this.xml.querySelector("Representation[id='"+e+"']"),i=t.querySelector("AudioChannelConfiguration")||t.parentElement.querySelector("AudioChannelConfiguration");return Integer.parseInt(i.getAttribute("value"))},t.getFrameDuration=function(e){var t=this.xml.querySelector("Representation[id='"+e+"']"),i=t.getAttribute("frameRate")||t.parentElement.getAttribute("frameRate");if(Utils.isNotBlank(i)){var n;if(i.contains("/")){var r=i.split("/");n=Double.parseDouble(r[0])/Double.parseDouble(r[1])}else n=Double.parseDouble(i);return stjs.trunc(Math.round(this.getTimeScale(e)/n))}var s=this.getSegmentStartFrame(e);if(null!=s&&s.length>1){var o=this.getSegmentStartTv(e),a=o[1]-o[0];return stjs.trunc(a/s[1])}return 0},t.getAudioRepresentationIds=function(){return this.getRepresentationIds("audio")},t.getVideoRepresentationIds=function(){return this.getRepresentationIds("video")},t.getRepresentationIds=function(e){for(var t=[],i=this.xml.querySelectorAll("AdaptationSet[contentType='"+e+"'] Representation"),n=0;n<i.length;n++)t.push(i[n].id);i=this.xml.querySelectorAll("AdaptationSet[mimeType^='"+e+"'] Representation");for(n=0;n<i.length;n++){var r=i[n].id;-1==t.indexOf(r)&&t.push(r)}i=this.xml.querySelectorAll("Representation[mimeType^='"+e+"']");for(n=0;n<i.length;n++){r=i[n].id;-1==t.indexOf(r)&&t.push(r)}return t},e.fromString=function(e,t,i){var n=new DOMParser,r=n.parseFromString(e,"text/xml");if(i.debug(r),null!=r.querySelector("parsererror")){var s=r.querySelector("parsererror div").textContent;throw new MPDXml.MPDParseException(s)}return new MPDXml(r,t,i)},t.getVgTotalDuration=function(e){var t=this.getVgTotalDurationSec();return null==t?null:stjs.trunc(t*e)},t.getVgTotalDurationSec=function(){var e=this.mpdElement().getAttribute("vgTotalDurationSec");return null==e?null:Double.parseDouble(e)},t.format=function(e,t,i){return i.replace("$Number$",e+"").replace("$Number%04d$",Utils.zeroPad(e,4)).replace("$Number%05d$",Utils.zeroPad(e,5)).replace("$Time$",t+"")},t.getDrmInfo=function(){var e=[];return Utils.arrayFrom(this.xml.querySelectorAll("Representation")).filter(stjs.bind(this,(function(e,t,i){var n=this.getMimeType(e);return n.startsWith("video")||n.startsWith("audio")}))).filter((function(e,t,i){return null!=e.parentElement.querySelector("ContentProtection[value='cenc']")})).forEach(stjs.bind(this,(function(t,i,n){var r=t.parentElement,s=this.getMimeType(t)+'; codecs="'+t.getAttribute("codecs")+'"';Utils.arrayFrom(r.querySelectorAll("ContentProtection")).forEach(stjs.bind(this,(function(i){var n=i.querySelector("pssh"),r=null!=n?n.textContent:null,o=i.querySelector("pro"),a=null!=o?o.textContent:null;switch(i.getAttribute("schemeIdUri")){case"urn:mpeg:dash:mp4protection:2011":break;case"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":e.push(new DRMInfo(t.id,DRM.WIDEVINE,r,s));break;case"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":var u=null;null!=n?u=r:null!=o&&(u=this.wrapProInPssh(a)),e.push(new DRMInfo(t.id,DRM.PLAYREADY,u,s));break;default:this.log.warn("unsupported content protection for Representation.id="+t.id)}})))}))),e},t.getMimeType=function(e){return(e.getAttribute("mimeType")||e.parentElement.getAttribute("mimeType")).toLowerCase()},t.wrapProInPssh=function(e){var t=window.atob(e),i=new ArrayBuffer(32),n=new DataView(i);n.setUint32(0,n.byteLength+t.length,!1),n.setUint32(4,1886614376,!1),n.setUint32(8,0,!1),n.setUint32(12,-1710952327,!1),n.setUint16(16,38976,!1),n.setUint16(18,17030,!1),n.setUint16(20,43922,!1),n.setUint16(22,58971,!1),n.setUint32(24,-527933547,!1),n.setUint32(28,t.length,!1);for(var r="",s=0;s<n.byteLength;s++)r+=String.fromCharCode(n.getUint8(s));return r+=t,window.btoa(r)},t.getLocation=function(){var e=this.xml.querySelector("Location");return null!=e?e.innerHTML:null},e.MPDParseException=function(e){Exception.call(this,e)},e.MPDParseException=stjs.extend(e.MPDParseException,Exception,[],null,{},{})}),{xml:"Document",log:"Log"},{});var SkinlessPlayerView=function(e,t){PlayerView.call(this,e,t),this.parentEl=e};SkinlessPlayerView=stjs.extend(SkinlessPlayerView,PlayerView,[],(function(e,t){t.parentEl=null,t.enterFullscreen=function(e){},t.exitFullscreen=function(){},t.seekFrameAndCheckRange=function(e){},t.getCaptionsContainer=function(){return null},t.renderFatalError=function(e){},t.renderRange=function(e,t){},t.renderWhole=function(){},t.showAsAudioPlayer=function(){}}),{parentEl:"Element",player:"PlayerImpl",parentEl:"Element",log:"Log",container:"Element",video:"Video",trickVideo:"Video",hm:"HotkeyManager",playerContainer:"Element",frozenCanvas:"Canvas",fullscreenRx:{name:"Rx.Subject",arguments:[null]},spinner:"Element",autoDisposables:"Rx.CompositeDisposable",DO_NOTHING:{name:"Callback1",arguments:["DOMEvent"]},children:{name:"Array",arguments:["CloseableView"]}},{});var TimelineUtil=function(){};TimelineUtil=stjs.extend(TimelineUtil,null,[],(function(e,t){e.defaultTimeline=function(){return SimpleTimeline.newSimpleTime(24e3,Integer.MAX_VALUE,1001,"00:00:00:00")}}),{},{});var RangeVideoElement=function(e){this.e=e};RangeVideoElement=stjs.extend(RangeVideoElement,null,[VideoElement],(function(e,t){t.e=null,t.fromSec=0,t.toSec=0,t.fromFrame=0,t.toFrame=0,t.rangeDurationSec=0,t.rangeTimeline=null,t.seek=function(e){this.e.seek(this.fromSec+e)},t.getBusyRx=function(){return this.e.getBusyRx()},t.playAtRate=function(e){this.e.playAtRate(e)},t.close=function(){this.e.close()},t.pause=function(){this.e.pause()},t.isPlaying=function(){return this.e.isPlaying()},t.getFrame=function(){return this.e.getFrame()-this.fromFrame},t.getVolume=function(){return this.e.getVolume()},t.setVolume=function(e){this.e.setVolume(e)},t.getTimeSec=function(){return this.e.getTimeSec()-this.fromSec},t.getVideoWidth=function(){return this.e.getVideoWidth()},t.getVideoHeight=function(){return this.e.getVideoHeight()},t.getTimeline=function(){return this.rangeTimeline},t.getVideoShownRx=function(){return this.e.getVideoShownRx()},t.getTimeUpdateRx=function(){return this.e.getTimeUpdateRx().map(stjs.bind(this,(function(e){return e-this.fromSec})))},t.getProgressRx=function(){return this.e.getProgressRx()},t.forwardSec=function(e){this.e.forwardSec(e)},t.forward1=function(e){this.e.forward1(e)},t.backward1=function(e){this.e.backward1(e)},t.seekFrame=function(e){this.e.seekFrame(this.fromFrame+e)},t.backwardSec=function(e){this.e.backwardSec(e)},t.getPlayRate=function(){return this.e.getPlayRate()},t.getTimeValue=function(){return this.getTimeline().getTvByFrame(this.getFrame())},t.playFaster=function(){this.e.playFaster()},t.playFasterBackwards=function(){this.e.playFasterBackwards()},t.getDuration=function(){return this.rangeDurationSec},t.getSeekableDuration=function(){return this.rangeDurationSec},t.endQuickSeek=function(){this.e.endQuickSeek()},t.startQuickSeek=function(){this.e.startQuickSeek()},t.setInitialTime=function(e){this.e.setInitialTime(this.fromSec+e)},t.setLoop=function(e){this.e.setLoop(e)},t.setPauseOnLoop=function(e){this.e.setPauseOnLoop(e)},t.hasRange=function(){return this.e.hasRange()},t.inRange=function(e){var t=this.toFrame-this.fromFrame;return e>=0&&e<t},t.setRange=function(e,t){this.fromFrame=e,this.toFrame=t,this.fromSec=this.e.getTimeline().getSecByFrame(e),this.toSec=this.e.getTimeline().getSecByFrame(t),this.rangeDurationSec=this.e.getTimeline().getSecByFrame(t-e+1);var i=this.e.getTimeline(),n=this.hackFrameDurationTv(i),r=i.getTapeByFrame(e),s=SimpleTimeline.newSimpleTime(i.getTimeScale(),t-e+1,n,r);this.rangeTimeline=s,this.e.setRange(e,t)},t.hackFrameDurationTv=function(e){var t=e.getTvByFrame(0),i=e.getTvByFrame(1),n=stjs.trunc(i-t);return n},t.cancelRange=function(){this.e.cancelRange()},t.getPlayRx=function(){return this.e.getPlayRx()},t.getVolumeChangeRx=function(){return this.e.getVolumeChangeRx()},t.setCrossOrigin=function(e){this.e.setCrossOrigin(e)},t.setResetPlayRateOnSeek=function(e){this.e.setResetPlayRateOnSeek(e)},t.getBuffered=function(){return this.e.getBuffered()}}),{e:"VideoElement",rangeTimeline:"Timeline",mediaErrors:{name:"Array",arguments:[null]},networkStates:{name:"Array",arguments:[null]},readyStates:{name:"Array",arguments:[null]}},{});var DualVideoElement=function(e,t,i,n,r){AbstractVideoElement.call(this,e,t,n,r);var s=this;this.trickVideo=i,this.videoShownRx=new Rx.Subject,this.video.preload="auto",this.trickVideo.preload="auto";var o=Rx.Observable.fromEvent(this.trickVideo,VideoElement.PLAYING),a=Rx.Observable.fromEvent(this.trickVideo,VideoElement.PAUSE),u=Rx.Observable.merge(o,a).map((function(e){return s.isPlaying()}));this.playRx=Rx.Observable.merge(AbstractVideoElement.prototype.getPlayRx.call(this),u),this.playRx=this.playRx.debounce(10),this.shownVideo=this.video,this.addPrintEvents(this.video),this.addPrintEvents(i),this.video.autobuffer=!0,this.video.webkitPreservesPitch=!1;var c=new MutableInt(2);this.video.addEventListener(VideoElement.LOADEDMETADATA,(function(e){n.debug("videoAudio loadedmetadata autoseek="+s.initialTime),0!=s.initialTime&&(s.video.currentTime=s.initialTime),0==c.decrementAndGet()&&(s.metadataLoaded=!0)})),this.videoCanplayRx=Rx.Observable.fromEvent(e,VideoElement.CANPLAY,(function(e){return!0})),this.autoDisposable(this.videoCanplayRx.subscribe(stjs.bind(this,(function(e){n.debug("videoAudio canplay"),this.quickSeek||this.isTrickRate(this.playRateCurrent)||this.autoDisposable(Rx.Observable.timer(100).subscribe(stjs.bind(this,(function(e){n.debug("videoAudio canplay showVideoAudio"),s.showVideoAudio(),s.video.currentTime>=s.timeline.getSeekableDurationSec()&&n.debug("lastframe"),this.videoShownRx.onNext(this.video)}))))})))),this.timeUpdateSubjectQTP=new Rx.Subject;var f=Rx.Observable.fromEvent(s.trickVideo,VideoElement.TIMEUPDATE).map((function(e){return s.trickVideo.currentTime}));this.autoDisposable(AbstractVideoElement.prototype.getTimeUpdateRx.call(this).merge(f).subscribe(stjs.bind(this,(function(e){return this.timeUpdateSubjectQTP.onNext(e)})))),this.trickVideoCanplayRx=Rx.Observable.fromEvent(i,VideoElement.CANPLAY,(function(e){return!0})),this.autoDisposable(this.trickVideoCanplayRx.subscribe((function(e){n.debug("trickVideo canplay"),s.isBuffered(s.video,s.trickVideo.currentTime)?n.debug("current time "+s.trickVideo.currentTime+" is already buffered in videoAudio. do not show trickVideo"):(n.debug("current time "+s.trickVideo.currentTime+" is NOT buffered in videoAudio"),s.showTrickVideo())}))),this.trickVideo.addEventListener(VideoElement.LOADEDMETADATA,(function(e){n.debug("trickVideo loadedmetadata autoseek="+s.initialTime),0!=s.initialTime&&(s.trickVideo.currentTime=s.initialTime),0==c.decrementAndGet()&&(s.metadataLoaded=!0)})),this.timeUpdateSubjectQTP.subscribe((function(e){return s.onTimeUpdate(e)})),this.busyCheckerInterval=setInterval(stjs.bind(this,(function(){var t=this.isTrickMode()&&this.isTrickRate(this.playRateCurrent)?i:e;this.updateBusyStatus(t)})),500),this.autoDisposable(Rx.Observable.fromEvent(this.trickVideo,VideoElement.SEEKED).subscribe(stjs.bind(this,(function(e){return this.seekTarget=null}))))};DualVideoElement=stjs.extend(DualVideoElement,AbstractVideoElement,[],(function(e,t){t.videoShownRx=null,t.shownVideo=null,t.trickVideo=null,t.trickVideoCanplayRx=null,t.videoCanplayRx=null,t.timeUpdateSubjectQTP=null,t.playRx=null,t.busyCheckerInterval=null,t.visualDebugEnabled=!1,t.visualDebugTrick=null,t.onTimeUpdate=function(e){e<0&&this.pause(),e>this.timeline.getSeekableDurationSec()&&(this.log.debug("time "+e+" > SeekableDuration "+this.timeline.getSeekableDurationSec()+". autoseeking."),this.pause(),this.seek(this.lastSeekableTime()))},t.lastSeekableTime=function(){var e=Math.max(this.timeline.getSeekableDurationSec(),0),t=this.timeline.getFrameBySec(e);return this.timeline.getSecByFrame(t)},t.startQuickSeek=function(){AbstractVideoElement.prototype.startQuickSeek.call(this),this.switchToTrickVideo(null)},t.endQuickSeek=function(){this.isTrickRate(this.playRateBeforeQuickSeek)||(this.video.currentTime=this.trickVideo.currentTime),AbstractVideoElement.prototype.endQuickSeek.call(this)},t.seek=function(e){if(e=Math.min(e+42e-5,this.timeline.getSeekableDurationSec()),this.metadataLoaded){var t=this.video;this.log.debug("seek. quickSeek="+this.quickSeek+" playRateCurrent="+this.playRateCurrent),this.quickSeek||this.isTrickRate(this.playRateCurrent)?(this.log.debug("seeking trickVideo only"),t=this.trickVideo):this.log.debug("seeking both video and trickVideo");try{t.currentTime=Math.min(e,this.lastSeekableTime());var i=this.getTimeline().getFrameBySec(e),n=this.timeToSeekByFrame(i);this.trickVideo.currentTime=Math.min(n,this.lastSeekableTime())}catch(o){var r=t.buffered.length>0?t.buffered.end(0):-1,s=t.seekable.length>0?t.seekable.end(0):-1;this.log.debug(t.src,r,s),this.errorRx.onNext(new PlayerError("error setting currentTime",PlayerError.NONFATAL,o))}this.afterSeek(e)}else this.initialTime=e},t.implementationSpecificPlay=function(){var e=this.isTrickRate(this.playRateCurrent);this.shownVideo.pause();var t=Math.abs(this.playRateCurrent);e&&!this.isTrickMode()?(this.trickVideo.currentTime=this.video.currentTime,this.switchToTrickVideo(stjs.bind(this,(function(){this.trickVideo.playbackRate=t,this.doPlay()})))):!e&&this.isTrickMode()?(this.video.currentTime=this.trickVideo.currentTime,this.switchToVideo(stjs.bind(this,(function(){this.video.playbackRate=t,this.doPlay()})))):(this.shownVideo.playbackRate=t,this.doPlay())},t.switchToVideo=function(e){var t=this;this.canPlay().subscribe((function(i){t.showVideoAudio(),null!=e&&e()}))},t.canPlay=function(){return this.video.readyState>=AbstractVideoElement.HAVE_ENOUGH_DATA?Rx.Observable.just(!0):this.videoCanplayRx.take(1)},t.canPlayTrickVideo=function(){return this.trickVideo.readyState>=AbstractVideoElement.HAVE_FUTURE_DATA?Rx.Observable.just(!0):this.trickVideoCanplayRx.take(1)},t.switchToTrickVideo=function(e){var t=this;this.canPlayTrickVideo().subscribe((function(i){t.showTrickVideo(),null!=e&&e()}))},t.doPlay=function(){var e=this.playRateCurrent,t=500;e<0?(null!=this.__seekBackwardsInterval&&clearInterval(this.__seekBackwardsInterval),this.__seekBackwardsInterval=setInterval(stjs.bind(this,(function(){this.isTrickRate(e)&&this.showTrickVideo();try{this.backwardsPlaybackHackSeek=!0,this.seek(this.getTimeSec()+e*t/1e3)}finally{this.backwardsPlaybackHackSeek=!1}this.playBackwardsRx.onNext(!0),this.getFrame()<=0&&(this.shownVideo.currentTime=0,this.pause())})),t)):!this.isTrickRate(e)&&this.isNotBuffered()&&this.notInitialLoading()&&!this.allowUnbufferedPlayback()?this.pauseUnbufferedPlayback():(setTimeout(stjs.bind(this,(function(){return this.handlePlayPromise(this.shownVideo.play())})),0),this.handlePlayPromise(this.shownVideo.play()))},t.close=function(){AbstractVideoElement.prototype.close.call(this),this.video.pause(),this.trickVideo.pause(),clearInterval(this.busyCheckerInterval),this.video=null,this.trickVideo=null},t.pause=function(){if(this.log.debug("pause"),this.metadataLoaded&&this.isPlaying()&&(this.stopBackwards(),this.video.pause(),this.video.playbackRate=1,this.trickVideo.pause(),this.trickVideo.playbackRate=1,this.unbufferedPause=!1,this.playRateCurrent=0,!this.quickSeek)){var e=this.getTimeSec(),t=this.getTimeline().getFrameBySec(e),i=this.getTimeline().getSecByFrame(t),n=e-i;n>.2?(this.log.debug("seeking to the next frame on pause"),this.seekFrame(t+1)):this.seekFrame(t),this.switchToVideo(null)}},t.isPlaying=function(){return!this.shownVideo.paused||null!=this.__seekBackwardsInterval||this.unbufferedPause},t.getFrame=function(){var e=this.isTrickMode()?this.trickVideo:this.video;return this.getTimeline().getFrameBySec(e.currentTime)},t.isBuffered=function(e,t){for(var i=0;i<e.buffered.length;i++)if(t>=e.buffered.start(i)&&t<=e.buffered.end(i))return!0;return!1},t.showTrickVideo=function(){this.trickVideo.classList.remove(VideoElement.VG_PLAYER_OPACITY_0),this.video.classList.add(VideoElement.VG_PLAYER_OPACITY_0),this.shownVideo=this.trickVideo,this.isTrickRate(this.playRateCurrent)||this.quickSeek||this.busyRx.onNext(!0),this.visualDebugEnabled&&(this.visualDebugTrick.style.display="")},t.showVideoAudio=function(){this.video.classList.remove(VideoElement.VG_PLAYER_OPACITY_0),this.trickVideo.classList.add(VideoElement.VG_PLAYER_OPACITY_0),this.shownVideo=this.video,this.busyRx.onNext(!1),this.visualDebugEnabled&&(this.visualDebugTrick.style.display="none")},t.getVolume=function(){return this.video.volume},t.setVolume=function(e){this.video.volume=Math.min(1,Math.max(0,e))},t.getTimeSec=function(){var e=this.isTrickMode()?this.trickVideo:this.video;return e.currentTime},t.isTrickRate=function(e){return Math.abs(e)>2},t.isTrickMode=function(){return this.shownVideo==this.trickVideo||this.quickSeek},t.setLoop=function(e){this.video.loop=e,this.trickVideo.loop=e,this.loop=e},t.getVideoWidth=function(){var e=this.isTrickMode()?this.trickVideo:this.video;return e.videoWidth},t.getVideoHeight=function(){var e=this.isTrickMode()?this.trickVideo:this.video;return e.videoHeight},t.getVideoShownRx=function(){return this.videoShownRx},t.getTimeUpdateRx=function(){return this.timeUpdateSubjectQTP},t.getPlayRx=function(){return this.playRx},t.visualDebug=function(){this.video.classList.add("vg_player_debug_opacity_05"),this.trickVideo.classList.add("vg_player_debug_opacity_05"),this.visualDebugTrick=window.document.createElement("div"),this.visualDebugTrick.classList.add("vg_player_debug_trick"),this.visualDebugTrick.innerHTML="trick",this.visualDebugTrick.style.display=this.isTrickMode()?"":"none",this.video.parentElement.insertBefore(this.visualDebugTrick,this.video),this.visualDebugEnabled=!0},t.checkUnbufferedPlayback=function(){this.playRateCurrent>0&&!this.isTrickRate(this.playRateCurrent)?AbstractVideoElement.prototype.checkUnbufferedPlayback.call(this):(this.log.debug("temp pause cancelled"),this.unbufferedPause=!1)}}),{videoShownRx:{name:"Rx.Subject",arguments:["Video"]},shownVideo:"Video",trickVideo:"Video",trickVideoCanplayRx:{name:"Rx.Observable",arguments:[null]},videoCanplayRx:{name:"Rx.Observable",arguments:[null]},timeUpdateSubjectQTP:{name:"Rx.Subject",arguments:[null]},playRx:{name:"Rx.Observable",arguments:[null]},busyCheckerInterval:"TimeoutHandler",visualDebugTrick:"Element",log:"Log",errorRx:{name:"Rx.Subject",arguments:["PlayerError"]},timeline:"Timeline",video:"Video",playRx:{name:"Rx.Observable",arguments:[null]},playBackwardsRx:{name:"Rx.Subject",arguments:[null]},volumeChangeRx:{name:"Rx.Observable",arguments:[null]},timeUpdateSubject:{name:"Rx.Subject",arguments:[null]},progressSubject:{name:"Rx.Subject",arguments:[{name:"Array",arguments:["TimeRange"]}]},busyRx:{name:"Rx.Subject",arguments:[null]},autoDisposables:"Rx.CompositeDisposable",__seekBackwardsInterval:"TimeoutHandler",seekTarget:"AbstractVideoElement.SeekTarget",mediaErrors:{name:"Array",arguments:[null]},networkStates:{name:"Array",arguments:[null]},readyStates:{name:"Array",arguments:[null]}},{});var SimpleVideoElement=function(e,t,i,n){AbstractVideoElement.call(this,e,t,i,n),this.video.addEventListener(VideoElement.LOADEDMETADATA,stjs.bind(this,(function(t){i.debug("videoAudio loadedmetadata autoseek="+this.initialTime),0!=this.initialTime&&(e.currentTime=Math.min(this.initialTime,e.duration)),this.metadataLoaded=!0}))),this.videoCanplayRx=Rx.Observable.fromEvent(e,VideoElement.CANPLAY,(function(e){return!0})),this.videoShownRx=new Rx.Subject,this.videoCanplayRx.subscribe(stjs.bind(this,(function(t){i.debug("videoAudio canplay"),this.busyRx.onNext(!1),this.autoDisposable(Rx.Observable.timer(100).subscribe(stjs.bind(this,(function(t){i.debug("videoAudio canplay showVideoAudio"),e.currentTime==e.duration&&i.debug("lastframe"),this.videoShownRx.onNext(this.video)}))))}))),this.busyCheckerInterval=setInterval(stjs.bind(this,(function(){this.updateBusyStatus(e)})),500)};SimpleVideoElement=stjs.extend(SimpleVideoElement,AbstractVideoElement,[],(function(e,t){t.videoCanplayRx=null,t.videoShownRx=null,t.__seekBackwardsInterval=null,t.busyCheckerInterval=null,t.seek=function(e){if(e+=42e-5,this.metadataLoaded){e=Math.min(e,this.timeline.getSeekableDurationSec());try{this.video.currentTime=Math.min(e,this.video.duration)}catch(n){var t=this.video.buffered.length>0?this.video.buffered.end(0):-1,i=this.video.seekable.length>0?this.video.seekable.end(0):-1;this.log.debug(this.video.src,t,i),this.errorRx.onNext(new PlayerError("error setting currentTime",PlayerError.NONFATAL,n))}this.afterSeek(e)}else this.initialTime=e},t.implementationSpecificPlay=function(){var e=this.playRateCurrent;this.video.playbackRate=Math.abs(e);var t=500;e<0?(null!=this.__seekBackwardsInterval&&clearInterval(this.__seekBackwardsInterval),this.__seekBackwardsInterval=setInterval(stjs.bind(this,(function(){try{this.backwardsPlaybackHackSeek=!0,this.seek(this.getTimeSec()+e*t/1e3)}finally{this.backwardsPlaybackHackSeek=!1}this.playBackwardsRx.onNext(!0),this.getFrame()<=0&&(this.video.currentTime=0,this.pause())})),t)):this.isNotBuffered()&&this.notInitialLoading()&&!this.allowUnbufferedPlayback()?this.pauseUnbufferedPlayback():(setTimeout(stjs.bind(this,(function(){return this.handlePlayPromise(this.video.play())})),0),this.handlePlayPromise(this.video.play()))},t.close=function(){AbstractVideoElement.prototype.close.call(this),this.video.pause(),clearInterval(this.busyCheckerInterval),this.video=null},t.pause=function(){if(this.metadataLoaded&&this.isPlaying()&&(this.stopBackwards(),this.video.pause(),this.video.playbackRate=1,this.playRateCurrent=0,this.unbufferedPause=!1,!this.quickSeek)){var e=this.getTimeSec(),t=this.getTimeline().getFrameBySec(e),i=this.getTimeline().getSecByFrame(t),n=e-i;n>.2?(this.log.debug("seeking to the next frame on pause"),this.seekFrame(t+1)):this.seekFrame(t)}},t.isPlaying=function(){return!this.video.paused||null!=this.__seekBackwardsInterval||this.unbufferedPause},t.getFrame=function(){var e=this.video;return this.getTimeline().getFrameBySec(e.currentTime)},t.getVolume=function(){return this.video.volume},t.setVolume=function(e){this.video.volume=Math.min(1,Math.max(0,e))},t.getTimeSec=function(){return this.video.currentTime},t.getVideoWidth=function(){var e=this.video;return e.videoWidth},t.getVideoHeight=function(){var e=this.video;return e.videoHeight},t.getTimeline=function(){return this.timeline},t.getVideoShownRx=function(){return this.videoShownRx},t.setLoop=function(e){this.video.loop=e,this.loop=e}}),{videoCanplayRx:{name:"Rx.Observable",arguments:[null]},videoShownRx:{name:"Rx.Subject",arguments:["Video"]},__seekBackwardsInterval:"TimeoutHandler",busyCheckerInterval:"TimeoutHandler",log:"Log",errorRx:{name:"Rx.Subject",arguments:["PlayerError"]},timeline:"Timeline",video:"Video",playRx:{name:"Rx.Observable",arguments:[null]},playBackwardsRx:{name:"Rx.Subject",arguments:[null]},volumeChangeRx:{name:"Rx.Observable",arguments:[null]},timeUpdateSubject:{name:"Rx.Subject",arguments:[null]},progressSubject:{name:"Rx.Subject",arguments:[{name:"Array",arguments:["TimeRange"]}]},busyRx:{name:"Rx.Subject",arguments:[null]},autoDisposables:"Rx.CompositeDisposable",__seekBackwardsInterval:"TimeoutHandler",seekTarget:"AbstractVideoElement.SeekTarget",mediaErrors:{name:"Array",arguments:[null]},networkStates:{name:"Array",arguments:[null]},readyStates:{name:"Array",arguments:[null]}},{});var ProxyLoader=function(e,t){this.http=e,this.log=t};ProxyLoader=stjs.extend(ProxyLoader,null,[],(function(e,t){t.http=null,t.log=null,e.AUDIOTYPE_WAVS="wavs",e.AUDIOTYPE_MP3="mp3",e.AUDIOTYPE_MUXED="muxed",t.loadAudioRx=function(e,t){return this.http.getJson(e+"/"+t+"/audio.js",AudioInfo).flatMapObserver(stjs.bind(this,(function(i,n){var r;if(ProxyLoader.AUDIOTYPE_WAVS.equals(i.audioType))r=new Mp3MixSegmentedAudioStream(this.http,e,t,i);else{if(!ProxyLoader.AUDIOTYPE_MP3.equals(i.audioType))return Rx.Observable.throw("unknown audioType "+i.audioType);var s=new HttpDataSrc(this.http,e+"/"+t+"/audio.mp3");r=new Mp3SegmentedAudioStream(t,i.sampleRate,i.totalSamples,s)}return(Utils.isFirefox||Utils.isSafari)&&(r=new M4SMp3SegmentedStream(r)),r.setAudioInfo(i),Rx.Observable.just(r)})),(function(e){return 404==e.status?Rx.Observable.empty():Rx.Observable.throw(e)}),(function(){return Rx.Observable.empty()}))},t.loadAudio=function(e,t,i){this.loadAudioRx(e,t).subscribe((function(e){return i(null,e)}),(function(e){return i(e,null)}))},t.loadProxyRx=function(e,t){var i=Rx.Observable.create(stjs.bind(this,(function(i){this.loadProxy(e,t,(function(e,t){null==e?(i.onNext(t),i.onCompleted()):i.onError(e)}))})));return i},t.loadProxies=function(e,t){var i={};return Rx.Observable.from(t).flatMap(stjs.bind(this,(function(t){return this.loadProxyRx(e,t)}))).reduce((function(e,t){return e[t.proxyId]=t,e}),i)},e.DASH_FULLRES="stream-0",e.DASH_LOWRES="stream-1",e.USE_JS_DASHIFY=!0,t.loadProxy=function(e,t,i){this.log.debug("loadProxy "+e,t);var n={},r=this.dashifyFirstTrack(e+"/"+t+"/video.mov").doOnNext((function(e){return n["video"]=e})),s=this.dashifyFirstTrack(e+"/"+t+"/thumbshq.mov").doOnNext((function(e){return n["thumbshq"]=e})),o=this.loadAudioRx(e,t).doOnNext((function(e){return n["audio"]=e})),a=Rx.Observable.merge(r,s),u=function(){var e=new Proxy;e.proxyId=t,e.video=n["video"],e.thumbshq=n["thumbshq"];var r=n["audio"];null!=r&&(e.audio=r,e.audioInfo=r.audioInfo),i(null,e)};a.subscribe(stjs.bind(this,(function(e){this.log.debug("loaded",e)})),stjs.bind(this,(function(e){o.subscribe(stjs.bind(this,(function(e){this.log.debug("Got audio")})),(function(e){i(e,null)}),(function(){u()}))})),stjs.bind(this,(function(){o.subscribe(stjs.bind(this,(function(e){this.log.debug("Got audio")})),(function(e){u()}),(function(){u()}))})))},t.dashify=function(e,t){this.dashifyFirstTrack(e).subscribe((function(e){return t(null,e)}),(function(e){return t(e,null)}))},t.createDashStreamFromMp4=function(e,t,i){return Rx.Observable.create(stjs.bind(this,(function(n){var r=MovDasher.dashify(t,i,this.log),s=new DashDescriptor;if(s.dynamic=!1,s.timescale=r.timescale,s.codecs=r.codecs,s.mimeType=r.mimeType,s.duration=r.duration,s.segmentStartTv=r.segmentStartTv,s.channelConfig=r.channelConfig,-1==r.startTimecodeOffset){s.timecode="00:00:00:00";var o=new DashifiedMp4SegmentedVideoStream(r.moovbuf,r.segments,e,s,r.sampleDuration);n.onNext(o),n.onCompleted()}else e.fetch(r.startTimecodeOffset,r.startTimecodeOffset+4,(function(t){var i=new DataView(t),o=stjs.trunc(i.getUint32(0,!1)),a=stjs.trunc(Math.round(s.timescale/r.sampleDuration));s.timecode=new TapeTimecode(r.dropFrame,o,a).getTimecodeAtFrame(0);var u=new DashifiedMp4SegmentedVideoStream(r.moovbuf,r.segments,e,s,r.sampleDuration);n.onNext(u),n.onCompleted()}),(function(t){n.onError(new PlayerError("error loading start time code",PlayerError.FATAL,t,e))}))})))},t.dashifyMp4=function(e){return Rx.Observable.create(stjs.bind(this,(function(t){var i=new Mp4Streams;i.audio=[];var n=new HttpDataSrc(this.http,e);Mp4Loader.loadMp4(n,stjs.bind(this,(function(r){var s=Rx.Observable.empty(),o=r.getInfo().videoTracks;if(0!=o.length){if(MovDasher.hasBFrames(r,o[0].id))return void t.onError(new ProxyLoader.BFramesException);s=Rx.Observable.merge(s,Rx.Observable.create(stjs.bind(this,(function(e){this.createDashStreamFromMp4(n,r,o[0].id).subscribe((function(t){i.video=t,MovDasher.parseTimePackets(r,n,(function(n){i.timeline=new BoundedTimeline(new MP4Timeline(n)),e.onNext(t),e.onCompleted()}),stjs.bind(e,"onError"))}))}))))}for(var a=r.getInfo().audioTracks,u=0;u<a.length;u++){var c=this.createDashStreamFromMp4(n,r,a[u].id).map((function(t){return ProxyLoader.createAudioDashStream(t,e)})).doOnNext(stjs.bind(i.audio,"push"));s=Rx.Observable.merge(s,c)}s.doOnCompleted((function(){t.onNext(i),t.onCompleted()})).doOnError(stjs.bind(t,"onError")).subscribe()})),(function(i){t.onError(new PlayerError("error converting mov",PlayerError.FATAL,i,e))}))})))},t.dashifyFirstTrack=function(e){return Rx.Observable.create(stjs.bind(this,(function(t){var i=new HttpDataSrc(this.http,e);Mp4Loader.loadMp4(i,stjs.bind(this,(function(e){this.createDashStreamFromMp4(i,e,1).subscribe((function(e){t.onNext(e),t.onCompleted()}),stjs.bind(t,"onError"))})),(function(i){t.onError(new PlayerError("error converting mov",PlayerError.FATAL,i,e))}))})))},e.createAudioDashStream=function(e,t){var i=new M4ASegmentedStream(e),n=new AudioInfo;return n.audioType=ProxyLoader.AUDIOTYPE_MUXED,n.channelLabels=AudioInfo.AAC_CHANNEL_CONFIGS[i.getChannelConfig()],n.channelCount=n.channelLabels.length,n.sampleRate=i.sampleRate,n.totalSamples=i.totalSamples,n.waveformPreviews=[],i.audioInfo=n,i.proxyId=t,i},t.loadAudioFromM4a=function(e){return this.dashifyFirstTrack(e).map((function(t){return ProxyLoader.createAudioDashStream(t,e)}))},t.mpdFromUrl=function(e){var t=this.xmlWithDynamicUpdates(e);return this.mpdFromXml(t)},t.mpdFromXml=function(e){var t=this.streamsFromXml(e);return this.mpdFromStreams(t)},t.mpdFromStreams=function(e){var t=new MPDStreams,i=RxUtil.doOnFirst(e,(function(e){t.video=e.video,t.thumbshq=e.thumbshq,t.thumbs=e.thumbs,t.audio=e.audio})).doOnNext((function(e){null!=t.video&&t.video.updateFrom(e.video),null!=t.thumbshq&&t.thumbshq.updateFrom(e.thumbshq),null!=t.thumbs&&t.thumbs.updateFrom(e.thumbs),null!=t.audio&&t.audio.updateFrom(e.audio)}));return RxUtil.firstOutIgnoreNext(i)},t.xmlWithDynamicUpdates=function(e){var t=e.substring(0,e.lastIndexOf("/")+1),i=[e],n=Rx.Observable.timer(0,1e3).concatMap(stjs.bind(this,(function(e){return this.http.getWithUrlFunc((function(){return i[0]+"?time="+Utils.currentTimeMillis()}))}))).flatMap(stjs.bind(this,(function(e){try{return Rx.Observable.just(MPDXml.fromString(e,t,this.log))}catch(i){return Rx.Observable.throw(new PlayerError("can not parse MPD",PlayerError.FATAL,i))}}))).doOnNext((function(e){var t=e.getLocation();null!=t&&(i[0]=t)})).retryWhen(RetryWithDelay.create(5,1e3)).flatMapObserver((function(e,t){return Rx.Observable.just(e)}),(function(e){return Rx.Observable.throw(new PlayerError("can not load mpd",PlayerError.FATAL,e))}),Rx.Observable.empty);return RxUtil.takeWhileWithFinalValue(n,(function(e){return e.isDynamic()}))},t.loadAudioFromMpd=function(e){var t=this.mpdFromUrl(e).flatMap((function(t){return null==t.audio?Rx.Observable.throw("no audio representations found in "+e):Rx.Observable.just(t.audio)}));return t},t.streamsFromXml=function(e){return e.map(stjs.bind(this,(function(e){var t=e.getVideoRepresentationIds(),i=e.getAudioRepresentationIds(),n=t.filter((function(t,i,n){return 80==e.getDashDescriptor(t).height})),r=t.filter((function(t,i,n){return 512==e.getDashDescriptor(t).width})),s=t.sort((function(t,i){return e.getDashDescriptor(i).height-e.getDashDescriptor(t).height}))[0],o=r.length>0?r[0]:null,a=n.length>0?n[0]:null,u=i.length>0?i[0]:null,c=this.audioStreamFromXml(e,u),f=this.videoStreamFromXml(e,s),h=this.videoStreamFromXml(e,o),l=this.videoStreamFromXml(e,a),d=new MPDStreams;d.video=f,d.thumbshq=h,d.thumbs=l,d.audio=c;var p=[s,o,a,u];return d.drmInfo=e.getDrmInfo().filter((function(e,t,i){return-1!=p.indexOf(e.streamId)})),d})))},t.videoStreamFromXml=function(e,t){if(null==t)return null;var i=e.getSegmentUrls(t),n=e.getDashDescriptor(t),r=e.getVgTotalDuration(n.timescale);return null==r&&(r=n.duration),new MPDSegmentedVideoStream(t,this.http,i,n,r,this.log)},t.audioStreamFromXml=function(e,t){return null==t?null:(i=e.getSegmentUrls(t),n=e.getDashDescriptor(t),r=new MPDSegmentedAudioStream(t,this.http,i,n,this.log),s=new AudioInfo,s.audioType=ProxyLoader.AUDIOTYPE_MUXED,s.channelLabels=AudioInfo.AAC_CHANNEL_CONFIGS[e.getChannelConfiguration(t)],s.channelCount=s.channelLabels.length,s.sampleRate=r.sampleRate,s.totalSamples=r.totalSamples,s.waveformPreviews=[],r.audioInfo=s,r);var i,n,r,s},e.BFramesException=function(){RuntimeException.call(this)},e.BFramesException=stjs.extend(e.BFramesException,RuntimeException,[],null,{},{})}),{http:"Http",log:"Log"},{});var Captions=function(){};Captions=stjs.extend(Captions,null,[],(function(e,t){e.offsetCaptions=function(e,t,i){var n=i.getMillisByTv(t);e.rows.forEach((function(e){return Captions.offsetRow(t,i,n,e)}))},e.offsetRow=function(e,t,i,n){n.startTv=Math.max(0,n.startTv+e),n.endTv=Math.max(0,n.endTv+e),n.startMsec=Math.max(0,n.startMsec+i),n.endMsec=Math.max(0,n.endMsec+i),n.timeCodeIn=t.getTapeByTv(n.startTv),n.timeCodeOut=t.getTapeByTv(n.endTv)},e.CODEC_C890="c890",e.CODEC_DCSUBS="dcsubs",e.CODEC_EBU="ebu",e.CODEC_STL="stl",e.CODEC_SRT="srt",e.CODEC_WEBVTT="webvtt",e.guessSubtitleCodec=function(e){return e=e.replaceAll("\\?.*",""),e.endsWith("stl")?Captions.CODEC_STL:e.endsWith("srt")?Captions.CODEC_SRT:e.endsWith("vtt")?Captions.CODEC_WEBVTT:e.endsWith("890")?Captions.CODEC_C890:e.endsWith("xml")?Captions.CODEC_DCSUBS:"unknown"},e.parseSubs=function(e,t,i,n,r){null==r&&(r=LogLevel.INFO);var s,o=new Log(r),a=new Http(o),u=null!=e?e:TimelineUtil.defaultTimeline();switch(i){case Captions.CODEC_EBU:case Captions.CODEC_STL:s=a.getArrayBuffer(t).map((function(e){return EbuSubs.parse(e,u,o)}));break;case Captions.CODEC_DCSUBS:s=a.get(t).flatMap((function(e){return DCSubs.parse(e,u)}));break;case Captions.CODEC_SRT:case Captions.CODEC_WEBVTT:s=a.get(t).flatMap((function(e){return SRTParser.parse(e,u)}));break;case Captions.CODEC_C890:s=a.getArrayBuffer(t).map((function(e){return Cavena890.parse(e,u,o)}));break;default:return void n("unknown codec "+i,null)}s.subscribe((function(e){e.title=t.split("/").pop(),n(null,e)}),(function(e){return n(e,null)}))},e.probe=function(e,t,i){null==i&&(i=LogLevel.INFO);var n=new Log(i);switch(e){case Captions.CODEC_EBU:return EbuSubs.probe(t,n);case Captions.CODEC_DCSUBS:return DCSubs.probe(t);case Captions.CODEC_C890:return Cavena890.probe(t);default:return-1}}}),{},{});var PlayerImpl=function(e,t){this.rememberInstance(),this.options=this.defaultOptions(t),this.log=new Log(this.options.logLevel),this.errorRx=new Rx.Subject,this.errorRx.subscribe(stjs.bind(this.log,"error")),this.container=e,null==this.container.getAttribute("tabindex")&&this.container.setAttribute("tabindex","0"),this.view=this.createView(),this.eventListeners={},this.autoDisposables=new Rx.CompositeDisposable,this.initialized=!1,this.initRx=new Rx.Subject,this.http=new Http(this.log),this.http.setWithCredentials(this.options.allowCrossSiteCredentials),this.http.setQueryParams(this.options.queryParams)};PlayerImpl=stjs.extend(PlayerImpl,null,[VGPlayerPluginApi],(function(e,t){e.FULL_RES="fullres",e.LOW_RES="lowres",e.RANGE_AUTO_CANCEL=!1,e.version=null,t.log=null,t.container=null,t.options=null,t.http=null,t.view=null,t.videoSrcHiRes=null,t.videoSrcLowRes=null,t.videoSrcTrick=null,t.cutList=null,t.cutListLowRes=null,t.captionsList=null,t.videoElement=null,t.originalVideoElement=null,t.initialized=!1,t.audioTracksRx=null,t.audioTracks=null,t.captionListChangeRx=null,t.pluginRx=null,t.cutsRx=null,t.currentVideoStream=null,t.timeUpdateRx=null,t.progressRx=null,t.timelineRx=null,t.timelineSubscription=null,t.audioHandlerRx=null,t.captionHandlerRx=null,t.changingVideoSrc=!1,t.currentVideoSrc=null,t.initRx=null,t.seekableDurationUpdaterSubscription=null,t.currentAudioTrack=null,t.eventListeners=null,t.filmStripDrawerRx=null,t.autoDisposables=null,t.playRateBeforePause=1,t.proxyType=null,t.errorRx=null,t.drm=null,t.fairplay=null,t.rememberInstance=function(){null==window["VG"]&&(window["VG"]={}),null==window["VG"]["players"]&&(window["VG"]["players"]=[]),window["VG"]["players"].push(this)},t.createView=function(){return new SkinlessPlayerView(this.container,this.log)},t.getView=function(){return this.view},t.defaultOptions=function(e){return null==e&&(e=new PlayerOptions),null==e.plugins&&(e.plugins=new Array),null==e.logLevel&&(e.logLevel=LogLevel.INFO),e},t.getOptions=function(){return this.options},t.getHttp=function(){return this.http},t.getLog=function(){return this.log},t.setLogLevel=function(e){this.log.setLevel(e)},t.isLive=function(){switch(this.proxyType){case ProxyType.DASH:return null!=this.currentVideoStream&&this.currentVideoStream.isDynamic()||null!=this.currentAudioTrack&&this.currentAudioTrack.dashStream.isDynamic();case ProxyType.HLS:var e=this.getTimeline().originalTimeline();return e.isLive();default:return!1}},t.init=function(){this.videoSrcHiRes=null,this.videoSrcLowRes=null,this.videoSrcTrick=null,this.cutList=[],this.cutListLowRes=[],this.audioTracks=[],this.captionsList=[],this.videoElement=null,this.timelineRx=new Rx.Subject,this.timeUpdateRx=new Rx.Subject,this.progressRx=new Rx.Subject,this.audioTracksRx=new Rx.ReplaySubject,this.audioHandlerRx=new Rx.Subject,this.captionHandlerRx=new Rx.Subject,this.cutsRx=new Rx.ReplaySubject,this.pluginRx=new Rx.ReplaySubject,this.captionListChangeRx=new Rx.ReplaySubject,this.filmStripDrawerRx=new Rx.ReplaySubject(1),this.drm=null,this.fairplay=null,this.initialized=!0},t.close=function(){this.autoDisposables.dispose(),this.autoDisposables=new Rx.CompositeDisposable,this.initialized&&(null!=this.videoElement&&this.videoElement.close(),null!=this.videoSrcHiRes&&this.videoSrcHiRes.detach(),null!=this.videoSrcLowRes&&this.videoSrcLowRes.detach(),null!=this.videoSrcTrick&&this.videoSrcTrick.detach(),null!=this.drm&&this.drm.close(),null!=this.fairplay&&this.fairplay.close(),this.timelineRx.onCompleted(),null!=this.timelineSubscription&&this.timelineSubscription.dispose(),this.timeUpdateRx.onCompleted(),this.progressRx.onCompleted(),this.audioTracksRx.onCompleted(),this.audioHandlerRx.onCompleted(),this.captionHandlerRx.onCompleted(),this.cutsRx.onCompleted(),this.pluginRx.onCompleted(),this.getCaptionListChangeRx().onCompleted(),this.removeAllEventListeners(),this.view.close(),this.view.initPlayerContainer(),this.initialized=!1)},t.addCaptionsHandler=function(e){this.captionHandlerRx.onNext(e)},t.audioAddHandler=function(e){this.audioHandlerRx.onNext(e)},t.addCaptionsObject=function(e){if(null!=e&&null==e.id)do{e.id=PlayerUtils.randomString()}while(this.captionsList.some((function(t,i,n){return t.id==e.id})));this.captionsList.push(e),this.getCaptionListChangeRx().onNext(e)},t.addCaptions=function(e){null!=e&&this.addCaptionsObject(e)},t.load=function(e,t){if(null==this.options.serverUrl||this.options.staticVideoSrc||this.isUrl(e))this.loadUrl(e,(function(e){return PlayerImpl.invoke1(t,e)}));else{for(var i=new Array,n=e.split(","),r=0;r<n.length;r++)i.push(PlayerCut.fromProxyId(n[r]));this.loadCutList(i,t)}},t.isUrl=function(e){return new RegExp("^(http|https|ftp|file)://","i").test(e)},t.loadUrl=function(e,t){this.close(),this.init();var i=this.determineMimeType(e).flatMapObserver(stjs.bind(this,(function(t,i){var n;switch(this.log.debug(t),t.toLowerCase()){case"application/xml":case"application/dash+xml":n=this.loadMPD(e);break;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":n=this.loadHLS(e);break;case"video/mp4":case"video/quicktime":case"audio/mp4":case"audio/x-m4a":n=this.loadMp4WithAudio(e).flatMapObserver((function(e,t){return Rx.Observable.just(e)}),stjs.bind(this,(function(t){return stjs.isInstanceOf(t.constructor,ProxyLoader.BFramesException)?(this.log.warn("video contains B-frames. Trying loadMp4"),this.loadMp4(e)):(this.log.warn("Failed loading mp4 (",t,"). Trying loadGeneric"),this.loadGeneric(e))})),Rx.Observable.empty);break;default:this.log.warn("unsupported mime type",t),n=Rx.Observable.throw(new PlayerError("unsupported mime type "+t,PlayerError.FATAL))}return n})),stjs.bind(this,(function(t){return 0==t?this.loadGeneric(e):Rx.Observable.throw(new PlayerError("can not determine mime type. response code = "+t,PlayerError.FATAL))})),Rx.Observable.empty),n=RxUtil.doOnFirst(i,stjs.bind(this,(function(e){if(null!=t)try{t(null)}catch(i){this.log.error("error in user's callback "+i),this.errorRx.onNext(new PlayerError("error in user's event listener "+i,PlayerError.NONFATAL))}}))).subscribe((function(e){}),stjs.bind(this,(function(e){this.errorRx.onNext(e),null!=t&&t(e)})));this.autoDisposable(n)},t.focus=function(){this.container.focus()},t.determineMimeType=function(e){var t=this.mimeTypeByExtension(e);return null!=t?Rx.Observable.just(t):Rx.Observable.create((function(t){var i=new XMLHttpRequest;return i.open("GET",e,!0),i.setRequestHeader("Range","bytes=0-0"),i.onreadystatechange=function(){if(4==i.readyState)if(i.status>=200&&i.status<400)try{var e=i.getResponseHeader("Content-Type");t.onNext(e.replaceAll("[\\s;]+.*","")),t.onCompleted()}catch(n){t.onError(i.status)}else i.status>=400?t.onError(i.status):t.onError(0)},i.send(),stjs.bind(i,"abort")}))},t.mimeTypeByExtension=function(e){if(-1!=e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),-1!=e.indexOf("/")&&(e=e.substring(e.lastIndexOf("/")+1)),-1!=e.indexOf(".")){var t=e.substring(e.lastIndexOf("."));switch(t.toLowerCase()){case".mp4":case".mov":return"video/mp4";case".mpd":return"application/dash+xml";case".m3u8":return"application/x-mpegURL"}}return null},t.loadHLS=function(e){if(this.proxyType=ProxyType.HLS,!Utils.isSafari)return Rx.Observable.throw(new PlayerError("HLS is not supported in this browser.",PlayerError.FATAL));var t=this.loadHLSPlaylist(e).flatMap(stjs.bind(this,(function(t){var i=t.getVariantList();if(0==t.getMediaList().length&&0==i.length)return Rx.Observable.throw(new PlayerError("Empty HLS. Neither media nor stream variants are present.",PlayerError.FATAL));if(i.length>0){var n=i[0].uri;return n=Utils.toAbsoluteUri(e,n),this.loadHLSPlaylist(n)}return Rx.Observable.just(t)})));return t.flatMap(stjs.bind(this,(function(t){if(null!=this.options.drm&&null!=this.options.drm.fairplay&&(this.fairplay=new Fairplay(this.view.video,this.options.drm.fairplay,this.log,this.errorRx)),t.hasEndList())return this.loadGeneric(e);this.log.info("load live hls timeupdates",t.uri);var i=HLSTimeline.liveUpdateHLSTime(this.http,t.uri,t,this.log,this.errorRx);this.videoSrcHiRes=new StaticVideoSrc(e,this.errorRx);var n=new PlayerCut(null,0,0);return n.audioInfo=new AudioInfo,n.audioInfo.audioType=ProxyLoader.AUDIOTYPE_MUXED,n.audioInfo.channelCount=2,n.audioInfo.channelLabels=["left","right"],n.audioInfo.sampleRate=44100,n.audioInfo.totalSamples=0,n.audioInfo.waveformPreviews=[],this.cutsRx.onNext(n),this.cutList.push(n),this.onLoadDefaultAudioTrack(PlayerAudioTrack.fromAudioInfo(t.uri,t.uri,n.audioInfo,this.log)),i.schedule.merge(this.initVideoElement(new BoundedTimeline(i))).doOnNext(stjs.bind(this,(function(e){return this.videoElement.setInitialTime(.1)})))})))},t.loadHLSPlaylist=function(e){return this.http.get(e).flatMap(stjs.bind(this,(function(t){try{var i=HLSPlaylist.parseString(t,this.log);return i.uri=e,Rx.Observable.just(i)}catch(n){return Rx.Observable.throw(new PlayerError(n.getMessage(),PlayerError.FATAL))}})))},t.onLoadDefaultAudioTrack=function(e){e.setChannelsMuted(!1),this.currentAudioTrack=e,this._addToAudioTracks(e)},t.loadGeneric=function(e){if(this.log.info("loadGeneric",e),this.proxyType=ProxyType.GENERIC,e.toLowerCase().endsWith(".m3u8")&&!Utils.isSafari)return Rx.Observable.throw(new PlayerError("HLS is not supported in this browser.",PlayerError.FATAL));this.init();var t=Timeline.UNKNOWN,i=new StaticVideoSrc(e,this.errorRx);this.videoSrcHiRes=i;var n=new PlayerCut(null,0,0);n.audioInfo=new AudioInfo,n.audioInfo.audioType=ProxyLoader.AUDIOTYPE_MUXED,n.audioInfo.channelCount=2,n.audioInfo.channelLabels=["left","right"],n.audioInfo.sampleRate=44100,n.audioInfo.totalSamples=0,n.audioInfo.waveformPreviews=[],this.cutsRx.onNext(n),this.cutList.push(n);var r=PlayerAudioTrack.fromAudioInfo(e,e,n.audioInfo,this.log);this.onLoadDefaultAudioTrack(r);var s=this.initVideoElement(t),o=i.getLoadingErrors().flatMap((function(e){return Rx.Observable.throw(e)})).map((function(e){return!0}));return s.merge(o).take(1)},t.loadBlobUrl=function(e,t,i,n){this.close(),this.init(),this.videoSrcHiRes=new StaticVideoSrc(i(this.view.video),this.errorRx);var r=GenericTimeline.newGenericTime(e,t),s=SimpleTimeline.newEndlessTime(r),o=this.initVideoElement(s),a=o.subscribe(stjs.bind(this,(function(e){return n(this)})));this.autoDisposable(a)},t.loadMPD=function(e){this.proxyType=ProxyType.DASH,this.log.info("loadMPD",e);var t=new ProxyLoader(this.http,this.log).mpdFromUrl(e);return this.initVideoFromMPDStream(e,t)},t.initVideoFromMPDStream=function(e,t){return RxUtil.firstOutIgnoreNext(t).flatMap(stjs.bind(this,(function(t){this.videoSrcHiRes=new DynamicDash(t.video,t.audio,this.log,this.errorRx),null!=t.thumbshq&&(this.videoSrcLowRes=new DynamicDash(t.thumbshq,t.audio,this.log,this.errorRx),this.videoSrcTrick=new DynamicDash(t.thumbshq,null,this.log,this.errorRx));var i=new Proxy;i.video=t.video,i.audio=t.audio,i.thumbshq=t.thumbshq,i.audioInfo=null!=t.audio?t.audio.audioInfo:null,i.proxyId=e;var n=new PlayerCut(i,0,0);this.cutsRx.onNext(n),this.cutList.push(n),this.currentVideoStream=t.video;var r,s=PlayerAudioTrack.fromDashStream(e,t.audio,this.log);if(this.onLoadDefaultAudioTrack(s),null!=t.video)r=t.video.getTimeline();else{if(null==t.audio)return Rx.Observable.throw(new PlayerError("no audio or video found",PlayerError.FATAL));r=t.audio.getTimeline()}if(this.subscribeSeekableDurationUpdater(t.video,t.audio,r),null!=t.thumbs){var o=new FilmStripDrawer(this.http,this.log,this.errorRx);o.initWithDashStream(t.thumbs,r,stjs.bind(this,(function(e){return this.filmStripDrawerRx.onNext(o)})))}return t.drmInfo.length>0&&(this.drm=new DRM(this.options.drm,t.drmInfo,this.log,this.errorRx),null!=t.thumbshq?(this.drm.initVideo(this.view.video,[t.video.id,t.thumbshq.id,t.audio.id]),this.drm.initVideo(this.view.trickVideo,[t.thumbshq.id])):this.drm.initVideo(this.view.video,[t.video.id,t.audio.id])),this.initVideoElement(r)})))},t.loadMp4WithAudio=function(e){return this.log.info("loadMp4WithAudio",e),this.options.staticVideoSrc?this.loadGeneric(e):(this.proxyType=ProxyType.MP4,new ProxyLoader(this.http,this.log).dashifyMp4(e).flatMap(stjs.bind(this,(function(t){var i=t.audio[0],n=t.video;this.videoSrcHiRes=new DynamicDash(n,i,this.log,this.errorRx);var r=new PlayerCut(null,0,t.timeline.getFrameCount());r.audioInfo=null==i?new AudioInfo:i.audioInfo,this.cutsRx.onNext(r),this.cutList.push(r),this.currentVideoStream=n;for(var s=0;s<t.audio.length;s++){var o=PlayerAudioTrack.fromDashStream("#"+s+"-"+e,t.audio[s],this.log);0==s?this.onLoadDefaultAudioTrack(o):this._addToAudioTracks(o)}var a=t.timeline;return this.subscribeSeekableDurationUpdater(n,i,a),this.initVideoElement(a).doOnNext(stjs.bind(this,(function(e){null==n&&this.view.showAsAudioPlayer()})))}))))},t.loadMp4=function(e){return this.proxyType=ProxyType.MP4,Rx.Observable.create(stjs.bind(this,(function(t){var i=new HttpDataSrc(this.http,e);Mp4Loader.loadMp4(i,stjs.bind(this,(function(n){MovDasher.parseTimePackets(n,i,stjs.bind(this,(function(i){if(this.initialized){var r=new BoundedTimeline(new MP4Timeline(i));this.videoSrcHiRes=new StaticVideoSrc(e,this.errorRx);var s=new PlayerCut(null,0,r.getFrameCount());s.audioInfo=new AudioInfo;var o=n.getInfo().audioTracks,a=o.length;if(a>0){var u=o[0];s.audioInfo.audioType=ProxyLoader.AUDIOTYPE_MUXED,s.audioInfo.channelCount=u.audio.channel_count,s.audioInfo.channelLabels=AudioInfo.AAC_CHANNEL_CONFIGS[u.audio.channel_count],s.audioInfo.sampleRate=u.audio.sample_rate,s.audioInfo.totalSamples=u.duration,s.audioInfo.waveformPreviews=[]}this.cutsRx.onNext(s),this.cutList.push(s);var c=PlayerAudioTrack.fromAudioInfo(e,e,s.audioInfo,this.log);this.onLoadDefaultAudioTrack(c),this.initVideoElement(r).doOnNext(stjs.bind(this,(function(e){0==n.getInfo().videoTracks.length&&this.view.showAsAudioPlayer()}))).subscribe((function(e){t.onNext(!0),t.onCompleted()}),stjs.bind(t,"onError"))}})),stjs.bind(t,"onError"))})),stjs.bind(t,"onError"))})))},t.loadAudioTrack=function(e,t,i){var n;n=Utils.isNotBlank(this.options.serverUrl)&&!this.isUrl(e)?new ProxyLoader(this.http,this.log).loadAudioRx(this.options.serverUrl,e):this.determineMimeType(e).flatMap(stjs.bind(this,(function(t){switch(this.log.debug(t),t.toLowerCase()){case"application/xml":case"application/dash+xml":return new ProxyLoader(this.http,this.log).loadAudioFromMpd(e);case"video/mp4":case"audio/mp4":case"audio/x-m4a":return new ProxyLoader(this.http,this.log).loadAudioFromM4a(e);default:return Rx.Observable.throw(new PlayerError("unsupported mime type "+t,PlayerError.FATAL))}})));var r=n.subscribe(stjs.bind(this,(function(n){var r=PlayerAudioTrack.fromDashStream(e,n,this.log);r.filename=t,this._addToAudioTracks(r),r.setChannelsMuted(!0),i(null)})),i);this.autoDisposable(r)},t.setAudioTrackUrl=function(e,t,i){var n,r=this.getAudioTrack(e);null!=r?(n=t.endsWith(".mpd")?new ProxyLoader(this.http,this.log).loadAudioFromMpd(t).subscribe(stjs.bind(this,(function(e){r.update(e),this.audioTracksRx.onNext(r),r.setChannelsMuted(!0),PlayerImpl.invoke1(i,null)}))):new ProxyLoader(this.http,this.log).loadAudioRx(this.options.serverUrl,t).subscribe(stjs.bind(this,(function(e){r.update(e),this.audioTracksRx.onNext(r),r.setChannelsMuted(!0),PlayerImpl.invoke1(i,null)})),(function(e){return PlayerImpl.invoke1(i,e)})),this.autoDisposable(n)):PlayerImpl.invoke1(i,new Error("no track with id "+e))},t.conformAudioTrack=function(e,t){var i=this.getAudioTrack(e);if(null!=i)if(null!=i.dashStream)if(i.id()!=this.getCurrentAudioTrack().id()){var n=Utils.secondsToTv(t,i.dashStream.sampleRate),r=stjs.trunc(this.getDurationSec()*i.dashStream.sampleRate),s=Math.max(n+i.dashStream.totalSamples,r),o=new ConformedM4sAudioStream(i.dashStream,n,s,this.log);i.update(o),i.offset=t,this.audioTracksRx.onNext(i)}else this.errorRx.onNext(new PlayerError("changing offset of current track is not supported. id="+e,PlayerError.NONFATAL));else this.errorRx.onNext(new PlayerError("track "+e+" is not loaded",PlayerError.NONFATAL));else this.errorRx.onNext(new PlayerError("no track with id "+e,PlayerError.NONFATAL))},e.invoke1=function(e,t){null!=e&&e(t)},t.getAudioTrack=function(e){var t=this.audioTracks.filter((function(t,i,n){return t.proxyId==e}));return t.length>0?t[0]:null},t.setCurrentAudioTrack=function(e){var t=this.getAudioTrack(e);null!=t&&(PlayerOptions.STREAMING_FILE.equals(this.options.streaming)||(this.currentAudioTrack=t,this.videoSrcHiRes.canSetAudioWithoutReattach(t.dashStream)?this.doChangeCurrentAudioTrack(t):this.reattachCurrentVideoSrc(stjs.bind(this,(function(){return this.doChangeCurrentAudioTrack(t)})))))},t.doChangeCurrentAudioTrack=function(e){var t=this.cutList[0];t.setAudio(e.dashStream),this.videoSrcHiRes.setAudio(e.dashStream),null!=this.videoSrcLowRes&&this.videoSrcLowRes.setAudio(e.dashStream);var i=this.cutListLowRes[0];null!=i&&(i.setAudio(e.dashStream),this.videoSrcLowRes.setAudio(e.dashStream)),this.audioTracks.forEach((function(t){return t.setChannelsMuted(t!=e)})),null!=t.audioDashFile&&(t.audioDashFile.channelMuted=e.channelMuted),this.subscribeSeekableDurationUpdater(this.currentVideoStream,e.dashStream,this.getTimeline()),this.audioTracksRx.onNext(e)},e.parseStartEnd=function(e){return Utils.isNumber(e)?Utils.toInt(e):Utils.isString(e)?0:-1},t.loadCutList=function(e,t){this.close(),this.init(),this.proxyType=ProxyType.VG;for(var i={},n=new Array,r=0;r<e.length;r++){var s=e[r].proxyId;-1==n.indexOf(s)&&null==i[s]&&n.push(s)}var o=new ProxyLoader(this.http,this.log).loadProxies(this.options.serverUrl,n).doOnError(stjs.bind(this,(function(e){this.errorRx.onNext(new PlayerError(e,PlayerError.FATAL)),PlayerImpl.invoke1(t,e)}))).flatMap(stjs.bind(this,(function(t){for(var r=0;r<n.length;r++){var s=n[r],o=t[s];i[s]=o}return this.onAllProxiesLoaded(i,e)}))).subscribe((function(e){setTimeout((function(){return PlayerImpl.invoke1(t,null)}),0)}));this.autoDisposable(o)},t.onAllProxiesLoaded=function(e,t){for(var i,n=this,r=0;r<t.length;r++){var s,o=e[t[r].proxyId],a=PlayerImpl.parseStartEnd(t[r].start);if(null!=o.video)s=PlayerImpl.parseStartEnd(t[r].end)||o.video.getFrameCount();else{var u=48e3*stjs.trunc(o.audio.getDurationSec());s=PlayerImpl.parseStartEnd(t[r].end)||u}var c=new PlayerCut(o,a,s);n.cutsRx.onNext(c),n.cutList.push(c),n.cutListLowRes.push(PlayerCut.LowRes(o,a,s)),this.currentVideoStream=c.videoDashFile;var f=o.audio;if(null!=f){var h=PlayerAudioTrack.fromDashStream(t[r].proxyId,f,this.log);this.onLoadDefaultAudioTrack(h)}}n.options.streaming==PlayerOptions.STREAMING_VFILE?(n.videoSrcHiRes=new FileStreaming(n.cutList[0],!0,!0,n.options.serverUrl),n.videoSrcLowRes=new FileStreaming(n.cutListLowRes[0],!1,!0,n.options.serverUrl),n.videoSrcTrick=new FileStreaming(n.cutListLowRes[0],!1,!1,n.options.serverUrl)):n.options.streaming==PlayerOptions.STREAMING_CUTLIST?(n.videoSrcHiRes=new CutListStreaming(n.cutList,VideoSrc.VIDEO_AUDIO,n.options.serverUrl),n.videoSrcLowRes=new CutListStreaming(n.cutList,VideoSrc.VIDEO_AUDIO,n.options.serverUrl),n.videoSrcTrick=new CutListStreaming(n.cutList,VideoSrc.VIDEO_ONLY,n.options.serverUrl)):1==n.cutList.length?(n.videoSrcHiRes=new DynamicDash(this.cutList[0].videoDashFile,this.cutList[0].audioDashFile,this.log,this.errorRx),null!=n.cutListLowRes[0].videoDashFile&&(n.videoSrcLowRes=new DynamicDash(this.cutListLowRes[0].videoDashFile,this.cutList[0].audioDashFile,this.log,this.errorRx),n.videoSrcTrick=new DynamicDash(n.cutListLowRes[0].videoDashFile,null,this.log,this.errorRx))):(n.videoSrcHiRes=new DashCutListStreaming(n.cutList,!0,VideoSrc.VIDEO_AUDIO,n.options.serverUrl),n.videoSrcLowRes=new DashCutListStreaming(n.cutListLowRes,!1,VideoSrc.VIDEO_AUDIO,n.options.serverUrl),n.videoSrcTrick=new DashCutListStreaming(n.cutListLowRes,!1,VideoSrc.VIDEO_ONLY,n.options.serverUrl));var l=n.cutList[0].videoDashFile;if(null!=l){var d=0,p=0,m=0;for(r=0;r<n.cutList.length;r++){c=n.cutList[r];var b=c.endFrame-c.startFrame;p+=b,d+=c.videoDashFile.timescale*b,m+=c.videoDashFile.sampleDuration*b}var v=l.timecode;i=SimpleTimeline.newSimpleTime(Math.round(stjs.trunc(d/p)),p,Math.round(stjs.trunc(m/p)),v)}else{var g=n.cutList[0].audioDashFile;i=SimpleTimeline.newSimpleTime(g.sampleRate,g.totalSamples,1,"00:00:00:00")}var y=new FilmStripDrawer(this.http,this.log,this.errorRx);return y.initWithUrl(this.options.serverUrl+"/"+t[0].proxyId+"/thumbs.mov",stjs.bind(this,(function(e){return this.filmStripDrawerRx.onNext(y)}))),this.initVideoElement(i).doOnNext(stjs.bind(this,(function(e){null==l&&this.view.showAsAudioPlayer()})))},t.initVideoElement=function(e){var t;return this.videoSrcHiRes.attach(this.view.video),this.currentVideoSrc=this.videoSrcHiRes,null!=this.videoSrcTrick?(this.videoSrcTrick.attach(this.view.trickVideo),this.videoElement=new DualVideoElement(this.view.video,e,this.view.trickVideo,this.log,this.errorRx)):(this.view.hideTrickVideo(),this.videoElement=new SimpleVideoElement(this.view.video,e,this.log,this.errorRx)),this.videoElement.getVideoShownRx().subscribe(stjs.bind(this,(function(e){this.changingVideoSrc=!1,this.view.unfreezeVideo()}))),this.autoDisposable(this.videoElement.getTimeUpdateRx().map(stjs.bind(this,(function(e){return this.getTimeSample()}))).subscribe(stjs.bind(this.timeUpdateRx,"onNext"))),this.autoDisposable(this.videoElement.getProgressRx().subscribe(stjs.bind(this.progressRx,"onNext"))),this.options.enableCORS&&this.videoElement.setCrossOrigin("anonymous"),this.videoElement.setResetPlayRateOnSeek(!this.options.preservePlaybackRate),this.resubscribeTimeRx(),this.view.init(this),Utils.isSomething(this.options.plugins)&&this.initPlugins(this.options.plugins),t=e==Timeline.UNKNOWN?this.timelineRx.take(1).map((function(e){return!0})):Rx.Observable.just(!0),t.doOnNext(stjs.bind(this,(function(e){this.log.info("video element initialized"),this.initRx.onNext(this)})))},t._addToAudioTracks=function(e){return this.audioTracks.push(e),this.audioTracksRx.onNext(e),e},t.addAudioTrack=function(e,t){return this.addAudioTrackWithId(PlayerUtils.randomString(),e,t)},t.addAudioTrackWithId=function(e,t,i){var n=PlayerAudioTrack.fromChannelLabels(e,t,i,this.log);return n.setChannelsMuted(!0),this._addToAudioTracks(n).proxyId},t.muteAudioTrack=function(e){var t=this.getAudioTrack(e);null!=t&&t.setChannelsMuted(!0)},t.togglePlay=function(){this.isPlaying()?this.pause():this.videoElement.playAtRate(this.options.preservePlaybackRate?this.playRateBeforePause:1)},t.play=function(){this.videoElement.playAtRate(this.options.preservePlaybackRate?this.playRateBeforePause:1)},t.pause=function(){if(this.isPlaying()){var e=this.videoElement.getPlayRate();0!=e&&(this.playRateBeforePause=e),this.videoElement.pause()}},t.getTimeline=function(){return this.videoElement.getTimeline()},t.getTimelineRx=function(){return this.timelineRx.debounce(1)},t.getCurrentTapeTimecode=function(){var e=this.videoElement.getFrame();return this.videoElement.getTimeline().getTapeByFrame(e)},t.getCurrentStandardTimecode=function(){var e=stjs.trunc(1e3*this.videoElement.getTimeSec());return Utils.hhmmssms(e)},t.getCurrentFrame=function(){return this.videoElement.getFrame()},t.getCurrentTime=function(){return this.videoElement.getTimeSec()},t.getCurrentTimeValue=function(){return this.videoElement.getTimeValue()},t.getCurrentUTCTimestamp=function(){return this.getTimeline().getUTCTimestampBySec(this.videoElement.getTimeSec())},t.seekSec=function(e){this.videoElement.seek(e)},t.seekUTCTimestamp=function(e){var t=Date.parse(e)-Date.parse(this.getStartUTCTimestamp());this.videoElement.seek(t/1e3)},t.seek=function(e){var t=-1,i=-1;if(Utils.isNumber(e))t=stjs.trunc(e);else if(Utils.isString("string")){var n=e;TapeTimecode.isTimecode(n)?t=this.videoElement.getTimeline().getFrameByTimecode(n):-1!=Utils.HHmmSSmsecToTimestamp(n)?i=stjs.trunc(Utils.HHmmSSmsecToTimestamp(n)/1e3):new RegExp("^\\d+$").test(n)&&(t=Integer.parseInt(n))}-1==t&&-1==i?this.errorRx.onNext(new PlayerError("provided value is neither timecode nor frame number: "+e,PlayerError.NONFATAL)):-1!=t?this.videoElement.seekFrame(t):this.videoElement.seek(i)},t.seekFrame=function(e){this.videoElement.seekFrame(e)},t.nextFrame=function(e){this.videoElement.pause(),this.videoElement.forward1(e)},t.previousFrame=function(e){this.videoElement.pause(),this.videoElement.backward1(e)},t.nextSec=function(e){this.videoElement.pause(),this.videoElement.forwardSec(e)},t.previousSec=function(e){this.videoElement.pause(),this.videoElement.backwardSec(e)},t.enterFullscreen=function(){this.view.enterFullscreen(null)},t.exitFullscreen=function(){this.view.exitFullscreen()},t.setRange=function(e,t){var i=PlayerImpl.guessFrame(this.videoElement.getTimeline(),e),n=PlayerImpl.guessFrame(this.videoElement.getTimeline(),t);-1!=i&&-1!=n?(this.originalVideoElement=this.videoElement,this.videoElement=new RangeVideoElement(this.videoElement),this.videoElement.setRange(i,n),this.resubscribeTimeRx()):this.errorRx.onNext(new PlayerError("provided values are neither timecodes nor frame numbers: "+e+" "+t,PlayerError.NONFATAL)),this.view.renderRange(i,n)},t.resubscribeTimeRx=function(){null!=this.timelineSubscription&&this.timelineSubscription.dispose(),this.timelineSubscription=this.videoElement.getTimeline().getUpdateRx().subscribe(stjs.bind(this.timelineRx,"onNext")),this.timelineRx.onNext(this.videoElement.getTimeline())},t.cancelRange=function(){this.videoElement.cancelRange(),null!=this.originalVideoElement&&(this.videoElement=this.originalVideoElement,this.originalVideoElement=null,this.resubscribeTimeRx(),this.timeUpdateRx.onNext(this.getTimeSample())),this.view.renderWhole()},t.hasRange=function(){return this.videoElement.hasRange()},t.playAtRate=function(e){this.videoElement.playAtRate(e)},t.playFasterBackwards=function(){this.videoElement.playFasterBackwards()},t.playFaster=function(){this.videoElement.playFaster()},t.setLoop=function(e){this.videoElement.setLoop(e)},t.setPauseOnLoop=function(e){this.videoElement.setPauseOnLoop(e)},t.isPlaying=function(){return this.videoElement.isPlaying()},t.getPlaybackRate=function(){return this.videoElement.getPlayRate()},t.getCutsInfo=function(){for(var e=this.cutList,t=new Array,i=0,n=0;n<e.length;n++){var r=e[n],s=r.endFrame-r.startFrame,o=new CutInfo(r.startFrame,r.endFrame,r.proxyId,i,i+s,r.audioDashFile,r.audioInfo);o.frameCount=o.end-o.start,o.cutListFrameCount=s,t.push(o),i+=s}return t},t.getCurrentCut=function(){for(var e=this.videoElement.getFrame(),t=this.getCutsInfo(),i=t[0],n=0;n<t.length;n++){var r=t[n];e>=r.cutListFrameStart&&e<r.cutListFrameEnd&&(i=r,i.cutId=n)}return i},t.getCurrentAudioTrack=function(){return this.currentAudioTrack},t.initPlugins=function(e){},t.isAudioMutable=function(){for(var e=this,t=0;t<e.cutList.length;t++){var i=e.cutList[t].audioInfo;if(null!=i&&ProxyLoader.AUDIOTYPE_MP3.equals(i.audioType))return!1}return!0},t.isAllMuted=function(){return this.audioTracks.every((function(e,t,i){return e.isMuted()}))},t.setVolume=function(e){this.videoElement.setVolume(e)},t.getVolume=function(){return this.videoElement.getVolume()},t.isChangingVideoSrc=function(){return this.changingVideoSrc},t.applyAudioChanges=function(){this.currentVideoSrc.clearAudioBuffer()},t.changeVideoSrc=function(e){this.reattachCurrentVideoSrc(stjs.bind(this,(function(){return this.currentVideoSrc=e})))},t.reattachCurrentVideoSrc=function(e){this.log.debug("reattaching"),this.changingVideoSrc=!0;var t=this.videoElement.getPlayRate();this.videoElement.pause(),this.videoElement.setInitialTime(this.videoElement.getTimeSec()),this.view.freezeVideo(),setTimeout(stjs.bind(this,(function(){this.currentVideoSrc.detach(),null!=e&&e(),this.currentVideoSrc.attach(this.view.video),0!=t&&this.videoElement.playAtRate(t)})),100)},t.checkRangeAndSeek=function(e){PlayerImpl.RANGE_AUTO_CANCEL&&this.videoElement.hasRange()&&!this.videoElement.inRange(e)&&this.videoElement.cancelRange(),this.videoElement.seekFrame(e)},t.checkRangeAndSeekSec=function(e){var t=this.getTimeline().getFrameBySec(e);PlayerImpl.RANGE_AUTO_CANCEL&&this.videoElement.hasRange()&&!this.videoElement.inRange(t)&&this.videoElement.cancelRange(),this.videoElement.seek(e)},t.getSeekableDurationSec=function(){return this.videoElement.getSeekableDuration()},t.getDurationSec=function(){return this.videoElement.getDuration()},t.getTimeSample=function(){var e=this.getCurrentTimeValue(),t=this.getCurrentFrame(),i=this.getCurrentTime();return new TimeSample(e,t,i)},t.setVideoQuality=function(e){null!=this.videoSrcLowRes&&(PlayerImpl.FULL_RES.equals(e)?this.changeVideoSrc(this.videoSrcHiRes):this.changeVideoSrc(this.videoSrcLowRes))},e.guessFrame=function(e,t){var i=0;if(Utils.isNumber(t))i=Utils.toInt(t);else if(Utils.isString(t)){var n=t;TapeTimecode.isTimecode(n)?i=e.getFrameByTimecode(n):-1!=Utils.HHmmSSmsecToTimestamp(n)?i=e.getFrameByMillis(Utils.HHmmSSmsecToTimestamp(n)):Utils.isDigit(n)&&(i=Integer.parseInt(n))}return i},t.getPlayRx=function(){return this.videoElement.getPlayRx()},t.getVolumeChangeRx=function(){return this.videoElement.getVolumeChangeRx()},t.getTimeUpdateRx=function(){return this.timeUpdateRx},t.setStartTapeTimecode=function(e){var t=this.getTimeline().getTapeTimecode(),i=TapeTimecode.parseTimecode(e,t.getTapeFps(),t.isDropFrame());t.setStartTimecode(i),this.timelineRx.onNext(this.getTimeline()),this.timeUpdateRx.onNext(this.getTimeSample())},t.getStartTapeTimecode=function(){return this.getTimeline().getTapeTimecode().getTimecodeAtFrame(0)},t.getCaptionsList=function(){return this.captionsList},t.getAudioTracks=function(){return this.audioTracks},t.getAudioHandlerRx=function(){return this.audioHandlerRx},t.getCaptionHandlerRx=function(){return this.captionHandlerRx},t.disableHotKeys=function(){null!=this.view.hm&&this.view.hm.setDisable(!0),this.options.hotkeys=!1},t.enableHotKeys=function(){null!=this.view.hm&&this.view.hm.setDisable(!1),this.options.hotkeys=!0},t.getVideoElement=function(){return this.videoElement},t.enableHotKeysForDocument=function(e){this.view.hm.enableHotKeysForDocument(e)},t.addEventListener=function(e,t){var i=null,n=e.toLowerCase();switch(n){case PlayerEvents.FULLSCREEN_EVENT:i=this.view.fullscreenRx;break;case PlayerEvents.TIMEUPDATE_EVENT:i=this.timeUpdateRx;break;case PlayerEvents.LOAD_EVENT:i=this.initRx;break;case PlayerEvents.PLAY_EVENT:i=this.getPlayRx();break;case PlayerEvents.INIT_EVENT:i=this.initRx;break;case PlayerEvents.TIMELINE_EVENT:i=this.getTimelineRx();break;case PlayerEvents.ERROR_EVENT:i=this.errorRx;break;case PlayerEvents.VOLUME_CHANGED:i=this.getVolumeChangeRx();break;case PlayerEvents.PROGRESS:i=this.progressRx}if(null!=i){var r=stjs.bind(this,(function(e){try{t(e)}catch(i){this.log.error("error in user's event listener \""+n+'"',i),n!=PlayerEvents.ERROR_EVENT&&this.errorRx.onNext(new PlayerError("error in user's event listener \""+n+'"',PlayerError.NONFATAL,i))}})),s=i.subscribe(r);null==this.eventListeners[n]&&(this.eventListeners[n]=[]),this.eventListeners[n].push(new PlayerImpl.PlayerEventListener(t,s))}},t.removeEventListener=function(e,t){var i=this.eventListeners[e];if(null!=i)for(var n=0;n<i.length;n++){var r=i[n];r.handler==t&&(r.disposable.dispose(),i.splice(n,1))}},t.removeAllEventListeners=function(){Utils.mapValues(this.eventListeners).forEach((function(e){return e.forEach((function(e){return e.disposable.dispose()}))})),this.eventListeners={}},t.loadFromMpd=function(e,t,i){this.close(),this.init(),this.autoDisposable(this.initVideoFromMPDStream(e,t).doOnError(stjs.bind(this,(function(e){return this.errorRx.onNext(new PlayerError("can not load MPD",PlayerError.FATAL,e))}))).subscribe((function(e){return i()})))},e.PlayerEventListener=function(e,t){this.handler=e,this.disposable=t},e.PlayerEventListener=stjs.extend(e.PlayerEventListener,null,[],(function(e,t){t.handler=null,t.disposable=null}),{handler:"Callback1",disposable:"Rx.Disposable"},{}),t.subscribeSeekableDurationUpdater=function(e,t,i){null!=this.seekableDurationUpdaterSubscription&&(this.seekableDurationUpdaterSubscription.dispose(),this.seekableDurationUpdaterSubscription=null),null!=e&&null!=t?(i.setSeekableDurationSec(Math.min(t.getDurationSec(),e.getDurationSec())),this.seekableDurationUpdaterSubscription=Rx.Observable.merge(t.getUpdateRx(),e.getUpdateRx()).subscribe((function(n){i.setSeekableDurationSec(Math.min(e.getDurationSec(),t.getDurationSec()))}))):null!=e&&null==t?(i.setSeekableDurationSec(e.getDurationSec()),this.seekableDurationUpdaterSubscription=e.getUpdateRx().subscribe((function(t){i.setSeekableDurationSec(e.getDurationSec())}))):null==e&&null!=t?(i.setSeekableDurationSec(t.getDurationSec()),this.seekableDurationUpdaterSubscription=t.getUpdateRx().subscribe((function(e){i.setSeekableDurationSec(t.getDurationSec())}))):this.errorRx.onNext(new PlayerError("invalid call. no video and audio",PlayerError.FATAL))},t.getStaticFilmStripDrawer=function(e,t){var i=new FilmStripDrawer(this.http,this.log,this.errorRx);i.initWithUrl(e,(function(e){return PlayerImpl.invoke1(t,i)}))},t.getFilmStripDrawer=function(e){this.filmStripDrawerRx.subscribe((function(t){return PlayerImpl.invoke1(e,t)}))},t.autoDisposable=function(e){this.autoDisposables.add(e)},t.registerPlugin=function(e){e.setAPI(this)},t.getCaptionListChangeRx=function(){return this.captionListChangeRx},t.getBuffered=function(){return this.videoElement.getBuffered()},t.getErrorRx=function(){return this.errorRx},t.setStartUTCTimestamp=function(e){this.getTimeline().setStartUTCTimestamp(e)},t.getStartUTCTimestamp=function(){return this.getTimeline().getStartUTCTimestamp()}}),{log:"Log",container:"Element",options:"PlayerOptions",http:"Http",view:"PlayerView",videoSrcHiRes:"VideoSrc",videoSrcLowRes:"VideoSrc",videoSrcTrick:"VideoSrc",cutList:{name:"Array",arguments:["PlayerCut"]},cutListLowRes:{name:"Array",arguments:["PlayerCut"]},captionsList:{name:"Array",arguments:["Subtitles"]},videoElement:"VideoElement",originalVideoElement:"VideoElement",audioTracksRx:{name:"Rx.ReplaySubject",arguments:["PlayerAudioTrack"]},audioTracks:{name:"Array",arguments:["PlayerAudioTrack"]},captionListChangeRx:{name:"Rx.ReplaySubject",arguments:["Subtitles"]},pluginRx:{name:"Rx.ReplaySubject",arguments:["VGPlugins"]},cutsRx:{name:"Rx.ReplaySubject",arguments:["PlayerCut"]},currentVideoStream:"SegmentedStream",timeUpdateRx:{name:"Rx.Subject",arguments:["TimeSample"]},progressRx:{name:"Rx.Subject",arguments:[{name:"Array",arguments:["TimeRange"]}]},timelineRx:{name:"Rx.Subject",arguments:["Timeline"]},timelineSubscription:"Rx.Disposable",audioHandlerRx:{name:"Rx.Subject",arguments:["Callback0"]},captionHandlerRx:{name:"Rx.Subject",arguments:["Callback0"]},currentVideoSrc:"VideoSrc",initRx:{name:"Rx.Subject",arguments:["PlayerImpl"]},seekableDurationUpdaterSubscription:"Rx.Disposable",currentAudioTrack:"PlayerAudioTrack",eventListeners:{name:"Map",arguments:[null,{name:"Array",arguments:["PlayerImpl.PlayerEventListener"]}]},filmStripDrawerRx:{name:"Rx.Subject",arguments:["FilmStripDrawer"]},autoDisposables:"Rx.CompositeDisposable",proxyType:{name:"Enum",arguments:["ProxyType"]},errorRx:{name:"Rx.Subject",arguments:["PlayerError"]},drm:"DRM",fairplay:"Fairplay"},{});var CoreDev=function(){};CoreDev=stjs.extend(CoreDev,null,[],(function(e,t){e.chugai=function(){window.onload=function(e){var t=window.document.getElementById("playerContainer"),i=new PlayerImpl(t,{logLevel:LogLevel.DEBUG,drm:{widevine:{laUrl:"https://drm-widevine-licensing.axtest.net/AcquireLicense",headers:{"X-AxDRM-Message":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2ZXJzaW9uIjoxLCJjb21fa2V5X2lkIjoiNjllNTQwODgtZTllMC00NTMwLThjMWEtMWViNmRjZDBkMTRlIiwibWVzc2FnZSI6eyJ0eXBlIjoiZW50aXRsZW1lbnRfbWVzc2FnZSIsImtleXMiOlt7ImlkIjoiNmU1YTFkMjYtMjc1Ny00N2Q3LTgwNDYtZWFhNWQxZDM0YjVhIn1dfX0.yF7PflOPv9qHnu3ZWJNZ12jgkqTabmwXbDWk_47tLNE"}},playready:{laUrl:"https://drm-playready-licensing.axtest.net/AcquireLicense"},fairplay:{laUrl:"https://drm.ideanovatech.com/InplayMultiDrmProxy?type=FPS&WVCustomUserToken=34241&WVCustomProductId=1234",certUrl:"https://drm.ideanovatech.com/InplayMultiDrmProxy?FairPlayCert=true"}}});i.load("http://media.axprod.net/TestVectors/v6.1-MultiDRM/Manifest_1080p.mpd",(function(e){null!=e?console.error("load error",e):(console.log("load ok"),console.log("live="+i.isLive())),i.getFilmStripDrawer((function(e){var t=window.document.getElementById("canv");e.drawFilmstrip(t,100,150,5,!1,(function(){return console.log("filmstrip ok")}),(function(e){return console.log("filmstrip error",e)}))}))})),i.addEventListener(PlayerEvents.ERROR_EVENT,(function(e){console.log("OMG! error event",e)})),window["player"]=i}},e.axinom=function(){window.onload=function(e){new Http(new Log(LogLevel.DEBUG)).get("http://localhost:8120/api/authorization/Axinom%20demo%20video").subscribe((function(e){var t=JSON.parse(e),i=window.document.getElementById("playerContainer"),n=new PlayerImpl(i,{logLevel:LogLevel.DEBUG,drm:{widevine:{laUrl:"https://drm-widevine-licensing.axtest.net/AcquireLicense",headers:{"X-AxDRM-Message":t}},playready:{laUrl:"https://drm-playready-licensing.axtest.net/AcquireLicense",headers:{"X-AxDRM-Message":t}}}});n.load("http://media.axprod.net/TestVectors/v6.1-MultiDRM/Manifest_1080p.mpd",(function(e){null!=e?console.error("load error",e):console.log("load ok")})),window["player"]=n}))}},e.andrew=function(){window.onload=function(e){var t=window.document.getElementById("playerContainer"),i=new PlayerImpl(t,{serverUrl:"http://localhost/player/core/tests"});i.load("http://localhost/player/core/tests/pete30/file.mpd",(function(e){null!=e?console.error(e):console.log("Player loaded")})),window["player"]=i}}}),{},{}),PlayerImpl.version="0.4.32",module.exports={Player:PlayerImpl,Captions:Captions,TapeTimecode:TapeTimecode,LogLevel:LogLevel,PlayerError:PlayerError,_private:{PlayerAudioTrack:PlayerAudioTrack,ChannelMute:ChannelMute,AudioInfo:AudioInfo,SegmentedAudioStream:SegmentedAudioStream,SegmentedStream:SegmentedStream,DashDescriptor:DashDescriptor,CloseableView:CloseableView,VGView:VGView,VGPlayerPluginApi:VGPlayerPluginApi,ObjectEvents:ObjectEvents,DataSrc:DataSrc,VGPlugin:VGPlugin,VGPlugins:VGPlugins,PlayerView:PlayerView,VGPlayerPublicApi:VGPlayerPublicApi,Http:Http,TimelineUtil:TimelineUtil,tests:{PlayerOptions:PlayerOptions,Utils:Utils,Subtitles:Subtitles,SubtitleEntry:SubtitleEntry,MutableBoolean:MutableBoolean,PlayerEvents:PlayerEvents,KeyOptions:KeyOptions,HotkeyManager:HotkeyManager,Timeline:Timeline,TimeSample:TimeSample}}}},c69a:function(e,t,i){e.exports=!i("9e1e")&&!i("79e5")((function(){return 7!=Object.defineProperty(i("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}e.exports=i},ca5a:function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},cadf:function(e,t,i){"use strict";var n=i("9c6c"),r=i("d53b"),s=i("84f2"),o=i("6821");e.exports=i("01f9")(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])}),"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},cb7c:function(e,t,i){var n=i("d3f4");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},cd91:function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},ce10:function(e,t,i){var n=i("69a8"),r=i("6821"),s=i("c366")(!1),o=i("613b")("IE_PROTO");e.exports=function(e,t){var i,a=r(e),u=0,c=[];for(i in a)i!=o&&n(a,i)&&c.push(i);while(t.length>u)n(a,i=t[u++])&&(~s(c,i)||c.push(i));return c}},cfbd:function(e,t,i){var n=i("3fb5"),r=i("7f7a"),s=r.base,o=r.bignum,a=r.constants.der;function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){s.Node.call(this,"der",e)}function f(e,t){var i=e.readUInt8(t);if(e.isError(i))return i;var n=a.tagClass[i>>6],r=0===(32&i);if(31===(31&i)){var s=i;i=0;while(128===(128&s)){if(s=e.readUInt8(t),e.isError(s))return s;i<<=7,i|=127&s}}else i&=31;var o=a.tag[i];return{cls:n,primitive:r,tag:i,tagStr:o}}function h(e,t,i){var n=e.readUInt8(i);if(e.isError(n))return n;if(!t&&128===n)return null;if(0===(128&n))return n;var r=127&n;if(r>4)return e.error("length octect is too long");n=0;for(var s=0;s<r;s++){n<<=8;var o=e.readUInt8(i);if(e.isError(o))return o;n|=o}return n}e.exports=u,u.prototype.decode=function(e,t){return e instanceof s.DecoderBuffer||(e=new s.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(c,s.Node),c.prototype._peekTag=function(e,t,i){if(e.isEmpty())return!1;var n=e.save(),r=f(e,'Failed to peek tag: "'+t+'"');return e.isError(r)?r:(e.restore(n),r.tag===t||r.tagStr===t||r.tagStr+"of"===t||i)},c.prototype._decodeTag=function(e,t,i){var n=f(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var r=h(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(r))return r;if(!i&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==r)return e.skip(r,'Failed to match body of: "'+t+'"');var s=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(r=e.offset-s.offset,e.restore(s),e.skip(r,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){while(1){var i=f(e,t);if(e.isError(i))return i;var n,r=h(e,i.primitive,t);if(e.isError(r))return r;if(n=i.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===i.tagStr)break}},c.prototype._decodeList=function(e,t,i,n){var r=[];while(!e.isEmpty()){var s=this._peekTag(e,"end");if(e.isError(s))return s;var o=i.decode(e,"der",n);if(e.isError(o)&&s)break;r.push(o)}return r},c.prototype._decodeStr=function(e,t){if("bitstr"===t){var i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var r="",s=0;s<n.length/2;s++)r+=String.fromCharCode(n.readUInt16BE(2*s));return r}if("numstr"===t){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,i){var n,r=[],s=0;while(!e.isEmpty()){var o=e.readUInt8();s<<=7,s|=127&o,0===(128&o)&&(r.push(s),s=0)}128&o&&r.push(s);var a=r[0]/40|0,u=r[0]%40;if(n=i?r:[a,u].concat(r.slice(1)),t){var c=t[n.join(" ")];void 0===c&&(c=t[n.join(".")]),void 0!==c&&(n=c)}return n},c.prototype._decodeTime=function(e,t){var i=e.raw().toString();if("gentime"===t)var n=0|i.slice(0,4),r=0|i.slice(4,6),s=0|i.slice(6,8),o=0|i.slice(8,10),a=0|i.slice(10,12),u=0|i.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|i.slice(0,2),r=0|i.slice(2,4),s=0|i.slice(4,6),o=0|i.slice(6,8),a=0|i.slice(8,10),u=0|i.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,r-1,s,o,a,u,0)},c.prototype._decodeNull=function(e){return null},c.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){var i=e.raw(),n=new o(i);return t&&(n=t[n.toString(10)]||n),n},c.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getDecoder("der").tree}},d17b:function(e,t,i){e.exports=i("e372").Transform},d1c8:function(e,t,i){var n=i("3fb5");function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function s(e,t){this.path=e,this.rethrow(t)}t.Reporter=r,r.prototype.isError=function(e){return e instanceof s},r.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,i){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=i)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){var t=this._reporterState,i=t.obj;return t.obj=e,i},r.prototype.error=function(e){var t,i=this._reporterState,n=e instanceof s;if(t=n?e:new s(i.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!i.options.partial)throw t;return n||i.errors.push(t),t},r.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(s,Error),s.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d424:function(e,t,i){"use strict";var n=i("3fb5"),r=i("8707").Buffer,s=i("6430"),o=r.alloc(128),a=64;function u(e,t){s.call(this,"digest"),"string"===typeof t&&(t=r.from(t)),this._alg=e,this._key=t,t.length>a?t=e(t):t.length<a&&(t=r.concat([t,o],a));for(var i=this._ipad=r.allocUnsafe(a),n=this._opad=r.allocUnsafe(a),u=0;u<a;u++)i[u]=54^t[u],n[u]=92^t[u];this._hash=[i]}n(u,s),u.prototype._update=function(e){this._hash.push(e)},u.prototype._final=function(){var e=this._alg(r.concat(this._hash));return this._alg(r.concat([this._opad,e]))},e.exports=u},d485:function(e,t,i){e.exports=s;var n=i("faa1").EventEmitter,r=i("3fb5");function s(){n.call(this)}r(s,n),s.Readable=i("e372"),s.Writable=i("2c63"),s.Duplex=i("0960"),s.Transform=i("d17b"),s.PassThrough=i("c2ae"),s.Stream=s,s.prototype.pipe=function(e,t){var i=this;function r(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function s(){i.readable&&i.resume&&i.resume()}i.on("data",r),e.on("drain",s),e._isStdio||t&&!1===t.end||(i.on("end",a),i.on("close",u));var o=!1;function a(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){if(f(),0===n.listenerCount(this,"error"))throw e}function f(){i.removeListener("data",r),e.removeListener("drain",s),i.removeListener("end",a),i.removeListener("close",u),i.removeListener("error",c),e.removeListener("error",c),i.removeListener("end",f),i.removeListener("close",f),e.removeListener("close",f)}return i.on("error",c),e.on("error",c),i.on("end",f),i.on("close",f),e.on("close",f),e.emit("pipe",i),e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d70e:function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},da3e:function(e,t){function i(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=i,i.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)}},dc14:function(e,t,i){"use strict";(function(t,n){var r=i("966d");function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){F(t,e)}}e.exports=y;var o,a=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?setImmediate:r.nextTick;y.WritableState=g;var u=i("3a7c");u.inherits=i("3fb5");var c={deprecate:i("b7d1")},f=i("429b"),h=i("8707").Buffer,l=n.Uint8Array||function(){};function d(e){return h.from(e)}function p(e){return h.isBuffer(e)||e instanceof l}var m,b=i("4681");function v(){}function g(e,t){o=o||i("b19a"),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,a=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n&&(a||0===a)?a:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){T(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function y(e){if(o=o||i("b19a"),!m.call(y,this)&&!(this instanceof o))return new y(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),f.call(this)}function _(e,t){var i=new Error("write after end");e.emit("error",i),r.nextTick(t,i)}function w(e,t,i,n){var s=!0,o=!1;return null===i?o=new TypeError("May not write null values to stream"):"string"===typeof i||void 0===i||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),r.nextTick(n,o),s=!1),s}function S(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=h.from(t,i)),t}function E(e,t,i,n,r,s){if(!i){var o=S(t,n,r);n!==o&&(i=!0,r="buffer",n=o)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:r,isBuf:i,callback:s,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,a,n,r,s);return u}function x(e,t,i,n,r,s,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,i?e._writev(r,t.onwrite):e._write(r,s,t.onwrite),t.sync=!1}function k(e,t,i,n,s){--t.pendingcb,i?(r.nextTick(s,n),r.nextTick(U,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(s(n),e._writableState.errorEmitted=!0,e.emit("error",n),U(e,t))}function A(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function T(e,t){var i=e._writableState,n=i.sync,r=i.writecb;if(A(i),t)k(e,i,n,t,r);else{var s=B(i);s||i.corked||i.bufferProcessing||!i.bufferedRequest||D(e,i),n?a(C,e,i,s,r):C(e,i,s,r)}}function C(e,t,i,n){i||R(e,t),t.pendingcb--,n(),U(e,t)}function R(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function D(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var n=t.bufferedRequestCount,r=new Array(n),o=t.corkedRequestsFree;o.entry=i;var a=0,u=!0;while(i)r[a]=i,i.isBuf||(u=!1),i=i.next,a+=1;r.allBuffers=u,x(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{while(i){var c=i.chunk,f=i.encoding,h=i.callback,l=t.objectMode?1:c.length;if(x(e,t,!1,l,c,f,h),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function B(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(e,t){e._final((function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),U(e,t)}))}function I(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(M,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function U(e,t){var i=B(t);return i&&(I(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}function P(e,t,i){t.ending=!0,U(e,t),i&&(t.finished?r.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}function F(e,t,i){var n=e.entry;e.entry=null;while(n){var r=n.callback;t.pendingcb--,r(i),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}u.inherits(y,f),g.prototype.getBuffer=function(){var e=this.bufferedRequest,t=[];while(e)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!m.call(this,e)||this===y&&(e&&e._writableState instanceof g)}})):m=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,i){var n=this._writableState,r=!1,s=!n.objectMode&&p(e);return s&&!h.isBuffer(e)&&(e=d(e)),"function"===typeof t&&(i=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),"function"!==typeof i&&(i=v),n.ended?_(this,i):(s||w(this,n,e,i))&&(n.pendingcb++,r=E(this,n,s,e,t,i)),r},y.prototype.cork=function(){var e=this._writableState;e.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||D(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,i){var n=this._writableState;"function"===typeof e?(i=e,e=null,t=null):"function"===typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||P(this,n,i)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=b.destroy,y.prototype._undestroy=b.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,i("f28c"),i("c8ba"))},dcbc:function(e,t,i){var n=i("2aba");e.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},df7c:function(e,t,i){(function(e){function i(e,t){for(var i=0,n=e.length-1;n>=0;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function n(e){"string"!==typeof e&&(e+="");var t,i=0,n=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){i=t+1;break}}else-1===n&&(r=!1,n=t+1);return-1===n?"":e.slice(i,n)}function r(e,t){if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++)t(e[n],n,e)&&i.push(e[n]);return i}t.resolve=function(){for(var t="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var o=s>=0?arguments[s]:e.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,n="/"===o.charAt(0))}return t=i(r(t.split("/"),(function(e){return!!e})),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),o="/"===s(e,-1);return e=i(r(e.split("/"),(function(e){return!!e})),!n).join("/"),e||n||(e="."),e&&o&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,i){function n(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var i=e.length-1;i>=0;i--)if(""!==e[i])break;return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var r=n(e.split("/")),s=n(i.split("/")),o=Math.min(r.length,s.length),a=o,u=0;u<o;u++)if(r[u]!==s[u]){a=u;break}var c=[];for(u=a;u<r.length;u++)c.push("..");return c=c.concat(s.slice(a)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,n=-1,r=!0,s=e.length-1;s>=1;--s)if(t=e.charCodeAt(s),47===t){if(!r){n=s;break}}else r=!1;return-1===n?i?"/":".":i&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var i=n(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,i=0,n=-1,r=!0,s=0,o=e.length-1;o>=0;--o){var a=e.charCodeAt(o);if(47!==a)-1===n&&(r=!1,n=o+1),46===a?-1===t?t=o:1!==s&&(s=1):-1!==t&&(s=-1);else if(!r){i=o+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===i+1?"":e.slice(t,n)};var s="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,i("f28c"))},e07b:function(e,t,i){var n=i("5a76"),r=i("b5ca"),s=i("69f2"),o=i("7d2a"),a=i("9f9d"),u=i("8707").Buffer,c=u.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(e,t,i){var n=l(e),r="sha512"===e||"sha384"===e?128:64;t.length>r?t=n(t):t.length<r&&(t=u.concat([t,c],r));for(var s=u.allocUnsafe(r+f[e]),o=u.allocUnsafe(r+f[e]),a=0;a<r;a++)s[a]=54^t[a],o[a]=92^t[a];var h=u.allocUnsafe(r+i+4);s.copy(h,0,0,r),this.ipad1=h,this.ipad2=s,this.opad=o,this.alg=e,this.blocksize=r,this.hash=n,this.size=f[e]}function l(e){function t(t){return s(e).update(t).digest()}function i(e){return(new r).update(e).digest()}return"rmd160"===e||"ripemd160"===e?i:"md5"===e?n:t}function d(e,t,i,n,r){o(e,t,i,n),u.isBuffer(e)||(e=u.from(e,a)),u.isBuffer(t)||(t=u.from(t,a)),r=r||"sha1";var s=new h(r,e,t.length),c=u.allocUnsafe(n),l=u.allocUnsafe(t.length+4);t.copy(l,0,0,t.length);for(var d=0,p=f[r],m=Math.ceil(n/p),b=1;b<=m;b++){l.writeUInt32BE(b,t.length);for(var v=s.run(l,s.ipad1),g=v,y=1;y<i;y++){g=s.run(g,s.ipad2);for(var _=0;_<p;_++)v[_]^=g[_]}v.copy(c,d),d+=p}return c}h.prototype.run=function(e,t){e.copy(t,this.blocksize);var i=this.hash(t);return i.copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=d},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e1d3:function(e,t,i){(function(t){var n=i("3337"),r=i("399f");e.exports=function(e){return new o(e)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(e){this.curveType=s[e],this.curveType||(this.curveType={name:e}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function a(e,i,n){Array.isArray(e)||(e=e.toArray());var r=new t(e);if(n&&r.length<n){var s=new t(n-r.length);s.fill(0),r=t.concat([s,r])}return i?r.toString(i):r}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,o.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},o.prototype.computeSecret=function(e,i,n){i=i||"utf8",t.isBuffer(e)||(e=new t(e,i));var r=this.curve.keyFromPublic(e).getPublic(),s=r.mul(this.keys.getPrivate()).getX();return a(s,n,this.curveType.byteLength)},o.prototype.getPublicKey=function(e,t){var i=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(i[i.length-1]%2?i[0]=7:i[0]=6),a(i,e)},o.prototype.getPrivateKey=function(e){return a(this.keys.getPrivate(),e)},o.prototype.setPublicKey=function(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this.keys._importPublic(e),this},o.prototype.setPrivateKey=function(e,i){i=i||"utf8",t.isBuffer(e)||(e=new t(e,i));var n=new r(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}}).call(this,i("b639").Buffer)},e372:function(e,t,i){t=e.exports=i("ad71"),t.Stream=t,t.Readable=t,t.Writable=i("dc14"),t.Duplex=i("b19a"),t.Transform=i("27bf"),t.PassThrough=i("780f")},e3db:function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},e85f:function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},ea53:function(e,t,i){"use strict";var n=i("399f"),r=i("f3a3"),s=r.getNAF,o=r.getJSF,a=r.assert;function u(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){a(e.precomputed);var i=e._getDoubles(),n=s(t,1),r=(1<<i.step+1)-(i.step%2===0?2:1);r/=3;for(var o=[],u=0;u<n.length;u+=i.step){var c=0;for(t=u+i.step-1;t>=u;t--)c=(c<<1)+n[t];o.push(c)}for(var f=this.jpoint(null,null,null),h=this.jpoint(null,null,null),l=r;l>0;l--){for(u=0;u<o.length;u++){c=o[u];c===l?h=h.mixedAdd(i.points[u]):c===-l&&(h=h.mixedAdd(i.points[u].neg()))}f=f.add(h)}return f.toP()},u.prototype._wnafMul=function(e,t){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var r=n.points,o=s(t,i),u=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(t=0;c>=0&&0===o[c];c--)t++;if(c>=0&&t++,u=u.dblp(t),c<0)break;var f=o[c];a(0!==f),u="affine"===e.type?f>0?u.mixedAdd(r[f-1>>1]):u.mixedAdd(r[-f-1>>1].neg()):f>0?u.add(r[f-1>>1]):u.add(r[-f-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,i,n,r){for(var a=this._wnafT1,u=this._wnafT2,c=this._wnafT3,f=0,h=0;h<n;h++){var l=t[h],d=l._getNAFPoints(e);a[h]=d.wnd,u[h]=d.points}for(h=n-1;h>=1;h-=2){var p=h-1,m=h;if(1===a[p]&&1===a[m]){var b=[t[p],null,null,t[m]];0===t[p].y.cmp(t[m].y)?(b[1]=t[p].add(t[m]),b[2]=t[p].toJ().mixedAdd(t[m].neg())):0===t[p].y.cmp(t[m].y.redNeg())?(b[1]=t[p].toJ().mixedAdd(t[m]),b[2]=t[p].add(t[m].neg())):(b[1]=t[p].toJ().mixedAdd(t[m]),b[2]=t[p].toJ().mixedAdd(t[m].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=o(i[p],i[m]);f=Math.max(g[0].length,f),c[p]=new Array(f),c[m]=new Array(f);for(var y=0;y<f;y++){var _=0|g[0][y],w=0|g[1][y];c[p][y]=v[3*(_+1)+(w+1)],c[m][y]=0,u[p]=b}}else c[p]=s(i[p],a[p]),c[m]=s(i[m],a[m]),f=Math.max(c[p].length,f),f=Math.max(c[m].length,f)}var S=this.jpoint(null,null,null),E=this._wnafT4;for(h=f;h>=0;h--){var x=0;while(h>=0){var k=!0;for(y=0;y<n;y++)E[y]=0|c[y][h],0!==E[y]&&(k=!1);if(!k)break;x++,h--}if(h>=0&&x++,S=S.dblp(x),h<0)break;for(y=0;y<n;y++){var A=E[y];0!==A&&(A>0?l=u[y][A-1>>1]:A<0&&(l=u[y][-A-1>>1].neg()),S="affine"===l.type?S.mixedAdd(l):S.add(l))}}for(h=0;h<n;h++)u[h]=null;return r?S:S.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=r.toArray(e,t);var i=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*i){6===e[0]?a(e[e.length-1]%2===0):7===e[0]&&a(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}if((2===e[0]||3===e[0])&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),3===e[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return r.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,r=0;r<t;r+=e){for(var s=0;s<e;s++)n=n.dbl();i.push(n)}return{step:e,points:i}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,n=1===i?null:this.dbl(),r=1;r<i;r++)t[r]=t[r-1].add(n);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}},ebd6:function(e,t,i){var n=i("cb7c"),r=i("d8e8"),s=i("2b4c")("species");e.exports=function(e,t){var i,o=n(e).constructor;return void 0===o||void 0==(i=n(o)[s])?t:r(i)}},edc9:function(e,t,i){"use strict";var n=i("c3c0"),r=i("da3e");function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-i,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),r(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,n=new Array(i+this.padLength);n[0]=128;for(var r=1;r<i;r++)n[r]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[r++]=0;n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=e>>>24&255,n[r++]=e>>>16&255,n[r++]=e>>>8&255,n[r++]=255&e}else for(n[r++]=255&e,n[r++]=e>>>8&255,n[r++]=e>>>16&255,n[r++]=e>>>24&255,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,s=8;s<this.padLength;s++)n[r++]=0;return n}},ef3a:function(e,t,i){var n=i("7f7a"),r=i("3fb5"),s=t;function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}s.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){var t;try{t=i("0706").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(n){t=function(e){this._initNamed(e)}}return r(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,i){return this._getDecoder(t).decode(e,i)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,i){return this._getEncoder(t).encode(e,i)}},f28c:function(e,t){var i,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function u(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(function(){try{i="function"===typeof setTimeout?setTimeout:s}catch(e){i=s}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}})();var c,f=[],h=!1,l=-1;function d(){h&&c&&(h=!1,c.length?f=c.concat(f):l=-1,f.length&&p())}function p(){if(!h){var e=a(d);h=!0;var t=f.length;while(t){c=f,f=[];while(++l<t)c&&c[l].run();l=-1,t=f.length}c=null,h=!1,u(e)}}function m(e,t){this.fun=e,this.array=t}function b(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new m(e,t)),1!==f.length||h||a(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=b,r.addListener=b,r.once=b,r.off=b,r.removeListener=b,r.removeAllListeners=b,r.emit=b,r.prependListener=b,r.prependOnceListener=b,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},f3a3:function(e,t,i){"use strict";var n=t,r=i("399f"),s=i("da3e"),o=i("7658");function a(e,t){var i=[],n=1<<t+1,r=e.clone();while(r.cmpn(1)>=0){var s;if(r.isOdd()){var o=r.andln(n-1);s=o>(n>>1)-1?(n>>1)-o:o,r.isubn(s)}else s=0;i.push(s);for(var a=0!==r.cmpn(0)&&0===r.andln(n-1)?t+1:1,u=1;u<a;u++)i.push(0);r.iushrn(a)}return i}function u(e,t){var i=[[],[]];e=e.clone(),t=t.clone();var n=0,r=0;while(e.cmpn(-n)>0||t.cmpn(-r)>0){var s,o,a=e.andln(3)+n&3,u=t.andln(3)+r&3;if(3===a&&(a=-1),3===u&&(u=-1),0===(1&a))s=0;else{var c=e.andln(7)+n&7;s=3!==c&&5!==c||2!==u?a:-a}if(i[0].push(s),0===(1&u))o=0;else{c=t.andln(7)+r&7;o=3!==c&&5!==c||2!==a?u:-u}i[1].push(o),2*n===s+1&&(n=1-n),2*r===o+1&&(r=1-r),e.iushrn(1),t.iushrn(1)}return i}function c(e,t,i){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=i.call(this)}}function f(e){return"string"===typeof e?n.toArray(e,"hex"):e}function h(e){return new r(e,"hex","le")}n.assert=s,n.toArray=o.toArray,n.zero2=o.zero2,n.toHex=o.toHex,n.encode=o.encode,n.getNAF=a,n.getJSF=u,n.cachedProperty=c,n.parseBytes=f,n.intFromLE=h},f406:function(e,t,i){(function(e,n,r){var s;(function(o){var a={function:!0,object:!0};function u(e){return e&&e.Object===Object?e:null}var c=a[typeof t]&&t&&!t.nodeType?t:null,f=a[typeof e]&&e&&!e.nodeType?e:null,h=u(c&&f&&"object"===typeof n&&n),l=u(a[typeof self]&&self),d=u(a[typeof window]&&window),p=f&&f.exports===c?c:null,m=u(a[typeof this]&&this),b=h||d!==(m&&m.window)&&d||l||m||Function("return this")(),v={internals:{},config:{Promise:b.Promise},helpers:{}},g=v.helpers.noop=function(){},y=v.helpers.identity=function(e){return e},_=v.helpers.defaultNow=Date.now,w=v.helpers.defaultComparer=function(e,t){return ze(e,t)},S=v.helpers.defaultSubComparer=function(e,t){return e>t?1:e<t?-1:0},E=(v.helpers.defaultKeySerializer=function(e){return e.toString()},v.helpers.defaultError=function(e){throw e}),x=v.helpers.isPromise=function(e){return!!e&&"function"!==typeof e.subscribe&&"function"===typeof e.then},k=v.helpers.isFunction=function(){var e=function(e){return"function"==typeof e||!1};return e(/x/)&&(e=function(e){return"function"==typeof e&&"[object Function]"==toString.call(e)}),e}();function A(e){for(var t=[],i=0,n=e.length;i<n;i++)t.push(e[i]);return t}var T={e:{}};function C(e){return function(){try{return e.apply(this,arguments)}catch(t){return T.e=t,T}}}var R=v.internals.tryCatch=function(e){if(!k(e))throw new TypeError("fn must be a function");return C(e)};function D(e){throw e}v.config.longStackSupport=!1;var B=!1,M=R((function(){throw new Error}))();B=!!M.e&&!!M.e.stack;var I,U=j(),P="From previous event:";function F(e,t){if(B&&t.stack&&"object"===typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(P)){for(var i=[],n=t;n;n=n.source)n.stack&&i.unshift(n.stack);i.unshift(e.stack);var r=i.join("\n"+P+"\n");e.stack=O(r)}}function O(e){for(var t=e.split("\n"),i=[],n=0,r=t.length;n<r;n++){var s=t[n];L(s)||N(s)||!s||i.push(s)}return i.join("\n")}function L(e){var t=z(e);if(!t)return!1;var i=t[0],n=t[1];return i===I&&n>=U&&n<=No}function N(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function j(){if(B)try{throw new Error}catch(n){var e=n.stack.split("\n"),t=e[0].indexOf("@")>0?e[1]:e[2],i=z(t);if(!i)return;return I=i[0],i[1]}}function z(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var i=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(i)return[i[1],Number(i[2])];var n=/.*@(.+):(\d+)$/.exec(e);return n?[n[1],Number(n[2])]:void 0}var H=v.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};H.prototype=Object.create(Error.prototype),H.prototype.name="EmptyError";var V=v.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};V.prototype=Object.create(Error.prototype),V.prototype.name="ObjectDisposedError";var q=v.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};q.prototype=Object.create(Error.prototype),q.prototype.name="ArgumentOutOfRangeError";var G=v.NotSupportedError=function(e){this.message=e||"This operation is not supported",Error.call(this)};G.prototype=Object.create(Error.prototype),G.prototype.name="NotSupportedError";var K=v.NotImplementedError=function(e){this.message=e||"This operation is not implemented",Error.call(this)};K.prototype=Object.create(Error.prototype),K.prototype.name="NotImplementedError";var W=v.helpers.notImplemented=function(){throw new K},Y=(v.helpers.notSupported=function(){throw new G},"function"===typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");b.Set&&"function"===typeof(new b.Set)["@@iterator"]&&(Y="@@iterator");var $=v.doneEnumerator={done:!0,value:o},X=v.helpers.isIterable=function(e){return e&&e[Y]!==o},Q=v.helpers.isArrayLike=function(e){return e&&e.length!==o};v.helpers.iterator=Y;var J=v.internals.bindCallback=function(e,t,i){if("undefined"===typeof t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}},Z=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ee=(Z.length,"[object Arguments]"),te="[object Array]",ie="[object Boolean]",ne="[object Date]",re="[object Error]",se="[object Function]",oe="[object Map]",ae="[object Number]",ue="[object Object]",ce="[object RegExp]",fe="[object Set]",he="[object String]",le="[object WeakMap]",de="[object ArrayBuffer]",pe="[object Float32Array]",me="[object Float64Array]",be="[object Int8Array]",ve="[object Int16Array]",ge="[object Int32Array]",ye="[object Uint8Array]",_e="[object Uint8ClampedArray]",we="[object Uint16Array]",Se="[object Uint32Array]",Ee={};Ee[pe]=Ee[me]=Ee[be]=Ee[ve]=Ee[ge]=Ee[ye]=Ee[_e]=Ee[we]=Ee[Se]=!0,Ee[ee]=Ee[te]=Ee[de]=Ee[ie]=Ee[ne]=Ee[re]=Ee[se]=Ee[oe]=Ee[ae]=Ee[ue]=Ee[ce]=Ee[fe]=Ee[he]=Ee[le]=!1;var xe=Object.prototype,ke=xe.hasOwnProperty,Ae=xe.toString,Te=Math.pow(2,53)-1,Ce=Object.keys||function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(r){if("object"!==typeof r&&("function"!==typeof r||null===r))throw new TypeError("Object.keys called on non-object");var s,o,a=[];for(s in r)e.call(r,s)&&a.push(s);if(t)for(o=0;o<n;o++)e.call(r,i[o])&&a.push(i[o]);return a}}();function Re(e,t,i,n,r,s){var a=Ce(e),u=a.length,c=Ce(t),f=c.length;if(u!==f&&!n)return!1;var h,l=u;while(l--)if(h=a[l],!(n?h in t:ke.call(t,h)))return!1;var d=n;while(++l<u){h=a[l];var p,m=e[h],b=t[h];if(!(p===o?i(m,b,n,r,s):p))return!1;d||(d="constructor"===h)}if(!d){var v=e.constructor,g=t.constructor;if(v!==g&&"constructor"in e&&"constructor"in t&&!("function"===typeof v&&v instanceof v&&"function"===typeof g&&g instanceof g))return!1}return!0}function De(e,t,i){switch(i){case ie:case ne:return+e===+t;case re:return e.name===t.name&&e.message===t.message;case ae:return e!==+e?t!==+t:e===+t;case ce:case he:return e===t+""}return!1}var Be=v.internals.isObject=function(e){var t=typeof e;return!!e&&("object"===t||"function"===t)};function Me(e){return!!e&&"object"===typeof e}function Ie(e){return"number"===typeof e&&e>-1&&e%1===0&&e<=Te}var Ue=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!==typeof e.toString&&"string"===typeof(e+"")}}();function Pe(e){return Me(e)&&Ie(e.length)&&!!Ee[Ae.call(e)]}var Fe=Array.isArray||function(e){return Me(e)&&Ie(e.length)&&Ae.call(e)===te};function Oe(e,t){var i=-1,n=e.length;while(++i<n)if(t(e[i],i,e))return!0;return!1}function Le(e,t,i,n,r,s){var a=-1,u=e.length,c=t.length;if(u!==c&&!(n&&c>u))return!1;while(++a<u){var f,h=e[a],l=t[a];if(f!==o){if(f)continue;return!1}if(n){if(!Oe(t,(function(e){return h===e||i(h,e,n,r,s)})))return!1}else if(h!==l&&!i(h,l,n,r,s))return!1}return!0}function Ne(e,t,i,n,r,s){var o=Fe(e),a=Fe(t),u=te,c=te;o||(u=Ae.call(e),u===ee?u=ue:u!==ue&&(o=Pe(e))),a||(c=Ae.call(t),c===ee&&(c=ue));var f=u===ue&&!Ue(e),h=c===ue&&!Ue(t),l=u===c;if(l&&!o&&!f)return De(e,t,u);if(!n){var d=f&&ke.call(e,"__wrapped__"),p=h&&ke.call(t,"__wrapped__");if(d||p)return i(d?e.value():e,p?t.value():t,n,r,s)}if(!l)return!1;r||(r=[]),s||(s=[]);var m=r.length;while(m--)if(r[m]===e)return s[m]===t;r.push(e),s.push(t);var b=(o?Le:Re)(e,t,i,n,r,s);return r.pop(),s.pop(),b}function je(e,t,i,n,r){return e===t||(null==e||null==t||!Be(e)&&!Me(t)?e!==e&&t!==t:Ne(e,t,je,i,n,r))}var ze=v.internals.isEqual=function(e,t){return je(e,t)},He=(Array.prototype.slice,v.internals.inherits=function(e,t){function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i}),Ve=v.internals.addProperties=function(e){for(var t=[],i=1,n=arguments.length;i<n;i++)t.push(arguments[i]);for(var r=0,s=t.length;r<s;r++){var o=t[r];for(var a in o)e[a]=o[a]}},qe=v.internals.addRef=function(e,t){return new Do((function(i){return new st(t.getDisposable(),e.subscribe(i))}))};function Ge(e,t){for(var i=new Array(e),n=0;n<e;n++)i[n]=t();return i}function Ke(e,t){this.id=e,this.value=t}Ke.prototype.compareTo=function(e){var t=this.value.compareTo(e.value);return 0===t&&(t=this.id-e.id),t};var We=v.internals.PriorityQueue=function(e){this.items=new Array(e),this.length=0},Ye=We.prototype;Ye.isHigherPriority=function(e,t){return this.items[e].compareTo(this.items[t])<0},Ye.percolate=function(e){if(!(e>=this.length||e<0)){var t=e-1>>1;if(!(t<0||t===e)&&this.isHigherPriority(e,t)){var i=this.items[e];this.items[e]=this.items[t],this.items[t]=i,this.percolate(t)}}},Ye.heapify=function(e){if(+e||(e=0),!(e>=this.length||e<0)){var t=2*e+1,i=2*e+2,n=e;if(t<this.length&&this.isHigherPriority(t,n)&&(n=t),i<this.length&&this.isHigherPriority(i,n)&&(n=i),n!==e){var r=this.items[e];this.items[e]=this.items[n],this.items[n]=r,this.heapify(n)}}},Ye.peek=function(){return this.items[0].value},Ye.removeAt=function(e){this.items[e]=this.items[--this.length],this.items[this.length]=o,this.heapify()},Ye.dequeue=function(){var e=this.peek();return this.removeAt(0),e},Ye.enqueue=function(e){var t=this.length++;this.items[t]=new Ke(We.count++,e),this.percolate(t)},Ye.remove=function(e){for(var t=0;t<this.length;t++)if(this.items[t].value===e)return this.removeAt(t),!0;return!1},We.count=0;var $e=v.CompositeDisposable=function(){var e,t,i=[];if(Array.isArray(arguments[0]))i=arguments[0];else for(t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];this.disposables=i,this.isDisposed=!1,this.length=i.length},Xe=$e.prototype;Xe.add=function(e){this.isDisposed?e.dispose():(this.disposables.push(e),this.length++)},Xe.remove=function(e){var t=!1;if(!this.isDisposed){var i=this.disposables.indexOf(e);-1!==i&&(t=!0,this.disposables.splice(i,1),this.length--,e.dispose())}return t},Xe.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),i=0;i<e;i++)t[i]=this.disposables[i];for(this.disposables=[],this.length=0,i=0;i<e;i++)t[i].dispose()}};var Qe=v.Disposable=function(e){this.isDisposed=!1,this.action=e||g};Qe.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var Je=Qe.create=function(e){return new Qe(e)},Ze=Qe.empty={dispose:g},et=Qe.isDisposable=function(e){return e&&k(e.dispose)},tt=Qe.checkDisposed=function(e){if(e.isDisposed)throw new V},it=Qe._fixup=function(e){return et(e)?e:Ze},nt=v.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};nt.prototype.getDisposable=function(){return this.current},nt.prototype.setDisposable=function(e){if(this.current)throw new Error("Disposable has already been assigned");var t=this.isDisposed;!t&&(this.current=e),t&&e&&e.dispose()},nt.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}};var rt=v.SerialDisposable=function(){this.isDisposed=!1,this.current=null};rt.prototype.getDisposable=function(){return this.current},rt.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var i=this.current;this.current=e}i&&i.dispose(),t&&e&&e.dispose()},rt.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null}e&&e.dispose()};var st=v.BinaryDisposable=function(e,t){this._first=e,this._second=t,this.isDisposed=!1};st.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this._first;this._first=null,e&&e.dispose();var t=this._second;this._second=null,t&&t.dispose()}};var ot=v.NAryDisposable=function(e){this._disposables=e,this.isDisposed=!1};ot.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=0,t=this._disposables.length;e<t;e++)this._disposables[e].dispose();this._disposables.length=0}};var at=v.RefCountDisposable=function(){function e(e){this.disposable=e,this.disposable.count++,this.isInnerDisposed=!1}function t(e){this.underlyingDisposable=e,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return e.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},t.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},t.prototype.getDisposable=function(){return this.isDisposed?Ze:new e(this)},t}();function ut(e,t){this.scheduler=e,this.disposable=t,this.isDisposed=!1}function ct(e,t){t.isDisposed||(t.isDisposed=!0,t.disposable.dispose())}ut.prototype.dispose=function(){this.scheduler.schedule(this,ct)};var ft=v.internals.ScheduledItem=function(e,t,i,n,r){this.scheduler=e,this.state=t,this.action=i,this.dueTime=n,this.comparer=r||S,this.disposable=new nt};ft.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},ft.prototype.compareTo=function(e){return this.comparer(this.dueTime,e.dueTime)},ft.prototype.isCancelled=function(){return this.disposable.isDisposed},ft.prototype.invokeCore=function(){return it(this.action(this.scheduler,this.state))};var ht=v.Scheduler=function(){function e(){}e.isScheduler=function(t){return t instanceof e};var t=e.prototype;return t.schedule=function(e,t){throw new K},t.scheduleFuture=function(t,i,n){var r=i;return r instanceof Date&&(r-=this.now()),r=e.normalize(r),0===r?this.schedule(t,n):this._scheduleFuture(t,r,n)},t._scheduleFuture=function(e,t,i){throw new K},e.now=_,e.prototype.now=_,e.normalize=function(e){return e<0&&(e=0),e},e}(),lt=ht.normalize,dt=ht.isScheduler;(function(e){function t(e,t){var i=t[0],n=t[1],r=new $e;return n(i,s),r;function s(t){var i=!1,o=!1,a=e.schedule(t,u);function u(e,t){return i?r.remove(a):o=!0,n(t,s),Ze}o||(r.add(a),i=!0)}}function i(e,t){var i=t[0],n=t[1],r=new $e;return n(i,s),r;function s(t,i){var o=!1,a=!1,u=e.scheduleFuture(t,i,c);function c(e,t){return o?r.remove(u):a=!0,n(t,s),Ze}a||(r.add(u),o=!0)}}e.scheduleRecursive=function(e,i){return this.schedule([e,i],t)},e.scheduleRecursiveFuture=function(e,t,n){return this.scheduleFuture([e,n],t,i)}})(ht.prototype),function(e){e.schedulePeriodic=function(e,t,i){if("undefined"===typeof b.setInterval)throw new G;t=lt(t);var n=e,r=b.setInterval((function(){n=i(n)}),t);return Je((function(){b.clearInterval(r)}))}}(ht.prototype),function(e){e.catchError=e["catch"]=function(e){return new At(this,e)}}(ht.prototype);var pt,mt,bt=v.internals.SchedulePeriodicRecursive=function(){function e(e){return function(t,i){i(0,e._period);var n=R(e._action)(e._state);n===T&&(e._cancel.dispose(),D(n.e)),e._state=n}}function t(e,t,i,n){this._scheduler=e,this._state=t,this._period=i,this._action=n}return t.prototype.start=function(){var t=new nt;return this._cancel=t,t.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,e(this))),t},t}(),vt=function(e){function t(){e.call(this)}return He(t,e),t.prototype.schedule=function(e,t){return it(t(this,e))},t}(ht),gt=ht.immediate=new vt,yt=function(e){var t;function i(){while(t.length>0){var e=t.dequeue();!e.isCancelled()&&e.invoke()}}function n(){e.call(this)}return He(n,e),n.prototype.schedule=function(e,n){var r=new ft(this,e,n,this.now());if(t)t.enqueue(r);else{t=new We(4),t.enqueue(r);var s=R(i)();t=null,s===T&&D(s.e)}return r.disposable},n.prototype.scheduleRequired=function(){return!t},n}(ht),_t=ht.currentThread=new yt,wt=function(){var e,t=g;if(b.setTimeout)e=b.setTimeout,t=b.clearTimeout;else{if(!b.WScript)throw new G;e=function(e,t){b.WScript.Sleep(t),e()}}return{setTimeout:e,clearTimeout:t}}(),St=wt.setTimeout,Et=wt.clearTimeout;(function(){var e=1,t={},i=!1;function n(e){if(i)St((function(){n(e)}),0);else{var r=t[e];if(r){i=!0;var s=R(r)();mt(e),i=!1,s===T&&D(s.e)}}}mt=function(e){delete t[e]};var s=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),o="function"==typeof(o=h&&p&&h.setImmediate)&&!s.test(o)&&o;function a(){if(!b.postMessage||b.importScripts)return!1;var e=!1,t=b.onmessage;return b.onmessage=function(){e=!0},b.postMessage("","*"),b.onmessage=t,e}if(k(o))pt=function(i){var r=e++;return t[r]=i,o((function(){n(r)})),r};else if("undefined"!==typeof r&&"[object process]"==={}.toString.call(r))pt=function(i){var s=e++;return t[s]=i,r.nextTick((function(){n(s)})),s};else if(a()){var u="ms.rx.schedule"+Math.random(),c=function(e){"string"===typeof e.data&&e.data.substring(0,u.length)===u&&n(e.data.substring(u.length))};b.addEventListener("message",c,!1),pt=function(i){var n=e++;return t[n]=i,b.postMessage(u+n,"*"),n}}else if(b.MessageChannel){var f=new b.MessageChannel;f.port1.onmessage=function(e){n(e.data)},pt=function(i){var n=e++;return t[n]=i,f.port2.postMessage(n),n}}else pt="document"in b&&"onreadystatechange"in b.document.createElement("script")?function(i){var r=b.document.createElement("script"),s=e++;return t[s]=i,r.onreadystatechange=function(){n(s),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},b.document.documentElement.appendChild(r),s}:function(i){var r=e++;return t[r]=i,St((function(){n(r)}),0),r}})();var xt=function(e){function t(){e.call(this)}function i(e,t,i,n){return function(){e.setDisposable(Qe._fixup(t(i,n)))}}function n(e){this._id=e,this.isDisposed=!1}function r(e){this._id=e,this.isDisposed=!1}function s(e,t,i){return function(){t(e,i)}}return He(t,e),n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,mt(this._id))},r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,Et(this._id))},t.prototype.schedule=function(e,t){var r=new nt,s=pt(i(r,t,this,e));return new st(r,new n(s))},t.prototype._scheduleFuture=function(e,t,n){if(0===t)return this.schedule(e,n);var s=new nt,o=St(i(s,n,this,e),t);return new st(s,new r(o))},t.prototype.scheduleLongRunning=function(e,t){var i=Je(g);return pt(s(e,t,i)),i},t}(ht),kt=ht["default"]=ht.async=new xt,At=function(e){function t(t,i){this._scheduler=t,this._handler=i,this._recursiveOriginal=null,this._recursiveWrapper=null,e.call(this)}return He(t,e),t.prototype.schedule=function(e,t){return this._scheduler.schedule(e,this._wrap(t))},t.prototype._scheduleFuture=function(e,t,i){return this._scheduler.schedule(e,t,this._wrap(i))},t.prototype.now=function(){return this._scheduler.now()},t.prototype._clone=function(e){return new t(e,this._handler)},t.prototype._wrap=function(e){var t=this;return function(i,n){var r=R(e)(t._getRecursiveWrapper(i),n);return r===T?(t._handler(r.e)||D(r.e),Ze):it(r)}},t.prototype._getRecursiveWrapper=function(e){if(this._recursiveOriginal!==e){this._recursiveOriginal=e;var t=this._clone(e);t._recursiveOriginal=e,t._recursiveWrapper=t,this._recursiveWrapper=t}return this._recursiveWrapper},t.prototype.schedulePeriodic=function(e,t,i){var n=this,r=!1,s=new nt;return s.setDisposable(this._scheduler.schedulePeriodic(e,t,(function(e){if(r)return null;var t=R(i)(e);return t===T?(r=!0,n._handler(t.e)||D(t.e),s.dispose(),null):t}))),s},t}(ht),Tt=v.Notification=function(){function e(){}return e.prototype._accept=function(e,t,i){throw new K},e.prototype._acceptObserver=function(e,t,i){throw new K},e.prototype.accept=function(e,t,i){return e&&"object"===typeof e?this._acceptObserver(e):this._accept(e,t,i)},e.prototype.toObservable=function(e){var t=this;return dt(e)||(e=gt),new Do((function(i){return e.schedule(t,(function(e,t){t._acceptObserver(i),"N"===t.kind&&i.onCompleted()}))}))},e}(),Ct=function(e){function t(e){this.value=e,this.kind="N"}return He(t,e),t.prototype._accept=function(e){return e(this.value)},t.prototype._acceptObserver=function(e){return e.onNext(this.value)},t.prototype.toString=function(){return"OnNext("+this.value+")"},t}(Tt),Rt=function(e){function t(e){this.error=e,this.kind="E"}return He(t,e),t.prototype._accept=function(e,t){return t(this.error)},t.prototype._acceptObserver=function(e){return e.onError(this.error)},t.prototype.toString=function(){return"OnError("+this.error+")"},t}(Tt),Dt=function(e){function t(){this.kind="C"}return He(t,e),t.prototype._accept=function(e,t,i){return i()},t.prototype._acceptObserver=function(e){return e.onCompleted()},t.prototype.toString=function(){return"OnCompleted()"},t}(Tt),Bt=Tt.createOnNext=function(e){return new Ct(e)},Mt=Tt.createOnError=function(e){return new Rt(e)},It=Tt.createOnCompleted=function(){return new Dt},Ut=v.Observer=function(){};Ut.prototype.toNotifier=function(){var e=this;return function(t){return t.accept(e)}},Ut.prototype.asObserver=function(){var e=this;return new Lt((function(t){e.onNext(t)}),(function(t){e.onError(t)}),(function(){e.onCompleted()}))},Ut.prototype.checked=function(){return new Nt(this)};var Pt=Ut.create=function(e,t,i){return e||(e=g),t||(t=E),i||(i=g),new Lt(e,t,i)};Ut.fromNotifier=function(e,t){var i=J(e,t,1);return new Lt((function(e){return i(Bt(e))}),(function(e){return i(Mt(e))}),(function(){return i(It())}))},Ut.prototype.notifyOn=function(e){return new zt(e,this)},Ut.prototype.makeSafe=function(e){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,e)};var Ft,Ot=v.internals.AbstractObserver=function(e){function t(){this.isStopped=!1}return He(t,e),t.prototype.next=W,t.prototype.error=W,t.prototype.completed=W,t.prototype.onNext=function(e){!this.isStopped&&this.next(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.error(e))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.error(e),!0)},t}(Ut),Lt=v.AnonymousObserver=function(e){function t(t,i,n){e.call(this),this._onNext=t,this._onError=i,this._onCompleted=n}return He(t,e),t.prototype.next=function(e){this._onNext(e)},t.prototype.error=function(e){this._onError(e)},t.prototype.completed=function(){this._onCompleted()},t}(Ot),Nt=function(e){function t(t){e.call(this),this._observer=t,this._state=0}He(t,e);var i=t.prototype;return i.onNext=function(e){this.checkAccess();var t=R(this._observer.onNext).call(this._observer,e);this._state=0,t===T&&D(t.e)},i.onError=function(e){this.checkAccess();var t=R(this._observer.onError).call(this._observer,e);this._state=2,t===T&&D(t.e)},i.onCompleted=function(){this.checkAccess();var e=R(this._observer.onCompleted).call(this._observer);this._state=2,e===T&&D(e.e)},i.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},t}(Ut),jt=v.internals.ScheduledObserver=function(e){function t(t,i){e.call(this),this.scheduler=t,this.observer=i,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new rt}function i(e,t){return function(){e.onNext(t)}}function n(e,t){return function(){e.onError(t)}}function r(e){return function(){e.onCompleted()}}function s(e,t){var i;if(e.queue.length>0){i=e.queue.shift();var n=R(i)();if(n===T)return e.queue=[],e.hasFaulted=!0,D(n.e);t(e)}else e.isAcquired=!1}return He(t,e),t.prototype.next=function(e){this.queue.push(i(this.observer,e))},t.prototype.error=function(e){this.queue.push(n(this.observer,e))},t.prototype.completed=function(){this.queue.push(r(this.observer))},t.prototype.ensureActive=function(){var e=!1;!this.hasFaulted&&this.queue.length>0&&(e=!this.isAcquired,this.isAcquired=!0),e&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,s))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposable.dispose()},t}(Ot),zt=function(e){function t(t,i,n){e.call(this,t,i),this._cancel=n}return He(t,e),t.prototype.next=function(t){e.prototype.next.call(this,t),this.ensureActive()},t.prototype.error=function(t){e.prototype.error.call(this,t),this.ensureActive()},t.prototype.completed=function(){e.prototype.completed.call(this),this.ensureActive()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},t}(jt),Ht=v.Observable=function(){function e(e,t){return function(i){var n=i.onError;return i.onError=function(t){F(t,e),n.call(i,t)},t.call(e,i)}}function t(){if(v.config.longStackSupport&&B){var t=this._subscribe,i=R(D)(new Error).e;this.stack=i.stack.substring(i.stack.indexOf("\n")+1),this._subscribe=e(this,t)}}return Ft=t.prototype,t.isObservable=function(e){return e&&k(e.subscribe)},Ft.subscribe=Ft.forEach=function(e,t,i){return this._subscribe("object"===typeof e?e:Pt(e,t,i))},Ft.subscribeOnNext=function(e,t){return this._subscribe(Pt("undefined"!==typeof t?function(i){e.call(t,i)}:e))},Ft.subscribeOnError=function(e,t){return this._subscribe(Pt(null,"undefined"!==typeof t?function(i){e.call(t,i)}:e))},Ft.subscribeOnCompleted=function(e,t){return this._subscribe(Pt(null,null,"undefined"!==typeof t?function(){e.call(t)}:e))},t}(),Vt=v.ObservableBase=function(e){function t(e){return e&&k(e.dispose)?e:k(e)?Je(e):Ze}function i(e,i){var n=i[0],r=i[1],s=R(r.subscribeCore).call(r,n);s!==T||n.fail(T.e)||D(T.e),n.setDisposable(t(s))}function n(){e.call(this)}return He(n,e),n.prototype._subscribe=function(e){var t=new Bo(e),n=[t,this];return _t.scheduleRequired()?_t.schedule(n,i):i(null,n),t},n.prototype.subscribeCore=W,n}(Ht),qt=v.FlatMapObservable=function(e){function t(t,i,n,r){this.resultSelector=k(n)?n:null,this.selector=J(k(i)?i:function(){return i},r,3),this.source=t,e.call(this)}function i(e,t,i,n){this.i=0,this.selector=t,this.resultSelector=i,this.source=n,this.o=e,Ot.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new i(e,this.selector,this.resultSelector,this))},He(i,Ot),i.prototype._wrapResult=function(e,t,i){return this.resultSelector?e.map((function(e,n){return this.resultSelector(t,e,i,n)}),this):e},i.prototype.next=function(e){var t=this.i++,i=R(this.selector)(e,t,this.source);if(i===T)return this.o.onError(i.e);x(i)&&(i=ii(i)),(Q(i)||X(i))&&(i=Ht.from(i)),this.o.onNext(this._wrapResult(i,e,t))},i.prototype.error=function(e){this.o.onError(e)},i.prototype.completed=function(){this.o.onCompleted()},t}(Vt),Gt=v.internals.Enumerable=function(){};function Kt(e){this._s=e,this.isDisposed=!1}Kt.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var Wt=function(e){function t(t){this.sources=t,e.call(this)}function i(e,t){if(!e.isDisposed){var i=R(e.e.next).call(e.e);if(i===T)return e.o.onError(i.e);if(i.done)return e.o.onCompleted();var r=i.value;x(r)&&(r=ii(r));var s=new nt;e.subscription.setDisposable(s),s.setDisposable(r.subscribe(new n(e,t)))}}function n(e,t){this._state=e,this._recurse=t,Ot.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=new rt,n={isDisposed:!1,o:e,subscription:t,e:this.sources[Y]()},r=_t.scheduleRecursive(n,i);return new ot([t,r,new Kt(n)])},He(n,Ot),n.prototype.next=function(e){this._state.o.onNext(e)},n.prototype.error=function(e){this._state.o.onError(e)},n.prototype.completed=function(){this._recurse(this._state)},t}(Vt);Gt.prototype.concat=function(){return new Wt(this)};var Yt=function(e){function t(t){this.sources=t,e.call(this)}function i(e,t){if(!e.isDisposed){var i=R(e.e.next).call(e.e);if(i===T)return e.o.onError(i.e);if(i.done)return null!==e.lastError?e.o.onError(e.lastError):e.o.onCompleted();var r=i.value;x(r)&&(r=ii(r));var s=new nt;e.subscription.setDisposable(s),s.setDisposable(r.subscribe(new n(e,t)))}}function n(e,t){this._state=e,this._recurse=t,Ot.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=new rt,n={isDisposed:!1,e:this.sources[Y](),subscription:t,lastError:null,o:e},r=_t.scheduleRecursive(n,i);return new ot([t,r,new Kt(n)])},He(n,Ot),n.prototype.next=function(e){this._state.o.onNext(e)},n.prototype.error=function(e){this._state.lastError=e,this._recurse(this._state)},n.prototype.completed=function(){this._state.o.onCompleted()},t}(Vt);Gt.prototype.catchError=function(){return new Yt(this)};var $t=function(e){function t(e,t){this.v=e,this.c=null==t?-1:t}function i(e){this.v=e.v,this.l=e.c}return He(t,e),t.prototype[Y]=function(){return new i(this)},i.prototype.next=function(){return 0===this.l?$:(this.l>0&&this.l--,{done:!1,value:this.v})},t}(Gt),Xt=Gt.repeat=function(e,t){return new $t(e,t)},Qt=function(e){function t(e,t,i){this.s=e,this.fn=t?J(t,i,3):null}function i(e){this.i=-1,this.s=e.s,this.l=this.s.length,this.fn=e.fn}return He(t,e),t.prototype[Y]=function(){return new i(this)},i.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:$},t}(Gt),Jt=Gt.of=function(e,t,i){return new Qt(e,t,i)},Zt=function(e){function t(t,i){this.source=t,this._s=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new zt(this._s,e))},t}(Vt);Ft.observeOn=function(e){return new Zt(this,e)};var ei=function(e){function t(t,i){this.source=t,this._s=i,e.call(this)}function i(e,t){var i=t[0],n=t[1],r=t[2];n.setDisposable(new ut(e,i.subscribe(r)))}return He(t,e),t.prototype.subscribeCore=function(e){var t=new nt,n=new rt;return n.setDisposable(t),t.setDisposable(this._s.schedule([this.source,n,e],i)),n},t}(Vt);Ft.subscribeOn=function(e){return new ei(this,e)};var ti=function(e){function t(t,i){this._p=t,this._s=i,e.call(this)}function i(e,t){var i=t[0],n=t[1];i.onNext(n),i.onCompleted()}function n(e,t){var i=t[0],n=t[1];i.onError(n)}return He(t,e),t.prototype.subscribeCore=function(e){var t=new nt,r=this,s=this._p;return k(s)&&(s=R(s)(),s===T)?(e.onError(s.e),t):(s.then((function(n){t.setDisposable(r._s.schedule([e,n],i))}),(function(i){t.setDisposable(r._s.schedule([e,i],n))})),t)},t}(Vt),ii=Ht.fromPromise=function(e,t){return t||(t=kt),new ti(e,t)};Ft.toPromise=function(e){if(e||(e=v.config.Promise),!e)throw new G("Promise type not provided nor in Rx.config.Promise");var t=this;return new e((function(e,i){var n;t.subscribe((function(e){n=e}),i,(function(){e(n)}))}))};var ni=function(e){function t(t){this.source=t,e.call(this)}function i(e){this.o=e,this.a=[],Ot.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new i(e))},He(i,Ot),i.prototype.next=function(e){this.a.push(e)},i.prototype.error=function(e){this.o.onError(e)},i.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},t}(Vt);Ft.toArray=function(){return new ni(this)},Ht.create=function(e,t){return new Do(e,t)};var ri=function(e){function t(t){this._f=t,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=R(this._f)();return t===T?Ii(t.e).subscribe(e):(x(t)&&(t=ii(t)),t.subscribe(e))},t}(Vt),si=Ht.defer=function(e){return new ri(e)},oi=function(e){function t(t){this.scheduler=t,e.call(this)}function i(e,t){this.observer=e,this.scheduler=t}function n(e,t){return t.onCompleted(),Ze}return He(t,e),t.prototype.subscribeCore=function(e){var t=new i(e,this.scheduler);return t.run()},i.prototype.run=function(){var e=this.observer;return this.scheduler===gt?n(null,e):this.scheduler.schedule(e,n)},t}(Vt),ai=new oi(gt),ui=Ht.empty=function(e){return dt(e)||(e=gt),e===gt?ai:new oi(e)},ci=function(e){function t(t,i,n){this._iterable=t,this._fn=i,this._scheduler=n,e.call(this)}function i(e,t,i){return function(n,r){var s=R(t.next).call(t);if(s===T)return e.onError(s.e);if(s.done)return e.onCompleted();var o=s.value;if(k(i)&&(o=R(i)(o,n),o===T))return e.onError(o.e);e.onNext(o),r(n+1)}}return He(t,e),t.prototype.subscribeCore=function(e){var t=Object(this._iterable),n=bi(t);return this._scheduler.scheduleRecursive(0,i(e,n,this._fn))},t}(Vt),fi=Math.pow(2,53)-1;function hi(e){this._s=e}function li(e){this._s=e,this._l=e.length,this._i=0}function di(e){this._a=e}function pi(e){this._a=e,this._l=gi(e),this._i=0}function mi(e){return"number"===typeof e&&b.isFinite(e)}function bi(e){var t,i=e[Y];if(!i&&"string"===typeof e)return t=new hi(e),t[Y]();if(!i&&e.length!==o)return t=new di(e),t[Y]();if(!i)throw new TypeError("Object is not iterable");return e[Y]()}function vi(e){var t=+e;return 0===t?t:isNaN(t)?t:t<0?-1:1}function gi(e){var t=+e.length;return isNaN(t)?0:0!==t&&mi(t)?(t=vi(t)*Math.floor(Math.abs(t)),t<=0?0:t>fi?fi:t):t}hi.prototype[Y]=function(){return new li(this._s)},li.prototype[Y]=function(){return this},li.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:$},di.prototype[Y]=function(){return new pi(this._a)},pi.prototype[Y]=function(){return this},pi.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:$};var yi=Ht.from=function(e,t,i,n){if(null==e)throw new Error("iterable cannot be null.");if(t&&!k(t))throw new Error("mapFn when provided must be a function");if(t)var r=J(t,i,2);return dt(n)||(n=_t),new ci(e,r,n)},_i=function(e){function t(t,i){this._args=t,this._scheduler=i,e.call(this)}function i(e,t){var i=t.length;return function(n,r){n<i?(e.onNext(t[n]),r(n+1)):e.onCompleted()}}return He(t,e),t.prototype.subscribeCore=function(e){return this._scheduler.scheduleRecursive(0,i(e,this._args))},t}(Vt),wi=Ht.fromArray=function(e,t){return dt(t)||(t=_t),new _i(e,t)},Si=function(e){function t(t,i,n,r,s){this._initialState=t,this._cndFn=i,this._itrFn=n,this._resFn=r,this._s=s,e.call(this)}function i(e,t){if(e.first)e.first=!1;else if(e.newState=R(e.self._itrFn)(e.newState),e.newState===T)return e.o.onError(e.newState.e);var i=R(e.self._cndFn)(e.newState);if(i===T)return e.o.onError(i.e);if(i){var n=R(e.self._resFn)(e.newState);if(n===T)return e.o.onError(n.e);e.o.onNext(n),t(e)}else e.o.onCompleted()}return He(t,e),t.prototype.subscribeCore=function(e){var t={o:e,self:this,first:!0,newState:this._initialState};return this._s.scheduleRecursive(t,i)},t}(Vt);function Ei(e,t){return dt(e)||(e=_t),new _i(t,e)}Ht.generate=function(e,t,i,n,r){return dt(r)||(r=_t),new Si(e,t,i,n,r)},Ht.of=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return new _i(t,_t)},Ht.ofWithScheduler=function(e){for(var t=arguments.length,i=new Array(t-1),n=1;n<t;n++)i[n-1]=arguments[n];return new _i(i,e)},Ht.ofArrayChanges=function(e){if(!Array.isArray(e))throw new TypeError("Array.observe only accepts arrays.");if("function"!==typeof Array.observe&&"function"!==typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new Do((function(t){function i(e){for(var i=0,n=e.length;i<n;i++)t.onNext(e[i])}return Array.observe(e,i),function(){Array.unobserve(e,i)}}))},Ht.ofObjectChanges=function(e){if(null==e)throw new TypeError("object must not be null or undefined.");if("function"!==typeof Object.observe&&"function"!==typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new Do((function(t){function i(e){for(var i=0,n=e.length;i<n;i++)t.onNext(e[i])}return Object.observe(e,i),function(){Object.unobserve(e,i)}}))};var xi=function(e){function t(){e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return Ze},t}(Vt),ki=new xi,Ai=Ht.never=function(){return ki},Ti=function(e){function t(t,i){this._o=t,this._keys=Object.keys(t),this._scheduler=i,e.call(this)}function i(e,t,i){return function(n,r){if(n<i.length){var s=i[n];e.onNext([s,t[s]]),r(n+1)}else e.onCompleted()}}return He(t,e),t.prototype.subscribeCore=function(e){return this._scheduler.scheduleRecursive(0,i(e,this._o,this._keys))},t}(Vt);Ht.pairs=function(e,t){return t||(t=_t),new Ti(e,t)};var Ci=function(e){function t(t,i,n){this.start=t,this.rangeCount=i,this.scheduler=n,e.call(this)}function i(e,t,i){return function(n,r){n<t?(i.onNext(e+n),r(n+1)):i.onCompleted()}}return He(t,e),t.prototype.subscribeCore=function(e){return this.scheduler.scheduleRecursive(0,i(this.start,this.rangeCount,e))},t}(Vt);Ht.range=function(e,t,i){return dt(i)||(i=_t),new Ci(e,t,i)};var Ri=function(e){function t(t,i,n){this.value=t,this.repeatCount=null==i?-1:i,this.scheduler=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=new Di(e,this);return t.run()},t}(Vt);function Di(e,t){this.observer=e,this.parent=t}Di.prototype.run=function(){var e=this.observer,t=this.parent.value;function i(i,n){if((-1===i||i>0)&&(e.onNext(t),i>0&&i--),0===i)return e.onCompleted();n(i)}return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,i)},Ht.repeat=function(e,t,i){return dt(i)||(i=_t),new Ri(e,t,i)};var Bi=function(e){function t(t,i){this._value=t,this._scheduler=i,e.call(this)}function i(e,t){var i=t[0],n=t[1];return n.onNext(i),n.onCompleted(),Ze}return He(t,e),t.prototype.subscribeCore=function(e){var t=[this._value,e];return this._scheduler===gt?i(null,t):this._scheduler.schedule(t,i)},t}(Vt),Mi=(Ht["return"]=Ht.just=function(e,t){return dt(t)||(t=gt),new Bi(e,t)},function(e){function t(t,i){this._error=t,this._scheduler=i,e.call(this)}function i(e,t){var i=t[0],n=t[1];return n.onError(i),Ze}return He(t,e),t.prototype.subscribeCore=function(e){var t=[this._error,e];return this._scheduler===gt?i(null,t):this._scheduler.schedule(t,i)},t}(Vt)),Ii=Ht["throw"]=function(e,t){return dt(t)||(t=gt),new Mi(e,t)},Ui=function(e){function t(t,i){this._resFn=t,this._obsFn=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=Ze,i=R(this._resFn)();if(i===T)return new st(Ii(i.e).subscribe(e),t);i&&(t=i);var n=R(this._obsFn)(i);return new st(n===T?Ii(n.e).subscribe(e):n.subscribe(e),t)},t}(Vt);function Pi(e,t){return e.amb(t)}Ht.using=function(e,t){return new Ui(e,t)},Ft.amb=function(e){var t=this;return new Do((function(i){var n,r="L",s="R",o=new nt,a=new nt;function u(){n||(n=r,a.dispose())}function c(){n||(n=s,o.dispose())}x(e)&&(e=ii(e));var f=Pt((function(e){u(),n===r&&i.onNext(e)}),(function(e){u(),n===r&&i.onError(e)}),(function(){u(),n===r&&i.onCompleted()})),h=Pt((function(e){c(),n===s&&i.onNext(e)}),(function(e){c(),n===s&&i.onError(e)}),(function(){c(),n===s&&i.onCompleted()}));return o.setDisposable(t.subscribe(f)),a.setDisposable(e.subscribe(h)),new st(o,a)}))},Ht.amb=function(){var e,t=Ai();if(Array.isArray(arguments[0]))e=arguments[0];else{var i=arguments.length;e=new Array(e);for(var n=0;n<i;n++)e[n]=arguments[n]}for(n=0,i=e.length;n<i;n++)t=Pi(t,e[n]);return t};var Fi=function(e){function t(t,i){this.source=t,this._fn=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=new nt,i=new rt;return i.setDisposable(t),t.setDisposable(this.source.subscribe(new Oi(e,i,this._fn))),i},t}(Vt),Oi=function(e){function t(t,i,n){this._o=t,this._s=i,this._fn=n,e.call(this)}return He(t,e),t.prototype.next=function(e){this._o.onNext(e)},t.prototype.completed=function(){return this._o.onCompleted()},t.prototype.error=function(e){var t=R(this._fn)(e);if(t===T)return this._o.onError(t.e);x(t)&&(t=ii(t));var i=new nt;this._s.setDisposable(i),i.setDisposable(t.subscribe(this._o))},t}(Ot);Ft["catch"]=function(e){return k(e)?new Fi(this,e):Li([this,e])};var Li=Ht["catch"]=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var i=0;i<t;i++)e[i]=arguments[i]}return Jt(e).catchError()};function Ni(){return!1}function ji(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t}Ft.combineLatest=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Array.isArray(t[0])?t[0].unshift(this):t.unshift(this),Vi.apply(this,t)};var zi=function(e){function t(t,i){this._params=t,this._cb=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){for(var t=this._params.length,i=new Array(t),n={hasValue:Ge(t,Ni),hasValueAll:!1,isDone:Ge(t,Ni),values:new Array(t)},r=0;r<t;r++){var s=this._params[r],o=new nt;i[r]=o,x(s)&&(s=ii(s)),o.setDisposable(s.subscribe(new Hi(e,r,this._cb,n)))}return new ot(i)},t}(Vt),Hi=function(e){function t(t,i,n,r){this._o=t,this._i=i,this._cb=n,this._state=r,e.call(this)}function i(e){return function(t,i){return i!==e}}return He(t,e),t.prototype.next=function(e){if(this._state.values[this._i]=e,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(y))){var t=R(this._cb).apply(null,this._state.values);if(t===T)return this._o.onError(t.e);this._o.onNext(t)}else this._state.isDone.filter(i(this._i)).every(y)&&this._o.onCompleted()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(y)&&this._o.onCompleted()},t}(Ot),Vi=Ht.combineLatest=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=k(t[e-1])?t.pop():ji;return Array.isArray(t[0])&&(t=t[0]),new zi(t,n)};Ft.concat=function(){for(var e=[],t=0,i=arguments.length;t<i;t++)e.push(arguments[t]);return e.unshift(this),Ki.apply(null,e)};var qi=function(e){function t(t,i){this._s=t,this._fn=i,e.call(this)}return He(t,e),t.prototype.next=function(e){this._s.o.onNext(e)},t.prototype.error=function(e){this._s.o.onError(e)},t.prototype.completed=function(){this._s.i++,this._fn(this._s)},t}(Ot),Gi=function(e){function t(t){this._sources=t,e.call(this)}function i(e,t){if(!e.disposable.isDisposed){if(e.i===e.sources.length)return e.o.onCompleted();var i=e.sources[e.i];x(i)&&(i=ii(i));var n=new nt;e.subscription.setDisposable(n),n.setDisposable(i.subscribe(new qi(e,t)))}}return He(t,e),t.prototype.subscribeCore=function(e){var t=new rt,n=Je(g),r={o:e,i:0,subscription:t,disposable:n,sources:this._sources},s=gt.scheduleRecursive(r,i);return new ot([t,n,s])},t}(Vt),Ki=Ht.concat=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(arguments.length);for(var t=0,i=arguments.length;t<i;t++)e[t]=arguments[t]}return new Gi(e)};Ft.concatAll=function(){return this.merge(1)};var Wi=function(e){function t(t,i){this.source=t,this.maxConcurrent=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=new $e;return t.add(this.source.subscribe(new Yi(e,this.maxConcurrent,t))),t},t}(Vt),Yi=function(e){function t(t,i,n){this.o=t,this.max=i,this.g=n,this.done=!1,this.q=[],this.activeCount=0,e.call(this)}function i(t,i){this.parent=t,this.sad=i,e.call(this)}return He(t,e),t.prototype.handleSubscribe=function(e){var t=new nt;this.g.add(t),x(e)&&(e=ii(e)),t.setDisposable(e.subscribe(new i(this,t)))},t.prototype.next=function(e){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(e)):this.q.push(e)},t.prototype.error=function(e){this.o.onError(e)},t.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},He(i,e),i.prototype.next=function(e){this.parent.o.onNext(e)},i.prototype.error=function(e){this.parent.o.onError(e)},i.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},t}(Ot);Ft.merge=function(e){return"number"!==typeof e?$i(this,e):new Wi(this,e)};var $i=Ht.merge=function(){var e,t,i=[],n=arguments.length;if(arguments[0])if(dt(arguments[0]))for(e=arguments[0],t=1;t<n;t++)i.push(arguments[t]);else for(e=gt,t=0;t<n;t++)i.push(arguments[t]);else for(e=gt,t=1;t<n;t++)i.push(arguments[t]);return Array.isArray(i[0])&&(i=i[0]),Ei(e,i).mergeAll()},Xi=function(e){function t(t){this.source=t,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=new $e,i=new nt;return t.add(i),i.setDisposable(this.source.subscribe(new Qi(e,t))),t},t}(Vt),Qi=function(e){function t(t,i){this.o=t,this.g=i,this.done=!1,e.call(this)}function i(t,i){this.parent=t,this.sad=i,e.call(this)}return He(t,e),t.prototype.next=function(e){var t=new nt;this.g.add(t),x(e)&&(e=ii(e)),t.setDisposable(e.subscribe(new i(this,t)))},t.prototype.error=function(e){this.o.onError(e)},t.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},He(i,e),i.prototype.next=function(e){this.parent.o.onNext(e)},i.prototype.error=function(e){this.parent.o.onError(e)},i.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},t}(Ot);Ft.mergeAll=function(){return new Xi(this)};var Ji=v.CompositeError=function(e){this.innerErrors=e,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Ji.prototype=Object.create(Error.prototype),Ji.prototype.name="CompositeError";var Zi=function(e){function t(t){this.source=t,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=new $e,i=new nt,n={isStopped:!1,errors:[],o:e};return t.add(i),i.setDisposable(this.source.subscribe(new en(t,n))),t},t}(Vt),en=function(e){function t(t,i){this._group=t,this._state=i,e.call(this)}function i(e,t){0===t.length?e.onCompleted():1===t.length?e.onError(t[0]):e.onError(new Ji(t))}function n(t,i,n){this._inner=t,this._group=i,this._state=n,e.call(this)}return He(t,e),t.prototype.next=function(e){var t=new nt;this._group.add(t),x(e)&&(e=ii(e)),t.setDisposable(e.subscribe(new n(t,this._group,this._state)))},t.prototype.error=function(e){this._state.errors.push(e),this._state.isStopped=!0,1===this._group.length&&i(this._state.o,this._state.errors)},t.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&i(this._state.o,this._state.errors)},He(n,e),n.prototype.next=function(e){this._state.o.onNext(e)},n.prototype.error=function(e){this._state.errors.push(e),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&i(this._state.o,this._state.errors)},n.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&i(this._state.o,this._state.errors)},t}(Ot);Ht.mergeDelayError=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var i=0;i<t;i++)e[i]=arguments[i]}var n=Ei(null,e);return new Zi(n)},Ft.onErrorResumeNext=function(e){if(!e)throw new Error("Second observable is required");return rn([this,e])};var tn=function(e){function t(t){this.sources=t,e.call(this)}function i(e,t){if(e.pos<e.sources.length){var i=e.sources[e.pos++];x(i)&&(i=ii(i));var n=new nt;e.subscription.setDisposable(n),n.setDisposable(i.subscribe(new nn(e,t)))}else e.o.onCompleted()}return He(t,e),t.prototype.subscribeCore=function(e){var t=new rt,n={pos:0,subscription:t,o:e,sources:this.sources},r=gt.scheduleRecursive(n,i);return new st(t,r)},t}(Vt),nn=function(e){function t(t,i){this._state=t,this._recurse=i,e.call(this)}return He(t,e),t.prototype.next=function(e){this._state.o.onNext(e)},t.prototype.error=function(){this._recurse(this._state)},t.prototype.completed=function(){this._recurse(this._state)},t}(Ot),rn=Ht.onErrorResumeNext=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var i=0;i<t;i++)e[i]=arguments[i]}return new tn(e)},sn=function(e){function t(t,i){this._s=t,this._o=x(i)?ii(i):i,this._open=!1,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=new nt;t.setDisposable(this._s.subscribe(new on(e,this))),x(this._o)&&(this._o=ii(this._o));var i=new nt;return i.setDisposable(this._o.subscribe(new an(e,this,i))),new st(t,i)},t}(Vt),on=function(e){function t(t,i){this._o=t,this._p=i,e.call(this)}return He(t,e),t.prototype.next=function(e){this._p._open&&this._o.onNext(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},t}(Ot),an=function(e){function t(t,i,n){this._o=t,this._p=i,this._r=n,e.call(this)}return He(t,e),t.prototype.next=function(){this._p._open=!0,this._r.dispose()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.onCompleted=function(){this._r.dispose()},t}(Ot);Ft.skipUntil=function(e){return new sn(this,e)};var un=function(e){function t(t){this.source=t,e.call(this)}function i(e,t){this.o=e,this.inner=t,this.stopped=!1,this.latest=0,this.hasLatest=!1,Ot.call(this)}function n(e,t){this.parent=e,this.id=t,Ot.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=new rt,n=this.source.subscribe(new i(e,t));return new st(n,t)},He(i,Ot),i.prototype.next=function(e){var t=new nt,i=++this.latest;this.hasLatest=!0,this.inner.setDisposable(t),x(e)&&(e=ii(e)),t.setDisposable(e.subscribe(new n(this,i)))},i.prototype.error=function(e){this.o.onError(e)},i.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},He(n,Ot),n.prototype.next=function(e){this.parent.latest===this.id&&this.parent.o.onNext(e)},n.prototype.error=function(e){this.parent.latest===this.id&&this.parent.o.onError(e)},n.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},t}(Vt);Ft["switch"]=Ft.switchLatest=function(){return new un(this)};var cn=function(e){function t(t,i){this.source=t,this.other=x(i)?ii(i):i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return new st(this.source.subscribe(e),this.other.subscribe(new fn(e)))},t}(Vt),fn=function(e){function t(t){this._o=t,e.call(this)}return He(t,e),t.prototype.next=function(){this._o.onCompleted()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.onCompleted=g,t}(Ot);function Ni(){return!1}function ji(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t}Ft.takeUntil=function(e){return new cn(this,e)};var hn=function(e){function t(t,i,n){this._s=t,this._ss=i,this._cb=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){for(var t=this._ss.length,i={hasValue:Ge(t,Ni),hasValueAll:!1,values:new Array(t)},n=this._ss.length,r=new Array(n+1),s=0;s<n;s++){var o=this._ss[s],a=new nt;x(o)&&(o=ii(o)),a.setDisposable(o.subscribe(new ln(e,s,i))),r[s]=a}var u=new nt;return u.setDisposable(this._s.subscribe(new dn(e,this._cb,i))),r[n]=u,new ot(r)},t}(Vt),ln=function(e){function t(t,i,n){this._o=t,this._i=i,this._state=n,e.call(this)}return He(t,e),t.prototype.next=function(e){this._state.values[this._i]=e,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(y)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=g,t}(Ot),dn=function(e){function t(t,i,n){this._o=t,this._cb=i,this._state=n,e.call(this)}return He(t,e),t.prototype.next=function(e){var t=[e].concat(this._state.values);if(this._state.hasValueAll){var i=R(this._cb).apply(null,t);if(i===T)return this._o.onError(i.e);this._o.onNext(i)}},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(Ot);function Ni(){return!1}function pn(){return[]}Ft.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=k(t[e-1])?t.pop():ji;return Array.isArray(t[0])&&(t=t[0]),new hn(this,t,n)};var mn=function(e){function t(t,i){this._s=t,this._cb=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){for(var t=this._s.length,i=new Array(t),n=Ge(t,Ni),r=Ge(t,pn),s=0;s<t;s++){var o=this._s[s],a=new nt;i[s]=a,x(o)&&(o=ii(o)),a.setDisposable(o.subscribe(new bn(e,s,this,r,n)))}return new ot(i)},t}(Vt),bn=function(e){function t(t,i,n,r,s){this._o=t,this._i=i,this._p=n,this._q=r,this._d=s,e.call(this)}function i(e){return e.length>0}function n(e){return e.shift()}function r(e){return function(t,i){return i!==e}}return He(t,e),t.prototype.next=function(e){if(this._q[this._i].push(e),this._q.every(i)){var t=this._q.map(n),s=R(this._p._cb).apply(null,t);if(s===T)return this._o.onError(s.e);this._o.onNext(s)}else this._d.filter(r(this._i)).every(y)&&this._o.onCompleted()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._d[this._i]=!0,this._d.every(y)&&this._o.onCompleted()},t}(Ot);function Ni(){return!1}function pn(){return[]}function ji(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t}Ft.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=k(t[e-1])?t.pop():ji;Array.isArray(t[0])&&(t=t[0]);var r=this;return t.unshift(r),new mn(t,n)},Ht.zip=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];Array.isArray(t[0])&&(t=k(t[1])?t[0].concat(t[1]):t[0]);var n=t.shift();return n.zip.apply(n,t)};var vn=function(e){function t(t,i){this.sources=t,this._cb=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){for(var t=this.sources,i=t.length,n=new Array(i),r={q:Ge(i,pn),done:Ge(i,Ni),cb:this._cb,o:e},s=0;s<i;s++)(function(e){var i=t[e],s=new nt;(Q(i)||X(i))&&(i=yi(i)),n[e]=s,s.setDisposable(i.subscribe(new gn(r,e)))})(s);return new ot(n)},t}(Vt),gn=function(e){function t(t,i){this._s=t,this._i=i,e.call(this)}function i(e){return e.length>0}function n(e){return e.shift()}function r(e){return function(t,i){return i!==e}}return He(t,e),t.prototype.next=function(e){if(this._s.q[this._i].push(e),this._s.q.every(i)){var t=this._s.q.map(n),s=R(this._s.cb).apply(null,t);if(s===T)return this._s.o.onError(s.e);this._s.o.onNext(s)}else this._s.done.filter(r(this._i)).every(y)&&this._s.o.onCompleted()},t.prototype.error=function(e){this._s.o.onError(e)},t.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(y)&&this._s.o.onCompleted()},t}(Ot);function yn(e){return function(t){return e.subscribe(t)}}function _n(e){return e.toArray()}function wn(e){return e.length>0}Ft.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=k(t[e-1])?t.pop():ji,r=this;return t.unshift(r),new vn(t,n)},Ft.asObservable=function(){return new Do(yn(this),this)},Ft.bufferWithCount=Ft.bufferCount=function(e,t){return"number"!==typeof t&&(t=e),this.windowWithCount(e,t).flatMap(_n).filter(wn)};var Sn=function(e){function t(t){this.source=t,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new En(e))},t}(Vt),En=function(e){function t(t){this._o=t,e.call(this)}return He(t,e),t.prototype.next=function(e){e.accept(this._o)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(Ot);Ft.dematerialize=function(){return new Sn(this)};var xn=function(e){function t(t,i,n){this.source=t,this.keyFn=i,this.comparer=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new kn(e,this.keyFn,this.comparer))},t}(Vt),kn=function(e){function t(t,i,n){this.o=t,this.keyFn=i,this.comparer=n,this.hasCurrentKey=!1,this.currentKey=null,e.call(this)}return He(t,e),t.prototype.next=function(e){var t,i=e;return k(this.keyFn)&&(i=R(this.keyFn)(e),i===T)?this.o.onError(i.e):this.hasCurrentKey&&(t=R(this.comparer)(this.currentKey,i),t===T)?this.o.onError(t.e):void(this.hasCurrentKey&&t||(this.hasCurrentKey=!0,this.currentKey=i,this.o.onNext(e)))},t.prototype.error=function(e){this.o.onError(e)},t.prototype.completed=function(){this.o.onCompleted()},t}(Ot);Ft.distinctUntilChanged=function(e,t){return t||(t=w),new xn(this,e,t)};var An=function(e){function t(t,i,n,r){this.source=t,this._oN=i,this._oE=n,this._oC=r,e.call(this)}function i(e,t){this.o=e,this.t=!t._oN||k(t._oN)?Pt(t._oN||g,t._oE||g,t._oC||g):t._oN,this.isStopped=!1,Ot.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new i(e,this))},He(i,Ot),i.prototype.next=function(e){var t=R(this.t.onNext).call(this.t,e);t===T&&this.o.onError(t.e),this.o.onNext(e)},i.prototype.error=function(e){var t=R(this.t.onError).call(this.t,e);if(t===T)return this.o.onError(t.e);this.o.onError(e)},i.prototype.completed=function(){var e=R(this.t.onCompleted).call(this.t);if(e===T)return this.o.onError(e.e);this.o.onCompleted()},t}(Vt);Ft["do"]=Ft.tap=Ft.doAction=function(e,t,i){return new An(this,e,t,i)},Ft.doOnNext=Ft.tapOnNext=function(e,t){return this.tap("undefined"!==typeof t?function(i){e.call(t,i)}:e)},Ft.doOnError=Ft.tapOnError=function(e,t){return this.tap(g,"undefined"!==typeof t?function(i){e.call(t,i)}:e)},Ft.doOnCompleted=Ft.tapOnCompleted=function(e,t){return this.tap(g,null,"undefined"!==typeof t?function(){e.call(t)}:e)};var Tn=function(e){function t(t,i,n){this.source=t,this._fn=J(i,n,0),e.call(this)}function i(e,t){this.isDisposed=!1,this._s=e,this._fn=t}return He(t,e),t.prototype.subscribeCore=function(e){var t=R(this.source.subscribe).call(this.source,e);return t===T&&(this._fn(),D(t.e)),new i(t,this._fn)},i.prototype.dispose=function(){if(!this.isDisposed){var e=R(this._s.dispose).call(this._s);this._fn(),e===T&&D(e.e)}},t}(Vt);Ft["finally"]=function(e,t){return new Tn(this,e,t)};var Cn=function(e){function t(t){this.source=t,e.call(this)}function i(e){this.o=e,this.isStopped=!1}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new i(e))},i.prototype.onNext=g,i.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},i.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},i.prototype.dispose=function(){this.isStopped=!0},i.prototype.fail=function(e){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(e),!0)},t}(Vt);Ft.ignoreElements=function(){return new Cn(this)};var Rn=function(e){function t(t,i){this.source=t,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Dn(e))},t}(Vt),Dn=function(e){function t(t){this._o=t,e.call(this)}return He(t,e),t.prototype.next=function(e){this._o.onNext(Bt(e))},t.prototype.error=function(e){this._o.onNext(Mt(e)),this._o.onCompleted()},t.prototype.completed=function(){this._o.onNext(It()),this._o.onCompleted()},t}(Ot);function Bn(e){return{"@@iterator":function(){return{next:function(){return{done:!1,value:e}}}}}}Ft.materialize=function(){return new Rn(this)},Ft.repeat=function(e){return Xt(this,e).concat()},Ft.retry=function(e){return Xt(this,e).catchError()};var Mn=function(e){function t(e){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,e.isDisposed=!0)}}}function i(t,i){this.source=t,this._notifier=i,e.call(this)}return He(i,e),i.prototype.subscribeCore=function(e){var i,n=new Uo,r=new Uo,s=this._notifier(n),o=s.subscribe(r),a=this.source["@@iterator"](),u={isDisposed:!1},c=new rt,f=_t.scheduleRecursive(null,(function(t,s){if(!u.isDisposed){var o=a.next();if(o.done)i?e.onError(i):e.onCompleted();else{var f=o.value;x(f)&&(f=ii(f));var h=new nt,l=new nt;c.setDisposable(new st(l,h)),h.setDisposable(f.subscribe((function(t){e.onNext(t)}),(function(t){l.setDisposable(r.subscribe(s,(function(t){e.onError(t)}),(function(){e.onCompleted()}))),n.onNext(t),h.dispose()}),(function(){e.onCompleted()})))}}}));return new ot([o,c,f,t(u)])},i}(Vt);function Bn(e){return{"@@iterator":function(){return{next:function(){return{done:!1,value:e}}}}}}Ft.retryWhen=function(e){return new Mn(Bn(this),e)};var In=function(e){function t(e){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,e.isDisposed=!0)}}}function i(t,i){this.source=t,this._notifier=i,e.call(this)}return He(i,e),i.prototype.subscribeCore=function(e){var i,n=new Uo,r=new Uo,s=this._notifier(n),o=s.subscribe(r),a=this.source["@@iterator"](),u={isDisposed:!1},c=new rt,f=_t.scheduleRecursive(null,(function(t,s){if(!u.isDisposed){var o=a.next();if(o.done)i?e.onError(i):e.onCompleted();else{var f=o.value;x(f)&&(f=ii(f));var h=new nt,l=new nt;c.setDisposable(new st(l,h)),h.setDisposable(f.subscribe((function(t){e.onNext(t)}),(function(t){e.onError(t)}),(function(){l.setDisposable(r.subscribe(s,(function(t){e.onError(t)}),(function(){e.onCompleted()}))),n.onNext(null),h.dispose()})))}}}));return new ot([o,c,f,t(u)])},i}(Vt);Ft.repeatWhen=function(e){return new In(Bn(this),e)};var Un=function(e){function t(t,i,n,r){this.source=t,this.accumulator=i,this.hasSeed=n,this.seed=r,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Pn(e,this))},t}(Vt),Pn=function(e){function t(t,i){this._o=t,this._p=i,this._fn=i.accumulator,this._hs=i.hasSeed,this._s=i.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,e.call(this)}return He(t,e),t.prototype.next=function(e){if(!this._hv&&(this._hv=!0),this._ha?this._a=R(this._fn)(this._a,e,this._i,this._p):(this._a=this._hs?R(this._fn)(this._s,e,this._i,this._p):e,this._ha=!0),this._a===T)return this._o.onError(this._a.e);this._o.onNext(this._a),this._i++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},t}(Ot);Ft.scan=function(){var e,t=!1,i=arguments[0];return 2===arguments.length&&(t=!0,e=arguments[1]),new Un(this,i,t,e)};var Fn=function(e){function t(t,i){this.source=t,this._c=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new On(e,this._c))},t}(Vt),On=function(e){function t(t,i){this._o=t,this._c=i,this._q=[],e.call(this)}return He(t,e),t.prototype.next=function(e){this._q.push(e),this._q.length>this._c&&this._o.onNext(this._q.shift())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(Ot);Ft.skipLast=function(e){if(e<0)throw new q;return new Fn(this,e)},Ft.startWith=function(){var e,t=0;arguments.length&&dt(arguments[0])?(e=arguments[0],t=1):e=gt;for(var i=[],n=t,r=arguments.length;n<r;n++)i.push(arguments[n]);return Ki.apply(null,[wi(i,e),this])};var Ln=function(e){function t(t,i){this._o=t,this._c=i,this._q=[],e.call(this)}return He(t,e),t.prototype.next=function(e){this._q.push(e),this._q.length>this._c&&this._q.shift()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){while(this._q.length>0)this._o.onNext(this._q.shift());this._o.onCompleted()},t}(Ot);Ft.takeLast=function(e){if(e<0)throw new q;var t=this;return new Do((function(i){return t.subscribe(new Ln(i,e))}),t)};var Nn=function(e){function t(t,i){this._o=t,this._c=i,this._q=[],e.call(this)}return He(t,e),t.prototype.next=function(e){this._q.push(e),this._q.length>this._c&&this._q.shift()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(this._q),this._o.onCompleted()},t}(Ot);function jn(e,t,i){var n=J(t,i,3);return e.map((function(t,i){var r=n(t,i,e);return x(r)&&(r=ii(r)),(Q(r)||X(r))&&(r=yi(r)),r})).concatAll()}Ft.takeLastBuffer=function(e){if(e<0)throw new q;var t=this;return new Do((function(i){return t.subscribe(new Nn(i,e))}),t)},Ft.windowWithCount=Ft.windowCount=function(e,t){var i=this;if(+e||(e=0),Math.abs(e)===1/0&&(e=0),e<=0)throw new q;if(null==t&&(t=e),+t||(t=0),Math.abs(t)===1/0&&(t=0),t<=0)throw new q;return new Do((function(n){var r=new nt,s=new at(r),o=0,a=[];function u(){var e=new Uo;a.push(e),n.onNext(qe(e,s))}return u(),r.setDisposable(i.subscribe((function(i){for(var n=0,r=a.length;n<r;n++)a[n].onNext(i);var s=o-e+1;s>=0&&s%t===0&&a.shift().onCompleted(),++o%t===0&&u()}),(function(e){while(a.length>0)a.shift().onError(e);n.onError(e)}),(function(){while(a.length>0)a.shift().onCompleted();n.onCompleted()}))),s}),i)},Ft.selectConcat=Ft.concatMap=function(e,t,i){return k(e)&&k(t)?this.concatMap((function(i,n){var r=e(i,n);return x(r)&&(r=ii(r)),(Q(r)||X(r))&&(r=yi(r)),r.map((function(e,r){return t(i,e,n,r)}))})):k(e)?jn(this,e,i):jn(this,(function(){return e}))},Ft.concatMapObserver=Ft.selectConcatObserver=function(e,t,i,n){var r=this,s=J(e,n,2),o=J(t,n,1),a=J(i,n,0);return new Do((function(e){var t=0;return r.subscribe((function(i){var n;try{n=s(i,t++)}catch(r){return void e.onError(r)}x(n)&&(n=ii(n)),e.onNext(n)}),(function(t){var i;try{i=o(t)}catch(n){return void e.onError(n)}x(i)&&(i=ii(i)),e.onNext(i),e.onCompleted()}),(function(){var t;try{t=a()}catch(i){return void e.onError(i)}x(t)&&(t=ii(t)),e.onNext(t),e.onCompleted()}))}),this).concatAll()};var zn=function(e){function t(t,i){this._o=t,this._d=i,this._f=!1,e.call(this)}return He(t,e),t.prototype.next=function(e){this._f=!0,this._o.onNext(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){!this._f&&this._o.onNext(this._d),this._o.onCompleted()},t}(Ot);function Hn(e,t,i){for(var n=0,r=e.length;n<r;n++)if(i(e[n],t))return n;return-1}function Vn(e){this.comparer=e,this.set=[]}Ft.defaultIfEmpty=function(e){var t=this;return e===o&&(e=null),new Do((function(i){return t.subscribe(new zn(i,e))}),t)},Vn.prototype.push=function(e){var t=-1===Hn(this.set,e,this.comparer);return t&&this.set.push(e),t};var qn=function(e){function t(t,i,n){this.source=t,this._keyFn=i,this._cmpFn=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Gn(e,this._keyFn,this._cmpFn))},t}(Vt),Gn=function(e){function t(t,i,n){this._o=t,this._keyFn=i,this._h=new Vn(n),e.call(this)}return He(t,e),t.prototype.next=function(e){var t=e;if(k(this._keyFn)&&(t=R(this._keyFn)(e),t===T))return this._o.onError(t.e);this._h.push(t)&&this._o.onNext(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(Ot);Ft.distinct=function(e,t){return t||(t=w),new qn(this,e,t)},Ft.groupBy=function(e,t){return this.groupByUntil(e,t,Ai)},Ft.groupByUntil=function(e,t,i){var n=this;return new Do((function(r){var s=new Ts,a=new $e,u=new at(a),c=function(e){return function(t){t.onError(e)}};return a.add(n.subscribe((function(n){var f=R(e)(n);if(f===T)return s.forEach(c(f.e)),r.onError(f.e);var h=!1,l=s.get(f);if(l===o&&(l=new Uo,s.set(f,l),h=!0),h){var d=new Io(f,l,u),p=new Io(f,l),m=R(i)(p);if(m===T)return s.forEach(c(m.e)),r.onError(m.e);r.onNext(d);var b=new nt;a.add(b),b.setDisposable(m.take(1).subscribe(g,(function(e){s.forEach(c(e)),r.onError(e)}),(function(){s["delete"](f)&&l.onCompleted(),a.remove(b)})))}var v=n;if(k(t)&&(v=R(t)(n),v===T))return s.forEach(c(v.e)),r.onError(v.e);l.onNext(v)}),(function(e){s.forEach(c(e)),r.onError(e)}),(function(){s.forEach((function(e){e.onCompleted()})),r.onCompleted()}))),u}),n)};var Kn=function(e){function t(t,i,n){this.source=t,this.selector=J(i,n,3),e.call(this)}function i(e,t){return function(i,n,r){return e.call(this,t.selector(i,n,r),n,r)}}function n(e,t,i){this.o=e,this.selector=t,this.source=i,this.i=0,Ot.call(this)}return He(t,e),t.prototype.internalMap=function(e,n){return new t(this.source,i(e,this),n)},t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.selector,this))},He(n,Ot),n.prototype.next=function(e){var t=R(this.selector)(e,this.i++,this.source);if(t===T)return this.o.onError(t.e);this.o.onNext(t)},n.prototype.error=function(e){this.o.onError(e)},n.prototype.completed=function(){this.o.onCompleted()},t}(Vt);function Wn(e,t){return function(i){for(var n=i,r=0;r<t;r++){var s=n[e[r]];if("undefined"===typeof s)return o;n=s}return n}}Ft.map=Ft.select=function(e,t){var i="function"===typeof e?e:function(){return e};return this instanceof Kn?this.internalMap(i,t):new Kn(this,i,t)},Ft.pluck=function(){var e=arguments.length,t=new Array(e);if(0===e)throw new Error("List of properties cannot be empty.");for(var i=0;i<e;i++)t[i]=arguments[i];return this.map(Wn(t,e))},Ft.flatMap=Ft.selectMany=Ft.mergeMap=function(e,t,i){return new qt(this,e,t,i).mergeAll()},Ft.flatMapObserver=Ft.selectManyObserver=function(e,t,i,n){var r=this;return new Do((function(s){var o=0;return r.subscribe((function(t){var i;try{i=e.call(n,t,o++)}catch(r){return void s.onError(r)}x(i)&&(i=ii(i)),s.onNext(i)}),(function(e){var i;try{i=t.call(n,e)}catch(r){return void s.onError(r)}x(i)&&(i=ii(i)),s.onNext(i),s.onCompleted()}),(function(){var e;try{e=i.call(n)}catch(t){return void s.onError(t)}x(e)&&(e=ii(e)),s.onNext(e),s.onCompleted()}))}),r).mergeAll()},Ft.flatMapLatest=Ft.switchMap=function(e,t,i){return new qt(this,e,t,i).switchLatest()};var Yn=function(e){function t(t,i){this.source=t,this._count=i,e.call(this)}function i(e,t){this._o=e,this._r=t,Ot.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new i(e,this._count))},He(i,Ot),i.prototype.next=function(e){this._r<=0?this._o.onNext(e):this._r--},i.prototype.error=function(e){this._o.onError(e)},i.prototype.completed=function(){this._o.onCompleted()},t}(Vt);Ft.skip=function(e){if(e<0)throw new q;return new Yn(this,e)};var $n=function(e){function t(t,i){this.source=t,this._fn=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Xn(e,this))},t}(Vt),Xn=function(e){function t(t,i){this._o=t,this._p=i,this._i=0,this._r=!1,e.call(this)}return He(t,e),t.prototype.next=function(e){if(!this._r){var t=R(this._p._fn)(e,this._i++,this._p);if(t===T)return this._o.onError(t.e);this._r=!t}this._r&&this._o.onNext(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(Ot);Ft.skipWhile=function(e,t){var i=J(e,t,3);return new $n(this,i)};var Qn=function(e){function t(t,i){this.source=t,this._count=i,e.call(this)}function i(e,t){this._o=e,this._c=t,this._r=t,Ot.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new i(e,this._count))},He(i,Ot),i.prototype.next=function(e){this._r-- >0&&(this._o.onNext(e),this._r<=0&&this._o.onCompleted())},i.prototype.error=function(e){this._o.onError(e)},i.prototype.completed=function(){this._o.onCompleted()},t}(Vt);Ft.take=function(e,t){if(e<0)throw new q;return 0===e?ui(t):new Qn(this,e)};var Jn=function(e){function t(t,i){this.source=t,this._fn=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Zn(e,this))},t}(Vt),Zn=function(e){function t(t,i){this._o=t,this._p=i,this._i=0,this._r=!0,e.call(this)}return He(t,e),t.prototype.next=function(e){if(this._r&&(this._r=R(this._p._fn)(e,this._i++,this._p),this._r===T))return this._o.onError(this._r.e);this._r?this._o.onNext(e):this._o.onCompleted()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(Ot);Ft.takeWhile=function(e,t){var i=J(e,t,3);return new Jn(this,i)};var er=function(e){function t(t,i,n){this.source=t,this.predicate=J(i,n,3),e.call(this)}function i(e,t){return function(i,n,r){return t.predicate(i,n,r)&&e.call(this,i,n,r)}}function n(e,t,i){this.o=e,this.predicate=t,this.source=i,this.i=0,Ot.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.predicate,this))},t.prototype.internalFilter=function(e,n){return new t(this.source,i(e,this),n)},He(n,Ot),n.prototype.next=function(e){var t=R(this.predicate)(e,this.i++,this.source);if(t===T)return this.o.onError(t.e);t&&this.o.onNext(e)},n.prototype.error=function(e){this.o.onError(e)},n.prototype.completed=function(){this.o.onCompleted()},t}(Vt);Ft.filter=Ft.where=function(e,t){return this instanceof er?this.internalFilter(e,t):new er(this,e,t)};var tr=function(e){function t(t,i,n){this.source=t,this._k=i,this._c=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new ir(e,this._k,this._c))},t}(Vt),ir=function(e){function t(t,i,n){this._o=t,this._k=i,this._c=n,this._v=null,this._hv=!1,this._l=[],e.call(this)}return He(t,e),t.prototype.next=function(e){var t=R(this._k)(e);if(t===T)return this._o.onError(t.e);var i=0;if(this._hv){if(i=R(this._c)(t,this._v),i===T)return this._o.onError(i.e)}else this._hv=!0,this._v=t;i>0&&(this._v=t,this._l=[]),i>=0&&this._l.push(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(this._l),this._o.onCompleted()},t}(Ot);function nr(e){if(0===e.length)throw new H;return e[0]}var rr=function(e){function t(t,i,n,r){this.source=t,this.accumulator=i,this.hasSeed=n,this.seed=r,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new sr(e,this))},t}(Vt),sr=function(e){function t(t,i){this._o=t,this._p=i,this._fn=i.accumulator,this._hs=i.hasSeed,this._s=i.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,e.call(this)}return He(t,e),t.prototype.next=function(e){if(!this._hv&&(this._hv=!0),this._ha?this._a=R(this._fn)(this._a,e,this._i,this._p):(this._a=this._hs?R(this._fn)(this._s,e,this._i,this._p):e,this._ha=!0),this._a===T)return this._o.onError(this._a.e);this._i++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._hv&&this._o.onNext(this._a),!this._hv&&this._hs&&this._o.onNext(this._s),!this._hv&&!this._hs&&this._o.onError(new H),this._o.onCompleted()},t}(Ot);Ft.reduce=function(){var e,t=!1,i=arguments[0];return 2===arguments.length&&(t=!0,e=arguments[1]),new rr(this,i,t,e)};var or=function(e){function t(t,i){this.source=t,this._fn=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new ar(e,this._fn,this.source))},t}(Vt),ar=function(e){function t(t,i,n){this._o=t,this._fn=i,this._s=n,this._i=0,e.call(this)}return He(t,e),t.prototype.next=function(e){var t=R(this._fn)(e,this._i++,this._s);if(t===T)return this._o.onError(t.e);Boolean(t)&&(this._o.onNext(!0),this._o.onCompleted())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},t}(Ot);Ft.some=function(e,t){var i=J(e,t,3);return new or(this,i)};var ur=function(e){function t(t){this.source=t,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new cr(e))},t}(Vt),cr=function(e){function t(t){this._o=t,e.call(this)}return He(t,e),t.prototype.next=function(){this._o.onNext(!1),this._o.onCompleted()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},t}(Ot);Ft.isEmpty=function(){return new ur(this)};var fr=function(e){function t(t,i){this.source=t,this._fn=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new hr(e,this._fn,this.source))},t}(Vt),hr=function(e){function t(t,i,n){this._o=t,this._fn=i,this._s=n,this._i=0,e.call(this)}return He(t,e),t.prototype.next=function(e){var t=R(this._fn)(e,this._i++,this._s);if(t===T)return this._o.onError(t.e);Boolean(t)||(this._o.onNext(!1),this._o.onCompleted())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},t}(Ot);Ft.every=function(e,t){var i=J(e,t,3);return new fr(this,i)};var lr=function(e){function t(t,i,n){var r=+n||0;Math.abs(r)===1/0&&(r=0),this.source=t,this._elem=i,this._n=r,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this._n<0?(e.onNext(!1),e.onCompleted(),Ze):this.source.subscribe(new dr(e,this._elem,this._n))},t}(Vt),dr=function(e){function t(t,i,n){this._o=t,this._elem=i,this._n=n,this._i=0,e.call(this)}function i(e,t){return 0===e&&0===t||e===t||isNaN(e)&&isNaN(t)}return He(t,e),t.prototype.next=function(e){this._i++>=this._n&&i(e,this._elem)&&(this._o.onNext(!0),this._o.onCompleted())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},t}(Ot);Ft.includes=function(e,t){return new lr(this,e,t)};var pr=function(e){function t(t,i){this.source=t,this._fn=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new mr(e,this._fn,this.source))},t}(Vt),mr=function(e){function t(t,i,n){this._o=t,this._fn=i,this._s=n,this._i=0,this._c=0,e.call(this)}return He(t,e),t.prototype.next=function(e){if(this._fn){var t=R(this._fn)(e,this._i++,this._s);if(t===T)return this._o.onError(t.e);Boolean(t)&&this._c++}else this._c++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},t}(Ot);Ft.count=function(e,t){var i=J(e,t,3);return new pr(this,i)};var br=function(e){function t(t,i,n){this.source=t,this._e=i,this._n=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this._n<0?(e.onNext(-1),e.onCompleted(),Ze):this.source.subscribe(new vr(e,this._e,this._n))},t}(Vt),vr=function(e){function t(t,i,n){this._o=t,this._e=i,this._n=n,this._i=0,e.call(this)}return He(t,e),t.prototype.next=function(e){this._i>=this._n&&e===this._e&&(this._o.onNext(this._i),this._o.onCompleted()),this._i++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(-1),this._o.onCompleted()},t}(Ot);Ft.indexOf=function(e,t){var i=+t||0;return Math.abs(i)===1/0&&(i=0),new br(this,e,i)};var gr=function(e){function t(t,i){this.source=t,this._fn=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new yr(e,this._fn,this.source))},t}(Vt),yr=function(e){function t(t,i,n){this._o=t,this._fn=i,this._s=n,this._i=0,this._c=0,e.call(this)}return He(t,e),t.prototype.next=function(e){if(this._fn){var t=R(this._fn)(e,this._i++,this._s);if(t===T)return this._o.onError(t.e);this._c+=t}else this._c+=e},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},t}(Ot);Ft.sum=function(e,t){var i=J(e,t,3);return new gr(this,i)},Ft.minBy=function(e,t){return t||(t=S),new tr(this,e,(function(e,i){return-1*t(e,i)}))},Ft.min=function(e){return this.minBy(y,e).map(nr)},Ft.maxBy=function(e,t){return t||(t=S),new tr(this,e,t)},Ft.max=function(e){return this.maxBy(y,e).map(nr)};var _r=function(e){function t(t,i){this.source=t,this._fn=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new wr(e,this._fn,this.source))},t}(Vt),wr=function(e){function t(t,i,n){this._o=t,this._fn=i,this._s=n,this._c=0,this._t=0,e.call(this)}return He(t,e),t.prototype.next=function(e){if(this._fn){var t=R(this._fn)(e,this._c++,this._s);if(t===T)return this._o.onError(t.e);this._t+=t}else this._c++,this._t+=e},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){if(0===this._c)return this._o.onError(new H);this._o.onNext(this._t/this._c),this._o.onCompleted()},t}(Ot);Ft.average=function(e,t){var i,n=this;return k(e)&&(i=J(e,t,3)),new _r(n,i)},Ft.sequenceEqual=function(e,t){var i=this;return t||(t=w),new Do((function(n){var r=!1,s=!1,o=[],a=[],u=i.subscribe((function(e){if(a.length>0){var i=a.shift(),r=R(t)(i,e);if(r===T)return n.onError(r.e);r||(n.onNext(!1),n.onCompleted())}else s?(n.onNext(!1),n.onCompleted()):o.push(e)}),(function(e){n.onError(e)}),(function(){r=!0,0===o.length&&(a.length>0?(n.onNext(!1),n.onCompleted()):s&&(n.onNext(!0),n.onCompleted()))}));(Q(e)||X(e))&&(e=yi(e)),x(e)&&(e=ii(e));var c=e.subscribe((function(e){if(o.length>0){var i=o.shift(),s=R(t)(i,e);if(s===T)return n.onError(s.e);s||(n.onNext(!1),n.onCompleted())}else r?(n.onNext(!1),n.onCompleted()):a.push(e)}),(function(e){n.onError(e)}),(function(){s=!0,0===a.length&&(o.length>0?(n.onNext(!1),n.onCompleted()):r&&(n.onNext(!0),n.onCompleted()))}));return new st(u,c)}),i)};var Sr=function(e){function t(t,i,n){this.source=t,this._i=i,this._d=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Er(e,this._i,this._d))},t}(Vt),Er=function(e){function t(t,i,n){this._o=t,this._i=i,this._d=n,e.call(this)}return He(t,e),t.prototype.next=function(e){0===this._i--&&(this._o.onNext(e),this._o.onCompleted())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._d===o?this._o.onError(new q):(this._o.onNext(this._d),this._o.onCompleted())},t}(Ot);Ft.elementAt=function(e,t){if(e<0)throw new q;return new Sr(this,e,t)};var xr=function(e){function t(t,i,n){this._o=t,this._obj=i,this._s=n,this._i=0,this._hv=!1,this._v=null,e.call(this)}return He(t,e),t.prototype.next=function(e){var t=!1;if(this._obj.predicate){var i=R(this._obj.predicate)(e,this._i++,this._s);if(i===T)return this._o.onError(i.e);Boolean(i)&&(t=!0)}else this._obj.predicate||(t=!0);if(t){if(this._hv)return this._o.onError(new Error("Sequence contains more than one matching element"));this._hv=!0,this._v=e}},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===o?this._o.onError(new H):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},t}(Ot);Ft.single=function(e,t){var i={},n=this;if(i="object"===typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},k(i.predicate)){var r=i.predicate;i.predicate=J(r,i.thisArg,3)}return new Do((function(e){return n.subscribe(new xr(e,i,n))}),n)};var kr=function(e){function t(t,i){this.source=t,this._obj=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Ar(e,this._obj,this.source))},t}(Vt),Ar=function(e){function t(t,i,n){this._o=t,this._obj=i,this._s=n,this._i=0,e.call(this)}return He(t,e),t.prototype.next=function(e){if(this._obj.predicate){var t=R(this._obj.predicate)(e,this._i++,this._s);if(t===T)return this._o.onError(t.e);Boolean(t)&&(this._o.onNext(e),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(e),this._o.onCompleted())},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._obj.defaultValue===o?this._o.onError(new H):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},t}(Ot);Ft.first=function(){var e={};if(e="object"===typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},k(e.predicate)){var t=e.predicate;e.predicate=J(t,e.thisArg,3)}return new kr(this,e)};var Tr=function(e){function t(t,i){this.source=t,this._obj=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Cr(e,this._obj,this.source))},t}(Vt),Cr=function(e){function t(t,i,n){this._o=t,this._obj=i,this._s=n,this._i=0,this._hv=!1,this._v=null,e.call(this)}return He(t,e),t.prototype.next=function(e){var t=!1;if(this._obj.predicate){var i=R(this._obj.predicate)(e,this._i++,this._s);if(i===T)return this._o.onError(i.e);Boolean(i)&&(t=!0)}else this._obj.predicate||(t=!0);t&&(this._hv=!0,this._v=e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===o?this._o.onError(new H):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},t}(Ot);Ft.last=function(){var e={};if(e="object"===typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},k(e.predicate)){var t=e.predicate;e.predicate=J(t,e.thisArg,3)}return new Tr(this,e)};var Rr=function(e){function t(t,i,n,r){this._o=t,this._s=i,this._cb=n,this._y=r,this._i=0,e.call(this)}return He(t,e),t.prototype.next=function(e){var t=R(this._cb)(e,this._i,this._s);if(t===T)return this._o.onError(t.e);t?(this._o.onNext(this._y?this._i:e),this._o.onCompleted()):this._i++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._y&&this._o.onNext(-1),this._o.onCompleted()},t}(Ot);function Dr(e,t,i,n){var r=J(t,i,3);return new Do((function(t){return e.subscribe(new Rr(t,e,r,n))}),e)}Ft.find=function(e,t){return Dr(this,e,t,!1)},Ft.findIndex=function(e,t){return Dr(this,e,t,!0)};var Br=function(e){function t(t){this.source=t,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Mr(e))},t}(Vt),Mr=function(e){function t(t){this._o=t,this._s=new b.Set,e.call(this)}return He(t,e),t.prototype.next=function(e){this._s.add(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(this._s),this._o.onCompleted()},t}(Ot);Ft.toSet=function(){if("undefined"===typeof b.Set)throw new TypeError;return new Br(this)};var Ir=function(e){function t(t,i,n){this.source=t,this._k=i,this._e=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Ur(e,this._k,this._e))},t}(Vt),Ur=function(e){function t(t,i,n){this._o=t,this._k=i,this._e=n,this._m=new b.Map,e.call(this)}return He(t,e),t.prototype.next=function(e){var t=R(this._k)(e);if(t===T)return this._o.onError(t.e);var i=e;if(this._e&&(i=R(this._e)(e),i===T))return this._o.onError(i.e);this._m.set(t,i)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onNext(this._m),this._o.onCompleted()},t}(Ot);Ft.toMap=function(e,t){if("undefined"===typeof b.Map)throw new TypeError;return new Ir(this,e,t)};var Pr=function(e){function t(t,i,n){this.source=t,this._b=i,this._e=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Fr(e,this._b,this._e))},t}(Vt),Fr=function(e){function t(t,i,n){this._o=t,this._b=i,this._e=n,this._i=0,e.call(this)}return He(t,e),t.prototype.next=function(e){this._i>=this._b&&(this._e===this._i?this._o.onCompleted():this._o.onNext(e)),this._i++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(Ot);Ft.slice=function(e,t){var i=e||0;if(i<0)throw new v.ArgumentOutOfRangeError;if("number"===typeof t&&t<i)throw new v.ArgumentOutOfRangeError;return new Pr(this,i,t)};var Or=function(e){function t(t,i,n){this.source=t,this._e=i,this._n=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this._n<0?(e.onNext(-1),e.onCompleted(),Ze):this.source.subscribe(new Lr(e,this._e,this._n))},t}(Vt),Lr=function(e){function t(t,i,n){this._o=t,this._e=i,this._n=n,this._v=0,this._hv=!1,this._i=0,e.call(this)}return He(t,e),t.prototype.next=function(e){this._i>=this._n&&e===this._e&&(this._hv=!0,this._v=this._i),this._i++},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._hv?this._o.onNext(this._v):this._o.onNext(-1),this._o.onCompleted()},t}(Ot);Ft.lastIndexOf=function(e,t){var i=+t||0;return Math.abs(i)===1/0&&(i=0),new Or(this,e,i)},Ht.wrap=function(e){function t(){return Ht.spawn.call(this,e.apply(this,arguments))}return t.__generatorFunction__=e,t};var Nr=Ht.spawn=function(){for(var e=arguments[0],t=this,i=[],n=1,r=arguments.length;n<r;n++)i.push(arguments[n]);return new Do((function(n){var r=new $e;if(k(e)&&(e=e.apply(t,i)),!e||!k(e.next))return n.onNext(e),n.onCompleted();function s(t){var i=R(e.next).call(e,t);if(i===T)return n.onError(i.e);a(i)}function o(t){var i=R(e.next).call(e,t);if(i===T)return n.onError(i.e);a(i)}function a(e){if(e.done)return n.onNext(e.value),void n.onCompleted();var i=jr.call(t,e.value),a=null,u=!1;Ht.isObservable(i)?r.add(i.subscribe((function(e){u=!0,a=e}),o,(function(){u&&s(a)}))):o(new TypeError("type not supported"))}return s(),r}))};function jr(e){return e?Ht.isObservable(e)?e:x(e)?Ht.fromPromise(e):Gr(e)||qr(e)?Nr.call(this,e):k(e)?Vr.call(this,e):Q(e)||X(e)?zr.call(this,e):Be(e)?Hr.call(this,e):e:e}function zr(e){return Ht.from(e).concatMap((function(e){return Ht.isObservable(e)||Be(e)?jr.call(null,e):v.Observable.just(e)})).toArray()}function Hr(e){for(var t=new e.constructor,i=Object.keys(e),n=[],r=0,s=i.length;r<s;r++){var a=i[r],u=jr.call(this,e[a]);u&&Ht.isObservable(u)?c(u,a):t[a]=e[a]}return Ht.forkJoin.apply(Ht,n).map((function(){return t}));function c(e,i){t[i]=o,n.push(e.map((function(e){t[i]=e})))}}function Vr(e){var t=this;return new Do((function(i){e.call(t,(function(){var e=arguments[0],t=arguments[1];if(e)return i.onError(e);if(arguments.length>2){for(var n=[],r=1,s=arguments.length;r<s;r++)n.push(arguments[r]);t=n}i.onNext(t),i.onCompleted()}))}))}function qr(e){return k(e.next)&&k(e["throw"])}function Gr(e){var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||qr(t.prototype))}function Be(e){return Object==e.constructor}Ht.start=function(e,t,i){return Kr(e,t,i)()};var Kr=Ht.toAsync=function(e,t,i){return dt(i)||(i=kt),function(){var n=arguments,r=new Po;return i.schedule(null,(function(){var i;try{i=e.apply(t,n)}catch(s){return void r.onError(s)}r.onNext(i),r.onCompleted()})),r.asObservable()}};function Wr(e,t,i,n){var r=new Po;return n.push(Yr(r,t,i)),e.apply(t,n),r.asObservable()}function Yr(e,t,i){return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];if(k(i)){if(r=R(i).apply(t,r),r===T)return e.onError(r.e);e.onNext(r)}else r.length<=1?e.onNext(r[0]):e.onNext(r);e.onCompleted()}}function $r(e,t,i,n){var r=new Po;return n.push(Xr(r,t,i)),e.apply(t,n),r.asObservable()}function Xr(e,t,i){return function(){var n=arguments[0];if(n)return e.onError(n);for(var r=arguments.length,s=[],o=1;o<r;o++)s[o-1]=arguments[o];if(k(i)){s=R(i).apply(t,s);if(s===T)return e.onError(s.e);e.onNext(s)}else s.length<=1?e.onNext(s[0]):e.onNext(s);e.onCompleted()}}function Qr(e){return b.StaticNodeList?e instanceof b.StaticNodeList||e instanceof b.NodeList:"[object NodeList]"===Object.prototype.toString.call(e)}function Jr(e,t,i){this._e=e,this._n=t,this._fn=i,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function Zr(e,t,i){var n=new $e,r=Object.prototype.toString.call(e);if(Qr(e)||"[object HTMLCollection]"===r)for(var s=0,o=e.length;s<o;s++)n.add(Zr(e.item(s),t,i));else e&&n.add(new Jr(e,t,i));return n}Ht.fromCallback=function(e,t,i){return function(){"undefined"===typeof t&&(t=this);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return Wr(e,t,i,r)}},Ht.fromNodeCallback=function(e,t,i){return function(){"undefined"===typeof t&&(t=this);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return $r(e,t,i,r)}},Jr.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},v.config.useNativeEvents=!1;var es=function(e){function t(t,i,n){this._el=t,this._n=i,this._fn=n,e.call(this)}function i(e,t){return function(){var i=arguments[0];if(k(t)&&(i=R(t).apply(null,arguments),i===T))return e.onError(i.e);e.onNext(i)}}return He(t,e),t.prototype.subscribeCore=function(e){return Zr(this._el,this._n,i(e,this._fn))},t}(Vt);Ht.fromEvent=function(e,t,i){return e.addListener?is((function(i){e.addListener(t,i)}),(function(i){e.removeListener(t,i)}),i):v.config.useNativeEvents||"function"!==typeof e.on||"function"!==typeof e.off?new es(e,t,i).publish().refCount():is((function(i){e.on(t,i)}),(function(i){e.off(t,i)}),i)};var ts=function(e){function t(t,i,n){this._add=t,this._del=i,this._fn=n,e.call(this)}function i(e,t){return function(){var i=arguments[0];if(k(t)&&(i=R(t).apply(null,arguments),i===T))return e.onError(i.e);e.onNext(i)}}function n(e,t,i){this._del=e,this._fn=t,this._ret=i,this.isDisposed=!1}return He(t,e),t.prototype.subscribeCore=function(e){var t=i(e,this._fn),r=this._add(t);return new n(this._del,t,r)},n.prototype.dispose=function(){this.isDisposed||(k(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},t}(Vt),is=Ht.fromEventPattern=function(e,t,i){return new ts(e,t,i).publish().refCount()};Ht.startAsync=function(e){var t=R(e)();return t===T?Ii(t.e):ii(t)};var ns=function(e){function t(t,i){this.source=t,this.controller=new Uo,this.paused=!0,i&&i.subscribe?this.pauser=this.controller.merge(i):this.pauser=this.controller,e.call(this)}return He(t,e),t.prototype._subscribe=function(e){var t=this.source.publish(),i=t.subscribe(e),n=Ze,r=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe((function(e){e?n=t.connect():(n.dispose(),n=Ze)}));return new ot([i,n,r])},t.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},t.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},t}(Ht);function rs(e,t,i){return new Do((function(n){var r,s=[!1,!1],o=!1,a=!1,u=new Array(2);function c(e,t){if(u[t]=e,s[t]=!0,o||(o=s.every(y))){if(r)return n.onError(r);var c=R(i).apply(null,u);if(c===T)return n.onError(c.e);n.onNext(c)}a&&u[1]&&n.onCompleted()}return new st(e.subscribe((function(e){c(e,0)}),(function(e){u[1]?n.onError(e):r=e}),(function(){a=!0,u[1]&&n.onCompleted()})),t.subscribe((function(e){c(e,1)}),(function(e){n.onError(e)}),(function(){a=!0,c(!0,1)})))}),e)}Ft.pausable=function(e){return new ns(this,e)};var ss=function(e){function t(t,i){this.source=t,this.controller=new Uo,this.paused=!0,i&&i.subscribe?this.pauser=this.controller.merge(i):this.pauser=this.controller,e.call(this)}return He(t,e),t.prototype._subscribe=function(e){var t,i=[];function n(){while(i.length>0)e.onNext(i.shift())}var r=rs(this.source,this.pauser.startWith(!this.paused).distinctUntilChanged(),(function(e,t){return{data:e,shouldFire:t}})).subscribe((function(r){t!==o&&r.shouldFire!==t?(t=r.shouldFire,r.shouldFire&&n()):(t=r.shouldFire,r.shouldFire?e.onNext(r.data):i.push(r.data))}),(function(t){n(),e.onError(t)}),(function(){n(),e.onCompleted()}));return r},t.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},t.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},t}(Ht);Ft.pausableBuffered=function(e){return new ss(this,e)};var os=function(e){function t(t,i,n){e.call(this),this.subject=new as(i,n),this.source=t.multicast(this.subject).refCount()}return He(t,e),t.prototype._subscribe=function(e){return this.source.subscribe(e)},t.prototype.request=function(e){return this.subject.request(null==e?-1:e)},t}(Ht),as=function(e){function t(t,i){null==t&&(t=!0),e.call(this),this.subject=new Uo,this.enableQueue=t,this.queue=t?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=i||_t}return He(t,e),Ve(t.prototype,Ut,{_subscribe:function(e){return this.subject.subscribe(e)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(Tt.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(e){this.hasFailed=!0,this.error=e,this.enableQueue&&0!==this.queue.length?this.queue.push(Tt.createOnError(e)):(this.subject.onError(e),this.disposeCurrentRequest())},onNext:function(e){this.requestedCount<=0?this.enableQueue&&this.queue.push(Tt.createOnNext(e)):(0===this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(e))},_processRequest:function(e){if(this.enableQueue)while(this.queue.length>0&&(e>0||"N"!==this.queue[0].kind)){var t=this.queue.shift();t.accept(this.subject),"N"===t.kind?e--:(this.disposeCurrentRequest(),this.queue=[])}return e},request:function(e){this.disposeCurrentRequest();var t=this;return this.requestedDisposable=this.scheduler.schedule(e,(function(e,i){var n=t._processRequest(i),r=t.hasCompleted||t.hasFailed;if(!r&&n>0)return t.requestedCount=n,Je((function(){t.requestedCount=0}))})),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),t}(Ht);Ft.controlled=function(e,t){return e&&dt(e)&&(t=e,e=!0),null==e&&(e=!0),new os(this,e,t)};var us=function(e){function t(t){e.call(this),this.source=t}function i(e,t){return t.source.request(1)}He(t,e),t.prototype._subscribe=function(e){return this.subscription=this.source.subscribe(new n(e,this,this.subscription)),new st(this.subscription,kt.schedule(this,i))};var n=function(e){function t(t,i,n){e.call(this),this.observer=t,this.observable=i,this.cancel=n,this.scheduleDisposable=null}function i(e,t){return t.observable.source.request(1)}return He(t,e),t.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},t.prototype.error=function(e){this.observer.onError(e),this.dispose()},t.prototype.next=function(e){this.observer.onNext(e),this.scheduleDisposable=kt.schedule(this,i)},t.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),e.prototype.dispose.call(this)},t}(Ot);return t}(Ht);os.prototype.stopAndWait=function(){return new us(this)};var cs=function(e){function t(t,i){e.call(this),this.source=t,this.windowSize=i}function i(e,t){return t.source.request(t.windowSize)}He(t,e),t.prototype._subscribe=function(e){return this.subscription=this.source.subscribe(new n(e,this,this.subscription)),new st(this.subscription,kt.schedule(this,i))};var n=function(e){function t(t,i,n){this.observer=t,this.observable=i,this.cancel=n,this.received=0,this.scheduleDisposable=null,e.call(this)}function i(e,t){return t.observable.source.request(t.observable.windowSize)}return He(t,e),t.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},t.prototype.error=function(e){this.observer.onError(e),this.dispose()},t.prototype.next=function(e){this.observer.onNext(e),this.received=++this.received%this.observable.windowSize,0===this.received&&(this.scheduleDisposable=kt.schedule(this,i))},t.prototype.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),e.prototype.dispose.call(this)},t}(Ot);return t}(Ht);os.prototype.windowed=function(e){return new cs(this,e)},Ft.pipe=function(e){var t=this.pausableBuffered();function i(){t.resume()}return e.addListener("drain",i),t.subscribe((function(i){!e.write(i)&&t.pause()}),(function(t){e.emit("error",t)}),(function(){!e._isStdio&&e.end(),e.removeListener("drain",i)})),t.resume(),e};var fs=function(e){function t(t,i,n){this.source=t,this._fn1=i,this._fn2=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=this.source.multicast(this._fn1());return new st(this._fn2(t).subscribe(e),t.connect())},t}(Vt);Ft.multicast=function(e,t){return k(e)?new fs(this,e,t):new ds(this,e)},Ft.publish=function(e){return e&&k(e)?this.multicast((function(){return new Uo}),e):this.multicast(new Uo)},Ft.share=function(){return this.publish().refCount()},Ft.publishLast=function(e){return e&&k(e)?this.multicast((function(){return new Po}),e):this.multicast(new Po)},Ft.publishValue=function(e,t){return 2===arguments.length?this.multicast((function(){return new Fo(t)}),e):this.multicast(new Fo(e))},Ft.shareValue=function(e){return this.publishValue(e).refCount()},Ft.replay=function(e,t,i,n){return e&&k(e)?this.multicast((function(){return new Oo(t,i,n)}),e):this.multicast(new Oo(t,i,n))},Ft.shareReplay=function(e,t,i){return this.replay(null,e,t,i).refCount()};var hs=function(e,t){this._s=e,this._o=t};hs.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var e=this._s.observers.indexOf(this._o);this._s.observers.splice(e,1),this._o=null}};var ls=function(e){function t(t){this.source=t,this._count=0,this._connectableSubscription=null,e.call(this)}function i(e,t){this._p=e,this._s=t,this.isDisposed=!1}return He(t,e),t.prototype.subscribeCore=function(e){var t=this.source.subscribe(e);return 1===++this._count&&(this._connectableSubscription=this.source.connect()),new i(this,t)},i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0===--this._p._count&&this._p._connectableSubscription.dispose())},t}(Vt),ds=v.ConnectableObservable=function(e){function t(t,i){this.source=t,this._connection=null,this._source=t.asObservable(),this._subject=i,e.call(this)}function i(e,t){this._p=e,this._s=t}return He(t,e),i.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},t.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return Ze;var e=this._source.subscribe(this._subject);this._connection=new i(this,e)}return this._connection},t.prototype._subscribe=function(e){return this._subject.subscribe(e)},t.prototype.refCount=function(){return new ls(this)},t}(Ht);function _n(e){return e.toArray()}function ps(e,t){return e.groupJoin(this,t,ui,(function(e,t){return t}))}function ms(e){var t=this;return new Do((function(i){var n=new Uo,r=new $e,s=new at(r);return i.onNext(qe(n,s)),r.add(t.subscribe((function(e){n.onNext(e)}),(function(e){n.onError(e),i.onError(e)}),(function(){n.onCompleted(),i.onCompleted()}))),x(e)&&(e=ii(e)),r.add(e.subscribe((function(e){n.onCompleted(),n=new Uo,i.onNext(qe(n,s))}),(function(e){n.onError(e),i.onError(e)}),(function(){n.onCompleted(),i.onCompleted()}))),s}),t)}function bs(e){var t=this;return new Do((function(i){var n=new rt,r=new $e(n),s=new at(r),o=new Uo;function a(){var t;try{t=e()}catch(u){return void i.onError(u)}x(t)&&(t=ii(t));var r=new nt;n.setDisposable(r),r.setDisposable(t.take(1).subscribe(g,(function(e){o.onError(e),i.onError(e)}),(function(){o.onCompleted(),o=new Uo,i.onNext(qe(o,s)),a()})))}return i.onNext(qe(o,s)),r.add(t.subscribe((function(e){o.onNext(e)}),(function(e){o.onError(e),i.onError(e)}),(function(){o.onCompleted(),i.onCompleted()}))),a(),s}),t)}Ft.singleInstance=function(){var e,t=this,i=!1;function n(){return i||(i=!0,e=t["finally"]((function(){i=!1})).publish().refCount()),e}return new Do((function(e){return n().subscribe(e)}))},Ft.join=function(e,t,i,n){var r=this;return new Do((function(s){var o=new $e,a=!1,u=!1,c=0,f=0,h=new Ts,l=new Ts,d=function(e){s.onError(e)};return o.add(r.subscribe((function(e){var i=c++,r=new nt;h.set(i,e),o.add(r);var u=R(t)(e);if(u===T)return s.onError(u.e);r.setDisposable(u.take(1).subscribe(g,d,(function(){h["delete"](i)&&0===h.size&&a&&s.onCompleted(),o.remove(r)}))),l.forEach((function(t){var i=R(n)(e,t);if(i===T)return s.onError(i.e);s.onNext(i)}))}),d,(function(){a=!0,(u||0===h.size)&&s.onCompleted()}))),o.add(e.subscribe((function(e){var t=f++,r=new nt;l.set(t,e),o.add(r);var a=R(i)(e);if(a===T)return s.onError(a.e);r.setDisposable(a.take(1).subscribe(g,d,(function(){l["delete"](t)&&0===l.size&&u&&s.onCompleted(),o.remove(r)}))),h.forEach((function(t){var i=R(n)(t,e);if(i===T)return s.onError(i.e);s.onNext(i)}))}),d,(function(){u=!0,(a||0===l.size)&&s.onCompleted()}))),o}),r)},Ft.groupJoin=function(e,t,i,n){var r=this;return new Do((function(s){var o=new $e,a=new at(o),u=new Ts,c=new Ts,f=0,h=0,l=function(e){return function(t){t.onError(e)}};function l(e){}return o.add(r.subscribe((function(e){var i=new Uo,r=f++;u.set(r,i);var h=R(n)(e,qe(i,a));if(h===T)return u.forEach(l(h.e)),s.onError(h.e);s.onNext(h),c.forEach((function(e){i.onNext(e)}));var d=new nt;o.add(d);var p=R(t)(e);if(p===T)return u.forEach(l(p.e)),s.onError(p.e);d.setDisposable(p.take(1).subscribe(g,(function(e){u.forEach(l(e)),s.onError(e)}),(function(){u["delete"](r)&&i.onCompleted(),o.remove(d)})))}),(function(e){u.forEach(l(e)),s.onError(e)}),(function(){s.onCompleted()}))),o.add(e.subscribe((function(e){var t=h++;c.set(t,e);var n=new nt;o.add(n);var r=R(i)(e);if(r===T)return u.forEach(l(r.e)),s.onError(r.e);n.setDisposable(r.take(1).subscribe(g,(function(e){u.forEach(l(e)),s.onError(e)}),(function(){c["delete"](t),o.remove(n)}))),u.forEach((function(t){t.onNext(e)}))}),(function(e){u.forEach(l(e)),s.onError(e)}))),a}),r)},Ft.buffer=function(){return this.window.apply(this,arguments).flatMap(_n)},Ft.window=function(e,t){return 1===arguments.length&&"function"!==typeof arguments[0]?ms.call(this,e):"function"===typeof e?bs.call(this,e):ps.call(this,e,t)};var vs=function(e){function t(t){this.source=t,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new gs(e))},t}(Vt),gs=function(e){function t(t){this._o=t,this._p=null,this._hp=!1,e.call(this)}return He(t,e),t.prototype.next=function(e){this._hp?this._o.onNext([this._p,e]):this._hp=!0,this._p=e},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(Ot);Ft.pairwise=function(){return new vs(this)},Ft.partition=function(e,t){var i=J(e,t,3);return[this.filter(e,t),this.filter((function(e,t,n){return!i(e,t,n)}))]};var ys=function(e){function t(e,t){this.c=e,this.s=t}return He(t,e),t.prototype[Y]=function(){var e=this;return{next:function(){return e.c()?{done:!1,value:e.s}:{done:!0,value:void 0}}}},t}(Gt);function _s(e,t){return new ys(e,t)}Ft.letBind=Ft["let"]=function(e){return e(this)},Ht["if"]=function(e,t,i){return si((function(){return i||(i=ui()),x(t)&&(t=ii(t)),x(i)&&(i=ii(i)),"function"===typeof i.now&&(i=ui(i)),e()?t:i}))},Ht["for"]=Ht.forIn=function(e,t,i){return Jt(e,t,i).concat()};var ws=Ht["while"]=Ht.whileDo=function(e,t){return x(t)&&(t=ii(t)),_s(e,t).concat()};Ft.doWhile=function(e){return Ki([this,ws(e,this)])},Ht["case"]=function(e,t,i){return si((function(){x(i)&&(i=ii(i)),i||(i=ui()),dt(i)&&(i=ui(i));var n=t[e()];return x(n)&&(n=ii(n)),n||i}))};var Ss=function(e){function t(t,i,n){this.source=t,this._fn=i,this._scheduler=n,e.call(this)}function i(e,t){var i,n=e[0],r=e[1];if(n.q.length>0){i=n.q.shift();var s=new nt;n.d.add(s),s.setDisposable(i.subscribe(new Es(n,r,s))),t([n,r])}else n.isAcquired=!1}return He(t,e),t.prototype._ensureActive=function(e){var t=!1;e.q.length>0&&(t=!e.isAcquired,e.isAcquired=!0),t&&e.m.setDisposable(this._scheduler.scheduleRecursive([e,this],i))},t.prototype.subscribeCore=function(e){var t=new rt,i=new $e(t),n={q:[],m:t,d:i,activeCount:0,isAcquired:!1,o:e};return n.q.push(this.source),n.activeCount++,this._ensureActive(n),i},t}(Vt),Es=function(e){function t(t,i,n){this._s=t,this._p=i,this._m1=n,e.call(this)}return He(t,e),t.prototype.next=function(e){this._s.o.onNext(e);var t=R(this._p._fn)(e);if(t===T)return this._s.o.onError(t.e);this._s.q.push(t),this._s.activeCount++,this._p._ensureActive(this._s)},t.prototype.error=function(e){this._s.o.onError(e)},t.prototype.completed=function(){this._s.d.remove(this._m1),this._s.activeCount--,0===this._s.activeCount&&this._s.o.onCompleted()},t}(Ot);function ji(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t}Ft.expand=function(e,t){return dt(t)||(t=_t),new Ss(this,e,t)};var xs=function(e){function t(t,i){this._sources=t,this._cb=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){if(0===this._sources.length)return e.onCompleted(),Ze;for(var t=this._sources.length,i={finished:!1,hasResults:new Array(t),hasCompleted:new Array(t),results:new Array(t)},n=new $e,r=0,s=this._sources.length;r<s;r++){var o=this._sources[r];x(o)&&(o=ii(o)),n.add(o.subscribe(new ks(e,i,r,this._cb,n)))}return n},t}(Vt),ks=function(e){function t(t,i,n,r,s){this._o=t,this._s=i,this._i=n,this._cb=r,this._subs=s,e.call(this)}return He(t,e),t.prototype.next=function(e){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=e)},t.prototype.error=function(e){this._s.finished=!0,this._o.onError(e),this._subs.dispose()},t.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var e=0;e<this._s.results.length;e++)if(!this._s.hasCompleted[e])return;this._s.finished=!0;var t=R(this._cb).apply(null,this._s.results);if(t===T)return this._o.onError(t.e);this._o.onNext(t),this._o.onCompleted()}},t}(Ot);Ht.forkJoin=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=k(t[e-1])?t.pop():ji;return Array.isArray(t[0])&&(t=t[0]),new xs(t,n)},Ft.forkJoin=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Array.isArray(t[0])?t[0].unshift(this):t.unshift(this),Ht.forkJoin.apply(null,t)},Ft.manySelect=Ft.extend=function(e,t){dt(t)||(t=v.Scheduler.immediate);var i=this;return si((function(){var n;return i.map((function(e){var t=new As(e);return n&&n.onNext(e),n=t,t})).tap(g,(function(e){n&&n.onError(e)}),(function(){n&&n.onCompleted()})).observeOn(t).map(e)}),i)};var As=function(e){function t(t){e.call(this),this.head=t,this.tail=new Po}return He(t,e),Ve(t.prototype,Ut,{_subscribe:function(e){var t=new $e;return t.add(_t.schedule(this,(function(i,n){e.onNext(n.head),t.add(n.tail.mergeAll().subscribe(e))}))),t},onCompleted:function(){this.onNext(Ht.empty())},onError:function(e){this.onNext(Ht["throw"](e))},onNext:function(e){this.tail.onNext(e),this.tail.onCompleted()}}),t}(Ht),Ts=b.Map||function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype["delete"]=function(e){var t=this._keys.indexOf(e);return-1!==t&&(this._values.splice(t,1),this._keys.splice(t,1),this.size--,!0)},e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1===t?o:this._values[t]},e.prototype.set=function(e,t){var i=this._keys.indexOf(e);return-1===i?(this._keys.push(e),this._values.push(t),this.size++):this._values[i]=t,this},e.prototype.forEach=function(e,t){for(var i=0;i<this.size;i++)e.call(t,this._values[i],this._keys[i])},e}();function Cs(e){this.patterns=e}function Rs(e,t){this.expression=e,this.selector=t}function Ds(e){return function(t){e.onError(t)}}function Bs(e,t){return function(){var i=R(e.selector).apply(e,arguments);if(i===T)return t.onError(i.e);t.onNext(i)}}function Ms(e,t,i){var n=e.get(t);if(!n){var r=new Us(t,i);return e.set(t,r),r}return n}function Is(e,t,i){this.joinObserverArray=e,this.onNext=t,this.onCompleted=i,this.joinObservers=new Ts;for(var n=0,r=this.joinObserverArray.length;n<r;n++){var s=this.joinObserverArray[n];this.joinObservers.set(s,s)}}Cs.prototype.and=function(e){return new Cs(this.patterns.concat(e))},Cs.prototype.thenDo=function(e){return new Rs(this,e)},Rs.prototype.activate=function(e,t,i){for(var n=[],r=Ds(t),s=0,o=this.expression.patterns.length;s<o;s++)n.push(Ms(e,this.expression.patterns[s],r));var a=new Is(n,Bs(this,t),(function(){for(var e=0,t=n.length;e<t;e++)n[e].removeActivePlan(a);i(a)}));for(s=0,o=n.length;s<o;s++)n[s].addActivePlan(a);return a},Is.prototype.dequeue=function(){this.joinObservers.forEach((function(e){e.queue.shift()}))},Is.prototype.match=function(){var e,t,i=!0;for(e=0,t=this.joinObserverArray.length;e<t;e++)if(0===this.joinObserverArray[e].queue.length){i=!1;break}if(i){var n=[],r=!1;for(e=0,t=this.joinObserverArray.length;e<t;e++)n.push(this.joinObserverArray[e].queue[0]),"C"===this.joinObserverArray[e].queue[0].kind&&(r=!0);if(r)this.onCompleted();else{this.dequeue();var s=[];for(e=0,t=n.length;e<n.length;e++)s.push(n[e].value);this.onNext.apply(this,s)}}};var Us=function(e){function t(t,i){e.call(this),this.source=t,this.onError=i,this.queue=[],this.activePlans=[],this.subscription=new nt,this.isDisposed=!1}He(t,e);var i=t.prototype;return i.next=function(e){if(!this.isDisposed){if("E"===e.kind)return this.onError(e.error);this.queue.push(e);for(var t=this.activePlans.slice(0),i=0,n=t.length;i<n;i++)t[i].match()}},i.error=g,i.completed=g,i.addActivePlan=function(e){this.activePlans.push(e)},i.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},i.removeActivePlan=function(e){this.activePlans.splice(this.activePlans.indexOf(e),1),0===this.activePlans.length&&this.dispose()},i.dispose=function(){e.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},t}(Ot);Ft.and=function(e){return new Cs([this,e])},Ft.thenDo=function(e){return new Cs([this]).thenDo(e)},Ht.when=function(){var e,t=arguments.length;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(t);for(var i=0;i<t;i++)e[i]=arguments[i]}return new Do((function(t){var i=[],n=new Ts,r=Pt((function(e){t.onNext(e)}),(function(e){n.forEach((function(t){t.onError(e)})),t.onError(e)}),(function(e){t.onCompleted()}));try{for(var s=0,o=e.length;s<o;s++)i.push(e[s].activate(n,r,(function(e){var n=i.indexOf(e);i.splice(n,1),0===i.length&&t.onCompleted()})))}catch(u){return Ii(u).subscribe(t)}var a=new $e;return n.forEach((function(e){e.subscribe(),a.add(e)})),a}))};var Ps=function(e){function t(t,i){this._dt=t,this._s=i,e.call(this)}function i(e,t){t.onNext(0),t.onCompleted()}return He(t,e),t.prototype.subscribeCore=function(e){return this._s.scheduleFuture(e,this._dt,i)},t}(Vt);function Fs(e,t){return new Ps(e,t)}function Os(e,t,i){return new Do((function(n){var r=e,s=lt(t);return i.scheduleRecursiveFuture(0,r,(function(e,t){if(s>0){var o=i.now();r=new Date(r.getTime()+s),r.getTime()<=o&&(r=new Date(o+s))}n.onNext(e),t(e+1,new Date(r))}))}))}function Ls(e,t,i){return e===t?new Do((function(e){return i.schedulePeriodic(0,t,(function(t){return e.onNext(t),t+1}))})):si((function(){return Os(new Date(i.now()+e),t,i)}))}var Ns=Ht.interval=function(e,t){return Ls(e,e,dt(t)?t:kt)};Ht.timer=function(e,t,i){var n;return dt(i)||(i=kt),null!=t&&"number"===typeof t?n=t:dt(t)&&(i=t),(e instanceof Date||"number"===typeof e)&&n===o?Fs(e,i):e instanceof Date&&n!==o?Os(e,t,i):Ls(e,n,i)};function js(e,t,i){return new Do((function(n){var r,s=!1,o=new rt,a=null,u=[],c=!1;return r=e.materialize().timestamp(i).subscribe((function(e){var r,f;"E"===e.value.kind?(u=[],u.push(e),a=e.value.error,f=!c):(u.push({value:e.value,timestamp:e.timestamp+t}),f=!s,s=!0),f&&(null!==a?n.onError(a):(r=new nt,o.setDisposable(r),r.setDisposable(i.scheduleRecursiveFuture(null,t,(function(e,t){var r,o,f,h;if(null===a){c=!0;do{f=null,u.length>0&&u[0].timestamp-i.now()<=0&&(f=u.shift().value),null!==f&&f.accept(n)}while(null!==f);h=!1,o=0,u.length>0?(h=!0,o=Math.max(0,u[0].timestamp-i.now())):s=!1,r=a,c=!1,null!==r?n.onError(r):h&&t(null,o)}})))))})),new st(r,o)}),e)}function zs(e,t,i){return si((function(){return js(e,t-i.now(),i)}))}function Hs(e,t,i){var n,r;return k(t)?r=t:(n=t,r=i),new Do((function(t){var i=new $e,s=!1,o=new rt;function a(){o.setDisposable(e.subscribe((function(e){var n=R(r)(e);if(n===T)return t.onError(n.e);var s=new nt;i.add(s),s.setDisposable(n.subscribe((function(){t.onNext(e),i.remove(s),u()}),(function(e){t.onError(e)}),(function(){t.onNext(e),i.remove(s),u()})))}),(function(e){t.onError(e)}),(function(){s=!0,o.dispose(),u()})))}function u(){s&&0===i.length&&t.onCompleted()}return n?o.setDisposable(n.subscribe(a,(function(e){t.onError(e)}),a)):a(),new st(o,i)}),e)}Ft.delay=function(){var e=arguments[0];if("number"===typeof e||e instanceof Date){var t=e,i=arguments[1];return dt(i)||(i=kt),t instanceof Date?zs(this,t,i):js(this,t,i)}if(Ht.isObservable(e)||k(e))return Hs(this,e,arguments[1]);throw new Error("Invalid arguments")};var Vs=function(e){function t(t,i,n){dt(n)||(n=kt),this.source=t,this._dt=i,this._s=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=new rt;return new st(this.source.subscribe(new qs(e,this._dt,this._s,t)),t)},t}(Vt),qs=function(e){function t(t,i,n,r){this._o=t,this._d=i,this._scheduler=n,this._c=r,this._v=null,this._hv=!1,this._id=0,e.call(this)}return He(t,e),t.prototype.next=function(e){this._hv=!0,this._v=e;var t=++this._id,i=new nt;this._c.setDisposable(i),i.setDisposable(this._scheduler.scheduleFuture(this,this._d,(function(i,n){n._hv&&n._id===t&&n._o.onNext(e),n._hv=!1})))},t.prototype.error=function(e){this._c.dispose(),this._o.onError(e),this._hv=!1,this._id++},t.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},t}(Ot);function Gs(e,t){return new Do((function(i){var n,r=!1,s=new rt,o=0,a=e.subscribe((function(e){var a=R(t)(e);if(a===T)return i.onError(a.e);x(a)&&(a=ii(a)),r=!0,n=e,o++;var u=o,c=new nt;s.setDisposable(c),c.setDisposable(a.subscribe((function(){r&&o===u&&i.onNext(n),r=!1,c.dispose()}),(function(e){i.onError(e)}),(function(){r&&o===u&&i.onNext(n),r=!1,c.dispose()})))}),(function(e){s.dispose(),i.onError(e),r=!1,o++}),(function(){s.dispose(),r&&i.onNext(n),i.onCompleted(),r=!1,o++}));return new st(a,s)}),e)}function _n(e){return e.toArray()}function _n(e){return e.toArray()}Ft.debounce=function(){if(k(arguments[0]))return Gs(this,arguments[0]);if("number"===typeof arguments[0])return new Vs(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},Ft.windowWithTime=Ft.windowTime=function(e,t,i){var n,r=this;return null==t&&(n=e),dt(i)||(i=kt),"number"===typeof t?n=t:dt(t)&&(n=e,i=t),new Do((function(t){var s,o,a=n,u=e,c=[],f=new rt,h=0;function l(){var e=new nt,r=!1,s=!1;f.setDisposable(e),u===a?(r=!0,s=!0):u<a?r=!0:s=!0;var d=r?u:a,p=d-h;h=d,r&&(u+=n),s&&(a+=n),e.setDisposable(i.scheduleFuture(null,p,(function(){if(s){var e=new Uo;c.push(e),t.onNext(qe(e,o))}r&&c.shift().onCompleted(),l()})))}return s=new $e(f),o=new at(s),c.push(new Uo),t.onNext(qe(c[0],o)),l(),s.add(r.subscribe((function(e){for(var t=0,i=c.length;t<i;t++)c[t].onNext(e)}),(function(e){for(var i=0,n=c.length;i<n;i++)c[i].onError(e);t.onError(e)}),(function(){for(var e=0,i=c.length;e<i;e++)c[e].onCompleted();t.onCompleted()}))),o}),r)},Ft.windowWithTimeOrCount=Ft.windowTimeOrCount=function(e,t,i){var n=this;return dt(i)||(i=kt),new Do((function(r){var s=new rt,o=new $e(s),a=new at(o),u=0,c=0,f=new Uo;function h(t){var n=new nt;s.setDisposable(n),n.setDisposable(i.scheduleFuture(null,e,(function(){if(t===c){u=0;var e=++c;f.onCompleted(),f=new Uo,r.onNext(qe(f,a)),h(e)}})))}return r.onNext(qe(f,a)),h(0),o.add(n.subscribe((function(e){var i=0,n=!1;f.onNext(e),++u===t&&(n=!0,u=0,i=++c,f.onCompleted(),f=new Uo,r.onNext(qe(f,a))),n&&h(i)}),(function(e){f.onError(e),r.onError(e)}),(function(){f.onCompleted(),r.onCompleted()}))),a}),n)},Ft.bufferWithTime=Ft.bufferTime=function(e,t,i){return this.windowWithTime(e,t,i).flatMap(_n)},Ft.bufferWithTimeOrCount=Ft.bufferTimeOrCount=function(e,t,i){return this.windowWithTimeOrCount(e,t,i).flatMap(_n)};var Ks=function(e){function t(t,i){this.source=t,this._s=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new Ws(e,this._s))},t}(Vt),Ws=function(e){function t(t,i){this._o=t,this._s=i,this._l=i.now(),e.call(this)}return He(t,e),t.prototype.next=function(e){var t=this._s.now(),i=t-this._l;this._l=t,this._o.onNext({value:e,interval:i})},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(Ot);Ft.timeInterval=function(e){return dt(e)||(e=kt),new Ks(this,e)};var Ys=function(e){function t(t,i){this.source=t,this._s=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new $s(e,this._s))},t}(Vt),$s=function(e){function t(t,i){this._o=t,this._s=i,e.call(this)}return He(t,e),t.prototype.next=function(e){this._o.onNext({value:e,timestamp:this._s.now()})},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(Ot);Ft.timestamp=function(e){return dt(e)||(e=kt),new Ys(this,e)};var Xs=function(e){function t(t,i){this.source=t,this._sampler=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t={o:e,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new nt};return t.sourceSubscription.setDisposable(this.source.subscribe(new Js(t))),new st(t.sourceSubscription,this._sampler.subscribe(new Qs(t)))},t}(Vt),Qs=function(e){function t(t){this._s=t,e.call(this)}return He(t,e),t.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},t.prototype.next=function(){this._handleMessage()},t.prototype.error=function(e){this._s.onError(e)},t.prototype.completed=function(){this._handleMessage()},t}(Ot),Js=function(e){function t(t){this._s=t,e.call(this)}return He(t,e),t.prototype.next=function(e){this._s.hasValue=!0,this._s.value=e},t.prototype.error=function(e){this._s.o.onError(e)},t.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},t}(Ot);Ft.sample=function(e,t){return dt(t)||(t=kt),new Xs(this,"number"===typeof e?Ns(e,t):e)};var Zs=v.TimeoutError=function(e){this.message=e||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};function eo(e,t,i,n){return k(t)&&(n=i,i=t,t=Ai()),Ht.isObservable(n)||(n=Ii(new Zs)),new Do((function(r){var s=new rt,o=new rt,a=new nt;s.setDisposable(a);var u=0,c=!1;function f(e){var t=u,i=new nt;function a(){return c=t===u,c}o.setDisposable(i),i.setDisposable(e.subscribe((function(){a()&&s.setDisposable(n.subscribe(r)),i.dispose()}),(function(e){a()&&r.onError(e)}),(function(){a()&&s.setDisposable(n.subscribe(r))})))}function h(){var e=!c;return e&&u++,e}return f(t),a.setDisposable(e.subscribe((function(e){if(h()){r.onNext(e);var t=R(i)(e);if(t===T)return r.onError(t.e);f(x(t)?ii(t):t)}}),(function(e){h()&&r.onError(e)}),(function(){h()&&r.onCompleted()}))),new st(s,o)}),e)}function to(e,t,i,n){return dt(i)&&(n=i,i=Ii(new Zs)),i instanceof Error&&(i=Ii(i)),dt(n)||(n=kt),Ht.isObservable(i)||(i=Ii(new Zs)),new Do((function(r){var s=0,o=new nt,a=new rt,u=!1,c=new rt;function f(){var e=s;c.setDisposable(n.scheduleFuture(null,t,(function(){u=s===e,u&&(x(i)&&(i=ii(i)),a.setDisposable(i.subscribe(r)))})))}return a.setDisposable(o),f(),o.setDisposable(e.subscribe((function(e){u||(s++,r.onNext(e),f())}),(function(e){u||(s++,r.onError(e))}),(function(){u||(s++,r.onCompleted())}))),new st(a,c)}),e)}Zs.prototype=Object.create(Error.prototype),Ft.timeout=function(){var e=arguments[0];if(e instanceof Date||"number"===typeof e)return to(this,e,arguments[1],arguments[2]);if(Ht.isObservable(e)||k(e))return eo(this,e,arguments[1],arguments[2]);throw new Error("Invalid arguments")};var io=function(e){function t(t,i,n,r,s,o){this._state=t,this._cndFn=i,this._itrFn=n,this._resFn=r,this._timeFn=s,this._s=o,e.call(this)}function i(e,t){if(e.hasResult&&e.o.onNext(e.result),e.first)e.first=!1;else if(e.newState=R(e.self._itrFn)(e.newState),e.newState===T)return e.o.onError(e.newState.e);if(e.hasResult=R(e.self._cndFn)(e.newState),e.hasResult===T)return e.o.onError(e.hasResult.e);if(e.hasResult){if(e.result=R(e.self._resFn)(e.newState),e.result===T)return e.o.onError(e.result.e);var i=R(e.self._timeFn)(e.newState);if(i===T)return e.o.onError(i.e);t(e,i)}else e.o.onCompleted()}return He(t,e),t.prototype.subscribeCore=function(e){var t={o:e,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(t,new Date(this._s.now()),i)},t}(Vt);Ht.generateWithAbsoluteTime=function(e,t,i,n,r,s){return dt(s)||(s=kt),new io(e,t,i,n,r,s)};var no=function(e){function t(t,i,n,r,s,o){this._state=t,this._cndFn=i,this._itrFn=n,this._resFn=r,this._timeFn=s,this._s=o,e.call(this)}function i(e,t){if(e.hasResult&&e.o.onNext(e.result),e.first)e.first=!1;else if(e.newState=R(e.self._itrFn)(e.newState),e.newState===T)return e.o.onError(e.newState.e);if(e.hasResult=R(e.self._cndFn)(e.newState),e.hasResult===T)return e.o.onError(e.hasResult.e);if(e.hasResult){if(e.result=R(e.self._resFn)(e.newState),e.result===T)return e.o.onError(e.result.e);var i=R(e.self._timeFn)(e.newState);if(i===T)return e.o.onError(i.e);t(e,i)}else e.o.onCompleted()}return He(t,e),t.prototype.subscribeCore=function(e){var t={o:e,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(t,0,i)},t}(Vt);Ht.generateWithRelativeTime=function(e,t,i,n,r,s){return dt(s)||(s=kt),new no(e,t,i,n,r,s)};var ro=function(e){function t(t,i,n){this.source=t,this._dt=i,this._s=n,e.call(this)}function i(e,t){var i=t[0],n=t[1],r=t[2];r.setDisposable(i.subscribe(n))}return He(t,e),t.prototype.subscribeCore=function(e){var t=new rt;return t.setDisposable(this._s.scheduleFuture([this.source,e,t],this._dt,i)),t},t}(Vt);Ft.delaySubscription=function(e,t){return dt(t)||(t=kt),new ro(this,e,t)};var so=function(e){function t(t,i,n){this.source=t,this._d=i,this._s=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new oo(e,this))},t}(Vt),oo=function(e){function t(t,i){this._o=t,this._s=i._s,this._d=i._d,this._q=[],e.call(this)}return He(t,e),t.prototype.next=function(e){var t=this._s.now();this._q.push({interval:t,value:e});while(this._q.length>0&&t-this._q[0].interval>=this._d)this._o.onNext(this._q.shift().value)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){var e=this._s.now();while(this._q.length>0&&e-this._q[0].interval>=this._d)this._o.onNext(this._q.shift().value);this._o.onCompleted()},t}(Ot);Ft.skipLastWithTime=function(e,t){return dt(t)||(t=kt),new so(this,e,t)};var ao=function(e){function t(t,i,n){this.source=t,this._d=i,this._s=n,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new uo(e,this._d,this._s))},t}(Vt),uo=function(e){function t(t,i,n){this._o=t,this._d=i,this._s=n,this._q=[],e.call(this)}return He(t,e),t.prototype.next=function(e){var t=this._s.now();this._q.push({interval:t,value:e});while(this._q.length>0&&t-this._q[0].interval>=this._d)this._q.shift()},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){var e=this._s.now();while(this._q.length>0){var t=this._q.shift();e-t.interval<=this._d&&this._o.onNext(t.value)}this._o.onCompleted()},t}(Ot);Ft.takeLastWithTime=function(e,t){return dt(t)||(t=kt),new ao(this,e,t)},Ft.takeLastBufferWithTime=function(e,t){var i=this;return dt(t)||(t=kt),new Do((function(n){var r=[];return i.subscribe((function(i){var n=t.now();r.push({interval:n,value:i});while(r.length>0&&n-r[0].interval>=e)r.shift()}),(function(e){n.onError(e)}),(function(){var i=t.now(),s=[];while(r.length>0){var o=r.shift();i-o.interval<=e&&s.push(o.value)}n.onNext(s),n.onCompleted()}))}),i)};var co=function(e){function t(t,i,n){this.source=t,this._d=i,this._s=n,e.call(this)}function i(e,t){t.onCompleted()}return He(t,e),t.prototype.subscribeCore=function(e){return new st(this._s.scheduleFuture(e,this._d,i),this.source.subscribe(e))},t}(Vt);Ft.takeWithTime=function(e,t){return dt(t)||(t=kt),new co(this,e,t)};var fo=function(e){function t(t,i,n){this.source=t,this._d=i,this._s=n,this._open=!1,e.call(this)}function i(e,t){t._open=!0}return He(t,e),t.prototype.subscribeCore=function(e){return new st(this._s.scheduleFuture(this,this._d,i),this.source.subscribe(new ho(e,this)))},t}(Vt),ho=function(e){function t(t,i){this._o=t,this._p=i,e.call(this)}return He(t,e),t.prototype.next=function(e){this._p._open&&this._o.onNext(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(Ot);Ft.skipWithTime=function(e,t){return dt(t)||(t=kt),new fo(this,e,t)};var lo=function(e){function t(t,i,n){this.source=t,this._st=i,this._s=n,e.call(this)}function i(e,t){t._open=!0}return He(t,e),t.prototype.subscribeCore=function(e){return this._open=!1,new st(this._s.scheduleFuture(this,this._st,i),this.source.subscribe(new po(e,this)))},t}(Vt),po=function(e){function t(t,i){this._o=t,this._p=i,e.call(this)}return He(t,e),t.prototype.next=function(e){this._p._open&&this._o.onNext(e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._o.onCompleted()},t}(Ot);Ft.skipUntilWithTime=function(e,t){return dt(t)||(t=kt),new lo(this,e,t)},Ft.takeUntilWithTime=function(e,t){dt(t)||(t=kt);var i=this;return new Do((function(n){return new st(t.scheduleFuture(n,e,(function(e,t){t.onCompleted()})),i.subscribe(n))}),i)},Ft.throttle=function(e,t){dt(t)||(t=kt);var i=+e||0;if(i<=0)throw new RangeError("windowDuration cannot be less or equal zero.");var n=this;return new Do((function(e){var r=0;return n.subscribe((function(n){var s=t.now();(0===r||s-r>=i)&&(r=s,e.onNext(n))}),(function(t){e.onError(t)}),(function(){e.onCompleted()}))}),n)};var mo=function(e){function t(t,i){this._o=t,this._xform=i,e.call(this)}return He(t,e),t.prototype.next=function(e){var t=R(this._xform["@@transducer/step"]).call(this._xform,this._o,e);t===T&&this._o.onError(t.e)},t.prototype.error=function(e){this._o.onError(e)},t.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},t}(Ot);function bo(e){return{"@@transducer/init":function(){return e},"@@transducer/step":function(e,t){return e.onNext(t)},"@@transducer/result":function(e){return e.onCompleted()}}}Ft.transduce=function(e){var t=this;return new Do((function(i){var n=e(bo(i));return t.subscribe(new mo(i,n))}),t)};var vo=function(e){function t(t){this.source=t,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){var t=new nt,i=new $e,n={hasCurrent:!1,isStopped:!1,o:e,g:i};return i.add(t),t.setDisposable(this.source.subscribe(new go(n))),i},t}(Vt),go=function(e){function t(t){this._s=t,e.call(this)}function i(t,i){this._s=t,this._i=i,e.call(this)}return He(t,e),t.prototype.next=function(e){if(!this._s.hasCurrent){this._s.hasCurrent=!0,x(e)&&(e=ii(e));var t=new nt;this._s.g.add(t),t.setDisposable(e.subscribe(new i(this._s,t)))}},t.prototype.error=function(e){this._s.o.onError(e)},t.prototype.completed=function(){this._s.isStopped=!0,!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()},He(i,e),i.prototype.next=function(e){this._s.o.onNext(e)},i.prototype.error=function(e){this._s.o.onError(e)},i.prototype.completed=function(){this._s.g.remove(this._i),this._s.hasCurrent=!1,this._s.isStopped&&1===this._s.g.length&&this._s.o.onCompleted()},t}(Ot);Ft.switchFirst=function(){return new vo(this)},Ft.flatMapFirst=Ft.exhaustMap=function(e,t,i){return new qt(this,e,t,i).switchFirst()},Ft.flatMapWithMaxConcurrent=Ft.flatMapMaxConcurrent=function(e,t,i,n){return new qt(this,t,i,n).merge(e)};var yo=v.VirtualTimeScheduler=function(e){function t(t,i){this.clock=t,this.comparer=i,this.isEnabled=!1,this.queue=new We(1024),e.call(this)}He(t,e);var i=t.prototype;return i.now=function(){return this.toAbsoluteTime(this.clock)},i.schedule=function(e,t){return this.scheduleAbsolute(e,this.clock,t)},i.scheduleFuture=function(e,t,i){var n=t instanceof Date?this.toRelativeTime(t-this.now()):this.toRelativeTime(t);return this.scheduleRelative(e,n,i)},i.add=W,i.toAbsoluteTime=W,i.toRelativeTime=W,i.schedulePeriodic=function(e,t,i){var n=new bt(this,e,t,i);return n.start()},i.scheduleRelative=function(e,t,i){var n=this.add(this.clock,t);return this.scheduleAbsolute(e,n,i)},i.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var e=this.getNext();null!==e?(this.comparer(e.dueTime,this.clock)>0&&(this.clock=e.dueTime),e.invoke()):this.isEnabled=!1}while(this.isEnabled)}},i.stop=function(){this.isEnabled=!1},i.advanceTo=function(e){var t=this.comparer(this.clock,e);if(this.comparer(this.clock,e)>0)throw new q;if(0!==t&&!this.isEnabled){this.isEnabled=!0;do{var i=this.getNext();null!==i&&this.comparer(i.dueTime,e)<=0?(this.comparer(i.dueTime,this.clock)>0&&(this.clock=i.dueTime),i.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=e}},i.advanceBy=function(e){var t=this.add(this.clock,e),i=this.comparer(this.clock,t);if(i>0)throw new q;0!==i&&this.advanceTo(t)},i.sleep=function(e){var t=this.add(this.clock,e);if(this.comparer(this.clock,t)>=0)throw new q;this.clock=t},i.getNext=function(){while(this.queue.length>0){var e=this.queue.peek();if(!e.isCancelled())return e;this.queue.dequeue()}return null},i.scheduleAbsolute=function(e,t,i){var n=this;function r(e,t){return n.queue.remove(s),i(e,t)}var s=new ft(this,e,r,t,this.comparer);return this.queue.enqueue(s),s.disposable},t}(ht);function _o(e){this.predicate=e}function wo(e){this.predicate=e}v.HistoricalScheduler=function(e){function t(t,i){var n=null==t?0:t,r=i||S;e.call(this,n,r)}He(t,e);var i=t.prototype;return i.add=function(e,t){return e+t},i.toAbsoluteTime=function(e){return new Date(e).getTime()},i.toRelativeTime=function(e){return e},t}(v.VirtualTimeScheduler),_o.prototype.equals=function(e){return e===this||null!=e&&("N"===e.kind&&this.predicate(e.value))},wo.prototype.equals=function(e){return e===this||null!=e&&("E"===e.kind&&this.predicate(e.error))};var So=v.ReactiveTest={created:100,subscribed:200,disposed:1e3,onNext:function(e,t){return new Eo(e,"function"===typeof t?new _o(t):Tt.createOnNext(t))},onError:function(e,t){return new Eo(e,"function"===typeof t?new wo(t):Tt.createOnError(t))},onCompleted:function(e){return new Eo(e,Tt.createOnCompleted())},subscribe:function(e,t){return new xo(e,t)}},Eo=v.Recorded=function(e,t,i){this.time=e,this.value=t,this.comparer=i||w};Eo.prototype.equals=function(e){return this.time===e.time&&this.comparer(this.value,e.value)},Eo.prototype.toString=function(){return this.value.toString()+"@"+this.time};var xo=v.Subscription=function(e,t){this.subscribe=e,this.unsubscribe=t||Number.MAX_VALUE};xo.prototype.equals=function(e){return this.subscribe===e.subscribe&&this.unsubscribe===e.unsubscribe},xo.prototype.toString=function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"};var ko=v.MockDisposable=function(e){this.scheduler=e,this.disposes=[],this.disposes.push(this.scheduler.clock)};ko.prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var Ao=function(e){function t(t){e.call(this),this.scheduler=t,this.messages=[]}He(t,e);var i=t.prototype;return i.onNext=function(e){this.messages.push(new Eo(this.scheduler.clock,Tt.createOnNext(e)))},i.onError=function(e){this.messages.push(new Eo(this.scheduler.clock,Tt.createOnError(e)))},i.onCompleted=function(){this.messages.push(new Eo(this.scheduler.clock,Tt.createOnCompleted()))},t}(Ut);function To(e,t){var i=this;this.scheduler=e,this.messages=t,this.subscriptions=[],this.observers=[];for(var n=0,r=this.messages.length;n<r;n++){var s=this.messages[n],o=s.value;(function(t){e.scheduleAbsolute(null,s.time,(function(){for(var e=i.observers.slice(0),n=0,r=e.length;n<r;n++)t.accept(e[n]);return Ze}))})(o)}}To.prototype.then=function(e,t){var i=this;this.subscriptions.push(new xo(this.scheduler.clock));var n,r=this.subscriptions.length-1,s=v.Observer.create((function(t){var a=e(t);if(a&&"function"===typeof a.then)n=a;else{var u=i.scheduler.clock;n=new To(i.scheduler,[v.ReactiveTest.onNext(u,o),v.ReactiveTest.onCompleted(u)])}var c=i.observers.indexOf(s);i.observers.splice(c,1),i.subscriptions[r]=new xo(i.subscriptions[r].subscribe,i.scheduler.clock)}),(function(e){t(e);var n=i.observers.indexOf(s);i.observers.splice(n,1),i.subscriptions[r]=new xo(i.subscriptions[r].subscribe,i.scheduler.clock)}));return this.observers.push(s),n||new To(this.scheduler,this.messages)};var Co=function(e){function t(t,i){e.call(this);var n,r,s=this;this.scheduler=t,this.messages=i,this.subscriptions=[],this.observers=[];for(var o=0,a=this.messages.length;o<a;o++)n=this.messages[o],r=n.value,function(e){t.scheduleAbsolute(null,n.time,(function(){for(var t=s.observers.slice(0),i=0,n=t.length;i<n;i++)e.accept(t[i]);return Ze}))}(r)}return He(t,e),t.prototype._subscribe=function(e){var t=this;this.observers.push(e),this.subscriptions.push(new xo(this.scheduler.clock));var i=this.subscriptions.length-1;return Je((function(){var n=t.observers.indexOf(e);t.observers.splice(n,1),t.subscriptions[i]=new xo(t.subscriptions[i].subscribe,t.scheduler.clock)}))},t}(Ht),Ro=function(e){function t(t,i){e.call(this),this.scheduler=t,this.messages=i,this.subscriptions=[]}return He(t,e),t.prototype._subscribe=function(e){var t,i,n=this;this.subscriptions.push(new xo(this.scheduler.clock));for(var r=this.subscriptions.length-1,s=new $e,o=0,a=this.messages.length;o<a;o++)t=this.messages[o],i=t.value,function(i){s.add(n.scheduler.scheduleRelative(null,t.time,(function(){return i.accept(e),Ze})))}(i);return Je((function(){n.subscriptions[r]=new xo(n.subscriptions[r].subscribe,n.scheduler.clock),s.dispose()}))},t}(Ht);v.TestScheduler=function(e){function t(e,t){return e>t?1:e<t?-1:0}function i(){e.call(this,0,t)}return He(i,e),i.prototype.scheduleAbsolute=function(t,i,n){return i<=this.clock&&(i=this.clock+1),e.prototype.scheduleAbsolute.call(this,t,i,n)},i.prototype.add=function(e,t){return e+t},i.prototype.toAbsoluteTime=function(e){return new Date(e).getTime()},i.prototype.toRelativeTime=function(e){return e},i.prototype.startScheduler=function(e,t){t||(t={}),null==t.created&&(t.created=So.created),null==t.subscribed&&(t.subscribed=So.subscribed),null==t.disposed&&(t.disposed=So.disposed);var i,n,r=this.createObserver();return this.scheduleAbsolute(null,t.created,(function(){return i=e(),Ze})),this.scheduleAbsolute(null,t.subscribed,(function(){return n=i.subscribe(r),Ze})),this.scheduleAbsolute(null,t.disposed,(function(){return n.dispose(),Ze})),this.start(),r},i.prototype.createHotObservable=function(){var e,t=arguments.length;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(t);for(var i=0;i<t;i++)e[i]=arguments[i]}return new Co(this,e)},i.prototype.createColdObservable=function(){var e,t=arguments.length;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(t);for(var i=0;i<t;i++)e[i]=arguments[i]}return new Ro(this,e)},i.prototype.createResolvedPromise=function(e,t){return new To(this,[v.ReactiveTest.onNext(e,t),v.ReactiveTest.onCompleted(e)])},i.prototype.createRejectedPromise=function(e,t){return new To(this,[v.ReactiveTest.onError(e,t)])},i.prototype.createObserver=function(){return new Ao(this)},i}(yo);var Do=v.AnonymousObservable=function(e){function t(e){return e&&k(e.dispose)?e:k(e)?Je(e):Ze}function i(e,i){var n=i[0],r=i[1],s=R(r.__subscribe).call(r,n);s!==T||n.fail(T.e)||D(T.e),n.setDisposable(t(s))}function n(t,i){this.source=i,this.__subscribe=t,e.call(this)}return He(n,e),n.prototype._subscribe=function(e){var t=new Bo(e),n=[t,this];return _t.scheduleRequired()?_t.schedule(n,i):i(null,n),t},n}(Ht),Bo=function(e){function t(t){e.call(this),this.observer=t,this.m=new nt}He(t,e);var i=t.prototype;return i.next=function(e){var t=R(this.observer.onNext).call(this.observer,e);t===T&&(this.dispose(),D(t.e))},i.error=function(e){var t=R(this.observer.onError).call(this.observer,e);this.dispose(),t===T&&D(t.e)},i.completed=function(){var e=R(this.observer.onCompleted).call(this.observer);this.dispose(),e===T&&D(e.e)},i.setDisposable=function(e){this.m.setDisposable(e)},i.getDisposable=function(){return this.m.getDisposable()},i.dispose=function(){e.prototype.dispose.call(this),this.m.dispose()},t}(Ot),Mo=function(e){function t(t,i){this._m=t,this._u=i,e.call(this)}return He(t,e),t.prototype.subscribeCore=function(e){return new st(this._m.getDisposable(),this._u.subscribe(e))},t}(Vt),Io=function(e){function t(t,i,n){e.call(this),this.key=t,this.underlyingObservable=n?new Mo(n,i):i}return He(t,e),t.prototype._subscribe=function(e){return this.underlyingObservable.subscribe(e)},t}(Ht),Uo=v.Subject=function(e){function t(){e.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return He(t,e),Ve(t.prototype,Ut.prototype,{_subscribe:function(e){return tt(this),this.isStopped?this.hasError?(e.onError(this.error),Ze):(e.onCompleted(),Ze):(this.observers.push(e),new hs(this,e))},hasObservers:function(){return tt(this),this.observers.length>0},onCompleted:function(){if(tt(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=A(this.observers),i=t.length;e<i;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(tt(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;for(var t=0,i=A(this.observers),n=i.length;t<n;t++)i[t].onError(e);this.observers.length=0}},onNext:function(e){if(tt(this),!this.isStopped)for(var t=0,i=A(this.observers),n=i.length;t<n;t++)i[t].onNext(e)},dispose:function(){this.isDisposed=!0,this.observers=null}}),t.create=function(e,t){return new Lo(e,t)},t}(Ht),Po=v.AsyncSubject=function(e){function t(){e.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return He(t,e),Ve(t.prototype,Ut.prototype,{_subscribe:function(e){return tt(this),this.isStopped?(this.hasError?e.onError(this.error):this.hasValue?(e.onNext(this.value),e.onCompleted()):e.onCompleted(),Ze):(this.observers.push(e),new hs(this,e))},hasObservers:function(){return tt(this),this.observers.length>0},onCompleted:function(){var e;if(tt(this),!this.isStopped){this.isStopped=!0;var t=A(this.observers),i=t.length;if(this.hasValue)for(e=0;e<i;e++){var n=t[e];n.onNext(this.value),n.onCompleted()}else for(e=0;e<i;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(tt(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,i=A(this.observers),n=i.length;t<n;t++)i[t].onError(e);this.observers.length=0}},onNext:function(e){tt(this),this.isStopped||(this.value=e,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),t}(Ht),Fo=v.BehaviorSubject=function(e){function t(t){e.call(this),this.value=t,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return He(t,e),Ve(t.prototype,Ut.prototype,{_subscribe:function(e){return tt(this),this.isStopped?(this.hasError?e.onError(this.error):e.onCompleted(),Ze):(this.observers.push(e),e.onNext(this.value),new hs(this,e))},getValue:function(){return tt(this),this.hasError&&D(this.error),this.value},hasObservers:function(){return tt(this),this.observers.length>0},onCompleted:function(){if(tt(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=A(this.observers),i=t.length;e<i;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(tt(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,i=A(this.observers),n=i.length;t<n;t++)i[t].onError(e);this.observers.length=0}},onNext:function(e){if(tt(this),!this.isStopped){this.value=e;for(var t=0,i=A(this.observers),n=i.length;t<n;t++)i[t].onNext(e)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),t}(Ht),Oo=v.ReplaySubject=function(e){var t=Math.pow(2,53)-1;function i(e,t){return Je((function(){t.dispose(),!e.isDisposed&&e.observers.splice(e.observers.indexOf(t),1)}))}function n(i,n,r){this.bufferSize=null==i?t:i,this.windowSize=null==n?t:n,this.scheduler=r||_t,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,e.call(this)}return He(n,e),Ve(n.prototype,Ut.prototype,{_subscribe:function(e){tt(this);var t=new jt(this.scheduler,e),n=i(this,t);this._trim(this.scheduler.now()),this.observers.push(t);for(var r=0,s=this.q.length;r<s;r++)t.onNext(this.q[r].value);return this.hasError?t.onError(this.error):this.isStopped&&t.onCompleted(),t.ensureActive(),n},hasObservers:function(){return tt(this),this.observers.length>0},_trim:function(e){while(this.q.length>this.bufferSize)this.q.shift();while(this.q.length>0&&e-this.q[0].interval>this.windowSize)this.q.shift()},onNext:function(e){if(tt(this),!this.isStopped){var t=this.scheduler.now();this.q.push({interval:t,value:e}),this._trim(t);for(var i=0,n=A(this.observers),r=n.length;i<r;i++){var s=n[i];s.onNext(e),s.ensureActive()}}},onError:function(e){if(tt(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;var t=this.scheduler.now();this._trim(t);for(var i=0,n=A(this.observers),r=n.length;i<r;i++){var s=n[i];s.onError(e),s.ensureActive()}this.observers.length=0}},onCompleted:function(){if(tt(this),!this.isStopped){this.isStopped=!0;var e=this.scheduler.now();this._trim(e);for(var t=0,i=A(this.observers),n=i.length;t<n;t++){var r=i[t];r.onCompleted(),r.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),n}(Ht),Lo=v.AnonymousSubject=function(e){function t(t,i){this.observer=t,this.observable=i,e.call(this)}return He(t,e),Ve(t.prototype,Ut.prototype,{_subscribe:function(e){return this.observable.subscribe(e)},onCompleted:function(){this.observer.onCompleted()},onError:function(e){this.observer.onError(e)},onNext:function(e){this.observer.onNext(e)}}),t}(Ht);v.Pauser=function(e){function t(){e.call(this)}return He(t,e),t.prototype.pause=function(){this.onNext(!1)},t.prototype.resume=function(){this.onNext(!0)},t}(Uo),b.Rx=v,s=function(){return v}.call(t,i,t,e),s===o||(e.exports=s);var No=j()}).call(this)}).call(this,i("62e4")(e),i("c8ba"),i("f28c"))},f460:function(e,t,i){var n=i("98e6"),r=i("8707").Buffer;function s(e){var t=r.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){var i,o=r.alloc(0),a=0;while(o.length<t)i=s(a++),o=r.concat([o,n("sha1").update(e).update(i).digest()]);return o.slice(0,t)}},f576:function(e,t,i){"use strict";var n=i("3fb5"),r=i("93e6"),s=i("8707").Buffer,o=new Array(16);function a(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function c(e,t,i,n,r,s,o){return u(e+(t&i|~t&n)+r+s|0,o)+t|0}function f(e,t,i,n,r,s,o){return u(e+(t&n|i&~n)+r+s|0,o)+t|0}function h(e,t,i,n,r,s,o){return u(e+(t^i^n)+r+s|0,o)+t|0}function l(e,t,i,n,r,s,o){return u(e+(i^(t|~n))+r+s|0,o)+t|0}n(a,r),a.prototype._update=function(){for(var e=o,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var i=this._a,n=this._b,r=this._c,s=this._d;i=c(i,n,r,s,e[0],3614090360,7),s=c(s,i,n,r,e[1],3905402710,12),r=c(r,s,i,n,e[2],606105819,17),n=c(n,r,s,i,e[3],3250441966,22),i=c(i,n,r,s,e[4],4118548399,7),s=c(s,i,n,r,e[5],1200080426,12),r=c(r,s,i,n,e[6],2821735955,17),n=c(n,r,s,i,e[7],4249261313,22),i=c(i,n,r,s,e[8],1770035416,7),s=c(s,i,n,r,e[9],2336552879,12),r=c(r,s,i,n,e[10],4294925233,17),n=c(n,r,s,i,e[11],2304563134,22),i=c(i,n,r,s,e[12],1804603682,7),s=c(s,i,n,r,e[13],4254626195,12),r=c(r,s,i,n,e[14],2792965006,17),n=c(n,r,s,i,e[15],1236535329,22),i=f(i,n,r,s,e[1],4129170786,5),s=f(s,i,n,r,e[6],3225465664,9),r=f(r,s,i,n,e[11],643717713,14),n=f(n,r,s,i,e[0],3921069994,20),i=f(i,n,r,s,e[5],3593408605,5),s=f(s,i,n,r,e[10],38016083,9),r=f(r,s,i,n,e[15],3634488961,14),n=f(n,r,s,i,e[4],3889429448,20),i=f(i,n,r,s,e[9],568446438,5),s=f(s,i,n,r,e[14],3275163606,9),r=f(r,s,i,n,e[3],4107603335,14),n=f(n,r,s,i,e[8],1163531501,20),i=f(i,n,r,s,e[13],2850285829,5),s=f(s,i,n,r,e[2],4243563512,9),r=f(r,s,i,n,e[7],1735328473,14),n=f(n,r,s,i,e[12],2368359562,20),i=h(i,n,r,s,e[5],4294588738,4),s=h(s,i,n,r,e[8],2272392833,11),r=h(r,s,i,n,e[11],1839030562,16),n=h(n,r,s,i,e[14],4259657740,23),i=h(i,n,r,s,e[1],2763975236,4),s=h(s,i,n,r,e[4],1272893353,11),r=h(r,s,i,n,e[7],4139469664,16),n=h(n,r,s,i,e[10],3200236656,23),i=h(i,n,r,s,e[13],681279174,4),s=h(s,i,n,r,e[0],3936430074,11),r=h(r,s,i,n,e[3],3572445317,16),n=h(n,r,s,i,e[6],76029189,23),i=h(i,n,r,s,e[9],3654602809,4),s=h(s,i,n,r,e[12],3873151461,11),r=h(r,s,i,n,e[15],530742520,16),n=h(n,r,s,i,e[2],3299628645,23),i=l(i,n,r,s,e[0],4096336452,6),s=l(s,i,n,r,e[7],1126891415,10),r=l(r,s,i,n,e[14],2878612391,15),n=l(n,r,s,i,e[5],4237533241,21),i=l(i,n,r,s,e[12],1700485571,6),s=l(s,i,n,r,e[3],2399980690,10),r=l(r,s,i,n,e[10],4293915773,15),n=l(n,r,s,i,e[1],2240044497,21),i=l(i,n,r,s,e[8],1873313359,6),s=l(s,i,n,r,e[15],4264355552,10),r=l(r,s,i,n,e[6],2734768916,15),n=l(n,r,s,i,e[13],1309151649,21),i=l(i,n,r,s,e[4],4149444226,6),s=l(s,i,n,r,e[11],3174756917,10),r=l(r,s,i,n,e[2],718787259,15),n=l(n,r,s,i,e[9],3951481745,21),this._a=this._a+i|0,this._b=this._b+n|0,this._c=this._c+r|0,this._d=this._d+s|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=s.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a},f605:function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},f751:function(e,t,i){var n=i("5ca1");n(n.S+n.F,"Object",{assign:i("7333")})},fa5b:function(e,t,i){e.exports=i("5537")("native-function-to-string",Function.toString)},faa1:function(e,t,i){"use strict";var n,r="object"===typeof Reflect?Reflect:null,s=r&&"function"===typeof r.apply?r.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};function o(e){console&&console.warn&&console.warn(e)}n=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function u(){u.init.call(this)}e.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function h(e,t,i,n){var r,s,a;if("function"!==typeof i)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i);if(s=e._events,void 0===s?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),s=e._events),a=s[t]),void 0===a)a=s[t]=i,++e._eventsCount;else if("function"===typeof a?a=s[t]=n?[i,a]:[a,i]:n?a.unshift(i):a.push(i),r=f(e),r>0&&a.length>r&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,o(u)}return e}function l(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,s(this.listener,this.target,e))}function d(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},r=l.bind(n);return r.listener=i,n.wrapFn=r,r}function p(e,t,i){var n=e._events;if(void 0===n)return[];var r=n[t];return void 0===r?[]:"function"===typeof r?i?[r.listener||r]:[r]:i?g(r):b(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"===typeof i)return 1;if(void 0!==i)return i.length}return 0}function b(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}function v(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n="error"===e,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=r[e];if(void 0===u)return!1;if("function"===typeof u)s(u,this,t);else{var c=u.length,f=b(u,c);for(i=0;i<c;++i)s(f[i],this,t)}return!0},u.prototype.addListener=function(e,t){return h(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return h(this,e,t,!0)},u.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},u.prototype.removeListener=function(e,t){var i,n,r,s,o;if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(n=this._events,void 0===n)return this;if(i=n[e],void 0===i)return this;if(i===t||i.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!==typeof i){for(r=-1,s=i.length-1;s>=0;s--)if(i[s]===t||i[s].listener===t){o=i[s].listener,r=s;break}if(r<0)return this;0===r?i.shift():v(i,r),1===i.length&&(n[e]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,i,n;if(i=this._events,void 0===i)return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var r,s=Object.keys(i);for(n=0;n<s.length;++n)r=s[n],"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},u.prototype.listeners=function(e){return p(this,e,!0)},u.prototype.rawListeners=function(e){return p(this,e,!1)},u.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},u.prototype.listenerCount=m,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},fab2:function(e,t,i){var n=i("7726").document;e.exports=n&&n.documentElement},fda6:function(e,t,i){var n=i("8947"),r=i("4228"),s=i("e85f");function o(){return Object.keys(s)}t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=r.createDecipher,t.createDecipheriv=t.Decipheriv=r.createDecipheriv,t.listCiphers=t.getCiphers=o},fdac:function(e,t,i){var n;function r(e){this.rand=e}if(e.exports=function(e){return n||(n=new r(null)),n.generate(e)},e.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},r.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),i=0;i<t.length;i++)t[i]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=i(4);if("function"!==typeof s.randomBytes)throw new Error("Not supported");r.prototype._rand=function(e){return s.randomBytes(e)}}catch(o){}}}]);
//# sourceMappingURL=/js/chunk-vendors.b916e714.js.map</script><script type="text/javascript">(function(e){function t(t){for(var i,a,s=t[0],d=t[1],l=t[2],c=0,f=[];c<s.length;c++)a=s[c],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(i in d)Object.prototype.hasOwnProperty.call(d,i)&&(e[i]=d[i]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,s=1;s<n.length;s++){var d=n[s];0!==r[d]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={app:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("e2a1"),r=n.n(i);r.a},1:function(e,t){},2:function(e,t){},"2c8f":function(e,t,n){"use strict";var i=n("85f5"),r=n.n(i);r.a},3:function(e,t){},"3f8c":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"body,html{padding:0;margin:0;width:100%;height:100%;background-color:#000}.divider{position:fixed;width:1px;border-left:1px solid #000;height:100%;z-index:1}.hires video::-webkit-media-controls{z-index:2}.timecode{-webkit-transform:translateX(-50%);transform:translateX(-50%);position:fixed;left:50%;top:50px;padding:5px;background:#000;color:#fff;z-index:2;font-family:monospace;vertical-align:middle;min-width:50px}.timecode span{display:block;font-size:8px;vertical-align:middle}.lowres{position:fixed;width:100%;height:100%;pointer-events:none;-webkit-transition:-webkit-filter;transition:-webkit-filter;transition:filter;transition:filter,-webkit-filter;-webkit-transition-duration:.1s;transition-duration:.1s}.notMatching .lowres{-webkit-filter:opacity(.2);filter:opacity(.2)}",""])},4:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"app",class:{notMatching:e.frame!==e.frameLowres},attrs:{id:"app"}},[n("div",{staticClass:"timecode"},[e._v(e._s(e.timecode)+"     "+e._s(e.frame))]),n("VGPlayer",{ref:"hires",staticClass:"hires",attrs:{url:""+e.url1,hotkeys:!0},on:{frameChange:e.onFrameChange,play:e.onPlay}}),n("div",{staticClass:"divider",style:{left:e.slider+"%"}}),n("div",{staticClass:"lowres",style:{webkitClipPath:"inset(0 0 0 "+e.slider+"%)"}},[n("VGPlayer",{ref:"lores",attrs:{url:""+e.url2,controls:!1},on:{frameChange:e.onLowresFrameChange}})],1)],1)},o=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"container",attrs:{id:"container"}}),n("div",{ref:"overlay",attrs:{id:"overlay"}},[e._t("overlay")],2)])},s=[],d=n("c5a3"),l=function(e,t){var n=t.videoWidth/t.videoHeight,i=Math.min(t.clientWidth,t.clientHeight*n),r=i/n;e.style.paddingLeft=e.style.paddingRight=(t.clientWidth-i)/2+"px",e.style.paddingTop=e.style.paddingBottom=(t.clientHeight-r)/2+"px"},u={name:"VGPlayer",props:{hotkeys:{type:Boolean,required:!1,default:!1},controls:{type:Boolean,required:!1,default:!0},url:String},data:function(){return{player:null,video:null}},watch:{url:function(e){var t=this;this.player.loadUrl(e,(function(e){t.$emit("loadUrl",e)}))}},mounted:function(){var e=this;this.player=new d.Player(this.$refs.container,{hotkeys:this.$props.hotkeys}),this.video=this.$refs.container.querySelector("video");var t=this.player,n=this.video;n.addEventListener("resize",(function(){l(e.$refs.overlay,n),e.$emit("videoSize",n.videoWidth,n.videoHeight)})),n.controls=this.$props.controls,n.addEventListener("click",(function(e){e.stopPropagation()})),n.addEventListener("focus",(function(){n.blur()})),t.addEventListener("error",(function(t){e.$emit("error",t)})),t.addEventListener("load",(function(t){e.$emit("load",t),t.addEventListener("play",(function(t){e.$emit("play",t)}));var i=-1,r=!1;n.addEventListener("seeking",(function(){r=!0})),n.addEventListener("seeked",function(e){r=!1,e.$emit("frameChange",t.getCurrentFrame())}.bind(e,e));var o=function e(n){window.requestAnimationFrame(e.bind(n,n)),i!==t.getCurrentFrame()&&(i=t.getCurrentFrame(),r||n.$emit("frameChange",t.getCurrentFrame()))};window.requestAnimationFrame(o.bind(e,e))})),t.addEventListener("timeupdate",(function(t){e.$emit("timeupdate",t)})),window.addEventListener("resize",(function(){l(e.$refs.overlay,n)}))},methods:{play:function(){return this.player&&this.player.play()},seekFrame:function(e){return this.player&&this.player.seekFrame(e)},getFrame:function(){return this.player&&this.player.getCurrentFrame()},getTapeTimecode:function(){return this.player&&this.player.getCurrentTapeTimecode()},isPlaying:function(){return this.video&&!this.video.paused}}},c=u,f=(n("7b62"),n("2c8f"),n("2877")),p=Object(f["a"])(c,a,s,!1,null,"7ea288b6",null),h=p.exports,v={name:"app",components:{VGPlayer:h},data:function(){return{publicPath:"/",url1:"",url2:"",slider:50,frame:0,frameLowres:0,timecode:""}},methods:{onPlay:function(e){e||this.onFrameChange(this.$refs.hires.getFrame())},onLowresFrameChange:function(e){this.frameLowres=e},onFrameChange:function(e){this.frame=e,this.timecode=this.$refs.hires.getTapeTimecode(),this.$refs.hires.isPlaying()||this.$refs.lores.seekFrame(e)},updateSlider:function(e){this.slider=e.clientX/document.body.clientWidth*100}},mounted:function(){var e=this;this.url1=window.url1||"video1.mp4",this.url2=window.url2||"video2.mp4",this.$refs.hires.video.addEventListener("click",(function(e){e.preventDefault()})),this.$refs.app.addEventListener("mousemove",(function(t){e.sliding&&e.updateSlider(t)})),this.$refs.app.addEventListener("mouseup",(function(t){e.sliding=!1,e.updateSlider(t)})),this.$refs.app.addEventListener("mousedown",(function(t){e.sliding=!0,e.updateSlider(t)}))}},m=v,y=(n("034f"),Object(f["a"])(m,r,o,!1,null,null,null)),g=y.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(g)}}).$mount("#app")},"6f5f":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"#overlay[data-v-7ea288b6]{-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}#container[data-v-7ea288b6],#overlay[data-v-7ea288b6]{position:absolute;width:100%;height:100%}#container[data-v-7ea288b6]{background:#000;margin:0;padding:0}",""])},"7b62":function(e,t,n){"use strict";var i=n("d058"),r=n.n(i);r.a},"85f5":function(e,t,n){var i=n("d1ec");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("499e").default;r("1c2087fc",i,!0,{sourceMap:!1,shadowMode:!1})},d058:function(e,t,n){var i=n("6f5f");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("499e").default;r("429a96f6",i,!0,{sourceMap:!1,shadowMode:!1})},d1ec:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,".vg_embed-container,.vg_player,.vg_playerContainer{width:100%;height:100%}.vg_player_opacity_0{pointer-events:none}",""])},e2a1:function(e,t,n){var i=n("3f8c");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("499e").default;r("1f50beb8",i,!0,{sourceMap:!1,shadowMode:!1})}});
//# sourceMappingURL=/js/app.081b7940.js.map</script></body>
</html>
